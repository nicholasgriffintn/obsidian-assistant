"use strict";var ro=Object.defineProperty;var so=(t,e,n)=>e in t?ro(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $e=(t,e,n)=>(so(t,typeof e!="symbol"?e+"":e,n),n);const M=require("obsidian");var Us="vercel.ai.error",ao=Symbol.for(Us),Vs,io=class Bs extends Error{constructor({name:e,message:n,cause:r}){super(n),this[Vs]=!0,this.name=e,this.cause=r}static isInstance(e){return Bs.hasMarker(e,Us)}static hasMarker(e,n){const r=Symbol.for(n);return e!=null&&typeof e=="object"&&r in e&&typeof e[r]=="boolean"&&e[r]===!0}};Vs=ao;var O=io,zs="AI_APICallError",qs=`vercel.ai.error.${zs}`,oo=Symbol.for(qs),Gs,Se=class extends O{constructor({message:t,url:e,requestBodyValues:n,statusCode:r,responseHeaders:s,responseBody:a,cause:i,isRetryable:o=r!=null&&(r===408||r===409||r===429||r>=500),data:l}){super({name:zs,message:t,cause:i}),this[Gs]=!0,this.url=e,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=s,this.responseBody=a,this.isRetryable=o,this.data=l}static isInstance(t){return O.hasMarker(t,qs)}};Gs=oo;var Js="AI_EmptyResponseBodyError",Hs=`vercel.ai.error.${Js}`,lo=Symbol.for(Hs),Ws,co=class extends O{constructor({message:t="Empty response body"}={}){super({name:Js,message:t}),this[Ws]=!0}static isInstance(t){return O.hasMarker(t,Hs)}};Ws=lo;function fn(t){return t==null?"unknown error":typeof t=="string"?t:t instanceof Error?t.message:JSON.stringify(t)}var Ys="AI_InvalidArgumentError",Ks=`vercel.ai.error.${Ys}`,uo=Symbol.for(Ks),Xs,po=class extends O{constructor({message:e,cause:n,argument:r}){super({name:Ys,message:e,cause:n}),this[Xs]=!0,this.argument=r}static isInstance(e){return O.hasMarker(e,Ks)}};Xs=uo;var Qs="AI_InvalidPromptError",ea=`vercel.ai.error.${Qs}`,fo=Symbol.for(ea),ta,He=class extends O{constructor({prompt:t,message:e,cause:n}){super({name:Qs,message:`Invalid prompt: ${e}`,cause:n}),this[ta]=!0,this.prompt=t}static isInstance(t){return O.hasMarker(t,ea)}};ta=fo;var na="AI_InvalidResponseDataError",ra=`vercel.ai.error.${na}`,ho=Symbol.for(ra),sa,Wn=class extends O{constructor({data:t,message:e=`Invalid response data: ${JSON.stringify(t)}.`}){super({name:na,message:e}),this[sa]=!0,this.data=t}static isInstance(t){return O.hasMarker(t,ra)}};sa=ho;var aa="AI_JSONParseError",ia=`vercel.ai.error.${aa}`,mo=Symbol.for(ia),oa,kn=class extends O{constructor({text:t,cause:e}){super({name:aa,message:`JSON parsing failed: Text: ${t}.
Error message: ${fn(e)}`,cause:e}),this[oa]=!0,this.text=t}static isInstance(t){return O.hasMarker(t,ia)}};oa=mo;var la="AI_LoadAPIKeyError",ca=`vercel.ai.error.${la}`,go=Symbol.for(ca),ua,_n=class extends O{constructor({message:t}){super({name:la,message:t}),this[ua]=!0}static isInstance(t){return O.hasMarker(t,ca)}};ua=go;var da="AI_TooManyEmbeddingValuesForCallError",pa=`vercel.ai.error.${da}`,yo=Symbol.for(pa),fa,vo=class extends O{constructor(t){super({name:da,message:`Too many values for a single embedding call. The ${t.provider} model "${t.modelId}" can only embed up to ${t.maxEmbeddingsPerCall} values per call, but ${t.values.length} values were provided.`}),this[fa]=!0,this.provider=t.provider,this.modelId=t.modelId,this.maxEmbeddingsPerCall=t.maxEmbeddingsPerCall,this.values=t.values}static isInstance(t){return O.hasMarker(t,pa)}};fa=yo;var ha="AI_TypeValidationError",ma=`vercel.ai.error.${ha}`,_o=Symbol.for(ma),ga,bo=class ir extends O{constructor({value:e,cause:n}){super({name:ha,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${fn(n)}`,cause:n}),this[ga]=!0,this.value=e}static isInstance(e){return O.hasMarker(e,ma)}static wrap({value:e,cause:n}){return ir.isInstance(n)&&n.value===e?n:new ir({value:e,cause:n})}};ga=_o;var Tn=bo,ya="AI_UnsupportedFunctionalityError",va=`vercel.ai.error.${ya}`,wo=Symbol.for(va),_a,Re=class extends O{constructor({functionality:t,message:e=`'${t}' functionality not supported.`}){super({name:ya,message:e}),this[_a]=!0,this.functionality=t}static isInstance(t){return O.hasMarker(t,va)}};_a=wo;let So=(t,e=21)=>(n=e)=>{let r="",s=n|0;for(;s--;)r+=t[Math.random()*t.length|0];return r};function xo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wt={exports:{}};const ko=typeof Buffer<"u",ns=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,rs=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function ba(t,e,n){n==null&&e!==null&&typeof e=="object"&&(n=e,e=void 0),ko&&Buffer.isBuffer(t)&&(t=t.toString()),t&&t.charCodeAt(0)===65279&&(t=t.slice(1));const r=JSON.parse(t,e);if(r===null||typeof r!="object")return r;const s=n&&n.protoAction||"error",a=n&&n.constructorAction||"error";if(s==="ignore"&&a==="ignore")return r;if(s!=="ignore"&&a!=="ignore"){if(ns.test(t)===!1&&rs.test(t)===!1)return r}else if(s!=="ignore"&&a==="ignore"){if(ns.test(t)===!1)return r}else if(rs.test(t)===!1)return r;return wa(r,{protoAction:s,constructorAction:a,safe:n&&n.safe})}function wa(t,{protoAction:e="error",constructorAction:n="error",safe:r}={}){let s=[t];for(;s.length;){const a=s;s=[];for(const i of a){if(e!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(r===!0)return null;if(e==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"constructor")&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(r===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(const o in i){const l=i[o];l&&typeof l=="object"&&s.push(l)}}}return t}function xr(t,e,n){const r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return ba(t,e,n)}finally{Error.stackTraceLimit=r}}function To(t,e){const n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return ba(t,e,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=n}}wt.exports=xr;wt.exports.default=xr;wt.exports.parse=xr;wt.exports.safeParse=To;wt.exports.scan=wa;var Eo=wt.exports;const kr=xo(Eo);var Co=Object.defineProperty,Io=(t,e,n)=>e in t?Co(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bn=(t,e,n)=>Io(t,typeof e!="symbol"?e+"":e,n);class ss extends Error{constructor(e,n){super(e),bn(this,"type"),bn(this,"field"),bn(this,"value"),bn(this,"line"),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function Yn(t){}function Ao(t){const{onEvent:e=Yn,onError:n=Yn,onRetry:r=Yn,onComment:s}=t;let a="",i=!0,o,l="",c="";function u(_){const S=i?_.replace(/^\xEF\xBB\xBF/,""):_,[E,$]=No(`${a}${S}`);for(const L of E)d(L);a=$,i=!1}function d(_){if(_===""){h();return}if(_.startsWith(":")){s&&s(_.slice(_.startsWith(": ")?2:1));return}const S=_.indexOf(":");if(S!==-1){const E=_.slice(0,S),$=_[S+1]===" "?2:1,L=_.slice(S+$);p(E,L,_);return}p(_,"",_)}function p(_,S,E){switch(_){case"event":c=S;break;case"data":l=`${l}${S}
`;break;case"id":o=S.includes("\0")?void 0:S;break;case"retry":/^\d+$/.test(S)?r(parseInt(S,10)):n(new ss(`Invalid \`retry\` value: "${S}"`,{type:"invalid-retry",value:S,line:E}));break;default:n(new ss(`Unknown field "${_.length>20?`${_.slice(0,20)}â€¦`:_}"`,{type:"unknown-field",field:_,value:S,line:E}));break}}function h(){l.length>0&&e({id:o,event:c||void 0,data:l.endsWith(`
`)?l.slice(0,-1):l}),o=void 0,l="",c=""}function g(_={}){a&&_.consume&&d(a),o=void 0,l="",c="",a=""}return{feed:u,reset:g}}function No(t){const e=[];let n="";const r=t.length;for(let s=0;s<r;s++){const a=t[s];a==="\r"&&t[s+1]===`
`?(e.push(n),n="",s++):a==="\r"||a===`
`?(e.push(n),n=""):n+=a}return[e,n]}class Ro extends TransformStream{constructor({onError:e,onRetry:n,onComment:r}={}){let s;super({start(a){s=Ao({onEvent:i=>{a.enqueue(i)},onError(i){e==="terminate"?a.error(i):typeof e=="function"&&e(i)},onRetry:n,onComment:r})},transform(a){s.feed(a)}})}}function Rt(...t){return t.reduce((e,n)=>({...e,...n??{}}),{})}function Mo(t){return new ReadableStream({async pull(e){try{const{value:n,done:r}=await t.next();r?e.close():e.enqueue(n)}catch(n){e.error(n)}},cancel(){}})}function zn(t){const e={};return t.headers.forEach((n,r)=>{e[r]=n}),e}var hn=({prefix:t,size:e=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const s=So(n,e);if(t==null)return s;if(n.includes(r))throw new po({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return a=>`${t}${r}${s(a)}`},Kn=hn();function Oo(t){return t==null?"unknown error":typeof t=="string"?t:t instanceof Error?t.message:JSON.stringify(t)}function Sn(t){return t instanceof Error&&(t.name==="AbortError"||t.name==="TimeoutError")}function Po({apiKey:t,environmentVariableName:e,apiKeyParameterName:n="apiKey",description:r}){if(typeof t=="string")return t;if(t!=null)throw new _n({message:`${r} API key must be a string.`});if(typeof process>"u")throw new _n({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(t=process.env[e],t==null)throw new _n({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${e} environment variable.`});if(typeof t!="string")throw new _n({message:`${r} API key must be a string. The value of the ${e} environment variable is not a string.`});return t}var En=Symbol.for("vercel.ai.validator");function jo(t){return{[En]:!0,validate:t}}function $o(t){return typeof t=="object"&&t!==null&&En in t&&t[En]===!0&&"validate"in t}function Do(t){return $o(t)?t:Lo(t)}function Lo(t){return jo(e=>{const n=t.safeParse(e);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}})}function Zo({value:t,schema:e}){const n=mn({value:t,schema:e});if(!n.success)throw Tn.wrap({value:t,cause:n.error});return n.value}function mn({value:t,schema:e}){const n=Do(e);try{if(n.validate==null)return{success:!0,value:t};const r=n.validate(t);return r.success?r:{success:!1,error:Tn.wrap({value:t,cause:r.error})}}catch(r){return{success:!1,error:Tn.wrap({value:t,cause:r})}}}function Fo({text:t,schema:e}){try{const n=kr.parse(t);return e==null?n:Zo({value:n,schema:e})}catch(n){throw kn.isInstance(n)||Tn.isInstance(n)?n:new kn({text:t,cause:n})}}function gt({text:t,schema:e}){try{const n=kr.parse(t);return e==null?{success:!0,value:n}:mn({value:n,schema:e})}catch(n){return{success:!1,error:kn.isInstance(n)?n:new kn({text:t,cause:n})}}}function as(t){try{return kr.parse(t),!0}catch{return!1}}function Uo(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>n!=null))}var Vo=()=>globalThis.fetch,Mt=async({url:t,headers:e,body:n,failedResponseHandler:r,successfulResponseHandler:s,abortSignal:a,fetch:i})=>Bo({url:t,headers:{"Content-Type":"application/json",...e},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:s,abortSignal:a,fetch:i}),Bo=async({url:t,headers:e={},body:n,successfulResponseHandler:r,failedResponseHandler:s,abortSignal:a,fetch:i=Vo()})=>{try{const o=await i(t,{method:"POST",headers:Uo(e),body:n.content,signal:a}),l=zn(o);if(!o.ok){let c;try{c=await s({response:o,url:t,requestBodyValues:n.values})}catch(u){throw Sn(u)||Se.isInstance(u)?u:new Se({message:"Failed to process error response",cause:u,statusCode:o.status,url:t,responseHeaders:l,requestBodyValues:n.values})}throw c.value}try{return await r({response:o,url:t,requestBodyValues:n.values})}catch(c){throw c instanceof Error&&(Sn(c)||Se.isInstance(c))?c:new Se({message:"Failed to process successful response",cause:c,statusCode:o.status,url:t,responseHeaders:l,requestBodyValues:n.values})}}catch(o){if(Sn(o))throw o;if(o instanceof TypeError&&o.message==="fetch failed"){const l=o.cause;if(l!=null)throw new Se({message:`Cannot connect to API: ${l.message}`,cause:l,url:t,requestBodyValues:n.values,isRetryable:!0})}throw o}},Tr=({errorSchema:t,errorToMessage:e,isRetryable:n})=>async({response:r,url:s,requestBodyValues:a})=>{const i=await r.text(),o=zn(r);if(i.trim()==="")return{responseHeaders:o,value:new Se({message:r.statusText,url:s,requestBodyValues:a,statusCode:r.status,responseHeaders:o,responseBody:i,isRetryable:n==null?void 0:n(r)})};try{const l=Fo({text:i,schema:t});return{responseHeaders:o,value:new Se({message:e(l),url:s,requestBodyValues:a,statusCode:r.status,responseHeaders:o,responseBody:i,data:l,isRetryable:n==null?void 0:n(r,l)})}}catch{return{responseHeaders:o,value:new Se({message:r.statusText,url:s,requestBodyValues:a,statusCode:r.status,responseHeaders:o,responseBody:i,isRetryable:n==null?void 0:n(r)})}}},Sa=t=>async({response:e})=>{const n=zn(e);if(e.body==null)throw new co({});return{responseHeaders:n,value:e.body.pipeThrough(new TextDecoderStream).pipeThrough(new Ro).pipeThrough(new TransformStream({transform({data:r},s){r!=="[DONE]"&&s.enqueue(gt({text:r,schema:t}))}}))}},Er=t=>async({response:e,url:n,requestBodyValues:r})=>{const s=await e.text(),a=gt({text:s,schema:t}),i=zn(e);if(!a.success)throw new Se({message:"Invalid JSON response",cause:a.error,statusCode:e.status,responseHeaders:i,responseBody:s,url:n,requestBodyValues:r});return{responseHeaders:i,value:a.value}},{btoa:zo,atob:qo}=globalThis;function Go(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=qo(e);return Uint8Array.from(n,r=>r.codePointAt(0))}function or(t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCodePoint(t[n]);return zo(e)}function Jo(t){return t==null?void 0:t.replace(/\/$/,"")}const Ho=Symbol("Let zodToJsonSchema decide on which parser to use"),is={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Wo=t=>typeof t=="string"?{...is,name:t}:{...is,...t},Yo=t=>{const e=Wo(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,s])=>[s._def,{def:s._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function xa(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function B(t,e,n,r,s){t[e]=n,xa(t,e,r,s)}var Z;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(const o of a)i[o]=s[o];return t.objectValues(i)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},t.find=(s,a)=>{for(const i of s)if(a(i))return i},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Z||(Z={}));var lr;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(lr||(lr={}));const w=Z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ne=t=>{switch(typeof t){case"undefined":return w.undefined;case"string":return w.string;case"number":return isNaN(t)?w.nan:w.number;case"boolean":return w.boolean;case"function":return w.function;case"bigint":return w.bigint;case"symbol":return w.symbol;case"object":return Array.isArray(t)?w.array:t===null?w.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?w.promise:typeof Map<"u"&&t instanceof Map?w.map:typeof Set<"u"&&t instanceof Set?w.set:typeof Date<"u"&&t instanceof Date?w.date:w.object;default:return w.unknown}},y=Z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ko=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class de extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let o=r,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(i))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof de))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Z.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}de.create=t=>new de(t);const yt=(t,e)=>{let n;switch(t.code){case y.invalid_type:t.received===w.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case y.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Z.jsonStringifyReplacer)}`;break;case y.unrecognized_keys:n=`Unrecognized key(s) in object: ${Z.joinValues(t.keys,", ")}`;break;case y.invalid_union:n="Invalid input";break;case y.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Z.joinValues(t.options)}`;break;case y.invalid_enum_value:n=`Invalid enum value. Expected ${Z.joinValues(t.options)}, received '${t.received}'`;break;case y.invalid_arguments:n="Invalid function arguments";break;case y.invalid_return_type:n="Invalid function return type";break;case y.invalid_date:n="Invalid date";break;case y.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Z.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case y.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case y.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case y.custom:n="Invalid input";break;case y.invalid_intersection_types:n="Intersection results could not be merged";break;case y.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case y.not_finite:n="Number must be finite";break;default:n=e.defaultError,Z.assertNever(t)}return{message:n}};let ka=yt;function Xo(t){ka=t}function Cn(){return ka}const In=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,a=[...n,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(i,{data:e,defaultError:o}).message;return{...s,path:a,message:o}},Qo=[];function b(t,e){const n=Cn(),r=In({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===yt?void 0:yt].filter(s=>!!s)});t.common.issues.push(r)}class ie{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return C;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const a=await s.key,i=await s.value;r.push({key:a,value:i})}return ie.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return C;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(r[a.value]=i.value)}return{status:e.value,value:r}}}const C=Object.freeze({status:"aborted"}),ut=t=>({status:"dirty",value:t}),le=t=>({status:"valid",value:t}),cr=t=>t.status==="aborted",ur=t=>t.status==="dirty",Ke=t=>t.status==="valid",Ot=t=>typeof Promise<"u"&&t instanceof Promise;function An(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Ta(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}var k;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(k||(k={}));var Ct,It;class Te{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const os=(t,e)=>{if(Ke(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new de(t.common.issues);return this._error=n,this._error}}};function P(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,o)=>{var l,c;const{message:u}=t;return i.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}},description:s}}class j{get description(){return this._def.description}_getType(e){return Ne(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ne(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ie,ctx:{common:e.parent.common,data:e.data,parsedType:Ne(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ot(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ne(e)},a=this._parseSync({data:e,path:s.path,parent:s});return os(s,a)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ne(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:s});return Ke(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((r=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(a=>Ke(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ne(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(Ot(s)?s:Promise.resolve(s));return os(r,a)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const i=e(s),o=()=>a.addIssue({code:y.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new _e({schema:this,typeName:v.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ve.create(this,this._def)}nullable(){return Ue.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ye.create(this)}promise(){return _t.create(this,this._def)}or(e){return Dt.create([this,e],this._def)}and(e){return Lt.create(this,e,this._def)}transform(e){return new _e({...P(this._def),schema:this,typeName:v.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Bt({...P(this._def),innerType:this,defaultValue:n,typeName:v.ZodDefault})}brand(){return new Cr({typeName:v.ZodBranded,type:this,...P(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new zt({...P(this._def),innerType:this,catchValue:n,typeName:v.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return gn.create(this,e)}readonly(){return qt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const el=/^c[^\s-]{8,}$/i,tl=/^[0-9a-z]+$/,nl=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rl=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sl=/^[a-z0-9_-]{21}$/i,al=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,il=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ol=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ll="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Xn;const cl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ul=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fl=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hl=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ea="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ml=new RegExp(`^${Ea}$`);function Ca(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function gl(t){return new RegExp(`^${Ca(t)}$`)}function Ia(t){let e=`${Ea}T${Ca(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function yl(t,e){return!!((e==="v4"||!e)&&cl.test(t)||(e==="v6"||!e)&&dl.test(t))}function vl(t,e){if(!al.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function _l(t,e){return!!((e==="v4"||!e)&&ul.test(t)||(e==="v6"||!e)&&pl.test(t))}class ge extends j{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==w.string){const a=this._getOrReturnCtx(e);return b(a,{code:y.invalid_type,expected:w.string,received:a.parsedType}),C}const r=new ie;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:y.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:y.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(e,s),i?b(s,{code:y.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&b(s,{code:y.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")ol.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"email",code:y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Xn||(Xn=new RegExp(ll,"u")),Xn.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"emoji",code:y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")rl.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"uuid",code:y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")sl.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"nanoid",code:y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")el.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"cuid",code:y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")tl.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"cuid2",code:y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")nl.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"ulid",code:y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),b(s,{validation:"url",code:y.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"regex",code:y.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),b(s,{code:y.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),b(s,{code:y.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),b(s,{code:y.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Ia(a).test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{code:y.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?ml.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{code:y.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?gl(a).test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{code:y.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?il.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"duration",code:y.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?yl(e.data,a.version)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"ip",code:y.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?vl(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"jwt",code:y.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?_l(e.data,a.version)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"cidr",code:y.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?fl.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"base64",code:y.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?hl.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"base64url",code:y.invalid_string,message:a.message}),r.dirty()):Z.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:y.invalid_string,...k.errToObj(r)})}_addCheck(e){return new ge({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...k.errToObj(e)})}url(e){return this._addCheck({kind:"url",...k.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...k.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...k.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...k.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...k.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...k.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...k.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...k.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...k.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...k.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...k.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...k.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...k.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...k.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...k.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...k.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...k.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...k.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...k.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...k.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...k.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...k.errToObj(n)})}nonempty(e){return this.min(1,k.errToObj(e))}trim(){return new ge({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ge({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ge({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ge.create=t=>{var e;return new ge({checks:[],typeName:v.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...P(t)})};function bl(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,a=parseInt(t.toFixed(s).replace(".","")),i=parseInt(e.toFixed(s).replace(".",""));return a%i/Math.pow(10,s)}class Le extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==w.number){const a=this._getOrReturnCtx(e);return b(a,{code:y.invalid_type,expected:w.number,received:a.parsedType}),C}let r;const s=new ie;for(const a of this._def.checks)a.kind==="int"?Z.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),b(r,{code:y.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:y.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:y.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?bl(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),b(r,{code:y.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),b(r,{code:y.not_finite,message:a.message}),s.dirty()):Z.assertNever(a);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,k.toString(n))}gt(e,n){return this.setLimit("min",e,!1,k.toString(n))}lte(e,n){return this.setLimit("max",e,!0,k.toString(n))}lt(e,n){return this.setLimit("max",e,!1,k.toString(n))}setLimit(e,n,r,s){return new Le({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:k.toString(s)}]})}_addCheck(e){return new Le({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:k.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:k.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:k.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:k.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:k.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Z.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Le.create=t=>new Le({checks:[],typeName:v.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...P(t)});class Ze extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==w.bigint)return this._getInvalidInput(e);let r;const s=new ie;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:y.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:y.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),b(r,{code:y.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Z.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return b(n,{code:y.invalid_type,expected:w.bigint,received:n.parsedType}),C}gte(e,n){return this.setLimit("min",e,!0,k.toString(n))}gt(e,n){return this.setLimit("min",e,!1,k.toString(n))}lte(e,n){return this.setLimit("max",e,!0,k.toString(n))}lt(e,n){return this.setLimit("max",e,!1,k.toString(n))}setLimit(e,n,r,s){return new Ze({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:k.toString(s)}]})}_addCheck(e){return new Ze({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:k.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ze.create=t=>{var e;return new Ze({checks:[],typeName:v.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...P(t)})};class Pt extends j{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==w.boolean){const r=this._getOrReturnCtx(e);return b(r,{code:y.invalid_type,expected:w.boolean,received:r.parsedType}),C}return le(e.data)}}Pt.create=t=>new Pt({typeName:v.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...P(t)});class Xe extends j{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==w.date){const a=this._getOrReturnCtx(e);return b(a,{code:y.invalid_type,expected:w.date,received:a.parsedType}),C}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return b(a,{code:y.invalid_date}),C}const r=new ie;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:y.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:y.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Z.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xe({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:k.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:k.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Xe.create=t=>new Xe({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:v.ZodDate,...P(t)});class Nn extends j{_parse(e){if(this._getType(e)!==w.symbol){const r=this._getOrReturnCtx(e);return b(r,{code:y.invalid_type,expected:w.symbol,received:r.parsedType}),C}return le(e.data)}}Nn.create=t=>new Nn({typeName:v.ZodSymbol,...P(t)});class jt extends j{_parse(e){if(this._getType(e)!==w.undefined){const r=this._getOrReturnCtx(e);return b(r,{code:y.invalid_type,expected:w.undefined,received:r.parsedType}),C}return le(e.data)}}jt.create=t=>new jt({typeName:v.ZodUndefined,...P(t)});class $t extends j{_parse(e){if(this._getType(e)!==w.null){const r=this._getOrReturnCtx(e);return b(r,{code:y.invalid_type,expected:w.null,received:r.parsedType}),C}return le(e.data)}}$t.create=t=>new $t({typeName:v.ZodNull,...P(t)});class vt extends j{constructor(){super(...arguments),this._any=!0}_parse(e){return le(e.data)}}vt.create=t=>new vt({typeName:v.ZodAny,...P(t)});class Ye extends j{constructor(){super(...arguments),this._unknown=!0}_parse(e){return le(e.data)}}Ye.create=t=>new Ye({typeName:v.ZodUnknown,...P(t)});class Me extends j{_parse(e){const n=this._getOrReturnCtx(e);return b(n,{code:y.invalid_type,expected:w.never,received:n.parsedType}),C}}Me.create=t=>new Me({typeName:v.ZodNever,...P(t)});class Rn extends j{_parse(e){if(this._getType(e)!==w.undefined){const r=this._getOrReturnCtx(e);return b(r,{code:y.invalid_type,expected:w.void,received:r.parsedType}),C}return le(e.data)}}Rn.create=t=>new Rn({typeName:v.ZodVoid,...P(t)});class ye extends j{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==w.array)return b(n,{code:y.invalid_type,expected:w.array,received:n.parsedType}),C;if(s.exactLength!==null){const i=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(i||o)&&(b(n,{code:i?y.too_big:y.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(b(n,{code:y.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(b(n,{code:y.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,o)=>s.type._parseAsync(new Te(n,i,n.path,o)))).then(i=>ie.mergeArray(r,i));const a=[...n.data].map((i,o)=>s.type._parseSync(new Te(n,i,n.path,o)));return ie.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new ye({...this._def,minLength:{value:e,message:k.toString(n)}})}max(e,n){return new ye({...this._def,maxLength:{value:e,message:k.toString(n)}})}length(e,n){return new ye({...this._def,exactLength:{value:e,message:k.toString(n)}})}nonempty(e){return this.min(1,e)}}ye.create=(t,e)=>new ye({type:t,minLength:null,maxLength:null,exactLength:null,typeName:v.ZodArray,...P(e)});function ot(t){if(t instanceof H){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ve.create(ot(r))}return new H({...t._def,shape:()=>e})}else return t instanceof ye?new ye({...t._def,type:ot(t.element)}):t instanceof ve?ve.create(ot(t.unwrap())):t instanceof Ue?Ue.create(ot(t.unwrap())):t instanceof Ee?Ee.create(t.items.map(e=>ot(e))):t}class H extends j{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Z.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==w.object){const c=this._getOrReturnCtx(e);return b(c,{code:y.invalid_type,expected:w.object,received:c.parsedType}),C}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Me&&this._def.unknownKeys==="strip"))for(const c in s.data)i.includes(c)||o.push(c);const l=[];for(const c of i){const u=a[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Te(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Me){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")o.length>0&&(b(s,{code:y.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Te(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,p=await u.value;c.push({key:d,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>ie.mergeObjectSync(r,c)):ie.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return k.errToObj,new H({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,a,i,o;const l=(i=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=k.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new H({...this._def,unknownKeys:"strip"})}passthrough(){return new H({...this._def,unknownKeys:"passthrough"})}extend(e){return new H({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new H({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:v.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new H({...this._def,catchall:e})}pick(e){const n={};return Z.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new H({...this._def,shape:()=>n})}omit(e){const n={};return Z.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new H({...this._def,shape:()=>n})}deepPartial(){return ot(this)}partial(e){const n={};return Z.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new H({...this._def,shape:()=>n})}required(e){const n={};return Z.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof ve;)a=a._def.innerType;n[r]=a}}),new H({...this._def,shape:()=>n})}keyof(){return Aa(Z.objectKeys(this.shape))}}H.create=(t,e)=>new H({shape:()=>t,unknownKeys:"strip",catchall:Me.create(),typeName:v.ZodObject,...P(e)});H.strictCreate=(t,e)=>new H({shape:()=>t,unknownKeys:"strict",catchall:Me.create(),typeName:v.ZodObject,...P(e)});H.lazycreate=(t,e)=>new H({shape:t,unknownKeys:"strip",catchall:Me.create(),typeName:v.ZodObject,...P(e)});class Dt extends j{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new de(o.ctx.common.issues));return b(n,{code:y.invalid_union,unionErrors:i}),C}if(n.common.async)return Promise.all(r.map(async a=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(l=>new de(l));return b(n,{code:y.invalid_union,unionErrors:o}),C}}get options(){return this._def.options}}Dt.create=(t,e)=>new Dt({options:t,typeName:v.ZodUnion,...P(e)});const Ae=t=>t instanceof Ft?Ae(t.schema):t instanceof _e?Ae(t.innerType()):t instanceof Ut?[t.value]:t instanceof Fe?t.options:t instanceof Vt?Z.objectValues(t.enum):t instanceof Bt?Ae(t._def.innerType):t instanceof jt?[void 0]:t instanceof $t?[null]:t instanceof ve?[void 0,...Ae(t.unwrap())]:t instanceof Ue?[null,...Ae(t.unwrap())]:t instanceof Cr||t instanceof qt?Ae(t.unwrap()):t instanceof zt?Ae(t._def.innerType):[];class qn extends j{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==w.object)return b(n,{code:y.invalid_type,expected:w.object,received:n.parsedType}),C;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(b(n,{code:y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),C)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const a of n){const i=Ae(a.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,a)}}return new qn({typeName:v.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...P(r)})}}function dr(t,e){const n=Ne(t),r=Ne(e);if(t===e)return{valid:!0,data:t};if(n===w.object&&r===w.object){const s=Z.objectKeys(e),a=Z.objectKeys(t).filter(o=>s.indexOf(o)!==-1),i={...t,...e};for(const o of a){const l=dr(t[o],e[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(n===w.array&&r===w.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const i=t[a],o=e[a],l=dr(i,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===w.date&&r===w.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Lt extends j{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(a,i)=>{if(cr(a)||cr(i))return C;const o=dr(a.value,i.value);return o.valid?((ur(a)||ur(i))&&n.dirty(),{status:n.value,value:o.data}):(b(r,{code:y.invalid_intersection_types}),C)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Lt.create=(t,e,n)=>new Lt({left:t,right:e,typeName:v.ZodIntersection,...P(n)});class Ee extends j{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==w.array)return b(r,{code:y.invalid_type,expected:w.array,received:r.parsedType}),C;if(r.data.length<this._def.items.length)return b(r,{code:y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),C;!this._def.rest&&r.data.length>this._def.items.length&&(b(r,{code:y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Te(r,i,r.path,o)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>ie.mergeArray(n,i)):ie.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Ee({...this._def,rest:e})}}Ee.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ee({items:t,typeName:v.ZodTuple,rest:null,...P(e)})};class Zt extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==w.object)return b(r,{code:y.invalid_type,expected:w.object,received:r.parsedType}),C;const s=[],a=this._def.keyType,i=this._def.valueType;for(const o in r.data)s.push({key:a._parse(new Te(r,o,r.path,o)),value:i._parse(new Te(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?ie.mergeObjectAsync(n,s):ie.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof j?new Zt({keyType:e,valueType:n,typeName:v.ZodRecord,...P(r)}):new Zt({keyType:ge.create(),valueType:e,typeName:v.ZodRecord,...P(n)})}}class Mn extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==w.map)return b(r,{code:y.invalid_type,expected:w.map,received:r.parsedType}),C;const s=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([o,l],c)=>({key:s._parse(new Te(r,o,r.path,[c,"key"])),value:a._parse(new Te(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of i){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return C;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of i){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return C;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}}}}Mn.create=(t,e,n)=>new Mn({valueType:e,keyType:t,typeName:v.ZodMap,...P(n)});class Qe extends j{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==w.set)return b(r,{code:y.invalid_type,expected:w.set,received:r.parsedType}),C;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(b(r,{code:y.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(b(r,{code:y.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function i(l){const c=new Set;for(const u of l){if(u.status==="aborted")return C;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>a._parse(new Te(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(e,n){return new Qe({...this._def,minSize:{value:e,message:k.toString(n)}})}max(e,n){return new Qe({...this._def,maxSize:{value:e,message:k.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Qe.create=(t,e)=>new Qe({valueType:t,minSize:null,maxSize:null,typeName:v.ZodSet,...P(e)});class ft extends j{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==w.function)return b(n,{code:y.invalid_type,expected:w.function,received:n.parsedType}),C;function r(o,l){return In({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Cn(),yt].filter(c=>!!c),issueData:{code:y.invalid_arguments,argumentsError:l}})}function s(o,l){return In({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Cn(),yt].filter(c=>!!c),issueData:{code:y.invalid_return_type,returnTypeError:l}})}const a={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof _t){const o=this;return le(async function(...l){const c=new de([]),u=await o._def.args.parseAsync(l,a).catch(h=>{throw c.addIssue(r(l,h)),c}),d=await Reflect.apply(i,this,u);return await o._def.returns._def.type.parseAsync(d,a).catch(h=>{throw c.addIssue(s(d,h)),c})})}else{const o=this;return le(function(...l){const c=o._def.args.safeParse(l,a);if(!c.success)throw new de([r(l,c.error)]);const u=Reflect.apply(i,this,c.data),d=o._def.returns.safeParse(u,a);if(!d.success)throw new de([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ft({...this._def,args:Ee.create(e).rest(Ye.create())})}returns(e){return new ft({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new ft({args:e||Ee.create([]).rest(Ye.create()),returns:n||Ye.create(),typeName:v.ZodFunction,...P(r)})}}class Ft extends j{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ft.create=(t,e)=>new Ft({getter:t,typeName:v.ZodLazy,...P(e)});class Ut extends j{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return b(n,{received:n.data,code:y.invalid_literal,expected:this._def.value}),C}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ut.create=(t,e)=>new Ut({value:t,typeName:v.ZodLiteral,...P(e)});function Aa(t,e){return new Fe({values:t,typeName:v.ZodEnum,...P(e)})}class Fe extends j{constructor(){super(...arguments),Ct.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return b(n,{expected:Z.joinValues(r),received:n.parsedType,code:y.invalid_type}),C}if(An(this,Ct,"f")||Ta(this,Ct,new Set(this._def.values),"f"),!An(this,Ct,"f").has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return b(n,{received:n.data,code:y.invalid_enum_value,options:r}),C}return le(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Fe.create(e,{...this._def,...n})}exclude(e,n=this._def){return Fe.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ct=new WeakMap;Fe.create=Aa;class Vt extends j{constructor(){super(...arguments),It.set(this,void 0)}_parse(e){const n=Z.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==w.string&&r.parsedType!==w.number){const s=Z.objectValues(n);return b(r,{expected:Z.joinValues(s),received:r.parsedType,code:y.invalid_type}),C}if(An(this,It,"f")||Ta(this,It,new Set(Z.getValidEnumValues(this._def.values)),"f"),!An(this,It,"f").has(e.data)){const s=Z.objectValues(n);return b(r,{received:r.data,code:y.invalid_enum_value,options:s}),C}return le(e.data)}get enum(){return this._def.values}}It=new WeakMap;Vt.create=(t,e)=>new Vt({values:t,typeName:v.ZodNativeEnum,...P(e)});class _t extends j{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==w.promise&&n.common.async===!1)return b(n,{code:y.invalid_type,expected:w.promise,received:n.parsedType}),C;const r=n.parsedType===w.promise?n.data:Promise.resolve(n.data);return le(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}_t.create=(t,e)=>new _t({type:t,typeName:v.ZodPromise,...P(e)});class _e extends j{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===v.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:i=>{b(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(r.data,a);if(r.common.async)return Promise.resolve(i).then(async o=>{if(n.value==="aborted")return C;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?C:l.status==="dirty"||n.value==="dirty"?ut(l.value):l});{if(n.value==="aborted")return C;const o=this._def.schema._parseSync({data:i,path:r.path,parent:r});return o.status==="aborted"?C:o.status==="dirty"||n.value==="dirty"?ut(o.value):o}}if(s.type==="refinement"){const i=o=>{const l=s.refinement(o,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?C:(o.status==="dirty"&&n.dirty(),i(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?C:(o.status==="dirty"&&n.dirty(),i(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ke(i))return i;const o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Ke(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:n.value,value:o})):i);Z.assertNever(s)}}_e.create=(t,e,n)=>new _e({schema:t,typeName:v.ZodEffects,effect:e,...P(n)});_e.createWithPreprocess=(t,e,n)=>new _e({schema:e,effect:{type:"preprocess",transform:t},typeName:v.ZodEffects,...P(n)});class ve extends j{_parse(e){return this._getType(e)===w.undefined?le(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ve.create=(t,e)=>new ve({innerType:t,typeName:v.ZodOptional,...P(e)});class Ue extends j{_parse(e){return this._getType(e)===w.null?le(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ue.create=(t,e)=>new Ue({innerType:t,typeName:v.ZodNullable,...P(e)});class Bt extends j{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===w.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Bt.create=(t,e)=>new Bt({innerType:t,typeName:v.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...P(e)});class zt extends j{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ot(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new de(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new de(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}zt.create=(t,e)=>new zt({innerType:t,typeName:v.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...P(e)});class On extends j{_parse(e){if(this._getType(e)!==w.nan){const r=this._getOrReturnCtx(e);return b(r,{code:y.invalid_type,expected:w.nan,received:r.parsedType}),C}return{status:"valid",value:e.data}}}On.create=t=>new On({typeName:v.ZodNaN,...P(t)});const wl=Symbol("zod_brand");class Cr extends j{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class gn extends j{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?C:a.status==="dirty"?(n.dirty(),ut(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?C:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new gn({in:e,out:n,typeName:v.ZodPipeline})}}class qt extends j{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Ke(s)&&(s.value=Object.freeze(s.value)),s);return Ot(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}qt.create=(t,e)=>new qt({innerType:t,typeName:v.ZodReadonly,...P(e)});function Na(t,e={},n){return t?vt.create().superRefine((r,s)=>{var a,i;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(i=(a=o.fatal)!==null&&a!==void 0?a:n)!==null&&i!==void 0?i:!0,c=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...c,fatal:l})}}):vt.create()}const Sl={object:H.lazycreate};var v;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(v||(v={}));const xl=(t,e={message:`Input not instance of ${t.name}`})=>Na(n=>n instanceof t,e),Ra=ge.create,Ma=Le.create,kl=On.create,Tl=Ze.create,Oa=Pt.create,El=Xe.create,Cl=Nn.create,Il=jt.create,Al=$t.create,Nl=vt.create,Rl=Ye.create,Ml=Me.create,Ol=Rn.create,Pl=ye.create,jl=H.create,$l=H.strictCreate,Dl=Dt.create,Ll=qn.create,Zl=Lt.create,Fl=Ee.create,Ul=Zt.create,Vl=Mn.create,Bl=Qe.create,zl=ft.create,ql=Ft.create,Gl=Ut.create,Jl=Fe.create,Hl=Vt.create,Wl=_t.create,ls=_e.create,Yl=ve.create,Kl=Ue.create,Xl=_e.createWithPreprocess,Ql=gn.create,ec=()=>Ra().optional(),tc=()=>Ma().optional(),nc=()=>Oa().optional(),rc={string:t=>ge.create({...t,coerce:!0}),number:t=>Le.create({...t,coerce:!0}),boolean:t=>Pt.create({...t,coerce:!0}),bigint:t=>Ze.create({...t,coerce:!0}),date:t=>Xe.create({...t,coerce:!0})},sc=C;var f=Object.freeze({__proto__:null,defaultErrorMap:yt,setErrorMap:Xo,getErrorMap:Cn,makeIssue:In,EMPTY_PATH:Qo,addIssueToContext:b,ParseStatus:ie,INVALID:C,DIRTY:ut,OK:le,isAborted:cr,isDirty:ur,isValid:Ke,isAsync:Ot,get util(){return Z},get objectUtil(){return lr},ZodParsedType:w,getParsedType:Ne,ZodType:j,datetimeRegex:Ia,ZodString:ge,ZodNumber:Le,ZodBigInt:Ze,ZodBoolean:Pt,ZodDate:Xe,ZodSymbol:Nn,ZodUndefined:jt,ZodNull:$t,ZodAny:vt,ZodUnknown:Ye,ZodNever:Me,ZodVoid:Rn,ZodArray:ye,ZodObject:H,ZodUnion:Dt,ZodDiscriminatedUnion:qn,ZodIntersection:Lt,ZodTuple:Ee,ZodRecord:Zt,ZodMap:Mn,ZodSet:Qe,ZodFunction:ft,ZodLazy:Ft,ZodLiteral:Ut,ZodEnum:Fe,ZodNativeEnum:Vt,ZodPromise:_t,ZodEffects:_e,ZodTransformer:_e,ZodOptional:ve,ZodNullable:Ue,ZodDefault:Bt,ZodCatch:zt,ZodNaN:On,BRAND:wl,ZodBranded:Cr,ZodPipeline:gn,ZodReadonly:qt,custom:Na,Schema:j,ZodSchema:j,late:Sl,get ZodFirstPartyTypeKind(){return v},coerce:rc,any:Nl,array:Pl,bigint:Tl,boolean:Oa,date:El,discriminatedUnion:Ll,effect:ls,enum:Jl,function:zl,instanceof:xl,intersection:Zl,lazy:ql,literal:Gl,map:Vl,nan:kl,nativeEnum:Hl,never:Ml,null:Al,nullable:Kl,number:Ma,object:jl,oboolean:nc,onumber:tc,optional:Yl,ostring:ec,pipeline:Ql,preprocess:Xl,promise:Wl,record:Ul,set:Bl,strictObject:$l,string:Ra,symbol:Cl,transformer:ls,tuple:Fl,undefined:Il,union:Dl,unknown:Rl,void:Ol,NEVER:sc,ZodIssueCode:y,quotelessJson:Ko,ZodError:de});function ac(){return{}}function ic(t,e){var r,s,a;const n={type:"array"};return(r=t.type)!=null&&r._def&&((a=(s=t.type)==null?void 0:s._def)==null?void 0:a.typeName)!==v.ZodAny&&(n.items=U(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&B(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&B(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(B(n,"minItems",t.exactLength.value,t.exactLength.message,e),B(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function oc(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?B(n,"minimum",r.value,r.message,e):B(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),B(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?B(n,"maximum",r.value,r.message,e):B(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),B(n,"maximum",r.value,r.message,e));break;case"multipleOf":B(n,"multipleOf",r.value,r.message,e);break}return n}function lc(){return{type:"boolean"}}function Pa(t,e){return U(t.type._def,e)}const cc=(t,e)=>U(t.innerType._def,e);function ja(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((s,a)=>ja(t,e,s))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return uc(t,e)}}const uc=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":B(n,"minimum",r.value,r.message,e);break;case"max":B(n,"maximum",r.value,r.message,e);break}return n};function dc(t,e){return{...U(t.innerType._def,e),default:t.defaultValue()}}function pc(t,e){return e.effectStrategy==="input"?U(t.schema._def,e):{}}function fc(t){return{type:"string",enum:Array.from(t.values)}}const hc=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function mc(t,e){const n=[U(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),U(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(a=>!!a);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const s=[];return n.forEach(a=>{if(hc(a))s.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let i=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;i=l}else r=void 0;s.push(i)}}),s.length?{allOf:s,...r}:void 0}function gc(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let Qn;const fe={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Qn===void 0&&(Qn=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Qn),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function $a(t,e){const n={type:"string"};if(t.checks)for(const r of t.checks)switch(r.kind){case"min":B(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e);break;case"max":B(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":he(n,"email",r.message,e);break;case"format:idn-email":he(n,"idn-email",r.message,e);break;case"pattern:zod":oe(n,fe.email,r.message,e);break}break;case"url":he(n,"uri",r.message,e);break;case"uuid":he(n,"uuid",r.message,e);break;case"regex":oe(n,r.regex,r.message,e);break;case"cuid":oe(n,fe.cuid,r.message,e);break;case"cuid2":oe(n,fe.cuid2,r.message,e);break;case"startsWith":oe(n,RegExp(`^${er(r.value,e)}`),r.message,e);break;case"endsWith":oe(n,RegExp(`${er(r.value,e)}$`),r.message,e);break;case"datetime":he(n,"date-time",r.message,e);break;case"date":he(n,"date",r.message,e);break;case"time":he(n,"time",r.message,e);break;case"duration":he(n,"duration",r.message,e);break;case"length":B(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e),B(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"includes":{oe(n,RegExp(er(r.value,e)),r.message,e);break}case"ip":{r.version!=="v6"&&he(n,"ipv4",r.message,e),r.version!=="v4"&&he(n,"ipv6",r.message,e);break}case"base64url":oe(n,fe.base64url,r.message,e);break;case"jwt":oe(n,fe.jwt,r.message,e);break;case"cidr":{r.version!=="v6"&&oe(n,fe.ipv4Cidr,r.message,e),r.version!=="v4"&&oe(n,fe.ipv6Cidr,r.message,e);break}case"emoji":oe(n,fe.emoji(),r.message,e);break;case"ulid":{oe(n,fe.ulid,r.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{he(n,"binary",r.message,e);break}case"contentEncoding:base64":{B(n,"contentEncoding","base64",r.message,e);break}case"pattern:zod":{oe(n,fe.base64,r.message,e);break}}break}case"nanoid":oe(n,fe.nanoid,r.message,e)}return n}function er(t,e){return e.patternStrategy==="escape"?vc(t):t}const yc=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function vc(t){let e="";for(let n=0;n<t.length;n++)yc.has(t[n])||(e+="\\"),e+=t[n];return e}function he(t,e,n,r){var s;t.format||(s=t.anyOf)!=null&&s.some(a=>a.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):B(t,"format",e,n,r)}function oe(t,e,n,r){var s;t.pattern||(s=t.allOf)!=null&&s.some(a=>a.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:cs(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):B(t,"pattern",cs(e,r),n,r)}function cs(t,e){var l;if(!e.applyRegexFlags||!t.flags)return t.source;const n={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},r=n.i?t.source.toLowerCase():t.source;let s="",a=!1,i=!1,o=!1;for(let c=0;c<r.length;c++){if(a){s+=r[c],a=!1;continue}if(n.i){if(i){if(r[c].match(/[a-z]/)){o?(s+=r[c],s+=`${r[c-2]}-${r[c]}`.toUpperCase(),o=!1):r[c+1]==="-"&&((l=r[c+2])!=null&&l.match(/[a-z]/))?(s+=r[c],o=!0):s+=`${r[c]}${r[c].toUpperCase()}`;continue}}else if(r[c].match(/[a-z]/)){s+=`[${r[c]}${r[c].toUpperCase()}]`;continue}}if(n.m){if(r[c]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(r[c]==="$"){s+=`($|(?=[\r
]))`;continue}}if(n.s&&r[c]==="."){s+=i?`${r[c]}\r
`:`[${r[c]}\r
]`;continue}s+=r[c],r[c]==="\\"?a=!0:i&&r[c]==="]"?i=!1:!i&&r[c]==="["&&(i=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return s}function Da(t,e){var r,s,a,i,o,l;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===v.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((c,u)=>({...c,[u]:U(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",u]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:U(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return n;if(((s=t.keyType)==null?void 0:s._def.typeName)===v.ZodString&&((a=t.keyType._def.checks)!=null&&a.length)){const{type:c,...u}=$a(t.keyType._def,e);return{...n,propertyNames:u}}else{if(((i=t.keyType)==null?void 0:i._def.typeName)===v.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};if(((o=t.keyType)==null?void 0:o._def.typeName)===v.ZodBranded&&t.keyType._def.type._def.typeName===v.ZodString&&((l=t.keyType._def.type._def.checks)!=null&&l.length)){const{type:c,...u}=Pa(t.keyType._def,e);return{...n,propertyNames:u}}}return n}function _c(t,e){if(e.mapStrategy==="record")return Da(t,e);const n=U(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=U(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function bc(t){const e=t.values,r=Object.keys(t.values).filter(a=>typeof e[e[a]]!="number").map(a=>e[a]),s=Array.from(new Set(r.map(a=>typeof a)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}function wc(){return{not:{}}}function Sc(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Pn={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function xc(t,e){if(e.target==="openApi3")return us(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in Pn&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((s,a)=>{const i=Pn[a._def.typeName];return i&&!s.includes(i)?[...s,i]:s},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((s,a)=>{const i=typeof a._def.value;switch(i){case"string":case"number":case"boolean":return[...s,i];case"bigint":return[...s,"integer"];case"object":if(a._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===n.length){const s=r.filter((a,i,o)=>o.indexOf(a)===i);return{type:s.length>1?s:s[0],enum:n.reduce((a,i)=>a.includes(i._def.value)?a:[...a,i._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,s)=>[...r,...s._def.values.filter(a=>!r.includes(a))],[])};return us(t,e)}const us=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,s)=>U(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${s}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function kc(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:Pn[t.innerType._def.typeName],nullable:!0}:{type:[Pn[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=U(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=U(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function Tc(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",xa(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?B(n,"minimum",r.value,r.message,e):B(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),B(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?B(n,"maximum",r.value,r.message,e):B(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),B(n,"maximum",r.value,r.message,e));break;case"multipleOf":B(n,"multipleOf",r.value,r.message,e);break}return n}function Ec(t,e){return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":U(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":U(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function Cc(t,e){const n=e.target==="openAi",r={type:"object",...Object.entries(t.shape()).reduce((s,[a,i])=>{if(i===void 0||i._def===void 0)return s;let o=i.isOptional();o&&n&&(i instanceof ve&&(i=i._def.innerType),i.isNullable()||(i=i.nullable()),o=!1);const l=U(i._def,{...e,currentPath:[...e.currentPath,"properties",a],propertyPath:[...e.currentPath,"properties",a]});return l===void 0?s:{properties:{...s.properties,[a]:l},required:o?s.required:[...s.required,a]}},{properties:{},required:[]}),additionalProperties:Ec(t,e)};return r.required.length||delete r.required,r}const Ic=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return U(t.innerType._def,e);const n=U(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},Ac=(t,e)=>{if(e.pipeStrategy==="input")return U(t.in._def,e);if(e.pipeStrategy==="output")return U(t.out._def,e);const n=U(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=U(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(s=>s!==void 0)}};function Nc(t,e){return U(t.type._def,e)}function Rc(t,e){const r={type:"array",uniqueItems:!0,items:U(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&B(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&B(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function Mc(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>U(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:U(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>U(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function Oc(){return{not:{}}}function Pc(){return{}}const jc=(t,e)=>U(t.innerType._def,e);function U(t,e,n=!1){var i;const r=e.seen.get(t);if(e.override){const o=(i=e.override)==null?void 0:i.call(e,t,e,r,n);if(o!==Ho)return o}if(r&&!n){const o=$c(r,e);if(o!==void 0)return o}const s={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,s);const a=Lc(t,t.typeName,e);return a&&Zc(t,e,a),s.jsonSchema=a,a}const $c=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:Dc(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},Dc=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},Lc=(t,e,n)=>{switch(e){case v.ZodString:return $a(t,n);case v.ZodNumber:return Tc(t,n);case v.ZodObject:return Cc(t,n);case v.ZodBigInt:return oc(t,n);case v.ZodBoolean:return lc();case v.ZodDate:return ja(t,n);case v.ZodUndefined:return Oc();case v.ZodNull:return Sc(n);case v.ZodArray:return ic(t,n);case v.ZodUnion:case v.ZodDiscriminatedUnion:return xc(t,n);case v.ZodIntersection:return mc(t,n);case v.ZodTuple:return Mc(t,n);case v.ZodRecord:return Da(t,n);case v.ZodLiteral:return gc(t,n);case v.ZodEnum:return fc(t);case v.ZodNativeEnum:return bc(t);case v.ZodNullable:return kc(t,n);case v.ZodOptional:return Ic(t,n);case v.ZodMap:return _c(t,n);case v.ZodSet:return Rc(t,n);case v.ZodLazy:return U(t.getter()._def,n);case v.ZodPromise:return Nc(t,n);case v.ZodNaN:case v.ZodNever:return wc();case v.ZodEffects:return pc(t,n);case v.ZodAny:return ac();case v.ZodUnknown:return Pc();case v.ZodDefault:return dc(t,n);case v.ZodBranded:return Pa(t,n);case v.ZodReadonly:return jc(t,n);case v.ZodCatch:return cc(t,n);case v.ZodPipeline:return Ac(t,n);case v.ZodFunction:case v.ZodVoid:case v.ZodSymbol:return;default:return(r=>{})()}},Zc=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),Fc=(t,e)=>{const n=Yo(e),r=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((l,[c,u])=>({...l,[c]:U(u._def,{...n,currentPath:[...n.basePath,n.definitionPath,c]},!0)??{}}),{}):void 0,s=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,a=U(t._def,s===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,s]},!1)??{},i=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;i!==void 0&&(a.title=i);const o=s===void 0?r?{...a,[n.definitionPath]:r}:a:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:{...r,[s]:a}};return n.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};var Gt={code:"0",name:"text",parse:t=>{if(typeof t!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:t}}},Jt={code:"3",name:"error",parse:t=>{if(typeof t!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:t}}},Ht={code:"4",name:"assistant_message",parse:t=>{if(t==null||typeof t!="object"||!("id"in t)||!("role"in t)||!("content"in t)||typeof t.id!="string"||typeof t.role!="string"||t.role!=="assistant"||!Array.isArray(t.content)||!t.content.every(e=>e!=null&&typeof e=="object"&&"type"in e&&e.type==="text"&&"text"in e&&e.text!=null&&typeof e.text=="object"&&"value"in e.text&&typeof e.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:t}}},Wt={code:"5",name:"assistant_control_data",parse:t=>{if(t==null||typeof t!="object"||!("threadId"in t)||!("messageId"in t)||typeof t.threadId!="string"||typeof t.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:t.threadId,messageId:t.messageId}}}},Yt={code:"6",name:"data_message",parse:t=>{if(t==null||typeof t!="object"||!("role"in t)||!("data"in t)||typeof t.role!="string"||t.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:t}}},Uc=[Gt,Jt,Ht,Wt,Yt];Gt.code+"",Jt.code+"",Ht.code+"",Wt.code+"",Yt.code+"";Gt.name+"",Gt.code,Jt.name+"",Jt.code,Ht.name+"",Ht.code,Wt.name+"",Wt.code,Yt.name+"",Yt.code;Uc.map(t=>t.code);function Vc(t){const e=["ROOT"];let n=-1,r=null;function s(l,c,u){switch(l){case'"':{n=c,e.pop(),e.push(u),e.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=c,r=c,e.pop(),e.push(u),e.push("INSIDE_LITERAL");break}case"-":{e.pop(),e.push(u),e.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=c,e.pop(),e.push(u),e.push("INSIDE_NUMBER");break}case"{":{n=c,e.pop(),e.push(u),e.push("INSIDE_OBJECT_START");break}case"[":{n=c,e.pop(),e.push(u),e.push("INSIDE_ARRAY_START");break}}}function a(l,c){switch(l){case",":{e.pop(),e.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=c,e.pop();break}}}function i(l,c){switch(l){case",":{e.pop(),e.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=c,e.pop();break}}}for(let l=0;l<t.length;l++){const c=t[l];switch(e[e.length-1]){case"ROOT":s(c,l,"FINISH");break;case"INSIDE_OBJECT_START":{switch(c){case'"':{e.pop(),e.push("INSIDE_OBJECT_KEY");break}case"}":{n=l,e.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(c){case'"':{e.pop(),e.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(c){case'"':{e.pop(),e.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(c){case":":{e.pop(),e.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{s(c,l,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{a(c,l);break}case"INSIDE_STRING":{switch(c){case'"':{e.pop(),n=l;break}case"\\":{e.push("INSIDE_STRING_ESCAPE");break}default:n=l}break}case"INSIDE_ARRAY_START":{switch(c){case"]":{n=l,e.pop();break}default:{n=l,s(c,l,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(c){case",":{e.pop(),e.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=l,e.pop();break}default:{n=l;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{s(c,l,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{e.pop(),n=l;break}case"INSIDE_NUMBER":{switch(c){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=l;break}case"e":case"E":case"-":case".":break;case",":{e.pop(),e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&i(c,l),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&a(c,l);break}case"}":{e.pop(),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&a(c,l);break}case"]":{e.pop(),e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&i(c,l);break}default:{e.pop();break}}break}case"INSIDE_LITERAL":{const d=t.substring(r,l+1);!"false".startsWith(d)&&!"true".startsWith(d)&&!"null".startsWith(d)?(e.pop(),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?a(c,l):e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&i(c,l)):n=l;break}}}let o=t.slice(0,n+1);for(let l=e.length-1;l>=0;l--)switch(e[l]){case"INSIDE_STRING":{o+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{o+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{o+="]";break}case"INSIDE_LITERAL":{const u=t.substring(r,t.length);"true".startsWith(u)?o+="true".slice(u.length):"false".startsWith(u)?o+="false".slice(u.length):"null".startsWith(u)&&(o+="null".slice(u.length))}}return o}function Bc(t){if(t===void 0)return{value:void 0,state:"undefined-input"};let e=gt({text:t});return e.success?{value:e.value,state:"successful-parse"}:(e=gt({text:Vc(t)}),e.success?{value:e.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var Kt={code:"0",name:"text",parse:t=>{if(typeof t!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:t}}},Xt={code:"2",name:"data",parse:t=>{if(!Array.isArray(t))throw new Error('"data" parts expect an array value.');return{type:"data",value:t}}},Qt={code:"3",name:"error",parse:t=>{if(typeof t!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:t}}},en={code:"8",name:"message_annotations",parse:t=>{if(!Array.isArray(t))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:t}}},tn={code:"9",name:"tool_call",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("toolName"in t)||typeof t.toolName!="string"||!("args"in t)||typeof t.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:t}}},nn={code:"a",name:"tool_result",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("result"in t))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:t}}},rn={code:"b",name:"tool_call_streaming_start",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("toolName"in t)||typeof t.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:t}}},sn={code:"c",name:"tool_call_delta",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("argsTextDelta"in t)||typeof t.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:t}}},an={code:"d",name:"finish_message",parse:t=>{if(t==null||typeof t!="object"||!("finishReason"in t)||typeof t.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const e={finishReason:t.finishReason};return"usage"in t&&t.usage!=null&&typeof t.usage=="object"&&"promptTokens"in t.usage&&"completionTokens"in t.usage&&(e.usage={promptTokens:typeof t.usage.promptTokens=="number"?t.usage.promptTokens:Number.NaN,completionTokens:typeof t.usage.completionTokens=="number"?t.usage.completionTokens:Number.NaN}),{type:"finish_message",value:e}}},on={code:"e",name:"finish_step",parse:t=>{if(t==null||typeof t!="object"||!("finishReason"in t)||typeof t.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const e={finishReason:t.finishReason,isContinued:!1};return"usage"in t&&t.usage!=null&&typeof t.usage=="object"&&"promptTokens"in t.usage&&"completionTokens"in t.usage&&(e.usage={promptTokens:typeof t.usage.promptTokens=="number"?t.usage.promptTokens:Number.NaN,completionTokens:typeof t.usage.completionTokens=="number"?t.usage.completionTokens:Number.NaN}),"isContinued"in t&&typeof t.isContinued=="boolean"&&(e.isContinued=t.isContinued),{type:"finish_step",value:e}}},La=[Kt,Xt,Qt,en,tn,nn,rn,sn,an,on];Kt.code+"",Xt.code+"",Qt.code+"",en.code+"",tn.code+"",nn.code+"",rn.code+"",sn.code+"",an.code+"",on.code+"";Kt.name+"",Kt.code,Xt.name+"",Xt.code,Qt.name+"",Qt.code,en.name+"",en.code,tn.name+"",tn.code,nn.name+"",nn.code,rn.name+"",rn.code,sn.name+"",sn.code,an.name+"",an.code,on.name+"",on.code;La.map(t=>t.code);function Za(t,e){const n=La.find(r=>r.name===t);if(!n)throw new Error(`Invalid stream part type: ${t}`);return`${n.code}:${JSON.stringify(e)}
`}var pr=Symbol.for("vercel.ai.schema");function zc(t,{validate:e}={}){return{[pr]:!0,_type:void 0,[En]:!0,jsonSchema:t,validate:e}}function qc(t){return typeof t=="object"&&t!==null&&pr in t&&t[pr]===!0&&"jsonSchema"in t&&"validate"in t}function Gn(t){return qc(t)?t:Gc(t)}function Gc(t){return zc(Fc(t),{validate:e=>{const n=t.safeParse(e);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}var Jc=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},We="1.9.0",ds=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Hc(t){var e=new Set([t]),n=new Set,r=t.match(ds);if(!r)return function(){return!1};var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(s.prerelease!=null)return function(l){return l===t};function a(o){return n.add(o),!1}function i(o){return e.add(o),!0}return function(l){if(e.has(l))return!0;if(n.has(l))return!1;var c=l.match(ds);if(!c)return a(l);var u={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return u.prerelease!=null||s.major!==u.major?a(l):s.major===0?s.minor===u.minor&&s.patch<=u.patch?i(l):a(l):s.minor<=u.minor?i(l):a(l)}}var Wc=Hc(We),Yc=We.split(".")[0],ln=Symbol.for("opentelemetry.js.api."+Yc),cn=Jc;function Ir(t,e,n,r){var s;r===void 0&&(r=!1);var a=cn[ln]=(s=cn[ln])!==null&&s!==void 0?s:{version:We};if(!r&&a[t]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return n.error(i.stack||i.message),!1}if(a.version!==We){var i=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+t+" does not match previously registered API v"+We);return n.error(i.stack||i.message),!1}return a[t]=e,n.debug("@opentelemetry/api: Registered a global for "+t+" v"+We+"."),!0}function un(t){var e,n,r=(e=cn[ln])===null||e===void 0?void 0:e.version;if(!(!r||!Wc(r)))return(n=cn[ln])===null||n===void 0?void 0:n[t]}function Ar(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+We+".");var n=cn[ln];n&&delete n[t]}var Kc=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(o){i={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},Xc=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Qc=function(){function t(e){this._namespace=e.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return kt("debug",this._namespace,e)},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return kt("error",this._namespace,e)},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return kt("info",this._namespace,e)},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return kt("warn",this._namespace,e)},t.prototype.verbose=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return kt("verbose",this._namespace,e)},t}();function kt(t,e,n){var r=un("diag");if(r)return n.unshift(e),r[t].apply(r,Xc([],Kc(n),!1))}var ue;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})(ue||(ue={}));function eu(t,e){t<ue.NONE?t=ue.NONE:t>ue.ALL&&(t=ue.ALL),e=e||{};function n(r,s){var a=e[r];return typeof a=="function"&&t>=s?a.bind(e):function(){}}return{error:n("error",ue.ERROR),warn:n("warn",ue.WARN),info:n("info",ue.INFO),debug:n("debug",ue.DEBUG),verbose:n("verbose",ue.VERBOSE)}}var tu=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(o){i={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},nu=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},ru="diag",jn=function(){function t(){function e(s){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var o=un("diag");if(o)return o[s].apply(o,nu([],tu(a),!1))}}var n=this,r=function(s,a){var i,o,l;if(a===void 0&&(a={logLevel:ue.INFO}),s===n){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((i=c.stack)!==null&&i!==void 0?i:c.message),!1}typeof a=="number"&&(a={logLevel:a});var u=un("diag"),d=eu((o=a.logLevel)!==null&&o!==void 0?o:ue.INFO,s);if(u&&!a.suppressOverrideMessage){var p=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+p),d.warn("Current logger will overwrite one already registered from "+p)}return Ir("diag",d,n,!0)};n.setLogger=r,n.disable=function(){Ar(ru,n)},n.createComponentLogger=function(s){return new Qc(s)},n.verbose=e("verbose"),n.debug=e("debug"),n.info=e("info"),n.warn=e("warn"),n.error=e("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}();function su(t){return Symbol.for(t)}var au=function(){function t(e){var n=this;n._currentContext=e?new Map(e):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,s){var a=new t(n._currentContext);return a._currentContext.set(r,s),a},n.deleteValue=function(r){var s=new t(n._currentContext);return s._currentContext.delete(r),s}}return t}(),iu=new au,ou=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(o){i={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},lu=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},cu=function(){function t(){}return t.prototype.active=function(){return iu},t.prototype.with=function(e,n,r){for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];return n.call.apply(n,lu([r],ou(s),!1))},t.prototype.bind=function(e,n){return n},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}(),uu=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(o){i={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},du=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},tr="context",pu=new cu,Fa=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(e){return Ir(tr,e,jn.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(e,n,r){for(var s,a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return(s=this._getContextManager()).with.apply(s,du([e,n,r],uu(a),!1))},t.prototype.bind=function(e,n){return this._getContextManager().bind(e,n)},t.prototype._getContextManager=function(){return un(tr)||pu},t.prototype.disable=function(){this._getContextManager().disable(),Ar(tr,jn.instance())},t}(),fr;(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})(fr||(fr={}));var Ua="0000000000000000",Va="00000000000000000000000000000000",fu={traceId:Va,spanId:Ua,traceFlags:fr.NONE},At=function(){function t(e){e===void 0&&(e=fu),this._spanContext=e}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,n){return this},t.prototype.setAttributes=function(e){return this},t.prototype.addEvent=function(e,n){return this},t.prototype.addLink=function(e){return this},t.prototype.addLinks=function(e){return this},t.prototype.setStatus=function(e){return this},t.prototype.updateName=function(e){return this},t.prototype.end=function(e){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(e,n){},t}(),Nr=su("OpenTelemetry Context Key SPAN");function Rr(t){return t.getValue(Nr)||void 0}function hu(){return Rr(Fa.getInstance().active())}function Mr(t,e){return t.setValue(Nr,e)}function mu(t){return t.deleteValue(Nr)}function gu(t,e){return Mr(t,new At(e))}function Ba(t){var e;return(e=Rr(t))===null||e===void 0?void 0:e.spanContext()}var yu=/^([0-9a-f]{32})$/i,vu=/^[0-9a-f]{16}$/i;function _u(t){return yu.test(t)&&t!==Va}function bu(t){return vu.test(t)&&t!==Ua}function za(t){return _u(t.traceId)&&bu(t.spanId)}function wu(t){return new At(t)}var nr=Fa.getInstance(),qa=function(){function t(){}return t.prototype.startSpan=function(e,n,r){r===void 0&&(r=nr.active());var s=!!(n!=null&&n.root);if(s)return new At;var a=r&&Ba(r);return Su(a)&&za(a)?new At(a):new At},t.prototype.startActiveSpan=function(e,n,r,s){var a,i,o;if(!(arguments.length<2)){arguments.length===2?o=n:arguments.length===3?(a=n,o=r):(a=n,i=r,o=s);var l=i??nr.active(),c=this.startSpan(e,a,l),u=Mr(l,c);return nr.with(u,o,void 0,c)}},t}();function Su(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}var xu=new qa,ku=function(){function t(e,n,r,s){this._provider=e,this.name=n,this.version=r,this.options=s}return t.prototype.startSpan=function(e,n,r){return this._getTracer().startSpan(e,n,r)},t.prototype.startActiveSpan=function(e,n,r,s){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):xu},t}(),Tu=function(){function t(){}return t.prototype.getTracer=function(e,n,r){return new qa},t}(),Eu=new Tu,ps=function(){function t(){}return t.prototype.getTracer=function(e,n,r){var s;return(s=this.getDelegateTracer(e,n,r))!==null&&s!==void 0?s:new ku(this,e,n,r)},t.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:Eu},t.prototype.setDelegate=function(e){this._delegate=e},t.prototype.getDelegateTracer=function(e,n,r){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(e,n,r)},t}(),$n;(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})($n||($n={}));var rr="trace",Cu=function(){function t(){this._proxyTracerProvider=new ps,this.wrapSpanContext=wu,this.isSpanContextValid=za,this.deleteSpan=mu,this.getSpan=Rr,this.getActiveSpan=hu,this.getSpanContext=Ba,this.setSpan=Mr,this.setSpanContext=gu}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(e){var n=Ir(rr,this._proxyTracerProvider,jn.instance());return n&&this._proxyTracerProvider.setDelegate(e),n},t.prototype.getTracerProvider=function(){return un(rr)||this._proxyTracerProvider},t.prototype.getTracer=function(e,n){return this.getTracerProvider().getTracer(e,n)},t.prototype.disable=function(){Ar(rr,jn.instance()),this._proxyTracerProvider=new ps},t}(),Iu=Cu.getInstance(),Au=Object.defineProperty,Or=(t,e)=>{for(var n in e)Au(t,n,{get:e[n],enumerable:!0})};function Ga(t,{contentType:e,dataStreamVersion:n}){const r=new Headers(t??{});return r.has("Content-Type")||r.set("Content-Type",e),n!==void 0&&r.set("X-Vercel-AI-Data-Stream",n),r}var Ja="AI_InvalidArgumentError",Ha=`vercel.ai.error.${Ja}`,Nu=Symbol.for(Ha),Wa,me=class extends O{constructor({parameter:t,value:e,message:n}){super({name:Ja,message:`Invalid argument for parameter ${t}: ${n}`}),this[Wa]=!0,this.parameter=t,this.value=e}static isInstance(t){return O.hasMarker(t,Ha)}};Wa=Nu;async function Ru(t){return t==null?Promise.resolve():new Promise(e=>setTimeout(e,t))}var Ya="AI_RetryError",Ka=`vercel.ai.error.${Ya}`,Mu=Symbol.for(Ka),Xa,fs=class extends O{constructor({message:t,reason:e,errors:n}){super({name:Ya,message:t}),this[Xa]=!0,this.reason=e,this.errors=n,this.lastError=n[n.length-1]}static isInstance(t){return O.hasMarker(t,Ka)}};Xa=Mu;var Ou=({maxRetries:t=2,initialDelayInMs:e=2e3,backoffFactor:n=2}={})=>async r=>Qa(r,{maxRetries:t,delayInMs:e,backoffFactor:n});async function Qa(t,{maxRetries:e,delayInMs:n,backoffFactor:r},s=[]){try{return await t()}catch(a){if(Sn(a)||e===0)throw a;const i=Oo(a),o=[...s,a],l=o.length;if(l>e)throw new fs({message:`Failed after ${l} attempts. Last error: ${i}`,reason:"maxRetriesExceeded",errors:o});if(a instanceof Error&&Se.isInstance(a)&&a.isRetryable===!0&&l<=e)return await Ru(n),Qa(t,{maxRetries:e,delayInMs:r*n,backoffFactor:r},o);throw l===1?a:new fs({message:`Failed after ${l} attempts with non-retryable error: '${i}'`,reason:"errorNotRetryable",errors:o})}}function Pu({maxRetries:t}){if(t!=null){if(!Number.isInteger(t))throw new me({parameter:"maxRetries",value:t,message:"maxRetries must be an integer"});if(t<0)throw new me({parameter:"maxRetries",value:t,message:"maxRetries must be >= 0"})}const e=t??2;return{maxRetries:e,retry:Ou({maxRetries:e})}}function hr({operationId:t,telemetry:e}){return{"operation.name":`${t}${(e==null?void 0:e.functionId)!=null?` ${e.functionId}`:""}`,"resource.name":e==null?void 0:e.functionId,"ai.operationId":t,"ai.telemetry.functionId":e==null?void 0:e.functionId}}function ju({model:t,settings:e,telemetry:n,headers:r}){var s;return{"ai.model.provider":t.provider,"ai.model.id":t.modelId,...Object.entries(e).reduce((a,[i,o])=>(a[`ai.settings.${i}`]=o,a),{}),...Object.entries((s=n==null?void 0:n.metadata)!=null?s:{}).reduce((a,[i,o])=>(a[`ai.telemetry.metadata.${i}`]=o,a),{}),...Object.entries(r??{}).reduce((a,[i,o])=>(o!==void 0&&(a[`ai.request.headers.${i}`]=o),a),{})}}var $u={startSpan(){return wn},startActiveSpan(t,e,n,r){if(typeof e=="function")return e(wn);if(typeof n=="function")return n(wn);if(typeof r=="function")return r(wn)}},wn={spanContext(){return Du},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},Du={traceId:"",spanId:"",traceFlags:0};function Lu({isEnabled:t=!1,tracer:e}={}){return t?e||Iu.getTracer("ai"):$u}function mr({name:t,tracer:e,attributes:n,fn:r,endWhenDone:s=!0}){return e.startActiveSpan(t,{attributes:n},async a=>{try{const i=await r(a);return s&&a.end(),i}catch(i){try{i instanceof Error?(a.recordException({name:i.name,message:i.message,stack:i.stack}),a.setStatus({code:$n.ERROR,message:i.message})):a.setStatus({code:$n.ERROR})}finally{a.end()}throw i}})}function dt({telemetry:t,attributes:e}){return(t==null?void 0:t.isEnabled)!==!0?{}:Object.entries(e).reduce((n,[r,s])=>{if(s===void 0)return n;if(typeof s=="object"&&"input"in s&&typeof s.input=="function"){if((t==null?void 0:t.recordInputs)===!1)return n;const a=s.input();return a===void 0?n:{...n,[r]:a}}if(typeof s=="object"&&"output"in s&&typeof s.output=="function"){if((t==null?void 0:t.recordOutputs)===!1)return n;const a=s.output();return a===void 0?n:{...n,[r]:a}}return{...n,[r]:s}},{})}var ei="AI_NoObjectGeneratedError",ti=`vercel.ai.error.${ei}`,Zu=Symbol.for(ti),ni,hs=class extends O{constructor({message:t="No object generated.",cause:e,text:n,response:r,usage:s}){super({name:ei,message:t,cause:e}),this[ni]=!0,this.text=n,this.response=r,this.usage=s}static isInstance(t){return O.hasMarker(t,ti)}};ni=Zu;var ri="AI_DownloadError",si=`vercel.ai.error.${ri}`,Fu=Symbol.for(si),ai,sr=class extends O{constructor({url:t,statusCode:e,statusText:n,cause:r,message:s=r==null?`Failed to download ${t}: ${e} ${n}`:`Failed to download ${t}: ${r}`}){super({name:ri,message:s,cause:r}),this[ai]=!0,this.url=t,this.statusCode=e,this.statusText=n}static isInstance(t){return O.hasMarker(t,si)}};ai=Fu;async function Uu({url:t,fetchImplementation:e=fetch}){var n;const r=t.toString();try{const s=await e(r);if(!s.ok)throw new sr({url:r,statusCode:s.status,statusText:s.statusText});return{data:new Uint8Array(await s.arrayBuffer()),mimeType:(n=s.headers.get("content-type"))!=null?n:void 0}}catch(s){throw sr.isInstance(s)?s:new sr({url:r,cause:s})}}var Vu=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function Bu(t){for(const{bytes:e,mimeType:n}of Vu)if(t.length>=e.length&&e.every((r,s)=>t[s]===r))return n}var ii="AI_InvalidDataContentError",oi=`vercel.ai.error.${ii}`,zu=Symbol.for(oi),li,ms=class extends O{constructor({content:t,cause:e,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof t}.`}){super({name:ii,message:n,cause:e}),this[li]=!0,this.content=t}static isInstance(t){return O.hasMarker(t,oi)}};li=zu;var ci=f.union([f.string(),f.instanceof(Uint8Array),f.instanceof(ArrayBuffer),f.custom(t=>{var e,n;return(n=(e=globalThis.Buffer)==null?void 0:e.isBuffer(t))!=null?n:!1},{message:"Must be a Buffer"})]);function qu(t){return typeof t=="string"?t:t instanceof ArrayBuffer?or(new Uint8Array(t)):or(t)}function Dn(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")try{return Go(t)}catch(e){throw new ms({message:"Invalid data content. Content string is not a base64-encoded media.",content:t,cause:e})}if(t instanceof ArrayBuffer)return new Uint8Array(t);throw new ms({content:t})}function Gu(t){try{return new TextDecoder().decode(t)}catch{throw new Error("Error decoding Uint8Array to text")}}var ui="AI_InvalidMessageRoleError",di=`vercel.ai.error.${ui}`,Ju=Symbol.for(di),pi,Hu=class extends O{constructor({role:t,message:e=`Invalid message role: '${t}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:ui,message:e}),this[pi]=!0,this.role=t}static isInstance(t){return O.hasMarker(t,di)}};pi=Ju;function Wu(t){try{const[e,n]=t.split(",");return{mimeType:e.split(";")[0].split(":")[1],base64Content:n}}catch{return{mimeType:void 0,base64Content:void 0}}}async function Yu({prompt:t,modelSupportsImageUrls:e=!0,modelSupportsUrl:n=()=>!1,downloadImplementation:r=Uu}){const s=await Xu(t.messages,r,e,n);return[...t.system!=null?[{role:"system",content:t.system}]:[],...t.messages.map(a=>Ku(a,s))]}function Ku(t,e){const n=t.role;switch(n){case"system":return{role:"system",content:t.content,providerMetadata:t.experimental_providerMetadata};case"user":return typeof t.content=="string"?{role:"user",content:[{type:"text",text:t.content}],providerMetadata:t.experimental_providerMetadata}:{role:"user",content:t.content.map(r=>Qu(r,e)).filter(r=>r.type!=="text"||r.text!==""),providerMetadata:t.experimental_providerMetadata};case"assistant":return typeof t.content=="string"?{role:"assistant",content:[{type:"text",text:t.content}],providerMetadata:t.experimental_providerMetadata}:{role:"assistant",content:t.content.filter(r=>r.type!=="text"||r.text!=="").map(r=>{const{experimental_providerMetadata:s,...a}=r;return{...a,providerMetadata:s}}),providerMetadata:t.experimental_providerMetadata};case"tool":return{role:"tool",content:t.content.map(r=>({type:"tool-result",toolCallId:r.toolCallId,toolName:r.toolName,result:r.result,content:r.experimental_content,isError:r.isError,providerMetadata:r.experimental_providerMetadata})),providerMetadata:t.experimental_providerMetadata};default:{const r=n;throw new Hu({role:r})}}}async function Xu(t,e,n,r){const s=t.filter(i=>i.role==="user").map(i=>i.content).filter(i=>Array.isArray(i)).flat().filter(i=>i.type==="image"||i.type==="file").filter(i=>!(i.type==="image"&&n===!0)).map(i=>i.type==="image"?i.image:i.data).map(i=>typeof i=="string"&&(i.startsWith("http:")||i.startsWith("https:"))?new URL(i):i).filter(i=>i instanceof URL).filter(i=>!r(i)),a=await Promise.all(s.map(async i=>({url:i,data:await e({url:i})})));return Object.fromEntries(a.map(({url:i,data:o})=>[i.toString(),o]))}function Qu(t,e){var n;if(t.type==="text")return{type:"text",text:t.text,providerMetadata:t.experimental_providerMetadata};let r=t.mimeType,s,a,i;const o=t.type;switch(o){case"image":s=t.image;break;case"file":s=t.data;break;default:throw new Error(`Unsupported part type: ${o}`)}try{a=typeof s=="string"?new URL(s):s}catch{a=s}if(a instanceof URL)if(a.protocol==="data:"){const{mimeType:l,base64Content:c}=Wu(a.toString());if(l==null||c==null)throw new Error(`Invalid data URL format in part ${o}`);r=l,i=Dn(c)}else{const l=e[a.toString()];l?(i=l.data,r??(r=l.mimeType)):i=a}else i=Dn(a);switch(o){case"image":return i instanceof Uint8Array&&(r=(n=Bu(i))!=null?n:r),{type:"image",image:i,mimeType:r,providerMetadata:t.experimental_providerMetadata};case"file":{if(r==null)throw new Error("Mime type is missing for file part");return{type:"file",data:i instanceof Uint8Array?qu(i):i,mimeType:r,providerMetadata:t.experimental_providerMetadata}}}}function ed({maxTokens:t,temperature:e,topP:n,topK:r,presencePenalty:s,frequencyPenalty:a,stopSequences:i,seed:o}){if(t!=null){if(!Number.isInteger(t))throw new me({parameter:"maxTokens",value:t,message:"maxTokens must be an integer"});if(t<1)throw new me({parameter:"maxTokens",value:t,message:"maxTokens must be >= 1"})}if(e!=null&&typeof e!="number")throw new me({parameter:"temperature",value:e,message:"temperature must be a number"});if(n!=null&&typeof n!="number")throw new me({parameter:"topP",value:n,message:"topP must be a number"});if(r!=null&&typeof r!="number")throw new me({parameter:"topK",value:r,message:"topK must be a number"});if(s!=null&&typeof s!="number")throw new me({parameter:"presencePenalty",value:s,message:"presencePenalty must be a number"});if(a!=null&&typeof a!="number")throw new me({parameter:"frequencyPenalty",value:a,message:"frequencyPenalty must be a number"});if(o!=null&&!Number.isInteger(o))throw new me({parameter:"seed",value:o,message:"seed must be an integer"});return{maxTokens:t,temperature:e??0,topP:n,topK:r,presencePenalty:s,frequencyPenalty:a,stopSequences:i!=null&&i.length>0?i:void 0,seed:o}}var gr=f.lazy(()=>f.union([f.null(),f.string(),f.number(),f.boolean(),f.record(f.string(),gr),f.array(gr)])),Be=f.record(f.string(),f.record(f.string(),gr)),td=f.array(f.union([f.object({type:f.literal("text"),text:f.string()}),f.object({type:f.literal("image"),data:f.string(),mimeType:f.string().optional()})])),fi=f.object({type:f.literal("text"),text:f.string(),experimental_providerMetadata:Be.optional()}),nd=f.object({type:f.literal("image"),image:f.union([ci,f.instanceof(URL)]),mimeType:f.string().optional(),experimental_providerMetadata:Be.optional()}),rd=f.object({type:f.literal("file"),data:f.union([ci,f.instanceof(URL)]),mimeType:f.string(),experimental_providerMetadata:Be.optional()}),sd=f.object({type:f.literal("tool-call"),toolCallId:f.string(),toolName:f.string(),args:f.unknown()}),ad=f.object({type:f.literal("tool-result"),toolCallId:f.string(),toolName:f.string(),result:f.unknown(),content:td.optional(),isError:f.boolean().optional(),experimental_providerMetadata:Be.optional()}),id=f.object({role:f.literal("system"),content:f.string(),experimental_providerMetadata:Be.optional()}),od=f.object({role:f.literal("user"),content:f.union([f.string(),f.array(f.union([fi,nd,rd]))]),experimental_providerMetadata:Be.optional()}),ld=f.object({role:f.literal("assistant"),content:f.union([f.string(),f.array(f.union([fi,sd]))]),experimental_providerMetadata:Be.optional()}),cd=f.object({role:f.literal("tool"),content:f.array(ad),experimental_providerMetadata:Be.optional()}),ud=f.union([id,od,ld,cd]);function dd(t){if(!Array.isArray(t))return"other";if(t.length===0)return"messages";const e=t.map(pd);return e.some(n=>n==="has-ui-specific-parts")?"ui-messages":e.every(n=>n==="has-core-specific-parts"||n==="message")?"messages":"other"}function pd(t){return typeof t=="object"&&t!==null&&(t.role==="function"||t.role==="data"||"toolInvocations"in t||"experimental_attachments"in t)?"has-ui-specific-parts":typeof t=="object"&&t!==null&&"content"in t&&(Array.isArray(t.content)||"experimental_providerMetadata"in t)?"has-core-specific-parts":typeof t=="object"&&t!==null&&"role"in t&&"content"in t&&typeof t.content=="string"&&["system","user","assistant","tool"].includes(t.role)?"message":"other"}function fd(t){var e,n,r;const s=[];for(const a of t){let i;try{i=new URL(a.url)}catch{throw new Error(`Invalid URL: ${a.url}`)}switch(i.protocol){case"http:":case"https:":{if((e=a.contentType)!=null&&e.startsWith("image/"))s.push({type:"image",image:i});else{if(!a.contentType)throw new Error("If the attachment is not an image, it must specify a content type");s.push({type:"file",data:i,mimeType:a.contentType})}break}case"data:":{let o,l,c;try{[o,l]=a.url.split(","),c=o.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${a.url}`)}if(c==null||l==null)throw new Error(`Invalid data URL format: ${a.url}`);if((n=a.contentType)!=null&&n.startsWith("image/"))s.push({type:"image",image:Dn(l)});else if((r=a.contentType)!=null&&r.startsWith("text/"))s.push({type:"text",text:Gu(Dn(l))});else{if(!a.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");s.push({type:"file",data:l,mimeType:a.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${i.protocol}`)}}return s}var hi="AI_MessageConversionError",mi=`vercel.ai.error.${hi}`,hd=Symbol.for(mi),gi,gs=class extends O{constructor({originalMessage:t,message:e}){super({name:hi,message:e}),this[gi]=!0,this.originalMessage=t}static isInstance(t){return O.hasMarker(t,mi)}};gi=hd;function md(t,e){var n;const r=(n=e==null?void 0:e.tools)!=null?n:{},s=[];for(const a of t){const{role:i,content:o,toolInvocations:l,experimental_attachments:c}=a;switch(i){case"system":{s.push({role:"system",content:o});break}case"user":{s.push({role:"user",content:c?[{type:"text",text:o},...fd(c)]:o});break}case"assistant":{if(l==null){s.push({role:"assistant",content:o});break}s.push({role:"assistant",content:[{type:"text",text:o},...l.map(({toolCallId:u,toolName:d,args:p})=>({type:"tool-call",toolCallId:u,toolName:d,args:p}))]}),s.push({role:"tool",content:l.map(u=>{if(!("result"in u))throw new gs({originalMessage:a,message:"ToolInvocation must have a result: "+JSON.stringify(u)});const{toolCallId:d,toolName:p,result:h}=u,g=r[p];return(g==null?void 0:g.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:d,toolName:p,result:g.experimental_toToolResultContent(h),experimental_content:g.experimental_toToolResultContent(h)}:{type:"tool-result",toolCallId:d,toolName:p,result:h}})});break}case"data":break;default:{const u=i;throw new gs({originalMessage:a,message:`Unsupported role: ${u}`})}}}return s}function gd({prompt:t,tools:e}){if(t.prompt==null&&t.messages==null)throw new He({prompt:t,message:"prompt or messages must be defined"});if(t.prompt!=null&&t.messages!=null)throw new He({prompt:t,message:"prompt and messages cannot be defined at the same time"});if(t.system!=null&&typeof t.system!="string")throw new He({prompt:t,message:"system must be a string"});if(t.prompt!=null){if(typeof t.prompt!="string")throw new He({prompt:t,message:"prompt must be a string"});return{type:"prompt",system:t.system,messages:[{role:"user",content:t.prompt}]}}if(t.messages!=null){const n=dd(t.messages);if(n==="other")throw new He({prompt:t,message:"messages must be an array of CoreMessage or UIMessage"});const r=n==="ui-messages"?md(t.messages,{tools:e}):t.messages,s=mn({value:r,schema:f.array(ud)});if(!s.success)throw new He({prompt:t,message:"messages must be an array of CoreMessage or UIMessage",cause:s.error});return{type:"messages",messages:r,system:t.system}}throw new Error("unreachable")}function yd({promptTokens:t,completionTokens:e}){return{promptTokens:t,completionTokens:e,totalTokens:t+e}}function vd(t,e){return{promptTokens:t.promptTokens+e.promptTokens,completionTokens:t.completionTokens+e.completionTokens,totalTokens:t.totalTokens+e.totalTokens}}var _d="JSON schema:",bd="You MUST answer with a JSON object that matches the JSON schema above.",wd="You MUST answer with JSON.";function Sd({prompt:t,schema:e,schemaPrefix:n=e!=null?_d:void 0,schemaSuffix:r=e!=null?bd:wd}){return[t!=null&&t.length>0?t:void 0,t!=null&&t.length>0?"":void 0,n,e!=null?JSON.stringify(e):void 0,r].filter(s=>s!=null).join(`
`)}hn({prefix:"aiobj",size:24});hn({prefix:"aiobj",size:24});var yi="AI_NoOutputSpecifiedError",vi=`vercel.ai.error.${yi}`,xd=Symbol.for(vi),_i,kd=class extends O{constructor({message:t="No output specified."}={}){super({name:yi,message:t}),this[_i]=!0}static isInstance(t){return O.hasMarker(t,vi)}};_i=xd;var bi="AI_ToolExecutionError",wi=`vercel.ai.error.${bi}`,Td=Symbol.for(wi),Si,Ed=class extends O{constructor({toolArgs:t,toolName:e,toolCallId:n,cause:r,message:s=`Error executing tool ${e}: ${fn(r)}`}){super({name:bi,message:s,cause:r}),this[Si]=!0,this.toolArgs=t,this.toolName=e,this.toolCallId=n}static isInstance(t){return O.hasMarker(t,wi)}};Si=Td;function Cd(t){return t!=null&&Object.keys(t).length>0}function Id({tools:t,toolChoice:e,activeTools:n}){return Cd(t)?{tools:(n!=null?Object.entries(t).filter(([s])=>n.includes(s)):Object.entries(t)).map(([s,a])=>{const i=a.type;switch(i){case void 0:case"function":return{type:"function",name:s,description:a.description,parameters:Gn(a.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:s,id:a.id,args:a.args};default:{const o=i;throw new Error(`Unsupported tool type: ${o}`)}}}),toolChoice:e==null?{type:"auto"}:typeof e=="string"?{type:e}:{type:"tool",toolName:e.toolName}}:{tools:void 0,toolChoice:void 0}}var Ad=/^([\s\S]*?)(\s+)(\S*)$/;function Nd(t){const e=t.match(Ad);return e?{prefix:e[1],whitespace:e[2],suffix:e[3]}:void 0}function Rd(t){const e=Nd(t);return e?e.prefix+e.whitespace:t}var xi="AI_InvalidToolArgumentsError",ki=`vercel.ai.error.${xi}`,Md=Symbol.for(ki),Ti,Ei=class extends O{constructor({toolArgs:t,toolName:e,cause:n,message:r=`Invalid arguments for tool ${e}: ${fn(n)}`}){super({name:xi,message:r,cause:n}),this[Ti]=!0,this.toolArgs=t,this.toolName=e}static isInstance(t){return O.hasMarker(t,ki)}};Ti=Md;var Ci="AI_NoSuchToolError",Ii=`vercel.ai.error.${Ci}`,Od=Symbol.for(Ii),Ai,yr=class extends O{constructor({toolName:t,availableTools:e=void 0,message:n=`Model tried to call unavailable tool '${t}'. ${e===void 0?"No tools are available.":`Available tools: ${e.join(", ")}.`}`}){super({name:Ci,message:n}),this[Ai]=!0,this.toolName=t,this.availableTools=e}static isInstance(t){return O.hasMarker(t,Ii)}};Ai=Od;var Ni="AI_ToolCallRepairError",Ri=`vercel.ai.error.${Ni}`,Pd=Symbol.for(Ri),Mi,jd=class extends O{constructor({cause:t,originalError:e,message:n=`Error repairing tool call: ${fn(t)}`}){super({name:Ni,message:n,cause:t}),this[Mi]=!0,this.originalError=e}static isInstance(t){return O.hasMarker(t,Ri)}};Mi=Pd;async function $d({toolCall:t,tools:e,repairToolCall:n,system:r,messages:s}){if(e==null)throw new yr({toolName:t.toolName});try{return await ys({toolCall:t,tools:e})}catch(a){if(n==null||!(yr.isInstance(a)||Ei.isInstance(a)))throw a;let i=null;try{i=await n({toolCall:t,tools:e,parameterSchema:({toolName:o})=>Gn(e[o].parameters).jsonSchema,system:r,messages:s,error:a})}catch(o){throw new jd({cause:o,originalError:a})}if(i==null)throw a;return await ys({toolCall:i,tools:e})}}async function ys({toolCall:t,tools:e}){const n=t.toolName,r=e[n];if(r==null)throw new yr({toolName:t.toolName,availableTools:Object.keys(e)});const s=Gn(r.parameters),a=t.args.trim()===""?mn({value:{},schema:s}):gt({text:t.args,schema:s});if(a.success===!1)throw new Ei({toolName:n,toolArgs:t.args,cause:a.error});return{type:"tool-call",toolCallId:t.toolCallId,toolName:n,args:a.value}}function Dd({text:t="",tools:e,toolCalls:n,toolResults:r}){const s=[];return s.push({role:"assistant",content:[{type:"text",text:t},...n]}),r.length>0&&s.push({role:"tool",content:r.map(a=>{const i=e[a.toolName];return(i==null?void 0:i.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:a.toolCallId,toolName:a.toolName,result:i.experimental_toToolResultContent(a.result),experimental_content:i.experimental_toToolResultContent(a.result)}:{type:"tool-result",toolCallId:a.toolCallId,toolName:a.toolName,result:a.result}})}),s}var Ld=hn({prefix:"aitxt",size:24});async function Pr({model:t,tools:e,toolChoice:n,system:r,prompt:s,messages:a,maxRetries:i,abortSignal:o,headers:l,maxSteps:c=1,experimental_output:u,experimental_continueSteps:d=!1,experimental_telemetry:p,experimental_providerMetadata:h,experimental_activeTools:g,experimental_repairToolCall:_,_internal:{generateId:S=Ld,currentDate:E=()=>new Date}={},onStepFinish:$,...L}){var Y;if(c<1)throw new me({parameter:"maxSteps",value:c,message:"maxSteps must be at least 1"});const{maxRetries:Q,retry:re}=Pu({maxRetries:i}),R=ju({model:t,telemetry:p,headers:l,settings:{...L,maxRetries:Q}}),F=gd({prompt:{system:(Y=u==null?void 0:u.injectIntoSystemPrompt({system:r,model:t}))!=null?Y:r,prompt:s,messages:a},tools:e}),T=Lu(p);return mr({name:"ai.generateText",attributes:dt({telemetry:p,attributes:{...hr({operationId:"ai.generateText",telemetry:p}),...R,"ai.prompt":{input:()=>JSON.stringify({system:r,prompt:s,messages:a})},"ai.settings.maxSteps":c}}),tracer:T,fn:async D=>{var q,V,N,ee,I,W;const te={type:"regular",...Id({tools:e,toolChoice:n,activeTools:g})},ce=ed(L);let J,je=[],St=[],zr=0;const nt=[];let Je="";const qr=[];let yn={completionTokens:0,promptTokens:0,totalTokens:0},rt="initial";do{const Jn=zr===0?F.type:"messages",Hn=[...F.messages,...nt],Gr=await Yu({prompt:{type:Jn,system:F.system,messages:Hn},modelSupportsImageUrls:t.supportsImageUrls,modelSupportsUrl:t.supportsUrl});J=await re(()=>mr({name:"ai.generateText.doGenerate",attributes:dt({telemetry:p,attributes:{...hr({operationId:"ai.generateText.doGenerate",telemetry:p}),...R,"ai.prompt.format":{input:()=>Jn},"ai.prompt.messages":{input:()=>JSON.stringify(Gr)},"ai.prompt.tools":{input:()=>{var be;return(be=te.tools)==null?void 0:be.map(vn=>JSON.stringify(vn))}},"ai.prompt.toolChoice":{input:()=>te.toolChoice!=null?JSON.stringify(te.toolChoice):void 0},"gen_ai.system":t.provider,"gen_ai.request.model":t.modelId,"gen_ai.request.frequency_penalty":L.frequencyPenalty,"gen_ai.request.max_tokens":L.maxTokens,"gen_ai.request.presence_penalty":L.presencePenalty,"gen_ai.request.stop_sequences":L.stopSequences,"gen_ai.request.temperature":L.temperature,"gen_ai.request.top_k":L.topK,"gen_ai.request.top_p":L.topP}}),tracer:T,fn:async be=>{var vn,Kr,Xr,Qr,es,ts;const pe=await t.doGenerate({mode:te,...ce,inputFormat:Jn,responseFormat:u==null?void 0:u.responseFormat({model:t}),prompt:Gr,providerMetadata:h,abortSignal:o,headers:l}),at={id:(Kr=(vn=pe.response)==null?void 0:vn.id)!=null?Kr:S(),timestamp:(Qr=(Xr=pe.response)==null?void 0:Xr.timestamp)!=null?Qr:E(),modelId:(ts=(es=pe.response)==null?void 0:es.modelId)!=null?ts:t.modelId};return be.setAttributes(dt({telemetry:p,attributes:{"ai.response.finishReason":pe.finishReason,"ai.response.text":{output:()=>pe.text},"ai.response.toolCalls":{output:()=>JSON.stringify(pe.toolCalls)},"ai.response.id":at.id,"ai.response.model":at.modelId,"ai.response.timestamp":at.timestamp.toISOString(),"ai.usage.promptTokens":pe.usage.promptTokens,"ai.usage.completionTokens":pe.usage.completionTokens,"gen_ai.response.finish_reasons":[pe.finishReason],"gen_ai.response.id":at.id,"gen_ai.response.model":at.modelId,"gen_ai.usage.input_tokens":pe.usage.promptTokens,"gen_ai.usage.output_tokens":pe.usage.completionTokens}})),{...pe,response:at}}})),je=await Promise.all(((q=J.toolCalls)!=null?q:[]).map(be=>$d({toolCall:be,tools:e,repairToolCall:_,system:r,messages:Hn}))),St=e==null?[]:await Zd({toolCalls:je,tools:e,tracer:T,telemetry:p,messages:Hn,abortSignal:o});const Jr=yd(J.usage);yn=vd(yn,Jr);let st="done";++zr<c&&(d&&J.finishReason==="length"&&je.length===0?st="continue":je.length>0&&St.length===je.length&&(st="tool-result"));const Hr=(V=J.text)!=null?V:"",Wr=rt==="continue"&&Je.trimEnd()!==Je?Hr.trimStart():Hr,xt=st==="continue"?Rd(Wr):Wr;if(Je=st==="continue"||rt==="continue"?Je+xt:xt,rt==="continue"){const be=nt[nt.length-1];typeof be.content=="string"?be.content+=xt:be.content.push({text:xt,type:"text"})}else nt.push(...Dd({text:Je,tools:e??{},toolCalls:je,toolResults:St}));const Yr={stepType:rt,text:xt,toolCalls:je,toolResults:St,finishReason:J.finishReason,usage:Jr,warnings:J.warnings,logprobs:J.logprobs,request:(N=J.request)!=null?N:{},response:{...J.response,headers:(ee=J.rawResponse)==null?void 0:ee.headers,messages:JSON.parse(JSON.stringify(nt))},experimental_providerMetadata:J.providerMetadata,isContinued:st==="continue"};qr.push(Yr),await($==null?void 0:$(Yr)),rt=st}while(rt!=="done");return D.setAttributes(dt({telemetry:p,attributes:{"ai.response.finishReason":J.finishReason,"ai.response.text":{output:()=>J.text},"ai.response.toolCalls":{output:()=>JSON.stringify(J.toolCalls)},"ai.usage.promptTokens":J.usage.promptTokens,"ai.usage.completionTokens":J.usage.completionTokens}})),new Fd({text:Je,outputResolver:()=>{if(u==null)throw new kd;return u.parseOutput({text:Je},{response:J.response,usage:yn})},toolCalls:je,toolResults:St,finishReason:J.finishReason,usage:yn,warnings:J.warnings,request:(I=J.request)!=null?I:{},response:{...J.response,headers:(W=J.rawResponse)==null?void 0:W.headers,messages:nt},logprobs:J.logprobs,steps:qr,providerMetadata:J.providerMetadata})}})}async function Zd({toolCalls:t,tools:e,tracer:n,telemetry:r,messages:s,abortSignal:a}){return(await Promise.all(t.map(async({toolCallId:o,toolName:l,args:c})=>{const u=e[l];if((u==null?void 0:u.execute)==null)return;const d=await mr({name:"ai.toolCall",attributes:dt({telemetry:r,attributes:{...hr({operationId:"ai.toolCall",telemetry:r}),"ai.toolCall.name":l,"ai.toolCall.id":o,"ai.toolCall.args":{output:()=>JSON.stringify(c)}}}),tracer:n,fn:async p=>{try{const h=await u.execute(c,{toolCallId:o,messages:s,abortSignal:a});try{p.setAttributes(dt({telemetry:r,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(h)}}}))}catch{}return h}catch(h){throw new Ed({toolCallId:o,toolName:l,toolArgs:c,cause:h})}}});return{type:"tool-result",toolCallId:o,toolName:l,args:c,result:d}}))).filter(o=>o!=null)}var Fd=class{constructor(t){this.text=t.text,this.toolCalls=t.toolCalls,this.toolResults=t.toolResults,this.finishReason=t.finishReason,this.usage=t.usage,this.warnings=t.warnings,this.request=t.request,this.response=t.response,this.steps=t.steps,this.experimental_providerMetadata=t.providerMetadata,this.logprobs=t.logprobs,this.outputResolver=t.outputResolver}get experimental_output(){return this.outputResolver()}},Ud={};Or(Ud,{object:()=>Bd,text:()=>Vd});var Vd=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt({system:t}){return t},parsePartial({text:t}){return{partial:t}},parseOutput({text:t}){return t}}),Bd=({schema:t})=>{const e=Gn(t);return{type:"object",responseFormat:({model:n})=>({type:"json",schema:n.supportsStructuredOutputs?e.jsonSchema:void 0}),injectIntoSystemPrompt({system:n,model:r}){return r.supportsStructuredOutputs?n:Sd({prompt:n,schema:e.jsonSchema})},parsePartial({text:n}){const r=Bc(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const s=r.state;throw new Error(`Unsupported parse state: ${s}`)}}},parseOutput({text:n},r){const s=gt({text:n});if(!s.success)throw new hs({message:"No object generated: could not parse the response.",cause:s.error,text:n,response:r.response,usage:r.usage});const a=mn({value:s.value,schema:e});if(!a.success)throw new hs({message:"No object generated: response did not match schema.",cause:a.error,text:n,response:r.response,usage:r.usage});return a.value}}};function Oi(t,e){const n=t.getReader(),r=e.getReader();let s,a,i=!1,o=!1;async function l(u){try{s==null&&(s=n.read());const d=await s;s=void 0,d.done?u.close():u.enqueue(d.value)}catch(d){u.error(d)}}async function c(u){try{a==null&&(a=r.read());const d=await a;a=void 0,d.done?u.close():u.enqueue(d.value)}catch(d){u.error(d)}}return new ReadableStream({async pull(u){try{if(i){await c(u);return}if(o){await l(u);return}s==null&&(s=n.read()),a==null&&(a=r.read());const{result:d,reader:p}=await Promise.race([s.then(h=>({result:h,reader:n})),a.then(h=>({result:h,reader:r}))]);d.done||u.enqueue(d.value),p===n?(s=void 0,d.done&&(await c(u),i=!0)):(a=void 0,d.done&&(o=!0,await l(u)))}catch(d){u.error(d)}},cancel(){n.cancel(),r.cancel()}})}hn({prefix:"aitxt",size:24});var zd={};Or(zd,{mergeIntoDataStream:()=>Jd,toDataStream:()=>qd,toDataStreamResponse:()=>Gd});function Pi(t={}){const e=new TextEncoder;let n="";return new TransformStream({async start(){t.onStart&&await t.onStart()},async transform(r,s){s.enqueue(e.encode(r)),n+=r,t.onToken&&await t.onToken(r),t.onText&&typeof r=="string"&&await t.onText(r)},async flush(){t.onCompletion&&await t.onCompletion(n),t.onFinal&&await t.onFinal(n)}})}function jr(t,e){return t.pipeThrough(new TransformStream({transform:async(n,r)=>{var s;if(typeof n=="string"){r.enqueue(n);return}if("event"in n){n.event==="on_chat_model_stream"&&vs((s=n.data)==null?void 0:s.chunk,r);return}vs(n,r)}})).pipeThrough(Pi(e)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(n,r)=>{r.enqueue(Za("text",n))}}))}function qd(t,e){return jr(t,e).pipeThrough(new TextEncoderStream)}function Gd(t,e){var n;const r=jr(t,e==null?void 0:e.callbacks).pipeThrough(new TextEncoderStream),s=e==null?void 0:e.data,a=e==null?void 0:e.init,i=s?Oi(s.stream,r):r;return new Response(i,{status:(n=a==null?void 0:a.status)!=null?n:200,statusText:a==null?void 0:a.statusText,headers:Ga(a==null?void 0:a.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function Jd(t,e){e.dataStream.merge(jr(t,e.callbacks))}function vs(t,e){if(typeof t.content=="string")e.enqueue(t.content);else{const n=t.content;for(const r of n)r.type==="text"&&e.enqueue(r.text)}}var Hd={};Or(Hd,{mergeIntoDataStream:()=>Kd,toDataStream:()=>Wd,toDataStreamResponse:()=>Yd});function $r(t,e){const n=Xd();return Mo(t[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(r,s){s.enqueue(n(r.delta))}})).pipeThrough(Pi(e)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(r,s)=>{s.enqueue(Za("text",r))}}))}function Wd(t,e){return $r(t,e).pipeThrough(new TextEncoderStream)}function Yd(t,e={}){var n;const{init:r,data:s,callbacks:a}=e,i=$r(t,a).pipeThrough(new TextEncoderStream),o=s?Oi(s.stream,i):i;return new Response(o,{status:(n=r==null?void 0:r.status)!=null?n:200,statusText:r==null?void 0:r.statusText,headers:Ga(r==null?void 0:r.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function Kd(t,e){e.dataStream.merge($r(t,e.callbacks))}function Xd(){let t=!0;return e=>(t&&(e=e.trimStart(),e&&(t=!1)),e)}function _s(t){return t.length>0?t.replace(/^(.{3})(.*)(.{4})$/,"$1****$3"):""}var Zs,Fs;const pt=((Fs=(Zs=window.electron)==null?void 0:Zs.remote)==null?void 0:Fs.safeStorage)??{isEncryptionAvailable:()=>!1,encryptString:t=>Buffer.from(t),decryptString:t=>t.toString()};var Dr=(t=>(t.o1Preview="o1-preview",t.claude35Sonnet="claude-3.5-sonnet",t.claude35Haiku="claude-3.5-haiku",t.claude3Opus="claude-3-opus",t.llama3370bInstruct="llama-3.3-70b-instruct",t.llama323bInstruct="llama-3.2-3b-instruct",t.llama321bInstruct="llama-3.2-1b-instruct",t.hermes2ProMistral7b="hermes-2-pro-mistral-7b",t.llama3Groq70b="llama3-groq-70b",t.llama3370bVersatile="llama-3.3-70b-versatile",t.llama3370bSpecdec="llama-3.3-70b-specdec",t.llama31SonarSmall128kOnline="llama-3.1-sonar-small-128k-online",t.llama31SonarLarge128kOnline="llama-3.1-sonar-large-128k-online",t.llama31SonarHuge128kOnline="llama-3.1-sonar-huge-128k-online",t.mistralLarge="mistral-large",t.mistralSmall="mistral-small",t.mistralNemo="mistral-nemo",t.novaLite="nova-lite",t.novaMicro="nova-micro",t.novaPro="nova-pro",t.mythomaxL213b="mythomax-l2-13b",t))(Dr||{}),Lr=(t=>(t.bgeLargeEnV15="bge-large-en-v1.5",t))(Lr||{});const lt="obsidian-assistant",ji="Obsidian Assistant",Qd=Dr.llama3370bSpecdec;Lr.bgeLargeEnV15;const ep={assistantApiUrl:"",assistantApiKey:"",assistantApiKeySaved:!1,modelId:Qd,maxTokens:256,temperature:.6,topK:3,minSimilarityScore:.7,ignoredFolders:[],syncEnabled:!1,autoSyncInterval:30,customTemplatesFolder:"ai/templates",logLevel:"error"},tp={continue:{name:"continue",description:"Continue writing from the current text",prompt:`Continue this text naturally, maintaining the same style and tone. Only return the continuation, no explanations or other text:

{{text}}`},summarise:{name:"summarise",description:"Summarise the selected text",prompt:`Provide a concise summary of this text. Return only the summary, no explanations or other text:

{{text}}`},expand:{name:"expand",description:"Expand on the selected text",prompt:`Expand this text with more details and examples. Return only the expanded text, no explanations or other text:

{{text}}`},rewrite:{name:"rewrite",description:"Rewrite the selected text",prompt:`Rewrite this text to improve clarity and flow. Return only the rewritten text, no explanations or other text:

{{text}}`},simplify:{name:"simplify",description:"Simplify the selected text",prompt:`Simplify this text to make it easier to understand. Return only the simplified text, no explanations or other text:

{{text}}`},"suggest-tags":{name:"suggest-tags",description:"Suggest tags for the selected text",prompt:`Suggest tags for this text. Return only the tags, no explanations or other text:

{{text}}`},"generate-title":{name:"generate-title",description:"Generate a title from the content",prompt:`Generate a clear, concise title for this text. Return only the title, no quotes or extra text. (do not use * " \\ / < > : | ? .):

{{text}}`},"generate-text":{name:"Generate text",description:"Generate text with custom variables",prompt:`Write a {{style}} passage about {{topic}} that is {{length}} long.

Use this context:
{{text}}`,variables:["style","topic","length"]},brainstorm:{name:"brainstorm",description:"Brainstorm ideas for the selected text",prompt:`Brainstorm ideas for this text. Return only the ideas, no explanations or other text:

{{text}}`}},np={level:"debug",useTimestamp:!0,output:console,serviceName:ji};class rp{constructor(){this.config={...np},this.listeners=new Set}setConfig(e){this.config={...this.config,...e},this.notifyListeners()}getConfig(){return this.config}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}notifyListeners(){for(const e of this.listeners)e(this.config)}}const Ln=new rp,$i=t=>{Ln.setConfig(t)},sp=()=>Ln.getConfig();class ap extends M.PluginSettingTab{constructor(e,n){super(e,n),this.temporaryAssistantApiKey="",this.plugin=n,this.settings=n.settings}createAssistantSettings(e){new M.Setting(e).setName("Assistant API URL").setDesc("The URL of your assistant API").addText(n=>n.setPlaceholder("Enter your Assistant API URL").setValue(this.settings.assistantApiUrl).onChange(async r=>{this.settings.assistantApiUrl=r,await this.plugin.saveSettings()})),this.createApiKeySetting(e,"API key","The API key for your assistant","assistantApiKey","assistantApiKeySaved",this.temporaryAssistantApiKey,n=>{this.temporaryAssistantApiKey=n})}createApiKeySetting(e,n,r,s,a,i,o){this.plugin.settings[a]?new M.Setting(e).setName(n).setDesc(r).addText(c=>{try{const u=this.plugin.settings[s];if(pt.isEncryptionAvailable()&&u){const d=pt.decryptString(Buffer.from(u,"base64"));c.setPlaceholder(_s(d))}else c.setPlaceholder(_s(u))}catch{c.setPlaceholder("********")}c.setDisabled(!0)}).addButton(c=>{c.setButtonText("Remove API Key").onClick(async()=>{this.plugin.settings[s]="",this.plugin.settings[a]=!1,await this.plugin.saveSettings(),new M.Notice(`${n} removed`),this.display()})}):new M.Setting(e).setName(n).setDesc(r).addText(c=>c.setPlaceholder(`Enter your ${n}`).onChange(u=>o(u))).addButton(c=>{c.setButtonText("Save API Key").onClick(async()=>{if(i)try{if(pt.isEncryptionAvailable()){const u=pt.encryptString(i);this.plugin.settings[s]=Buffer.from(u).toString("base64")}else this.plugin.settings[s]=i;this.plugin.settings[a]=!0,o(""),await this.plugin.saveSettings(),new M.Notice(`${n} saved successfully`),this.display()}catch(u){new M.Notice("Failed to save API key"),console.error(u)}else new M.Notice("Please enter an API key")})})}createModelSettings(e){new M.Setting(e).setName("Text model").setHeading(),new M.Setting(e).setName("Model ID").setDesc("The ID of the text model to use").addDropdown(n=>n.addOptions(Object.fromEntries(Object.entries(Dr).map(([r,s])=>{var a;return[s,((a=s.split("/").pop())==null?void 0:a.replace(/-/g," ").toUpperCase())??s]}))).setValue(this.settings.modelId).onChange(async r=>{this.settings.modelId=r,await this.plugin.saveSettings()})),this.createNumberSetting(e,"Max tokens","The maximum number of tokens to generate","maxTokens",1,Number.POSITIVE_INFINITY),this.createNumberSetting(e,"Temperature","The temperature of the text model","temperature",0,5,!0)}createRagSettings(e){new M.Setting(e).setName("RAG").setHeading(),new M.Setting(e).setName("Text embeddings model ID").setDesc("The ID of the text embeddings model to use").addDropdown(n=>n.addOptions(Object.fromEntries(Object.entries(Lr).map(([r,s])=>{var a;return[s,((a=s.split("/").pop())==null?void 0:a.replace(/-/g," ").toUpperCase())??s]}))).setValue(this.settings.textEmbeddingsModelId).onChange(async r=>{this.settings.textEmbeddingsModelId=r,await this.plugin.saveSettings()})),this.createNumberSetting(e,"Top k","The number of results to return","topK",1,Number.POSITIVE_INFINITY),this.createNumberSetting(e,"Min similarity score","The minimum similarity score to return","minSimilarityScore",0,1,!0)}createSyncSettings(e){new M.Setting(e).setName("Sync").setHeading(),new M.Setting(e).setName("Ignored folders").setDesc("Folders to ignore when syncing notes, separated by commas").addText(n=>n.setPlaceholder("Enter the folders to ignore").setValue(this.settings.ignoredFolders.join(",")).onChange(async r=>{this.settings.ignoredFolders=r.split(",").filter(Boolean),await this.plugin.saveSettings()})),new M.Setting(e).setName("Enable auto sync").setDesc("Automatically sync notes at regular intervals").addToggle(n=>n.setValue(this.settings.syncEnabled).onChange(async r=>{this.settings.syncEnabled=r,await this.plugin.saveSettings()})),this.createNumberSetting(e,"Sync interval","How often to sync (in minutes)","autoSyncInterval",1,Number.POSITIVE_INFINITY)}createTextGeneratorSettings(e){new M.Setting(e).setName("Text Generator").setHeading(),new M.Setting(e).setName("Custom templates folder").setDesc("The folder to store custom templates").addText(n=>n.setPlaceholder("Enter the folder to store custom templates").setValue(this.settings.customTemplatesFolder).onChange(async r=>{this.settings.customTemplatesFolder=r,await this.plugin.saveSettings()}))}createLoggerSettings(e){new M.Setting(e).setName("Logging").setHeading(),new M.Setting(e).setName("Log Level").setDesc("Set the logging level for the plugin").addDropdown(n=>n.addOptions({error:"Error",warn:"Warning",info:"Info",debug:"Debug"}).setValue(this.settings.logLevel||"error").onChange(async r=>{this.settings.logLevel=r,$i({level:r}),await this.plugin.saveSettings()}))}createNumberSetting(e,n,r,s,a,i,o=!1){new M.Setting(e).setName(n).setDesc(r).addText(l=>{var c;return l.setPlaceholder(n).setValue(((c=this.plugin.settings[s])==null?void 0:c.toString())??"").onChange(async u=>{const d=o?Number.parseFloat(u):Number.parseInt(u);!Number.isNaN(d)&&d>=a&&d<=i?(this.plugin.settings[s]=d,await this.plugin.saveSettings()):new M.Notice(`Invalid value for ${n}. Must be between ${a} and ${i}`)})})}display(){const{containerEl:e}=this;e.empty(),this.createAssistantSettings(e),this.createModelSettings(e),this.createRagSettings(e),this.createSyncSettings(e),this.createTextGeneratorSettings(e),this.createLoggerSettings(e)}}class Di{constructor(e,n,r,s,a){this.app=e,this.assistant=n,this.logger=r,this.settings=s,this.sync=a,this.messages=[],this.apiMessages=[],this.component=null,this.svelteComponents=[],this.isProcessing=!1,this.DEFAULT_SYSTEM_MESSAGE={role:"system",content:`You are a helpful AI assistant that analyzes notes and provides insights. Consider the context carefully before answering questions. The current date is ${new Date().toISOString().split("T")[0]}.`},this.validateServices(),this.contentEl=document.createElement("div"),this.chatId=Math.random().toString(36).substring(2,15)}validateServices(){if(!this.assistant)throw new Error("Assistant not initialized")}async onSendMessage(e,n){try{if(!e.trim())return;this.isProcessing=!0;const r="";this.component&&this.component.$set({streamingContent:r}),this.updateComponent(),this.logger.debug("Sending message",{message:e,filters:n});const s={role:"user",content:e};this.messages.push(s);const a={role:"assistant",content:""};this.messages.push(a),this.updateComponent(),this.apiMessages.some(o=>o.role==="system")||this.apiMessages.push(this.DEFAULT_SYSTEM_MESSAGE);const{text:i}=await Pr({model:this.assistant(this.settings.modelId,{chatId:this.chatId,useRAG:!0,ragOptions:{namespace:this.app.vault.getName(),type:"note",filters:n,topK:this.settings.topK,scoreThreshold:this.settings.minSimilarityScore,includeMetadata:!0},shouldSave:!0}),maxRetries:3,messages:[s],maxTokens:this.settings.maxTokens,temperature:this.settings.temperature});if(!i)throw new Error("No response from AI Gateway");a.content=i,this.apiMessages.push(a),this.updateComponent()}catch(r){this.logger.error("Error in message processing:",{error:r instanceof Error?r.message:String(r),stack:r instanceof Error?r.stack:void 0}),new M.Notice("Error generating response. Please try again."),this.messages=this.messages.slice(0,-1),this.apiMessages=this.apiMessages.slice(0,-1)}finally{this.isProcessing=!1,this.updateComponent()}}updateComponent(){this.component&&this.component.$set({messages:[...this.messages],isProcessing:this.isProcessing})}async onClearMessages(){this.messages=[],this.apiMessages=[],this.updateComponent()}async onCopyContent(e,n){try{await navigator.clipboard.writeText(e),new M.Notice(`Copied ${n} to clipboard`)}catch(r){this.logger.error("Error copying to clipboard:",{error:r instanceof Error?r.message:String(r),stack:r instanceof Error?r.stack:void 0}),new M.Notice(`Failed to copy ${n}`)}}cleanup(){for(const e of this.svelteComponents)e&&typeof e.$destroy=="function"&&e.$destroy()}initializeComponent(e,n){const r=new n({target:e,props:{messages:this.messages,isProcessing:this.isProcessing,onSendMessage:(s,a)=>this.onSendMessage(s,a),onClearMessages:()=>this.onClearMessages(),onCopyConversation:()=>this.onCopyContent(this.messages.map(s=>`${s.role}: ${s.content}`).join(`

`),"conversation"),onCopyMessage:s=>this.onCopyContent(s,"message")}});this.component=r,this.svelteComponents.push(r)}}function X(){}const Zr=t=>t;function ip(t,e){for(const n in e)t[n]=e[n];return t}function Li(t){return t()}function bs(){return Object.create(null)}function Pe(t){t.forEach(Li)}function bt(t){return typeof t=="function"}function ze(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function op(t){return Object.keys(t).length===0}function lp(t,e,n,r){if(t){const s=Zi(t,e,n,r);return t[0](s)}}function Zi(t,e,n,r){return t[1]&&r?ip(n.ctx.slice(),t[1](r(e))):n.ctx}function cp(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const a=[],i=Math.max(e.dirty.length,s.length);for(let o=0;o<i;o+=1)a[o]=e.dirty[o]|s[o];return a}return e.dirty|s}return e.dirty}function up(t,e,n,r,s,a){if(s){const i=Zi(e,n,r,a);t.p(i,s)}}function dp(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function ws(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Fi=typeof window<"u";let Ui=Fi?()=>window.performance.now():()=>Date.now(),Fr=Fi?t=>requestAnimationFrame(t):X;const ht=new Set;function Vi(t){ht.forEach(e=>{e.c(t)||(ht.delete(e),e.f())}),ht.size!==0&&Fr(Vi)}function Bi(t){let e;return ht.size===0&&Fr(Vi),{promise:new Promise(n=>{ht.add(e={c:t,f:n})}),abort(){ht.delete(e)}}}function x(t,e){t.appendChild(e)}function zi(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function pp(t){const e=A("style");return e.textContent="/* empty */",fp(zi(t),e),e.sheet}function fp(t,e){return x(t.head||t,e),e.sheet}function G(t,e,n){t.insertBefore(e,n||null)}function z(t){t.parentNode&&t.parentNode.removeChild(t)}function Ur(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function A(t){return document.createElement(t)}function ae(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function tt(t){return document.createTextNode(t)}function K(){return tt(" ")}function Vr(){return tt("")}function xe(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function hp(t){return Array.from(t.childNodes)}function qi(t,e){e=""+e,t.data!==e&&(t.data=e)}function ke(t,e){t.value=e??""}function mp(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}class gp{constructor(e=!1){$e(this,"is_svg",!1);$e(this,"e");$e(this,"n");$e(this,"t");$e(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,r=null){this.e||(this.is_svg?this.e=ae(n.nodeName):this.e=A(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)G(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(z)}}const Zn=new Map;let Fn=0;function yp(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function vp(t,e){const n={stylesheet:pp(e),rules:{}};return Zn.set(t,n),n}function Gi(t,e,n,r,s,a,i,o=0){const l=16.666/r;let c=`{
`;for(let S=0;S<=1;S+=l){const E=e+(n-e)*a(S);c+=S*100+`%{${i(E,1-E)}}
`}const u=c+`100% {${i(n,1-n)}}
}`,d=`__svelte_${yp(u)}_${o}`,p=zi(t),{stylesheet:h,rules:g}=Zn.get(p)||vp(p,t);g[d]||(g[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${d} ${r}ms linear ${s}ms 1 both`,Fn+=1,d}function vr(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?a=>a.indexOf(e)<0:a=>a.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),Fn-=s,Fn||_p())}function _p(){Fr(()=>{Fn||(Zn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&z(e)}),Zn.clear())})}let dn;function Nt(t){dn=t}function Ji(){if(!dn)throw new Error("Function called outside component initialization");return dn}function bp(t){Ji().$$.on_mount.push(t)}function wp(t){Ji().$$.after_update.push(t)}const ct=[],pn=[];let mt=[];const Ss=[],Sp=Promise.resolve();let _r=!1;function xp(){_r||(_r=!0,Sp.then(Hi))}function et(t){mt.push(t)}const ar=new Set;let it=0;function Hi(){if(it!==0)return;const t=dn;do{try{for(;it<ct.length;){const e=ct[it];it++,Nt(e),kp(e.$$)}}catch(e){throw ct.length=0,it=0,e}for(Nt(null),ct.length=0,it=0;pn.length;)pn.pop()();for(let e=0;e<mt.length;e+=1){const n=mt[e];ar.has(n)||(ar.add(n),n())}mt.length=0}while(ct.length);for(;Ss.length;)Ss.pop()();_r=!1,ar.clear(),Nt(t)}function kp(t){if(t.fragment!==null){t.update(),Pe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}function Tp(t){const e=[],n=[];mt.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),mt=e}let Tt;function Wi(){return Tt||(Tt=Promise.resolve(),Tt.then(()=>{Tt=null})),Tt}function Un(t,e,n){t.dispatchEvent(mp(`${e?"intro":"outro"}${n}`))}const xn=new Set;let De;function br(){De={r:0,c:[],p:De}}function wr(){De.r||Pe(De.c),De=De.p}function ne(t,e){t&&t.i&&(xn.delete(t),t.i(e))}function se(t,e,n,r){if(t&&t.o){if(xn.has(t))return;xn.add(t),De.c.push(()=>{xn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Yi={duration:0};function Ki(t,e,n){const r={direction:"in"};let s=e(t,n,r),a=!1,i,o,l=0;function c(){i&&vr(t,i)}function u(){const{delay:p=0,duration:h=300,easing:g=Zr,tick:_=X,css:S}=s||Yi;S&&(i=Gi(t,0,1,h,p,g,S,l++)),_(0,1);const E=Ui()+p,$=E+h;o&&o.abort(),a=!0,et(()=>Un(t,!0,"start")),o=Bi(L=>{if(a){if(L>=$)return _(1,0),Un(t,!0,"end"),c(),a=!1;if(L>=E){const Y=g((L-E)/h);_(Y,1-Y)}}return a})}let d=!1;return{start(){d||(d=!0,vr(t),bt(s)?(s=s(r),Wi().then(u)):u())},invalidate(){d=!1},end(){a&&(c(),a=!1)}}}function Xi(t,e,n){const r={direction:"out"};let s=e(t,n,r),a=!0,i;const o=De;o.r+=1;let l;function c(){const{delay:u=0,duration:d=300,easing:p=Zr,tick:h=X,css:g}=s||Yi;g&&(i=Gi(t,1,0,d,u,p,g));const _=Ui()+u,S=_+d;et(()=>Un(t,!1,"start")),"inert"in t&&(l=t.inert,t.inert=!0),Bi(E=>{if(a){if(E>=S)return h(0,1),Un(t,!1,"end"),--o.r||Pe(o.c),!1;if(E>=_){const $=p((E-_)/d);h(1-$,$)}}return a})}return bt(s)?Wi().then(()=>{s=s(r),c()}):c(),{end(u){u&&"inert"in t&&(t.inert=l),u&&s.tick&&s.tick(1,0),a&&(i&&vr(t,i),a=!1)}}}function Ve(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ep(t,e){se(t,1,1,()=>{e.delete(t.key)})}function Cp(t,e,n,r,s,a,i,o,l,c,u,d){let p=t.length,h=a.length,g=p;const _={};for(;g--;)_[t[g].key]=g;const S=[],E=new Map,$=new Map,L=[];for(g=h;g--;){const R=d(s,a,g),F=n(R);let T=i.get(F);T?r&&L.push(()=>T.p(R,e)):(T=c(F,R),T.c()),E.set(F,S[g]=T),F in _&&$.set(F,Math.abs(g-_[F]))}const Y=new Set,Q=new Set;function re(R){ne(R,1),R.m(o,u),i.set(R.key,R),u=R.first,h--}for(;p&&h;){const R=S[h-1],F=t[p-1],T=R.key,D=F.key;R===F?(u=R.first,p--,h--):E.has(D)?!i.has(T)||Y.has(T)?re(R):Q.has(D)?p--:$.get(T)>$.get(D)?(Q.add(T),re(R)):(Y.add(D),p--):(l(F,i),p--)}for(;p--;){const R=t[p];E.has(R.key)||l(R,i)}for(;h;)re(S[h-1]);return Pe(L),S}function Oe(t){t&&t.c()}function Ce(t,e,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),et(()=>{const a=t.$$.on_mount.map(Li).filter(bt);t.$$.on_destroy?t.$$.on_destroy.push(...a):Pe(a),t.$$.on_mount=[]}),s.forEach(et)}function Ie(t,e){const n=t.$$;n.fragment!==null&&(Tp(n.after_update),Pe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ip(t,e){t.$$.dirty[0]===-1&&(ct.push(t),xp(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function qe(t,e,n,r,s,a,i=null,o=[-1]){const l=dn;Nt(t);const c=t.$$={fragment:null,ctx:[],props:a,update:X,not_equal:s,bound:bs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:bs(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};i&&i(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(d,p,...h)=>{const g=h.length?h[0]:p;return c.ctx&&s(c.ctx[d],c.ctx[d]=g)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](g),u&&Ip(t,d)),p}):[],c.update(),u=!0,Pe(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const d=hp(e.target);c.fragment&&c.fragment.l(d),d.forEach(z)}else c.fragment&&c.fragment.c();e.intro&&ne(t.$$.fragment),Ce(t,e.target,e.anchor),Hi()}Nt(l)}class Ge{constructor(){$e(this,"$$");$e(this,"$$set")}$destroy(){Ie(this,1),this.$destroy=X}$on(e,n){if(!bt(n))return X;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!op(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ap="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ap);function Np(t){const e=t-1;return e*e*e+1}function Sr(t,{delay:e=0,duration:n=400,easing:r=Zr}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:a=>`opacity: ${a*s}`}}function Rp(t,{delay:e=0,duration:n=400,easing:r=Np,x:s=0,y:a=0,opacity:i=0}={}){const o=getComputedStyle(t),l=+o.opacity,c=o.transform==="none"?"":o.transform,u=l*(1-i),[d,p]=ws(s),[h,g]=ws(a);return{delay:e,duration:n,easing:r,css:(_,S)=>`
			transform: ${c} translate(${(1-_)*d}${p}, ${(1-_)*h}${g});
			opacity: ${l-u*S}`}}function xs(t,e=!1,n={p:"text-base"}){if(!t)return t;const r=l=>l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),s=`underline text-${e?"muted":"primary"}-foreground inline font-bold p-0 transition-colors hover:underline hover:outline-none decoration-1 decoration-skip-ink-none underline-offset-[0.25em] hover:decoration-2`,a=[];t=t.replace(/```([\s\S]*?)```/g,(l,c)=>(a.push(c),`{{CODEBLOCK${a.length-1}}}`));const i=[];t=t.replace(/`([^`]+)`/g,(l,c)=>(i.push(c),`{{INLINECODE${i.length-1}}}`));let o=t.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/<summary>/g,"**Summary:** ").replace(/<\/summary>/g,"").replace(/<questions>/g,"**Questions:** ").replace(/<\/questions>/g,"").replace(/<question>/g,"").replace(/<\/question>/g,"").replace(/<answer>/g,"").replace(/<\/answer>/g,"").replace(/<prompt_analysis>/g,"**Analysis:** ").replace(/<\/prompt_analysis>/g,"").replace(/<analysis>/g,"**Analysis:** ").replace(/<\/analysis>/g,"").replace(/<thought>/g,"**Thought:** ").replace(/<\/thought>/g,"").replace(/<action>/g,"**Action:** ").replace(/<\/action>/g,"").replace(/<unclear_parts>/g,"**Unsure about:** ").replace(/<\/unclear_parts>/g,"").replace(/<key_elements>/g,"**Key Elements:** ").replace(/<\/key_elements>/g,"").replace(/<key_elements_missing>/g,"**Key Elements Missing:** ").replace(/<\/key_elements_missing>/g,"").replace(/<suggestions>/g,"**Suggestions:** ").replace(/<\/suggestions>/g,"").replace(/<suggestion>/g,"").replace(/<\/suggestion>/g,"").replace(/<revised_prompt>/g,"**Revised Prompt:** ").replace(/<\/revised_prompt>/g,"").replace(/<problem_breakdown>/g,"**Problem Breakdown:** ").replace(/<\/problem_breakdown>/g,"");return o=r(o).replace(/^### (.*?)$/gm,`<h3>$1</h3>
`).replace(/^## (.*?)$/gm,`<h2>$1</h2>
`).replace(/^# (.*?)$/gm,`<h1>$1</h1>
`).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/__(.*?)__/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/_(.*?)_/g,"<em>$1</em>").replace(/!\[(.*?)\]\((.*?)\)/g,'<img src="$2" alt="$1" class="rounded-lg max-w-full h-auto my-4" loading="lazy" />').replace(/\[([^\]]+)\]\(([^)]+)\)/g,`<a href="$2" target="_blank" rel="noopener noreferrer" class="${s}">$1</a>`).replace(/\[\[(.*?)\]\]/g,`<a href="$1" class="internal-link ${s}">$1</a>`).replace(/^(\s*[-*+]\s+.*(?:\n(?!\s*[-*+]|\s*\d+\.).*)*)+/gm,l=>`<ul class="list-disc">${l.split(`
`).map(u=>{const d=u.replace(/^\s*[-*+]\s+/,"").trim();return d?`<li>${d}</li>`:""}).filter(Boolean).join(`
`)}</ul>`).replace(/^(\s*\d+\.\s+.*(?:\n(?!\s*[-*+]|\s*\d+\.).*)*)+/gm,l=>`<ol class="list-decimal">${l.split(`
`).map(u=>{const d=u.replace(/^\s*\d+\.\s+/,"").trim();return d?`<li>${d}</li>`:""}).filter(Boolean).join(`
`)}</ol>`).replace(/^(>\s+.*(?:\n(?!>).*)*)+/gm,l=>`<blockquote>${l.replace(/^>\s+/gm,"")}</blockquote>`).replace(/^(?:---|\*\*\*|___)\s*$/gm,"<hr>").replace(/^(?!<[houl]|<bl|<hr)[^\n]+(?:\n(?!<[houl]|<bl|<hr)[^\n]+)*/gm,l=>`<p class="${n.p||"text-base"}">${l.replace(/\n/g,"<br />")}</p>`),o=o.replace(/{{CODEBLOCK(\d+)}}/g,(l,c)=>{var S;const u=a[parseInt(c)];if(!u)return"";const d=u.split(`
`),p=((S=d[0])==null?void 0:S.trim())||"",h=/^[a-zA-Z0-9]+$/.test(p),g=h?p:"",_=h?d.slice(1).join(`
`).trim():u;return`<pre><code${g?` class="language-${g}"`:""}>${r(_)}</code></pre>`}),o=o.replace(/{{INLINECODE(\d+)}}/g,(l,c)=>{const u=i[parseInt(c)];return u?`<code>${r(u)}</code>`:""}),o}function Mp(t){let e,n,r,s,a,i;return{c(){e=ae("svg"),n=ae("rect"),r=ae("path"),s=ae("path"),a=ae("path"),i=ae("path"),m(n,"width","8"),m(n,"height","4"),m(n,"x","8"),m(n,"y","2"),m(n,"rx","1"),m(n,"ry","1"),m(r,"d","M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"),m(s,"d","M16 4h2a2 2 0 0 1 2 2v4"),m(a,"d","M21 14H11"),m(i,"d","m15 10-4 4 4 4"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","24"),m(e,"height","24"),m(e,"viewBox","0 0 24 24"),m(e,"fill","none"),m(e,"stroke","currentColor"),m(e,"stroke-width","2"),m(e,"stroke-linecap","round"),m(e,"stroke-linejoin","round"),m(e,"class","lucide lucide-clipboard-copy")},m(o,l){G(o,e,l),x(e,n),x(e,r),x(e,s),x(e,a),x(e,i)},p:X,i:X,o:X,d(o){o&&z(e)}}}class Qi extends Ge{constructor(e){super(),qe(this,e,null,Mp,ze,{})}}function ks(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Ts(t){let e;return{c(){e=A("div"),e.innerHTML='<h3 class="svelte-bnkcb1">Welcome to the Chat ðŸ‘‹</h3> <p>Ask me anything about your notes, or just general questions.</p>',m(e,"class","welcome-message svelte-bnkcb1")},m(n,r){G(n,e,r)},d(n){n&&z(e)}}}function Es(t){let e;function n(a,i){return a[3]?Pp:Op}let r=n(t),s=r(t);return{c(){s.c(),e=Vr()},m(a,i){s.m(a,i),G(a,e,i)},p(a,i){r!==(r=n(a))&&(s.d(1),s=r(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){a&&z(e),s.d(a)}}}function Op(t){let e;return{c(){e=A("div"),e.innerHTML='<span class="svelte-bnkcb1"></span> <span class="svelte-bnkcb1"></span> <span class="svelte-bnkcb1"></span>',m(e,"class","typing-indicator svelte-bnkcb1")},m(n,r){G(n,e,r)},d(n){n&&z(e)}}}function Pp(t){let e;return{c(){e=A("span"),e.textContent="â–‹",m(e,"class","cursor svelte-bnkcb1")},m(n,r){G(n,e,r)},d(n){n&&z(e)}}}function Cs(t,e){let n,r,s,a,i=e[9].role==="assistant"?"ðŸ¤–":"ðŸ‘¤",o,l,c,u,d,p=xs(e[9].role==="assistant"&&e[11]===e[0].length-1&&e[2]?e[3]:e[9].content)+"",h,g,_,S,E,$,L,Y,Q,re,R,F,T,D,q=e[9].role==="assistant"&&e[11]===e[0].length-1&&e[2]&&Es(e);E=new Qi({});function V(){return e[6](e[9])}return{key:t,first:null,c(){n=A("div"),r=A("div"),s=A("div"),a=A("span"),o=tt(i),l=K(),c=A("div"),u=A("div"),d=new gp(!1),h=K(),q&&q.c(),g=K(),_=A("div"),S=A("button"),Oe(E.$$.fragment),$=K(),L=A("span"),L.textContent="Copy message",Y=K(),m(a,"class","role-indicator svelte-bnkcb1"),m(a,"aria-hidden","true"),d.a=h,m(u,"class","message-content-inner"),m(L,"class","sr-only svelte-bnkcb1"),m(S,"class","copy-button svelte-bnkcb1"),m(S,"aria-label","Copy message"),m(_,"class","message-actions"),m(c,"class","message-content svelte-bnkcb1"),m(s,"class","message-content-wrapper svelte-bnkcb1"),m(r,"class","message svelte-bnkcb1"),m(n,"class",Q="message-wrapper "+e[9].role+" svelte-bnkcb1"),m(n,"role","article"),this.first=n},m(N,ee){G(N,n,ee),x(n,r),x(r,s),x(s,a),x(a,o),x(s,l),x(s,c),x(c,u),d.m(p,u),x(u,h),q&&q.m(u,null),x(c,g),x(c,_),x(_,S),Ce(E,S,null),x(S,$),x(S,L),x(n,Y),F=!0,T||(D=xe(S,"click",V),T=!0)},p(N,ee){e=N,(!F||ee&1)&&i!==(i=e[9].role==="assistant"?"ðŸ¤–":"ðŸ‘¤")&&qi(o,i),(!F||ee&13)&&p!==(p=xs(e[9].role==="assistant"&&e[11]===e[0].length-1&&e[2]?e[3]:e[9].content)+"")&&d.p(p),e[9].role==="assistant"&&e[11]===e[0].length-1&&e[2]?q?q.p(e,ee):(q=Es(e),q.c(),q.m(u,null)):q&&(q.d(1),q=null),(!F||ee&1&&Q!==(Q="message-wrapper "+e[9].role+" svelte-bnkcb1"))&&m(n,"class",Q)},i(N){F||(ne(E.$$.fragment,N),N&&et(()=>{F&&(R&&R.end(1),re=Ki(n,Rp,{y:20,duration:300}),re.start())}),F=!0)},o(N){se(E.$$.fragment,N),re&&re.invalidate(),N&&(R=Xi(n,Sr,{duration:200})),F=!1},d(N){N&&z(n),q&&q.d(),Ie(E),N&&R&&R.end(),T=!1,D()}}}function jp(t){let e,n,r=[],s=new Map,a,i,o,l=t[0].length<=0&&Ts(),c=Ve(t[0].filter(Is));const u=d=>d[11];for(let d=0;d<c.length;d+=1){let p=ks(t,c,d),h=u(p);s.set(h,r[d]=Cs(h,p))}return{c(){l&&l.c(),e=K(),n=A("div");for(let d=0;d<r.length;d+=1)r[d].c();m(n,"class","messages svelte-bnkcb1"),m(n,"role","log"),m(n,"aria-live","polite")},m(d,p){l&&l.m(d,p),G(d,e,p),G(d,n,p);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(n,null);t[7](n),a=!0,i||(o=xe(n,"scroll",t[5]),i=!0)},p(d,[p]){d[0].length<=0?l||(l=Ts(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),p&15&&(c=Ve(d[0].filter(Is)),br(),r=Cp(r,p,u,1,d,c,s,n,Ep,Cs,null,ks),wr())},i(d){if(!a){for(let p=0;p<c.length;p+=1)ne(r[p]);a=!0}},o(d){for(let p=0;p<r.length;p+=1)se(r[p]);a=!1},d(d){d&&(z(e),z(n)),l&&l.d(d);for(let p=0;p<r.length;p+=1)r[p].d();t[7](null),i=!1,o()}}}const Is=t=>t.role!=="system";function $p(t,e,n){let{messages:r=[]}=e,{onCopyMessage:s}=e,{isProcessing:a=!1}=e,{streamingContent:i=""}=e,o,l=!1;function c(){if(!o)return;const{scrollTop:p,scrollHeight:h,clientHeight:g}=o;h-p-g<10?l=!1:l=!0}wp(()=>{o&&!l&&o.scrollTo({top:o.scrollHeight,behavior:"instant"})});const u=p=>s(p.content);function d(p){pn[p?"unshift":"push"](()=>{o=p,n(4,o)})}return t.$$set=p=>{"messages"in p&&n(0,r=p.messages),"onCopyMessage"in p&&n(1,s=p.onCopyMessage),"isProcessing"in p&&n(2,a=p.isProcessing),"streamingContent"in p&&n(3,i=p.streamingContent)},[r,s,a,i,o,c,u,d]}class eo extends Ge{constructor(e){super(),qe(this,e,$p,jp,ze,{messages:0,onCopyMessage:1,isProcessing:2,streamingContent:3})}}function Dp(t){let e,n,r;return{c(){e=ae("svg"),n=ae("path"),r=ae("path"),m(n,"d","M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"),m(r,"d","m21.854 2.147-10.94 10.939"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","24"),m(e,"height","24"),m(e,"viewBox","0 0 24 24"),m(e,"fill","none"),m(e,"stroke","currentColor"),m(e,"stroke-width","2"),m(e,"stroke-linecap","round"),m(e,"stroke-linejoin","round"),m(e,"class","lucide lucide-send")},m(s,a){G(s,e,a),x(e,n),x(e,r)},p:X,i:X,o:X,d(s){s&&z(e)}}}class Lp extends Ge{constructor(e){super(),qe(this,e,null,Dp,ze,{})}}function Zp(t){let e,n;return{c(){e=ae("svg"),n=ae("polygon"),m(n,"points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","24"),m(e,"height","24"),m(e,"viewBox","0 0 24 24"),m(e,"fill","none"),m(e,"stroke","currentColor"),m(e,"stroke-width","2"),m(e,"stroke-linecap","round"),m(e,"stroke-linejoin","round"),m(e,"class","lucide lucide-filter")},m(r,s){G(r,e,s),x(e,n)},p:X,i:X,o:X,d(r){r&&z(e)}}}class Fp extends Ge{constructor(e){super(),qe(this,e,null,Zp,ze,{})}}function Up(t){let e,n,r,s;return{c(){e=ae("svg"),n=ae("path"),r=ae("path"),s=ae("path"),m(n,"d","m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21"),m(r,"d","M22 21H7"),m(s,"d","m5 11 9 9"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","24"),m(e,"height","24"),m(e,"viewBox","0 0 24 24"),m(e,"fill","none"),m(e,"stroke","currentColor"),m(e,"stroke-width","2"),m(e,"stroke-linecap","round"),m(e,"stroke-linejoin","round"),m(e,"class","lucide lucide-eraser")},m(a,i){G(a,e,i),x(e,n),x(e,r),x(e,s)},p:X,i:X,o:X,d(a){a&&z(e)}}}class Vp extends Ge{constructor(e){super(),qe(this,e,null,Up,ze,{})}}function As(t,e,n){const r=t.slice();return r[22]=e[n],r}function Ns(t,e,n){const r=t.slice();return r[28]=e[n],r}function Rs(t,e,n){const r=t.slice();return r[25]=e[n],r}const Bp=t=>({}),Ms=t=>({});function Os(t){let e,n,r,s,a,i,o,l,c,u,d,p;return n=new Vp({}),o=new Qi({}),{c(){e=A("button"),Oe(n.$$.fragment),r=K(),s=A("span"),s.textContent="Clear Chat",a=K(),i=A("button"),Oe(o.$$.fragment),l=K(),c=A("span"),c.textContent="Copy Conversation",m(s,"class","sr-only"),m(e,"class","action-button svelte-17n7afo"),m(e,"aria-label","Clear Chat"),m(c,"class","sr-only"),m(i,"class","action-button svelte-17n7afo"),m(i,"aria-label","Copy Conversation")},m(h,g){G(h,e,g),Ce(n,e,null),x(e,r),x(e,s),G(h,a,g),G(h,i,g),Ce(o,i,null),x(i,l),x(i,c),u=!0,d||(p=[xe(e,"click",function(){bt(t[2])&&t[2].apply(this,arguments)}),xe(i,"click",function(){bt(t[3])&&t[3].apply(this,arguments)})],d=!0)},p(h,g){t=h},i(h){u||(ne(n.$$.fragment,h),ne(o.$$.fragment,h),u=!0)},o(h){se(n.$$.fragment,h),se(o.$$.fragment,h),u=!1},d(h){h&&(z(e),z(a),z(i)),Ie(n),Ie(o),d=!1,Pe(p)}}}function Ps(t){let e,n,r,s,a,i,o,l=Ve(t[8]),c=[];for(let u=0;u<l.length;u+=1)c[u]=Ds(As(t,l,u));return{c(){e=A("div"),n=A("form");for(let u=0;u<c.length;u+=1)c[u].c();m(e,"class","filters svelte-17n7afo")},m(u,d){G(u,e,d),x(e,n);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(n,null);a=!0,i||(o=xe(n,"change",t[12]),i=!0)},p(u,d){if(d&256){l=Ve(u[8]);let p;for(p=0;p<l.length;p+=1){const h=As(u,l,p);c[p]?c[p].p(h,d):(c[p]=Ds(h),c[p].c(),c[p].m(n,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=l.length}},i(u){a||(u&&et(()=>{a&&(s&&s.end(1),r=Ki(e,Sr,{duration:200}),r.start())}),a=!0)},o(u){r&&r.invalidate(),u&&(s=Xi(e,Sr,{duration:200})),a=!1},d(u){u&&z(e),Ur(c,u),u&&s&&s.end(),i=!1,o()}}}function zp(t){let e,n,r;return{c(){e=A("select"),n=A("option"),n.textContent="Any",r=A("option"),r.textContent="Markdown",n.__value="",ke(n,n.__value),r.__value="md",ke(r,r.__value),m(e,"name",t[22].field),m(e,"class","full-width svelte-17n7afo"),m(e,"aria-label","Filter value")},m(s,a){G(s,e,a),x(e,n),x(e,r)},p:X,d(s){s&&z(e)}}}function qp(t){let e,n,r,s,a,i,o,l;function c(p,h){return p[22].field.includes("Year")?Jp:Gp}let d=c(t)(t);return{c(){e=A("div"),n=A("select"),r=A("option"),r.textContent="=",s=A("option"),s.textContent=">=",a=A("option"),a.textContent="<=",i=K(),o=A("select"),l=A("option"),l.textContent="Any",d.c(),r.__value="$eq",ke(r,r.__value),s.__value="$gte",ke(s,s.__value),a.__value="$lte",ke(a,a.__value),m(n,"name",`${t[22].field}-op`),m(n,"class","operator-select svelte-17n7afo"),m(n,"aria-label","Filter operator"),l.__value="",ke(l,l.__value),m(o,"name",t[22].field),m(o,"class","value-select svelte-17n7afo"),m(o,"aria-label","Filter value"),m(e,"class","filter-inputs svelte-17n7afo")},m(p,h){G(p,e,h),x(e,n),x(n,r),x(n,s),x(n,a),x(e,i),x(e,o),x(o,l),d.m(o,null)},p(p,h){d.p(p,h)},d(p){p&&z(e),d.d()}}}function Gp(t){let e,n=Ve(Array.from({length:12},Ls)),r=[];for(let s=0;s<n.length;s+=1)r[s]=js(Ns(t,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=Vr()},m(s,a){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(s,a);G(s,e,a)},p(s,a){if(a&0){n=Ve(Array.from({length:12},Ls));let i;for(i=0;i<n.length;i+=1){const o=Ns(s,n,i);r[i]?r[i].p(o,a):(r[i]=js(o),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(s){s&&z(e),Ur(r,s)}}}function Jp(t){let e,n=Ve(Array.from({length:5},t[20])),r=[];for(let s=0;s<n.length;s+=1)r[s]=$s(Rs(t,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=Vr()},m(s,a){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(s,a);G(s,e,a)},p(s,a){if(a&0){n=Ve(Array.from({length:5},s[20]));let i;for(i=0;i<n.length;i+=1){const o=Rs(s,n,i);r[i]?r[i].p(o,a):(r[i]=$s(o),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(s){s&&z(e),Ur(r,s)}}}function js(t){let e,n=t[28]+"",r;return{c(){e=A("option"),r=tt(n),e.__value=t[28],ke(e,e.__value)},m(s,a){G(s,e,a),x(e,r)},p:X,d(s){s&&z(e)}}}function $s(t){let e,n=t[25]+"",r;return{c(){e=A("option"),r=tt(n),e.__value=t[25],ke(e,e.__value)},m(s,a){G(s,e,a),x(e,r)},p:X,d(s){s&&z(e)}}}function Ds(t){let e,n,r=t[22].label+"",s,a,i;function o(u,d){return u[22].type==="number"?qp:zp}let c=o(t)(t);return{c(){e=A("div"),n=A("label"),s=tt(r),a=K(),c.c(),i=K(),m(n,"for",t[22].field),m(e,"class","filter-row svelte-17n7afo")},m(u,d){G(u,e,d),x(e,n),x(n,s),x(e,a),c.m(e,null),x(e,i)},p(u,d){c.p(u,d)},d(u){u&&z(e),c.d()}}}function Hp(t){var ee;let e,n,r,s,a,i,o,l,c,u,d=t[6]?"Hide RAG Filters":"Show RAG Filters",p,h,g,_,S,E,$,L,Y,Q,re,R,F,T;l=new Fp({});let D=((ee=t[1])==null?void 0:ee.length)>0&&Os(t);const q=t[15]["additional-actions"],V=lp(q,t,t[14],Ms);$=new Lp({});let N=t[6]&&Ps(t);return{c(){e=A("div"),n=A("div"),r=A("textarea"),s=K(),a=A("div"),i=A("div"),o=A("button"),Oe(l.$$.fragment),c=K(),u=A("span"),p=tt(d),g=K(),D&&D.c(),_=K(),V&&V.c(),S=K(),E=A("button"),Oe($.$$.fragment),L=K(),Y=A("span"),Y.textContent="Send",re=K(),N&&N.c(),m(r,"placeholder","Type your message here..."),r.disabled=t[0],m(r,"rows","1"),m(r,"aria-label","Message input"),m(r,"class","svelte-17n7afo"),m(u,"class","sr-only"),m(o,"class","action-button svelte-17n7afo"),m(o,"aria-expanded",t[6]),m(o,"aria-label",h=t[6]?"Hide RAG Filters":"Show RAG Filters"),m(i,"class","left-actions svelte-17n7afo"),m(Y,"class","sr-only"),m(E,"class","send-button svelte-17n7afo"),E.disabled=Q=t[0]||!t[4].trim(),m(E,"aria-label","Send message"),m(a,"class","actions-container svelte-17n7afo"),m(n,"class","input-container svelte-17n7afo"),m(e,"class","input-wrapper svelte-17n7afo")},m(I,W){G(I,e,W),x(e,n),x(n,r),t[16](r),ke(r,t[4]),x(n,s),x(n,a),x(a,i),x(i,o),Ce(l,o,null),x(o,c),x(o,u),x(u,p),x(i,g),D&&D.m(i,null),x(i,_),V&&V.m(i,null),x(a,S),x(a,E),Ce($,E,null),x(E,L),x(E,Y),t[19](n),x(e,re),N&&N.m(e,null),R=!0,F||(T=[xe(r,"input",t[17]),xe(r,"input",t[9]),xe(r,"keydown",t[11]),xe(o,"click",t[18]),xe(E,"click",t[10])],F=!0)},p(I,[W]){var te;(!R||W&1)&&(r.disabled=I[0]),W&16&&ke(r,I[4]),(!R||W&64)&&d!==(d=I[6]?"Hide RAG Filters":"Show RAG Filters")&&qi(p,d),(!R||W&64)&&m(o,"aria-expanded",I[6]),(!R||W&64&&h!==(h=I[6]?"Hide RAG Filters":"Show RAG Filters"))&&m(o,"aria-label",h),((te=I[1])==null?void 0:te.length)>0?D?(D.p(I,W),W&2&&ne(D,1)):(D=Os(I),D.c(),ne(D,1),D.m(i,_)):D&&(br(),se(D,1,1,()=>{D=null}),wr()),V&&V.p&&(!R||W&16384)&&up(V,q,I,I[14],R?cp(q,I[14],W,Bp):dp(I[14]),Ms),(!R||W&17&&Q!==(Q=I[0]||!I[4].trim()))&&(E.disabled=Q),I[6]?N?(N.p(I,W),W&64&&ne(N,1)):(N=Ps(I),N.c(),ne(N,1),N.m(e,null)):N&&(br(),se(N,1,1,()=>{N=null}),wr())},i(I){R||(ne(l.$$.fragment,I),ne(D),ne(V,I),ne($.$$.fragment,I),ne(N),R=!0)},o(I){se(l.$$.fragment,I),se(D),se(V,I),se($.$$.fragment,I),se(N),R=!1},d(I){I&&z(e),t[16](null),Ie(l),D&&D.d(),V&&V.d(I),Ie($),t[19](null),N&&N.d(),F=!1,Pe(T)}}}const Ls=(t,e)=>e+1;function Wp(t,e,n){let{$$slots:r={},$$scope:s}=e,{isProcessing:a=!1}=e,{messages:i=[]}=e,{onSendMessage:o}=e,{onClearMessages:l}=e,{onCopyConversation:c}=e,u="",d,p={},h=!1,g;const _=[{field:"createdYear",type:"number",label:"Created Year"},{field:"createdMonth",type:"number",label:"Created Month"},{field:"modifiedYear",type:"number",label:"Modified Year"},{field:"modifiedMonth",type:"number",label:"Modified Month"},{field:"extension",type:"string",label:"File Type"}],S=()=>{if(d){n(5,d.style.height="24px",d);const T=Math.min(Math.max(d.scrollHeight,24),200);n(5,d.style.height=`${T}px`,d),g&&n(7,g.style.height=`${T+66}px`,g)}};bp(()=>{d&&(n(5,d.style.height="24px",d),n(7,g.style.height="90px",g),S())});const E=async()=>{if(u.trim()&&!a){const T=u.trim();n(4,u=""),n(5,d.style.height="24px",d),n(7,g.style.height="90px",g);try{await o(T,p)}catch(D){console.error("Error sending message:",D),n(4,u=T)}}},$=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),E())};function L(T){const D=T.target,q=new FormData(D.closest("form")||D);_.forEach(V=>{const N=q.get(V.field);if(!N){delete p[V.field];return}if(V.type==="number"){const ee=q.get(`${V.field}-op`)||"$eq";p[V.field]={[ee]:Number(N)}}else p[V.field]={$eq:String(N)}})}function Y(T){pn[T?"unshift":"push"](()=>{d=T,n(5,d)})}function Q(){u=this.value,n(4,u)}const re=()=>n(6,h=!h);function R(T){pn[T?"unshift":"push"](()=>{g=T,n(7,g)})}const F=(T,D)=>new Date().getFullYear()-D;return t.$$set=T=>{"isProcessing"in T&&n(0,a=T.isProcessing),"messages"in T&&n(1,i=T.messages),"onSendMessage"in T&&n(13,o=T.onSendMessage),"onClearMessages"in T&&n(2,l=T.onClearMessages),"onCopyConversation"in T&&n(3,c=T.onCopyConversation),"$$scope"in T&&n(14,s=T.$$scope)},[a,i,l,c,u,d,h,g,_,S,E,$,L,o,s,r,Y,Q,re,R,F]}class to extends Ge{constructor(e){super(),qe(this,e,Wp,Hp,ze,{isProcessing:0,messages:1,onSendMessage:13,onClearMessages:2,onCopyConversation:3})}}function Yp(t){let e,n,r,s,a;return n=new eo({props:{isProcessing:t[1],messages:t[0],streamingContent:t[2],onCopyMessage:t[6]}}),s=new to({props:{isProcessing:t[1],messages:t[0],onSendMessage:t[3],onClearMessages:t[4],onCopyConversation:t[5]}}),{c(){e=A("div"),Oe(n.$$.fragment),r=K(),Oe(s.$$.fragment),m(e,"class","chat-modal svelte-xkhj2a")},m(i,o){G(i,e,o),Ce(n,e,null),x(e,r),Ce(s,e,null),a=!0},p(i,[o]){const l={};o&2&&(l.isProcessing=i[1]),o&1&&(l.messages=i[0]),o&4&&(l.streamingContent=i[2]),o&64&&(l.onCopyMessage=i[6]),n.$set(l);const c={};o&2&&(c.isProcessing=i[1]),o&1&&(c.messages=i[0]),o&8&&(c.onSendMessage=i[3]),o&16&&(c.onClearMessages=i[4]),o&32&&(c.onCopyConversation=i[5]),s.$set(c)},i(i){a||(ne(n.$$.fragment,i),ne(s.$$.fragment,i),a=!0)},o(i){se(n.$$.fragment,i),se(s.$$.fragment,i),a=!1},d(i){i&&z(e),Ie(n),Ie(s)}}}function Kp(t,e,n){let{messages:r=[]}=e,{isProcessing:s=!1}=e,{streamingContent:a=""}=e,{onSendMessage:i}=e,{onClearMessages:o}=e,{onCopyConversation:l}=e,{onCopyMessage:c}=e;return t.$$set=u=>{"messages"in u&&n(0,r=u.messages),"isProcessing"in u&&n(1,s=u.isProcessing),"streamingContent"in u&&n(2,a=u.streamingContent),"onSendMessage"in u&&n(3,i=u.onSendMessage),"onClearMessages"in u&&n(4,o=u.onClearMessages),"onCopyConversation"in u&&n(5,l=u.onCopyConversation),"onCopyMessage"in u&&n(6,c=u.onCopyMessage)},[r,s,a,i,o,l,c]}let Xp=class extends Ge{constructor(e){super(),qe(this,e,Kp,Yp,ze,{messages:0,isProcessing:1,streamingContent:2,onSendMessage:3,onClearMessages:4,onCopyConversation:5,onCopyMessage:6})}},Qp=class extends Di{};class ef extends M.Modal{constructor(...e){super(e[0]),this.chat=new Qp(...e),this.chat.contentEl=this.contentEl}onOpen(){const{contentEl:e}=this;e.empty(),e.addClass("chat-modal"),this.chat.initializeComponent(e,Xp)}onClose(){const{contentEl:e}=this;this.chat.cleanup(),e.empty(),e.removeClass("chat-modal")}}class tf{constructor(e,n,r,s=[]){this.app=e,this.assistant=n,this.logger=r,this.ignoredFolders=s,this.batchSize=5}async sync(){const e={successful:0,failed:0,errors:[]};this.validateServices();const r=this.app.vault.getMarkdownFiles().filter(a=>!this.isFileInIgnoredFolder(a)).filter(a=>a.extension==="md"),s=[];for(const a of r){const i=this.createVectorId(a.name),o=await this.getSyncState(i);!o||o.lastModified!==a.stat.mtime?s.push(a):e.successful++}new M.Notice(`Starting sync for ${s.length} files (${r.length-s.length} already up to date)`);for(let a=0;a<s.length;a+=this.batchSize){const i=s.slice(a,a+this.batchSize);await this.processBatch(i,e,a/this.batchSize+1,Math.ceil(s.length/this.batchSize))}return new M.Notice("Sync completed"),e}createVectorId(e){return btoa(e.slice(0,32))}isFileInIgnoredFolder(e){return this.ignoredFolders.some(n=>{const r=n.toLowerCase().replace(/\\/g,"/");return e.path.toLowerCase().replace(/\\/g,"/").startsWith(`${r}/`)})}validateServices(){if(!this.assistant)throw new Error("Assistant service not initialized")}async syncFile(e,n){try{this.logger.debug(`Processing file: ${e.path}`);const r=await this.app.vault.cachedRead(e);if(!r.trim()){this.logger.warn(`Skipping empty file: ${e.path}`);return}const s=this.createVectorId(e.name),a=await this.getSyncState(s);if(a&&a.lastModified===e.stat.mtime){this.logger.debug(`File ${e.path} hasn't changed, skipping`),n.successful++;return}const i=this.getMetadata(e);if(!await this.assistant.createEmbedding(e.name,r,"note",i,{namespace:this.app.vault.getName()})){this.logger.warn(`Skipping file ${e.path} due to no embeddings`);return}await this.saveSyncState(s,e,[],i),n.successful++,this.logger.debug(`Successfully processed: ${e.path}`)}catch(r){n.failed++,n.errors.push({file:e.path,error:r instanceof Error?r.message:String(r)}),this.logger.error(`Failed to process ${e.path}:`,{error:r instanceof Error?r.message:String(r),stack:r instanceof Error?r.stack:void 0})}}getMetadata(e){const n={fileName:e.name,extension:e.extension};if(e.stat.ctime){const r=new Date(e.stat.ctime);n.created=e.stat.ctime,n.createdYear=r.getFullYear(),n.createdMonth=r.getMonth()+1}if(e.stat.mtime){const r=new Date(e.stat.mtime);n.modified=e.stat.mtime,n.modifiedYear=r.getFullYear(),n.modifiedMonth=r.getMonth()+1}return n}async ensureSyncDirectory(){const e=".cloudflare-ai/sync";await this.app.vault.adapter.exists(e)||await this.app.vault.adapter.mkdir(e)}async saveSyncState(e,n,r,s){const a={id:e,path:n.path,lastSync:Date.now(),lastModified:n.stat.mtime,metadata:s,vectors:r},i=`.cloudflare-ai/sync/${e}.json`;await this.app.vault.adapter.write(i,JSON.stringify(a,null,2))}async getSyncState(e){await this.ensureSyncDirectory();const n=`.cloudflare-ai/sync/${e}.json`;try{if(await this.app.vault.adapter.exists(n)){const r=await this.app.vault.adapter.read(n);return JSON.parse(r)}}catch(r){this.logger.warn(`Failed to read sync state for ${e}:`,{error:r instanceof Error?r.message:String(r),stack:r instanceof Error?r.stack:void 0})}return null}async processBatch(e,n,r,s){this.logger.debug(`Processing sync batch ${r}/${s}`),(await Promise.allSettled(e.map(i=>this.syncFile(i,n)))).forEach((i,o)=>{i.status==="rejected"&&this.logger.error(`Failed to sync file ${e[o].path}: ${i.reason}`)})}}var we=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(we||{});class nf{constructor(e={}){this.onConfigChange=s=>{this.logLevel=this.parseLogLevel(s.level||"debug")};const r={...sp(),...e};this.logLevel=this.parseLogLevel(r.level||"debug"),this.useTimestamp=r.useTimestamp??!0,this.output=r.output||console,this.serviceName=r.serviceName,Ln.addListener(s=>{this.logLevel=this.parseLogLevel(s.level||"debug")})}parseLogLevel(e){const n=e.toLowerCase(),r={debug:we.DEBUG,info:we.INFO,warn:we.WARN,error:we.ERROR};if(!(n in r))throw new Error(`Invalid log level: ${e}`);return r[n]}formatLogMessage(e,n,r){const a=[this.useTimestamp?new Date().toISOString():"",this.serviceName,e].filter(Boolean).join(" | "),i=r?` ${JSON.stringify(r)}`:"";return`${a}: ${n}${i}`}setLogLevel(e){this.logLevel=this.parseLogLevel(e)}getLogLevel(){return we[this.logLevel].toLowerCase()}isLevelEnabled(e){return this.parseLogLevel(e)>=this.logLevel}debug(e,n){if(this.logLevel<=we.DEBUG){const r=this.formatLogMessage("debug",e,n);this.output.debug(r)}}info(e,n){if(this.logLevel<=we.INFO){const r=this.formatLogMessage("info",e,n);this.output.info(r)}}warn(e,n){if(this.logLevel<=we.WARN){const r=this.formatLogMessage("warn",e,n);this.output.warn(r)}}error(e,n){if(this.logLevel<=we.ERROR){const r=this.formatLogMessage("error",e,n);this.output.error(r)}}destroy(){Ln.removeListener(this.onConfigChange)}}function rf(t){let e,n,r,s,a;return n=new eo({props:{isProcessing:t[1],messages:t[0],streamingContent:t[2],onCopyMessage:t[6]}}),s=new to({props:{isProcessing:t[1],messages:t[0],onSendMessage:t[3],onClearMessages:t[4],onCopyConversation:t[5]}}),{c(){e=A("div"),Oe(n.$$.fragment),r=K(),Oe(s.$$.fragment),m(e,"class","chat-view svelte-i0aku1")},m(i,o){G(i,e,o),Ce(n,e,null),x(e,r),Ce(s,e,null),a=!0},p(i,[o]){const l={};o&2&&(l.isProcessing=i[1]),o&1&&(l.messages=i[0]),o&4&&(l.streamingContent=i[2]),o&64&&(l.onCopyMessage=i[6]),n.$set(l);const c={};o&2&&(c.isProcessing=i[1]),o&1&&(c.messages=i[0]),o&8&&(c.onSendMessage=i[3]),o&16&&(c.onClearMessages=i[4]),o&32&&(c.onCopyConversation=i[5]),s.$set(c)},i(i){a||(ne(n.$$.fragment,i),ne(s.$$.fragment,i),a=!0)},o(i){se(n.$$.fragment,i),se(s.$$.fragment,i),a=!1},d(i){i&&z(e),Ie(n),Ie(s)}}}function sf(t,e,n){let{messages:r=[]}=e,{isProcessing:s=!1}=e,{streamingContent:a=""}=e,{onSendMessage:i}=e,{onClearMessages:o}=e,{onCopyConversation:l}=e,{onCopyMessage:c}=e;return t.$$set=u=>{"messages"in u&&n(0,r=u.messages),"isProcessing"in u&&n(1,s=u.isProcessing),"streamingContent"in u&&n(2,a=u.streamingContent),"onSendMessage"in u&&n(3,i=u.onSendMessage),"onClearMessages"in u&&n(4,o=u.onClearMessages),"onCopyConversation"in u&&n(5,l=u.onCopyConversation),"onCopyMessage"in u&&n(6,c=u.onCopyMessage)},[r,s,a,i,o,l,c]}let af=class extends Ge{constructor(e){super(),qe(this,e,sf,rf,ze,{messages:0,isProcessing:1,streamingContent:2,onSendMessage:3,onClearMessages:4,onCopyConversation:5,onCopyMessage:6})}};class of extends Di{}class lf extends M.ItemView{constructor(e,...n){super(e),this.chat=new of(...n),this.chat.contentEl=this.containerEl.children[1]}getViewType(){return lt}getDisplayText(){return"AI Chat"}async onOpen(){const e=this.containerEl.children[1];e.empty(),this.chat.initializeComponent(e,af)}async onClose(){const e=this.containerEl.children[1];this.chat.cleanup(),e.empty()}}class cf extends M.Modal{constructor(e,n){super(e),this.template=n,this.variables={},this.inputSettings=[],this.isGenerating=!1}onOpen(){const{contentEl:e,titleEl:n}=this;n.setText(this.template.name),this.template.description&&e.createEl("p",{text:this.template.description}),this.template.variables&&this.template.variables.forEach(r=>{const s=new M.Setting(e).setName(r).addText(a=>a.setPlaceholder(`Enter ${r}`).onChange(i=>{this.variables[r]=i}));this.inputSettings.push(s)}),this.isGenerating&&e.createEl("p",{text:"Generating..."}),this.generateButton=new M.Setting(e).addButton(r=>r.setButtonText("Generate").setCta().onClick(async()=>{var s;this.setGenerating(!0);try{await((s=this.onSubmitCallback)==null?void 0:s.call(this,this.variables)),this.close()}catch{this.setGenerating(!1)}}))}setGenerating(e){var r,s;this.isGenerating=e,this.inputSettings.forEach(a=>a.setDisabled(e)),(r=this.generateButton)==null||r.setDisabled(e);const n=(s=this.generateButton)==null?void 0:s.controlEl.querySelector("button");n&&(n.textContent=e?"Generating...":"Generate")}onClose(){const{contentEl:e}=this;e.empty()}onSubmit(e){this.onSubmitCallback=e}}class uf{constructor(e,n,r,s,a){this.app=e,this.assistant=n,this.logger=r,this.settings=s,this.templateManager=a}async generateFromTemplate(e,n){const r=await this.templateManager.applyTemplate(e,n);return this.generateText({prompt:r,maxTokens:this.settings.maxTokens,temperature:this.settings.temperature})}async generateInEditor(e,n={}){const r=e.getSelection(),s=n.position||e.getCursor(),a="ðŸ¤– Generating...";let i;try{if(n.replaceLine!==void 0){const c=e.getLine(n.replaceLine);e.replaceRange(a,{line:n.replaceLine,ch:0},{line:n.replaceLine,ch:c.length}),i={line:n.replaceLine,ch:0}}else if(n.replaceSelection&&e.somethingSelected()){const c=e.getCursor("from");e.replaceSelection(a),i=c}else e.replaceRange(a,s),i=s;new M.Notice(`Generating ${n.templateName||"text"}...`);let o;if(n.templateName){const c=this.templateManager.getTemplate(n.templateName);if(!c)throw new Error(`Template ${n.templateName} not found`);o=await this.generateFromTemplate(c,{text:n.text||r||e.getValue()}),n.prependHash&&!o.startsWith("#")&&(o=`# ${o}`),n.addNewline&&(o=`

${o}`)}else o=await this.generateText({prompt:r});const l={line:i.line,ch:i.ch+a.length};e.replaceRange(o,i,l),new M.Notice("Generated successfully")}catch(o){if(i){const l={line:i.line,ch:i.ch+a.length};e.replaceRange("",i,l)}this.logger.error("Generation failed",{error:o instanceof Error?o.message:String(o)}),new M.Notice(`Failed to generate: ${o instanceof Error?o.message:String(o)}`)}}async generateText(e){if(!e.prompt)throw new Error("Prompt is required");const{text:n}=await Pr({model:this.assistant(this.settings.modelId),maxRetries:3,messages:[{role:"user",content:e.prompt}]});return n}async generateWithModal(e,n,r={}){const s=this.templateManager.getTemplate(n);if(!s)throw new Error(`Template ${n} not found`);const a=new cf(this.app,s);a.onSubmit(async i=>{a.close(),new M.Notice("Generating...");const o=await this.generateFromTemplate(s,{...i,text:e.getValue()});if(r.replaceLine!==void 0){const l=e.getLine(r.replaceLine);e.replaceRange(o,{line:r.replaceLine,ch:0},{line:r.replaceLine,ch:l.length})}else{const l=r.position||e.getCursor();e.replaceRange(o,l)}new M.Notice("Generated successfully")}),a.open()}}class df{constructor(e,n){this.app=e,this.logger=n,this.templates=new Map;for(const[r,s]of Object.entries(tp))this.templates.set(r,{...s,default:!0})}async loadCustomTemplates(e){if(!this.app.vault.getAbstractFileByPath(e)){this.logger.debug("No custom templates folder found");return}const r=this.app.vault.getMarkdownFiles().filter(s=>s.path.startsWith(e));for(const s of r)try{const a=await this.app.vault.read(s),i=this.parseTemplate(a);this.templates.set(i.name,i),this.logger.debug(`Loaded custom template: ${i.name}`)}catch(a){this.logger.error(`Failed to load template ${s.path}`,{error:a})}}parseTemplate(e){const n=this.extractFrontmatter(e);if(!n.name)throw new Error("Template must have a name");return{name:n.name,description:n.description,prompt:e.replace(/^---[\s\S]*?---/,"").trim(),variables:n.variables,tags:n.tags}}extractFrontmatter(e){const n=e.match(/^---\n([\s\S]*?)\n---/);if(!n)return{};try{return M.parseYaml(n[1])}catch(r){return this.logger.error("Failed to parse template frontmatter",{error:r}),{}}}async applyTemplate(e,n){let r=e.prompt;for(const[s,a]of Object.entries(n))r=r.replace(`{{${s}}}`,a);return r}getTemplate(e){return this.templates.get(e)}getTemplates(){return this.templates}}function Et(t){var e,n;return(n=(e=t==null?void 0:t.providerMetadata)==null?void 0:e.openaiCompatible)!=null?n:{}}function pf(t){const e=[];for(const{role:n,content:r,...s}of t){const a=Et({...s});switch(n){case"system":{e.push({role:"system",content:r,...a});break}case"user":{if(r.length===1&&r[0].type==="text"){e.push({role:"user",content:r[0].text,...Et(r[0])});break}e.push({role:"user",content:r.map(i=>{var o;const l=Et(i);switch(i.type){case"text":return{type:"text",text:i.text,...l};case"image":return{type:"image_url",image_url:{url:i.image instanceof URL?i.image.toString():`data:${(o=i.mimeType)!=null?o:"image/jpeg"};base64,${or(i.image)}`},...l};case"file":throw new Re({functionality:"File content parts in user messages"})}}),...a});break}case"assistant":{let i="";const o=[];for(const l of r){const c=Et(l);switch(l.type){case"text":{i+=l.text;break}case"tool-call":{o.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:JSON.stringify(l.args)},...c});break}default:{const u=l;throw new Error(`Unsupported part: ${u}`)}}}e.push({role:"assistant",content:i,tool_calls:o.length>0?o:void 0,...a});break}case"tool":{for(const i of r){const o=Et(i);e.push({role:"tool",tool_call_id:i.toolCallId,content:JSON.stringify(i.result),...o})}break}default:{const i=n;throw new Error(`Unsupported role: ${i}`)}}}return e}function Vn({id:t,model:e,created:n}){return{id:t??void 0,modelId:e??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function Bn(t){switch(t){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var ff=f.object({error:f.object({message:f.string(),type:f.string().nullish(),param:f.any().nullish(),code:f.union([f.string(),f.number()]).nullish()})}),Br={errorSchema:ff,errorToMessage:t=>t.error.message};function hf({mode:t,structuredOutputs:e}){var n;const r=(n=t.tools)!=null&&n.length?t.tools:void 0,s=[];if(r==null)return{tools:void 0,tool_choice:void 0,toolWarnings:s};const a=t.toolChoice,i=[];for(const l of r)l.type==="provider-defined"?s.push({type:"unsupported-tool",tool:l}):i.push({type:"function",function:{name:l.name,description:l.description,parameters:l.parameters}});if(a==null)return{tools:i,tool_choice:void 0,toolWarnings:s};const o=a.type;switch(o){case"auto":case"none":case"required":return{tools:i,tool_choice:o,toolWarnings:s};case"tool":return{tools:i,tool_choice:{type:"function",function:{name:a.toolName}},toolWarnings:s};default:{const l=o;throw new Re({functionality:`Unsupported tool choice type: ${l}`})}}}var mf=class{constructor(t,e,n){this.specificationVersion="v1";var r,s;this.modelId=t,this.settings=e,this.config=n;const a=(r=n.errorStructure)!=null?r:Br;this.chunkSchema=yf(a.errorSchema),this.failedResponseHandler=Tr(a),this.supportsStructuredOutputs=(s=n.supportsStructuredOutputs)!=null?s:!1}get defaultObjectGenerationMode(){return this.config.defaultObjectGenerationMode}get provider(){return this.config.provider}getArgs({mode:t,prompt:e,maxTokens:n,temperature:r,topP:s,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:l,responseFormat:c,seed:u}){var d,p;const h=t.type,g=[];a!=null&&g.push({type:"unsupported-setting",setting:"topK"}),(c==null?void 0:c.type)==="json"&&c.schema!=null&&!this.supportsStructuredOutputs&&g.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const _={model:this.modelId,user:this.settings.user,max_tokens:n,temperature:r,top_p:s,frequency_penalty:i,presence_penalty:o,response_format:(c==null?void 0:c.type)==="json"?this.supportsStructuredOutputs===!0&&c.schema!=null?{type:"json_schema",json_schema:{schema:c.schema,name:(d=c.name)!=null?d:"response",description:c.description}}:{type:"json_object"}:void 0,stop:l,seed:u,messages:pf(e)};switch(h){case"regular":{const{tools:S,tool_choice:E,toolWarnings:$}=hf({mode:t,structuredOutputs:this.supportsStructuredOutputs});return{args:{..._,tools:S,tool_choice:E},warnings:[...g,...$]}}case"object-json":return{args:{..._,response_format:this.supportsStructuredOutputs===!0&&t.schema!=null?{type:"json_schema",json_schema:{schema:t.schema,name:(p=t.name)!=null?p:"response",description:t.description}}:{type:"json_object"}},warnings:g};case"object-tool":return{args:{..._,tool_choice:{type:"function",function:{name:t.tool.name}},tools:[{type:"function",function:{name:t.tool.name,description:t.tool.description,parameters:t.tool.parameters}}]},warnings:g};default:{const S=h;throw new Error(`Unsupported type: ${S}`)}}}async doGenerate(t){var e,n,r,s,a,i;const{args:o,warnings:l}=this.getArgs({...t}),c=JSON.stringify(o),{responseHeaders:u,value:d}=await Mt({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Rt(this.config.headers(),t.headers),body:o,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Er(gf),abortSignal:t.abortSignal,fetch:this.config.fetch}),{messages:p,...h}=o,g=d.choices[0];return{text:(e=g.message.content)!=null?e:void 0,toolCalls:(n=g.message.tool_calls)==null?void 0:n.map(_=>{var S;return{toolCallType:"function",toolCallId:(S=_.id)!=null?S:Kn(),toolName:_.function.name,args:_.function.arguments}}),finishReason:Bn(g.finish_reason),usage:{promptTokens:(s=(r=d.usage)==null?void 0:r.prompt_tokens)!=null?s:NaN,completionTokens:(i=(a=d.usage)==null?void 0:a.completion_tokens)!=null?i:NaN},rawCall:{rawPrompt:p,rawSettings:h},rawResponse:{headers:u},response:Vn(d),warnings:l,request:{body:c}}}async doStream(t){if(this.settings.simulateStreaming){const p=await this.doGenerate(t);return{stream:new ReadableStream({start(g){if(g.enqueue({type:"response-metadata",...p.response}),p.text&&g.enqueue({type:"text-delta",textDelta:p.text}),p.toolCalls)for(const _ of p.toolCalls)g.enqueue({type:"tool-call",..._});g.enqueue({type:"finish",finishReason:p.finishReason,usage:p.usage,logprobs:p.logprobs,providerMetadata:p.providerMetadata}),g.close()}}),rawCall:p.rawCall,rawResponse:p.rawResponse,warnings:p.warnings}}const{args:e,warnings:n}=this.getArgs({...t}),r=JSON.stringify({...e,stream:!0}),{responseHeaders:s,value:a}=await Mt({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Rt(this.config.headers(),t.headers),body:{...e,stream:!0},failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Sa(this.chunkSchema),abortSignal:t.abortSignal,fetch:this.config.fetch}),{messages:i,...o}=e,l=[];let c="unknown",u={promptTokens:void 0,completionTokens:void 0},d=!0;return{stream:a.pipeThrough(new TransformStream({transform(p,h){var g,_,S,E,$,L,Y,Q,re,R,F,T,D,q;if(!p.success){c="error",h.enqueue({type:"error",error:p.error});return}const V=p.value;if("error"in V){c="error",h.enqueue({type:"error",error:V.error.message});return}d&&(d=!1,h.enqueue({type:"response-metadata",...Vn(V)})),V.usage!=null&&(u={promptTokens:(g=V.usage.prompt_tokens)!=null?g:void 0,completionTokens:(_=V.usage.completion_tokens)!=null?_:void 0});const N=V.choices[0];if((N==null?void 0:N.finish_reason)!=null&&(c=Bn(N.finish_reason)),(N==null?void 0:N.delta)==null)return;const ee=N.delta;if(ee.content!=null&&h.enqueue({type:"text-delta",textDelta:ee.content}),ee.tool_calls!=null)for(const I of ee.tool_calls){const W=I.index;if(l[W]==null){if(I.type!=="function")throw new Wn({data:I,message:"Expected 'function' type."});if(I.id==null)throw new Wn({data:I,message:"Expected 'id' to be a string."});if(((S=I.function)==null?void 0:S.name)==null)throw new Wn({data:I,message:"Expected 'function.name' to be a string."});l[W]={id:I.id,type:"function",function:{name:I.function.name,arguments:(E=I.function.arguments)!=null?E:""},hasFinished:!1};const ce=l[W];(($=ce.function)==null?void 0:$.name)!=null&&((L=ce.function)==null?void 0:L.arguments)!=null&&(ce.function.arguments.length>0&&h.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:ce.id,toolName:ce.function.name,argsTextDelta:ce.function.arguments}),as(ce.function.arguments)&&(h.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(Y=ce.id)!=null?Y:Kn(),toolName:ce.function.name,args:ce.function.arguments}),ce.hasFinished=!0));continue}const te=l[W];te.hasFinished||(((Q=I.function)==null?void 0:Q.arguments)!=null&&(te.function.arguments+=(R=(re=I.function)==null?void 0:re.arguments)!=null?R:""),h.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:te.id,toolName:te.function.name,argsTextDelta:(F=I.function.arguments)!=null?F:""}),((T=te.function)==null?void 0:T.name)!=null&&((D=te.function)==null?void 0:D.arguments)!=null&&as(te.function.arguments)&&(h.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(q=te.id)!=null?q:Kn(),toolName:te.function.name,args:te.function.arguments}),te.hasFinished=!0))}},flush(p){var h,g;p.enqueue({type:"finish",finishReason:c,usage:{promptTokens:(h=u.promptTokens)!=null?h:NaN,completionTokens:(g=u.completionTokens)!=null?g:NaN}})}})),rawCall:{rawPrompt:i,rawSettings:o},rawResponse:{headers:s},warnings:n,request:{body:r}}}},gf=f.object({id:f.string().nullish(),created:f.number().nullish(),model:f.string().nullish(),choices:f.array(f.object({message:f.object({role:f.literal("assistant").nullish(),content:f.string().nullish(),tool_calls:f.array(f.object({id:f.string().nullish(),type:f.literal("function"),function:f.object({name:f.string(),arguments:f.string()})})).nullish()}),finish_reason:f.string().nullish()})),usage:f.object({prompt_tokens:f.number().nullish(),completion_tokens:f.number().nullish()}).nullish()}),yf=t=>f.union([f.object({id:f.string().nullish(),created:f.number().nullish(),model:f.string().nullish(),choices:f.array(f.object({delta:f.object({role:f.enum(["assistant"]).nullish(),content:f.string().nullish(),tool_calls:f.array(f.object({index:f.number(),id:f.string().nullish(),type:f.literal("function").optional(),function:f.object({name:f.string().nullish(),arguments:f.string().nullish()})})).nullish()}).nullish(),finish_reason:f.string().nullish()})),usage:f.object({prompt_tokens:f.number().nullish(),completion_tokens:f.number().nullish()}).nullish()}),t]);function vf({prompt:t,inputFormat:e,user:n="user",assistant:r="assistant"}){if(e==="prompt"&&t.length===1&&t[0].role==="user"&&t[0].content.length===1&&t[0].content[0].type==="text")return{prompt:t[0].content[0].text};let s="";t[0].role==="system"&&(s+=`${t[0].content}

`,t=t.slice(1));for(const{role:a,content:i}of t)switch(a){case"system":throw new He({message:"Unexpected system message in prompt: ${content}",prompt:t});case"user":{const o=i.map(l=>{switch(l.type){case"text":return l.text;case"image":throw new Re({functionality:"images"})}}).join("");s+=`${n}:
${o}

`;break}case"assistant":{const o=i.map(l=>{switch(l.type){case"text":return l.text;case"tool-call":throw new Re({functionality:"tool-call messages"})}}).join("");s+=`${r}:
${o}

`;break}case"tool":throw new Re({functionality:"tool messages"});default:{const o=a;throw new Error(`Unsupported role: ${o}`)}}return s+=`${r}:
`,{prompt:s,stopSequences:[`
${n}:`]}}var _f=class{constructor(t,e,n){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0;var r;this.modelId=t,this.settings=e,this.config=n;const s=(r=n.errorStructure)!=null?r:Br;this.chunkSchema=wf(s.errorSchema),this.failedResponseHandler=Tr(s)}get provider(){return this.config.provider}getArgs({mode:t,inputFormat:e,prompt:n,maxTokens:r,temperature:s,topP:a,topK:i,frequencyPenalty:o,presencePenalty:l,stopSequences:c,responseFormat:u,seed:d}){var p;const h=t.type,g=[];i!=null&&g.push({type:"unsupported-setting",setting:"topK"}),u!=null&&u.type!=="text"&&g.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:_,stopSequences:S}=vf({prompt:n,inputFormat:e}),E=[...S??[],...c??[]],$={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:s,top_p:a,frequency_penalty:o,presence_penalty:l,seed:d,prompt:_,stop:E.length>0?E:void 0};switch(h){case"regular":{if((p=t.tools)!=null&&p.length)throw new Re({functionality:"tools"});if(t.toolChoice)throw new Re({functionality:"toolChoice"});return{args:$,warnings:g}}case"object-json":throw new Re({functionality:"object-json mode"});case"object-tool":throw new Re({functionality:"object-tool mode"});default:{const L=h;throw new Error(`Unsupported type: ${L}`)}}}async doGenerate(t){var e,n,r,s;const{args:a,warnings:i}=this.getArgs(t),{responseHeaders:o,value:l}=await Mt({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Rt(this.config.headers(),t.headers),body:a,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Er(bf),abortSignal:t.abortSignal,fetch:this.config.fetch}),{prompt:c,...u}=a,d=l.choices[0];return{text:d.text,usage:{promptTokens:(n=(e=l.usage)==null?void 0:e.prompt_tokens)!=null?n:NaN,completionTokens:(s=(r=l.usage)==null?void 0:r.completion_tokens)!=null?s:NaN},finishReason:Bn(d.finish_reason),rawCall:{rawPrompt:c,rawSettings:u},rawResponse:{headers:o},response:Vn(l),warnings:i,request:{body:JSON.stringify(a)}}}async doStream(t){const{args:e,warnings:n}=this.getArgs(t),r={...e,stream:!0},{responseHeaders:s,value:a}=await Mt({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Rt(this.config.headers(),t.headers),body:r,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Sa(this.chunkSchema),abortSignal:t.abortSignal,fetch:this.config.fetch}),{prompt:i,...o}=e;let l="unknown",c={promptTokens:Number.NaN,completionTokens:Number.NaN},u=!0;return{stream:a.pipeThrough(new TransformStream({transform(d,p){if(!d.success){l="error",p.enqueue({type:"error",error:d.error});return}const h=d.value;if("error"in h){l="error",p.enqueue({type:"error",error:h.error});return}u&&(u=!1,p.enqueue({type:"response-metadata",...Vn(h)})),h.usage!=null&&(c={promptTokens:h.usage.prompt_tokens,completionTokens:h.usage.completion_tokens});const g=h.choices[0];(g==null?void 0:g.finish_reason)!=null&&(l=Bn(g.finish_reason)),(g==null?void 0:g.text)!=null&&p.enqueue({type:"text-delta",textDelta:g.text})},flush(d){d.enqueue({type:"finish",finishReason:l,usage:c})}})),rawCall:{rawPrompt:i,rawSettings:o},rawResponse:{headers:s},warnings:n,request:{body:JSON.stringify(r)}}}},bf=f.object({id:f.string().nullish(),created:f.number().nullish(),model:f.string().nullish(),choices:f.array(f.object({text:f.string(),finish_reason:f.string()})),usage:f.object({prompt_tokens:f.number(),completion_tokens:f.number()}).nullish()}),wf=t=>f.union([f.object({id:f.string().nullish(),created:f.number().nullish(),model:f.string().nullish(),choices:f.array(f.object({text:f.string(),finish_reason:f.string().nullish(),index:f.number()})),usage:f.object({prompt_tokens:f.number(),completion_tokens:f.number()}).nullish()}),t]),Sf=class{constructor(t,e,n){this.specificationVersion="v1",this.modelId=t,this.settings=e,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var t;return(t=this.config.maxEmbeddingsPerCall)!=null?t:2048}get supportsParallelCalls(){var t;return(t=this.config.supportsParallelCalls)!=null?t:!0}async doEmbed({values:t,headers:e,abortSignal:n}){var r;if(t.length>this.maxEmbeddingsPerCall)throw new vo({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:t});const{responseHeaders:s,value:a}=await Mt({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:Rt(this.config.headers(),e),body:{model:this.modelId,input:t,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:Tr((r=this.config.errorStructure)!=null?r:Br),successfulResponseHandler:Er(xf),abortSignal:n,fetch:this.config.fetch});return{embeddings:a.data.map(i=>i.embedding),usage:a.usage?{tokens:a.usage.prompt_tokens}:void 0,rawResponse:{headers:s}}}},xf=f.object({data:f.array(f.object({embedding:f.array(f.number())})),usage:f.object({prompt_tokens:f.number()}).nullish()});function no(t={}){const e=Jo(t.baseURL??"https://assistant.nicholasgriffin.workers.dev"),n=()=>({Authorization:`Bearer ${Po({apiKey:t.apiKey,environmentVariableName:"ASSISTANT_API_KEY",description:"Assistant API key"})}`,"X-User-Email":"obsidian@nicholasgriffin.dev","Content-Type":"application/json",...t.headers}),r=(u,d={})=>({provider:`assistant.${u}`,url:({path:p})=>`${e}${p}`,headers:n,fetch:(p,h)=>{const g=JSON.parse(h==null?void 0:h.body),_={...h,body:JSON.stringify({...g,chat_id:d.chatId,useRAG:d.useRAG,ragOptions:d.ragOptions,shouldSave:d.shouldSave,platform:"obsidian",mode:"remote",budgetConstraint:d.budgetConstraint})};return console.log("fetch",p,_),fetch(p,_)}}),s=(u,d={})=>new mf(u,d,{...r("chat",d),defaultObjectGenerationMode:"tool"}),a=(u,d={})=>new _f(u,d,r("completion",d)),i=(u,d={})=>new Sf(u,d,r("embedding",d)),o=async(u,d,p,h,g)=>{const _=`${e}/apps/insert-embedding`,S=n(),E=JSON.stringify({title:u,content:d,type:p,metadata:h,ragOptions:g}),$=await fetch(_,{method:"POST",headers:S,body:E});if(!$.ok)throw new Error(`Failed to create embedding: ${$.statusText}`);return $.json()},l=async u=>{const d=`${e}/apps/delete-embeddings`,p=n(),h=JSON.stringify({ids:u}),g=await fetch(d,{method:"POST",headers:p,body:h});if(!g.ok)throw new Error(`Failed to delete embedding: ${g.statusText}`);return g.json()},c=(u,d)=>s(u,d);return c.completionModel=a,c.chatModel=s,c.textEmbeddingModel=i,c.createEmbedding=o,c.deleteEmbedding=l,c}no();class kf extends M.Plugin{constructor(){super(...arguments),this.logger=new nf}getDecryptedApiKey(e){if(!e)return"";try{if(pt.isEncryptionAvailable())return pt.decryptString(Buffer.from(e,"base64"))}catch(n){this.logger.error("Failed to decrypt API key:",{error:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0})}return e}async initializeServices(){const e=this.getDecryptedApiKey(this.settings.assistantApiKey);this.assistant=no({apiKey:e,baseURL:this.settings.assistantApiUrl}),this.syncService=new tf(this.app,this.assistant,this.logger,this.settings.ignoredFolders)}setupSyncInterval(){this.syncInterval&&window.clearInterval(this.syncInterval),this.settings.syncEnabled&&(this.syncInterval=window.setInterval(()=>this.syncNotes(),this.settings.autoSyncInterval*60*1e3),this.registerInterval(this.syncInterval))}async loadSettings(){this.settings=Object.assign({},ep,await this.loadData()),await this.initializeServices(),this.logger.debug("Settings loaded")}async saveSettings(){await this.saveData(this.settings),await this.initializeServices(),this.setupSyncInterval(),this.logger.debug("Settings saved")}async activateView(){if(this.app.workspace.getLeavesOfType(lt).length===0){const n=this.app.workspace.getRightLeaf(!1);n&&await n.setViewState({type:lt,active:!0})}this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(lt)[0])}async onload(){await this.loadSettings(),$i({level:this.settings.logLevel,serviceName:ji}),this.addSettingTab(new ap(this.app,this)),this.registerView(lt,e=>new lf(e,this.app,this.assistant,this.logger,this.settings,this.syncService)),this.setupSyncInterval(),this.registerEvent(this.app.metadataCache.on("deleted",async e=>{try{if(e instanceof M.TFile&&e.extension==="md"){const n=this.syncService.createVectorId(e.name);await this.assistant.deleteEmbedding([n]);const r=`.obsidian-assistant/sync/${n}.json`;await this.app.vault.adapter.exists(r)&&await this.app.vault.adapter.remove(r),new M.Notice(`Deleted file ${e.path} from the vector index`)}}catch(n){this.logger.error("Failed to remove deleted file from vector index:",{error:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0}),new M.Notice(`Failed to remove deleted file ${e.path} from the vector index: ${n instanceof Error?n.message:String(n)}`)}})),this.app.workspace.onLayoutReady(async()=>{try{this.addRibbonIcon("message-circle","Open AI Chat",()=>this.activateView()),this.syncStatusBar=this.addStatusBarItem(),this.updateSyncStatus("Ready");const e=new df(this.app,this.logger);await e.loadCustomTemplates(this.settings.customTemplatesFolder),this.addCommand({id:"start-chat",name:"Start Chat",callback:()=>{new ef(this.app,this.assistant,this.logger,this.settings,this.syncService).open()}}),this.addCommand({id:"sync-notes",name:"Sync Notes",callback:()=>this.syncNotes()});const n=new uf(this.app,this.assistant,this.logger,this.settings,e);this.addCommand({id:"continue-writing",name:"Continue Writing",editorCallback:s=>{n.generateInEditor(s,{templateName:"continue",insertAtCursor:!0,addNewline:!0})}}),this.addCommand({id:"summarise-selection",name:"Summarise Selection",editorCheckCallback:(s,a)=>{const i=a.somethingSelected();if(s)return i;n.generateInEditor(a,{templateName:"summarise",replaceSelection:!0})}}),this.addCommand({id:"expand-selection",name:"Expand Selection",editorCheckCallback:(s,a)=>{const i=a.somethingSelected();if(s)return i;n.generateInEditor(a,{templateName:"expand",insertAtCursor:!0,addNewline:!0})}}),this.addCommand({id:"rewrite-selection",name:"Rewrite Selection",editorCheckCallback:(s,a)=>{const i=a.somethingSelected();if(s)return i;n.generateInEditor(a,{templateName:"rewrite",replaceSelection:!0})}}),this.addCommand({id:"simplify-selection",name:"Simplify Selection",editorCheckCallback:(s,a)=>{const i=a.somethingSelected();if(s)return i;n.generateInEditor(a,{templateName:"simplify",replaceSelection:!0})}}),this.addCommand({id:"suggest-tags",name:"Suggest Tags",editorCallback:s=>{n.generateInEditor(s,{templateName:"suggest-tags",replaceSelection:!1,addNewline:!0})}}),this.addCommand({id:"generate-title",name:"Generate Title",editorCallback:async s=>{const a=this.app.workspace.getActiveFile();if(a)try{const i=s.getValue(),o=e.getTemplate("generate-title");if(!o)throw new Error("Generate title template not found");const{text:l}=await Pr({model:this.assistant(this.settings.modelId),prompt:await e.applyTemplate(o,{text:i}),maxRetries:3,maxTokens:this.settings.maxTokens,temperature:this.settings.temperature});if(typeof l!="string")throw new Error("Generated title is not a string");const c=l.replace(/^#\s+/,"").replace(/[\/\\:*?"<>|]/g,"").replace(/\s+/g,"-").trim().toLowerCase(),u=a.path.replace(a.name,`${c}.${a.extension}`);await this.app.fileManager.renameFile(a,u),new M.Notice(`File renamed to: ${c}`)}catch(i){this.logger.error("Failed to generate title and rename file:",{error:i instanceof Error?i.message:String(i),stack:i instanceof Error?i.stack:void 0}),new M.Notice("Failed to generate title and rename file")}}}),this.addCommand({id:"generate-text-with-variables",name:"Generate Text With Variables",editorCallback:s=>{n.generateWithModal(s,"generate-text",{addNewline:!0})}}),this.addCommand({id:"brainstorm",name:"Brainstorm",editorCallback:s=>{n.generateInEditor(s,{templateName:"brainstorm",replaceSelection:!1,addNewline:!0})}});const r=Array.from(e.getTemplates()).filter(([s,a])=>!a.default);for(const[s,a]of r){const i=`template-${s}`;this.addCommand({id:i,name:a.description||`Execute template: ${a.name}`,editorCallback:o=>{var l;(l=a.variables)!=null&&l.length?n.generateWithModal(o,a.name,{addNewline:!0}):n.generateInEditor(o,{templateName:a.name,replaceSelection:!1,addNewline:!0})}})}this.logger.debug("loaded")}catch(e){this.logger.error("Failed to load commands",{error:e instanceof Error?e.message:String(e)})}})}onunload(){this.syncInterval&&window.clearInterval(this.syncInterval),this.logger&&this.logger.destroy(),this.app.workspace.detachLeavesOfType(lt),this.logger.debug("unloaded")}updateSyncStatus(e){this.syncStatusBar.setText(`AI Sync: ${e}`),this.logger.debug("Sync status updated",{status:e})}async syncNotes(){try{if(this.logger.debug("Syncing notes"),this.updateSyncStatus("In Progress..."),!this.syncService)throw new Error("Sync service not initialized");await this.syncService.sync(),this.settings.lastSyncTime=Date.now(),await this.saveSettings();const e=new Date().toLocaleTimeString();this.updateSyncStatus(`Complete (${e})`),this.logger.debug("Sync complete",{timestamp:e})}catch(e){this.logger.error("Sync failed",{error:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0}),this.updateSyncStatus("Failed"),new M.Notice(`Sync failed: ${e instanceof Error?e.message:String(e)}`)}}}module.exports=kf;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXJAMS4wLjQvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXIvZGlzdC9pbmRleC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbmFub2lkQDMuMy44L25vZGVfbW9kdWxlcy9uYW5vaWQvbm9uLXNlY3VyZS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zZWN1cmUtanNvbi1wYXJzZUAyLjcuMC9ub2RlX21vZHVsZXMvc2VjdXJlLWpzb24tcGFyc2UvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZXZlbnRzb3VyY2UtcGFyc2VyQDMuMC4wL25vZGVfbW9kdWxlcy9ldmVudHNvdXJjZS1wYXJzZXIvZGlzdC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9ldmVudHNvdXJjZS1wYXJzZXJAMy4wLjAvbm9kZV9tb2R1bGVzL2V2ZW50c291cmNlLXBhcnNlci9kaXN0L3N0cmVhbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDIuMC43X3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvZGlzdC9pbmRleC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kLXRvLWpzb24tc2NoZW1hQDMuMjQuMV96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vT3B0aW9ucy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9SZWZzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZC10by1qc29uLXNjaGVtYUAzLjI0LjFfem9kQDMuMjQuMS9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL2Vycm9yTWVzc2FnZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDMuMjQuMS9ub2RlX21vZHVsZXMvem9kL2xpYi9pbmRleC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kLXRvLWpzb24tc2NoZW1hQDMuMjQuMV96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9hbnkuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kLXRvLWpzb24tc2NoZW1hQDMuMjQuMV96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9hcnJheS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL2JpZ2ludC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL2Jvb2xlYW4uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kLXRvLWpzb24tc2NoZW1hQDMuMjQuMV96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9icmFuZGVkLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZC10by1qc29uLXNjaGVtYUAzLjI0LjFfem9kQDMuMjQuMS9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvY2F0Y2guanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kLXRvLWpzb24tc2NoZW1hQDMuMjQuMV96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9kYXRlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZC10by1qc29uLXNjaGVtYUAzLjI0LjFfem9kQDMuMjQuMS9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvZGVmYXVsdC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL2VmZmVjdHMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kLXRvLWpzb24tc2NoZW1hQDMuMjQuMV96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9lbnVtLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZC10by1qc29uLXNjaGVtYUAzLjI0LjFfem9kQDMuMjQuMS9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvaW50ZXJzZWN0aW9uLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZC10by1qc29uLXNjaGVtYUAzLjI0LjFfem9kQDMuMjQuMS9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvbGl0ZXJhbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL3N0cmluZy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL3JlY29yZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL21hcC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL25hdGl2ZUVudW0uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kLXRvLWpzb24tc2NoZW1hQDMuMjQuMV96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9uZXZlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL251bGwuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kLXRvLWpzb24tc2NoZW1hQDMuMjQuMV96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy91bmlvbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL251bGxhYmxlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZC10by1qc29uLXNjaGVtYUAzLjI0LjFfem9kQDMuMjQuMS9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvbnVtYmVyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZC10by1qc29uLXNjaGVtYUAzLjI0LjFfem9kQDMuMjQuMS9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvb2JqZWN0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZC10by1qc29uLXNjaGVtYUAzLjI0LjFfem9kQDMuMjQuMS9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvb3B0aW9uYWwuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kLXRvLWpzb24tc2NoZW1hQDMuMjQuMV96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9waXBlbGluZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL3Byb21pc2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kLXRvLWpzb24tc2NoZW1hQDMuMjQuMV96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9zZXQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kLXRvLWpzb24tc2NoZW1hQDMuMjQuMV96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy90dXBsZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL3VuZGVmaW5lZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL3Vua25vd24uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kLXRvLWpzb24tc2NoZW1hQDMuMjQuMV96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9yZWFkb25seS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZURlZi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2QtdG8tanNvbi1zY2hlbWFAMy4yNC4xX3pvZEAzLjI0LjEvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS96b2RUb0pzb25TY2hlbWEuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkayt1aS11dGlsc0AxLjAuOF96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy9AYWktc2RrL3VpLXV0aWxzL2Rpc3QvaW5kZXgubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL2J1aWxkL2VzbS9wbGF0Zm9ybS9icm93c2VyL2dsb2JhbFRoaXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvYnVpbGQvZXNtL3ZlcnNpb24uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvYnVpbGQvZXNtL2ludGVybmFsL3NlbXZlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9idWlsZC9lc20vaW50ZXJuYWwvZ2xvYmFsLXV0aWxzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL2J1aWxkL2VzbS9kaWFnL0NvbXBvbmVudExvZ2dlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9idWlsZC9lc20vZGlhZy90eXBlcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9idWlsZC9lc20vZGlhZy9pbnRlcm5hbC9sb2dMZXZlbExvZ2dlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9idWlsZC9lc20vYXBpL2RpYWcuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvYnVpbGQvZXNtL2NvbnRleHQvY29udGV4dC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9idWlsZC9lc20vY29udGV4dC9Ob29wQ29udGV4dE1hbmFnZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvYnVpbGQvZXNtL2FwaS9jb250ZXh0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL2J1aWxkL2VzbS90cmFjZS90cmFjZV9mbGFncy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9idWlsZC9lc20vdHJhY2UvaW52YWxpZC1zcGFuLWNvbnN0YW50cy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9idWlsZC9lc20vdHJhY2UvTm9uUmVjb3JkaW5nU3Bhbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9idWlsZC9lc20vdHJhY2UvY29udGV4dC11dGlscy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9idWlsZC9lc20vdHJhY2Uvc3BhbmNvbnRleHQtdXRpbHMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvYnVpbGQvZXNtL3RyYWNlL05vb3BUcmFjZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvYnVpbGQvZXNtL3RyYWNlL1Byb3h5VHJhY2VyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL2J1aWxkL2VzbS90cmFjZS9Ob29wVHJhY2VyUHJvdmlkZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvYnVpbGQvZXNtL3RyYWNlL1Byb3h5VHJhY2VyUHJvdmlkZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvYnVpbGQvZXNtL3RyYWNlL3N0YXR1cy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9idWlsZC9lc20vYXBpL3RyYWNlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL2J1aWxkL2VzbS90cmFjZS1hcGkuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANC4wLjMzX3JlYWN0QDE5LjAuMF96b2RAMy4yNC4xL25vZGVfbW9kdWxlcy9haS9kaXN0L2luZGV4Lm1qcyIsIi4uLy4uLy4uLy4uL3NyYy9saWIvb2JmdXNjYXRlLnRzIiwiLi4vLi4vLi4vLi4vc3JjL2xpYi9zYWZlU3RvcmFnZS50cyIsIi4uLy4uLy4uLy4uL3NyYy9zZXJ2aWNlcy9haS9zZXR0aW5ncy50cyIsIi4uLy4uLy4uLy4uL3NyYy9jb25zdGFudHMudHMiLCIuLi8uLi8uLi8uLi9zcmMvbGliL2xvZ2dlci1jb25maWcudHMiLCIuLi8uLi8uLi8uLi9zcmMvc2V0dGluZ3MudHMiLCIuLi8uLi8uLi8uLi9zcmMvc2hhcmVkL2Jhc2UtY2hhdC50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4yLjE5L25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvdXRpbHMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3ZlbHRlQDQuMi4xOS9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2Vudmlyb25tZW50LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N2ZWx0ZUA0LjIuMTkvbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9sb29wLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N2ZWx0ZUA0LjIuMTkvbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9kb20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3ZlbHRlQDQuMi4xOS9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3N0eWxlX21hbmFnZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3ZlbHRlQDQuMi4xOS9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2xpZmVjeWNsZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4yLjE5L25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvc2NoZWR1bGVyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N2ZWx0ZUA0LjIuMTkvbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC90cmFuc2l0aW9ucy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4yLjE5L25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZWFjaC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4yLjE5L25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvQ29tcG9uZW50LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N2ZWx0ZUA0LjIuMTkvbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvc2hhcmVkL3ZlcnNpb24uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3ZlbHRlQDQuMi4xOS9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2Rpc2Nsb3NlLXZlcnNpb24vaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3ZlbHRlQDQuMi4xOS9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2Vhc2luZy9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4yLjE5L25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvdHJhbnNpdGlvbi9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL3NyYy91dGlscy9tYXJrZG93bi1wYXJzZXIudHMiLCIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9pY29ucy9jb3B5LnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL01lc3NhZ2VMaXN0LnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2ljb25zL3NlbmQuc3ZlbHRlIiwiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvaWNvbnMvZmlsdGVyLnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2ljb25zL2NsZWFuLnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NoYXRJbnB1dC5zdmVsdGUiLCIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9DaGF0TW9kYWwuc3ZlbHRlIiwiLi4vLi4vLi4vLi4vc3JjL21vZGFscy9jaGF0LnRzIiwiLi4vLi4vLi4vLi4vc3JjL3NlcnZpY2VzL3N5bmMudHMiLCIuLi8uLi8uLi8uLi9zcmMvdHlwZXMvaW5kZXgudHMiLCIuLi8uLi8uLi8uLi9zcmMvbGliL2xvZ2dlci50cyIsIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NoYXRWaWV3LnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy92aWV3cy9jaGF0LnRzIiwiLi4vLi4vLi4vLi4vc3JjL21vZGFscy9nZW5lcmF0ZS10ZXh0LnRzIiwiLi4vLi4vLi4vLi4vc3JjL3NlcnZpY2VzL3RleHQtZ2VuZXJhdG9yLnRzIiwiLi4vLi4vLi4vLi4vc3JjL3NlcnZpY2VzL3RlbXBsYXRlLW1hbmFnZXIudHMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytvcGVuYWktY29tcGF0aWJsZUAwLjAuMTZfem9kQDMuMjQuMS9ub2RlX21vZHVsZXMvQGFpLXNkay9vcGVuYWktY29tcGF0aWJsZS9kaXN0L2luZGV4Lm1qcyIsIi4uLy4uLy4uLy4uL3NyYy9zZXJ2aWNlcy9haS9wcm92aWRlci50cyIsIi4uLy4uLy4uLy4uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9lcnJvcnMvYWktc2RrLWVycm9yLnRzXG52YXIgbWFya2VyID0gXCJ2ZXJjZWwuYWkuZXJyb3JcIjtcbnZhciBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG52YXIgX2E7XG52YXIgX0FJU0RLRXJyb3IgPSBjbGFzcyBfQUlTREtFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gQUkgU0RLIEVycm9yLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGNyZWF0aW5nIHRoZSBlcnJvci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGVycm9yLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLm1lc3NhZ2UgLSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICogQHBhcmFtIHt1bmtub3dufSBbcGFyYW1zLmNhdXNlXSAtIFRoZSB1bmRlcmx5aW5nIGNhdXNlIG9mIHRoZSBlcnJvci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBuYW1lOiBuYW1lMTQsXG4gICAgbWVzc2FnZSxcbiAgICBjYXVzZVxuICB9KSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpc1tfYV0gPSB0cnVlO1xuICAgIHRoaXMubmFtZSA9IG5hbWUxNDtcbiAgICB0aGlzLmNhdXNlID0gY2F1c2U7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gZXJyb3IgaXMgYW4gQUkgU0RLIEVycm9yLlxuICAgKiBAcGFyYW0ge3Vua25vd259IGVycm9yIC0gVGhlIGVycm9yIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXJyb3IgaXMgYW4gQUkgU0RLIEVycm9yLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBfQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbiAgc3RhdGljIGhhc01hcmtlcihlcnJvciwgbWFya2VyMTUpIHtcbiAgICBjb25zdCBtYXJrZXJTeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcjE1KTtcbiAgICByZXR1cm4gZXJyb3IgIT0gbnVsbCAmJiB0eXBlb2YgZXJyb3IgPT09IFwib2JqZWN0XCIgJiYgbWFya2VyU3ltYm9sIGluIGVycm9yICYmIHR5cGVvZiBlcnJvclttYXJrZXJTeW1ib2xdID09PSBcImJvb2xlYW5cIiAmJiBlcnJvclttYXJrZXJTeW1ib2xdID09PSB0cnVlO1xuICB9XG59O1xuX2EgPSBzeW1ib2w7XG52YXIgQUlTREtFcnJvciA9IF9BSVNES0Vycm9yO1xuXG4vLyBzcmMvZXJyb3JzL2FwaS1jYWxsLWVycm9yLnRzXG52YXIgbmFtZSA9IFwiQUlfQVBJQ2FsbEVycm9yXCI7XG52YXIgbWFya2VyMiA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG52YXIgc3ltYm9sMiA9IFN5bWJvbC5mb3IobWFya2VyMik7XG52YXIgX2EyO1xudmFyIEFQSUNhbGxFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlLFxuICAgIHVybCxcbiAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICBzdGF0dXNDb2RlLFxuICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICByZXNwb25zZUJvZHksXG4gICAgY2F1c2UsXG4gICAgaXNSZXRyeWFibGUgPSBzdGF0dXNDb2RlICE9IG51bGwgJiYgKHN0YXR1c0NvZGUgPT09IDQwOCB8fCAvLyByZXF1ZXN0IHRpbWVvdXRcbiAgICBzdGF0dXNDb2RlID09PSA0MDkgfHwgLy8gY29uZmxpY3RcbiAgICBzdGF0dXNDb2RlID09PSA0MjkgfHwgLy8gdG9vIG1hbnkgcmVxdWVzdHNcbiAgICBzdGF0dXNDb2RlID49IDUwMCksXG4gICAgLy8gc2VydmVyIGVycm9yXG4gICAgZGF0YVxuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlLCBjYXVzZSB9KTtcbiAgICB0aGlzW19hMl0gPSB0cnVlO1xuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMucmVxdWVzdEJvZHlWYWx1ZXMgPSByZXF1ZXN0Qm9keVZhbHVlcztcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgIHRoaXMucmVzcG9uc2VIZWFkZXJzID0gcmVzcG9uc2VIZWFkZXJzO1xuICAgIHRoaXMucmVzcG9uc2VCb2R5ID0gcmVzcG9uc2VCb2R5O1xuICAgIHRoaXMuaXNSZXRyeWFibGUgPSBpc1JldHJ5YWJsZTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIyKTtcbiAgfVxufTtcbl9hMiA9IHN5bWJvbDI7XG5cbi8vIHNyYy9lcnJvcnMvZW1wdHktcmVzcG9uc2UtYm9keS1lcnJvci50c1xudmFyIG5hbWUyID0gXCJBSV9FbXB0eVJlc3BvbnNlQm9keUVycm9yXCI7XG52YXIgbWFya2VyMyA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMn1gO1xudmFyIHN5bWJvbDMgPSBTeW1ib2wuZm9yKG1hcmtlcjMpO1xudmFyIF9hMztcbnZhciBFbXB0eVJlc3BvbnNlQm9keUVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSA9IFwiRW1wdHkgcmVzcG9uc2UgYm9keVwiIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTIsIG1lc3NhZ2UgfSk7XG4gICAgdGhpc1tfYTNdID0gdHJ1ZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyMyk7XG4gIH1cbn07XG5fYTMgPSBzeW1ib2wzO1xuXG4vLyBzcmMvZXJyb3JzL2dldC1lcnJvci1tZXNzYWdlLnRzXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UoZXJyb3IpIHtcbiAgaWYgKGVycm9yID09IG51bGwpIHtcbiAgICByZXR1cm4gXCJ1bmtub3duIGVycm9yXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBlcnJvciA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICB9XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShlcnJvcik7XG59XG5cbi8vIHNyYy9lcnJvcnMvaW52YWxpZC1hcmd1bWVudC1lcnJvci50c1xudmFyIG5hbWUzID0gXCJBSV9JbnZhbGlkQXJndW1lbnRFcnJvclwiO1xudmFyIG1hcmtlcjQgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTN9YDtcbnZhciBzeW1ib2w0ID0gU3ltYm9sLmZvcihtYXJrZXI0KTtcbnZhciBfYTQ7XG52YXIgSW52YWxpZEFyZ3VtZW50RXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSxcbiAgICBjYXVzZSxcbiAgICBhcmd1bWVudFxuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lMywgbWVzc2FnZSwgY2F1c2UgfSk7XG4gICAgdGhpc1tfYTRdID0gdHJ1ZTtcbiAgICB0aGlzLmFyZ3VtZW50ID0gYXJndW1lbnQ7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjQpO1xuICB9XG59O1xuX2E0ID0gc3ltYm9sNDtcblxuLy8gc3JjL2Vycm9ycy9pbnZhbGlkLXByb21wdC1lcnJvci50c1xudmFyIG5hbWU0ID0gXCJBSV9JbnZhbGlkUHJvbXB0RXJyb3JcIjtcbnZhciBtYXJrZXI1ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU0fWA7XG52YXIgc3ltYm9sNSA9IFN5bWJvbC5mb3IobWFya2VyNSk7XG52YXIgX2E1O1xudmFyIEludmFsaWRQcm9tcHRFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZSxcbiAgICBjYXVzZVxuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lNCwgbWVzc2FnZTogYEludmFsaWQgcHJvbXB0OiAke21lc3NhZ2V9YCwgY2F1c2UgfSk7XG4gICAgdGhpc1tfYTVdID0gdHJ1ZTtcbiAgICB0aGlzLnByb21wdCA9IHByb21wdDtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyNSk7XG4gIH1cbn07XG5fYTUgPSBzeW1ib2w1O1xuXG4vLyBzcmMvZXJyb3JzL2ludmFsaWQtcmVzcG9uc2UtZGF0YS1lcnJvci50c1xudmFyIG5hbWU1ID0gXCJBSV9JbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3JcIjtcbnZhciBtYXJrZXI2ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU1fWA7XG52YXIgc3ltYm9sNiA9IFN5bWJvbC5mb3IobWFya2VyNik7XG52YXIgX2E2O1xudmFyIEludmFsaWRSZXNwb25zZURhdGFFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkYXRhLFxuICAgIG1lc3NhZ2UgPSBgSW52YWxpZCByZXNwb25zZSBkYXRhOiAke0pTT04uc3RyaW5naWZ5KGRhdGEpfS5gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU1LCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2E2XSA9IHRydWU7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyNik7XG4gIH1cbn07XG5fYTYgPSBzeW1ib2w2O1xuXG4vLyBzcmMvZXJyb3JzL2pzb24tcGFyc2UtZXJyb3IudHNcbnZhciBuYW1lNiA9IFwiQUlfSlNPTlBhcnNlRXJyb3JcIjtcbnZhciBtYXJrZXI3ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU2fWA7XG52YXIgc3ltYm9sNyA9IFN5bWJvbC5mb3IobWFya2VyNyk7XG52YXIgX2E3O1xudmFyIEpTT05QYXJzZUVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3IoeyB0ZXh0LCBjYXVzZSB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZTogbmFtZTYsXG4gICAgICBtZXNzYWdlOiBgSlNPTiBwYXJzaW5nIGZhaWxlZDogVGV4dDogJHt0ZXh0fS5cbkVycm9yIG1lc3NhZ2U6ICR7Z2V0RXJyb3JNZXNzYWdlKGNhdXNlKX1gLFxuICAgICAgY2F1c2VcbiAgICB9KTtcbiAgICB0aGlzW19hN10gPSB0cnVlO1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjcpO1xuICB9XG59O1xuX2E3ID0gc3ltYm9sNztcblxuLy8gc3JjL2Vycm9ycy9sb2FkLWFwaS1rZXktZXJyb3IudHNcbnZhciBuYW1lNyA9IFwiQUlfTG9hZEFQSUtleUVycm9yXCI7XG52YXIgbWFya2VyOCA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lN31gO1xudmFyIHN5bWJvbDggPSBTeW1ib2wuZm9yKG1hcmtlcjgpO1xudmFyIF9hODtcbnZhciBMb2FkQVBJS2V5RXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICAvLyB1c2VkIGluIGlzSW5zdGFuY2VcbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU3LCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2E4XSA9IHRydWU7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjgpO1xuICB9XG59O1xuX2E4ID0gc3ltYm9sODtcblxuLy8gc3JjL2Vycm9ycy9sb2FkLXNldHRpbmctZXJyb3IudHNcbnZhciBuYW1lOCA9IFwiQUlfTG9hZFNldHRpbmdFcnJvclwiO1xudmFyIG1hcmtlcjkgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTh9YDtcbnZhciBzeW1ib2w5ID0gU3ltYm9sLmZvcihtYXJrZXI5KTtcbnZhciBfYTk7XG52YXIgTG9hZFNldHRpbmdFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTgsIG1lc3NhZ2UgfSk7XG4gICAgdGhpc1tfYTldID0gdHJ1ZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyOSk7XG4gIH1cbn07XG5fYTkgPSBzeW1ib2w5O1xuXG4vLyBzcmMvZXJyb3JzL25vLWNvbnRlbnQtZ2VuZXJhdGVkLWVycm9yLnRzXG52YXIgbmFtZTkgPSBcIkFJX05vQ29udGVudEdlbmVyYXRlZEVycm9yXCI7XG52YXIgbWFya2VyMTAgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTl9YDtcbnZhciBzeW1ib2wxMCA9IFN5bWJvbC5mb3IobWFya2VyMTApO1xudmFyIF9hMTA7XG52YXIgTm9Db250ZW50R2VuZXJhdGVkRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICAvLyB1c2VkIGluIGlzSW5zdGFuY2VcbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSBcIk5vIGNvbnRlbnQgZ2VuZXJhdGVkLlwiXG4gIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTksIG1lc3NhZ2UgfSk7XG4gICAgdGhpc1tfYTEwXSA9IHRydWU7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjEwKTtcbiAgfVxufTtcbl9hMTAgPSBzeW1ib2wxMDtcblxuLy8gc3JjL2Vycm9ycy9uby1zdWNoLW1vZGVsLWVycm9yLnRzXG52YXIgbmFtZTEwID0gXCJBSV9Ob1N1Y2hNb2RlbEVycm9yXCI7XG52YXIgbWFya2VyMTEgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTEwfWA7XG52YXIgc3ltYm9sMTEgPSBTeW1ib2wuZm9yKG1hcmtlcjExKTtcbnZhciBfYTExO1xudmFyIE5vU3VjaE1vZGVsRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZXJyb3JOYW1lID0gbmFtZTEwLFxuICAgIG1vZGVsSWQsXG4gICAgbW9kZWxUeXBlLFxuICAgIG1lc3NhZ2UgPSBgTm8gc3VjaCAke21vZGVsVHlwZX06ICR7bW9kZWxJZH1gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IGVycm9yTmFtZSwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hMTFdID0gdHJ1ZTtcbiAgICB0aGlzLm1vZGVsSWQgPSBtb2RlbElkO1xuICAgIHRoaXMubW9kZWxUeXBlID0gbW9kZWxUeXBlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxMSk7XG4gIH1cbn07XG5fYTExID0gc3ltYm9sMTE7XG5cbi8vIHNyYy9lcnJvcnMvdG9vLW1hbnktZW1iZWRkaW5nLXZhbHVlcy1mb3ItY2FsbC1lcnJvci50c1xudmFyIG5hbWUxMSA9IFwiQUlfVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvclwiO1xudmFyIG1hcmtlcjEyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUxMX1gO1xudmFyIHN5bWJvbDEyID0gU3ltYm9sLmZvcihtYXJrZXIxMik7XG52YXIgX2ExMjtcbnZhciBUb29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWU6IG5hbWUxMSxcbiAgICAgIG1lc3NhZ2U6IGBUb28gbWFueSB2YWx1ZXMgZm9yIGEgc2luZ2xlIGVtYmVkZGluZyBjYWxsLiBUaGUgJHtvcHRpb25zLnByb3ZpZGVyfSBtb2RlbCBcIiR7b3B0aW9ucy5tb2RlbElkfVwiIGNhbiBvbmx5IGVtYmVkIHVwIHRvICR7b3B0aW9ucy5tYXhFbWJlZGRpbmdzUGVyQ2FsbH0gdmFsdWVzIHBlciBjYWxsLCBidXQgJHtvcHRpb25zLnZhbHVlcy5sZW5ndGh9IHZhbHVlcyB3ZXJlIHByb3ZpZGVkLmBcbiAgICB9KTtcbiAgICB0aGlzW19hMTJdID0gdHJ1ZTtcbiAgICB0aGlzLnByb3ZpZGVyID0gb3B0aW9ucy5wcm92aWRlcjtcbiAgICB0aGlzLm1vZGVsSWQgPSBvcHRpb25zLm1vZGVsSWQ7XG4gICAgdGhpcy5tYXhFbWJlZGRpbmdzUGVyQ2FsbCA9IG9wdGlvbnMubWF4RW1iZWRkaW5nc1BlckNhbGw7XG4gICAgdGhpcy52YWx1ZXMgPSBvcHRpb25zLnZhbHVlcztcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyMTIpO1xuICB9XG59O1xuX2ExMiA9IHN5bWJvbDEyO1xuXG4vLyBzcmMvZXJyb3JzL3R5cGUtdmFsaWRhdGlvbi1lcnJvci50c1xudmFyIG5hbWUxMiA9IFwiQUlfVHlwZVZhbGlkYXRpb25FcnJvclwiO1xudmFyIG1hcmtlcjEzID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUxMn1gO1xudmFyIHN5bWJvbDEzID0gU3ltYm9sLmZvcihtYXJrZXIxMyk7XG52YXIgX2ExMztcbnZhciBfVHlwZVZhbGlkYXRpb25FcnJvciA9IGNsYXNzIF9UeXBlVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHsgdmFsdWUsIGNhdXNlIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lOiBuYW1lMTIsXG4gICAgICBtZXNzYWdlOiBgVHlwZSB2YWxpZGF0aW9uIGZhaWxlZDogVmFsdWU6ICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfS5cbkVycm9yIG1lc3NhZ2U6ICR7Z2V0RXJyb3JNZXNzYWdlKGNhdXNlKX1gLFxuICAgICAgY2F1c2VcbiAgICB9KTtcbiAgICB0aGlzW19hMTNdID0gdHJ1ZTtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjEzKTtcbiAgfVxuICAvKipcbiAgICogV3JhcHMgYW4gZXJyb3IgaW50byBhIFR5cGVWYWxpZGF0aW9uRXJyb3IuXG4gICAqIElmIHRoZSBjYXVzZSBpcyBhbHJlYWR5IGEgVHlwZVZhbGlkYXRpb25FcnJvciB3aXRoIHRoZSBzYW1lIHZhbHVlLCBpdCByZXR1cm5zIHRoZSBjYXVzZS5cbiAgICogT3RoZXJ3aXNlLCBpdCBjcmVhdGVzIGEgbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3Igd3JhcHBpbmcgdGhlIGVycm9yLlxuICAgKiBAcGFyYW0ge3Vua25vd259IHBhcmFtcy52YWx1ZSAtIFRoZSB2YWx1ZSB0aGF0IGZhaWxlZCB2YWxpZGF0aW9uLlxuICAgKiBAcGFyYW0ge3Vua25vd259IHBhcmFtcy5jYXVzZSAtIFRoZSBvcmlnaW5hbCBlcnJvciBvciBjYXVzZSBvZiB0aGUgdmFsaWRhdGlvbiBmYWlsdXJlLlxuICAgKiBAcmV0dXJucyB7VHlwZVZhbGlkYXRpb25FcnJvcn0gQSBUeXBlVmFsaWRhdGlvbkVycm9yIGluc3RhbmNlLlxuICAgKi9cbiAgc3RhdGljIHdyYXAoe1xuICAgIHZhbHVlLFxuICAgIGNhdXNlXG4gIH0pIHtcbiAgICByZXR1cm4gX1R5cGVWYWxpZGF0aW9uRXJyb3IuaXNJbnN0YW5jZShjYXVzZSkgJiYgY2F1c2UudmFsdWUgPT09IHZhbHVlID8gY2F1c2UgOiBuZXcgX1R5cGVWYWxpZGF0aW9uRXJyb3IoeyB2YWx1ZSwgY2F1c2UgfSk7XG4gIH1cbn07XG5fYTEzID0gc3ltYm9sMTM7XG52YXIgVHlwZVZhbGlkYXRpb25FcnJvciA9IF9UeXBlVmFsaWRhdGlvbkVycm9yO1xuXG4vLyBzcmMvZXJyb3JzL3Vuc3VwcG9ydGVkLWZ1bmN0aW9uYWxpdHktZXJyb3IudHNcbnZhciBuYW1lMTMgPSBcIkFJX1Vuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yXCI7XG52YXIgbWFya2VyMTQgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTEzfWA7XG52YXIgc3ltYm9sMTQgPSBTeW1ib2wuZm9yKG1hcmtlcjE0KTtcbnZhciBfYTE0O1xudmFyIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGZ1bmN0aW9uYWxpdHksXG4gICAgbWVzc2FnZSA9IGAnJHtmdW5jdGlvbmFsaXR5fScgZnVuY3Rpb25hbGl0eSBub3Qgc3VwcG9ydGVkLmBcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTEzLCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2ExNF0gPSB0cnVlO1xuICAgIHRoaXMuZnVuY3Rpb25hbGl0eSA9IGZ1bmN0aW9uYWxpdHk7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjE0KTtcbiAgfVxufTtcbl9hMTQgPSBzeW1ib2wxNDtcblxuLy8gc3JjL2pzb24tdmFsdWUvaXMtanNvbi50c1xuZnVuY3Rpb24gaXNKU09OVmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS5ldmVyeShpc0pTT05WYWx1ZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh2YWx1ZSkuZXZlcnkoXG4gICAgICAoW2tleSwgdmFsXSkgPT4gdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiAmJiBpc0pTT05WYWx1ZSh2YWwpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc0pTT05BcnJheSh2YWx1ZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUuZXZlcnkoaXNKU09OVmFsdWUpO1xufVxuZnVuY3Rpb24gaXNKU09OT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3QuZW50cmllcyh2YWx1ZSkuZXZlcnkoXG4gICAgKFtrZXksIHZhbF0pID0+IHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgJiYgaXNKU09OVmFsdWUodmFsKVxuICApO1xufVxuZXhwb3J0IHtcbiAgQUlTREtFcnJvcixcbiAgQVBJQ2FsbEVycm9yLFxuICBFbXB0eVJlc3BvbnNlQm9keUVycm9yLFxuICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgSW52YWxpZFByb21wdEVycm9yLFxuICBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3IsXG4gIEpTT05QYXJzZUVycm9yLFxuICBMb2FkQVBJS2V5RXJyb3IsXG4gIExvYWRTZXR0aW5nRXJyb3IsXG4gIE5vQ29udGVudEdlbmVyYXRlZEVycm9yLFxuICBOb1N1Y2hNb2RlbEVycm9yLFxuICBUb29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yLFxuICBUeXBlVmFsaWRhdGlvbkVycm9yLFxuICBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcixcbiAgZ2V0RXJyb3JNZXNzYWdlLFxuICBpc0pTT05BcnJheSxcbiAgaXNKU09OT2JqZWN0LFxuICBpc0pTT05WYWx1ZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiLCIvLyBUaGlzIGFscGhhYmV0IHVzZXMgYEEtWmEtejAtOV8tYCBzeW1ib2xzLlxuLy8gVGhlIG9yZGVyIG9mIGNoYXJhY3RlcnMgaXMgb3B0aW1pemVkIGZvciBiZXR0ZXIgZ3ppcCBhbmQgYnJvdGxpIGNvbXByZXNzaW9uLlxuLy8gUmVmZXJlbmNlcyB0byB0aGUgc2FtZSBmaWxlICh3b3JrcyBib3RoIGZvciBnemlwIGFuZCBicm90bGkpOlxuLy8gYCd1c2VgLCBgYW5kb21gLCBhbmQgYHJpY3QnYFxuLy8gUmVmZXJlbmNlcyB0byB0aGUgYnJvdGxpIGRlZmF1bHQgZGljdGlvbmFyeTpcbi8vIGAtMjZUYCwgYDE5ODNgLCBgNDBweGAsIGA3NXB4YCwgYGJ1c2hgLCBgamFja2AsIGBtaW5kYCwgYHZlcnlgLCBhbmQgYHdvbGZgXG5sZXQgdXJsQWxwaGFiZXQgPVxuICAndXNlYW5kb20tMjZUMTk4MzQwUFg3NXB4SkFDS1ZFUllNSU5EQlVTSFdPTEZfR1FaYmZnaGprbHF2d3l6cmljdCdcblxubGV0IGN1c3RvbUFscGhhYmV0ID0gKGFscGhhYmV0LCBkZWZhdWx0U2l6ZSA9IDIxKSA9PiB7XG4gIHJldHVybiAoc2l6ZSA9IGRlZmF1bHRTaXplKSA9PiB7XG4gICAgbGV0IGlkID0gJydcbiAgICAvLyBBIGNvbXBhY3QgYWx0ZXJuYXRpdmUgZm9yIGBmb3IgKHZhciBpID0gMDsgaSA8IHN0ZXA7IGkrKylgLlxuICAgIGxldCBpID0gc2l6ZSB8IDBcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAvLyBgfCAwYCBpcyBtb3JlIGNvbXBhY3QgYW5kIGZhc3RlciB0aGFuIGBNYXRoLmZsb29yKClgLlxuICAgICAgaWQgKz0gYWxwaGFiZXRbKE1hdGgucmFuZG9tKCkgKiBhbHBoYWJldC5sZW5ndGgpIHwgMF1cbiAgICB9XG4gICAgcmV0dXJuIGlkXG4gIH1cbn1cblxubGV0IG5hbm9pZCA9IChzaXplID0gMjEpID0+IHtcbiAgbGV0IGlkID0gJydcbiAgLy8gQSBjb21wYWN0IGFsdGVybmF0aXZlIGZvciBgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGVwOyBpKyspYC5cbiAgbGV0IGkgPSBzaXplIHwgMFxuICB3aGlsZSAoaS0tKSB7XG4gICAgLy8gYHwgMGAgaXMgbW9yZSBjb21wYWN0IGFuZCBmYXN0ZXIgdGhhbiBgTWF0aC5mbG9vcigpYC5cbiAgICBpZCArPSB1cmxBbHBoYWJldFsoTWF0aC5yYW5kb20oKSAqIDY0KSB8IDBdXG4gIH1cbiAgcmV0dXJuIGlkXG59XG5cbmV4cG9ydCB7IG5hbm9pZCwgY3VzdG9tQWxwaGFiZXQgfVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGhhc0J1ZmZlciA9IHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnXG5jb25zdCBzdXNwZWN0UHJvdG9SeCA9IC9cIig/Ol98XFxcXHUwMDVbRmZdKSg/Ol98XFxcXHUwMDVbRmZdKSg/OnB8XFxcXHUwMDcwKSg/OnJ8XFxcXHUwMDcyKSg/Om98XFxcXHUwMDZbRmZdKSg/OnR8XFxcXHUwMDc0KSg/Om98XFxcXHUwMDZbRmZdKSg/Ol98XFxcXHUwMDVbRmZdKSg/Ol98XFxcXHUwMDVbRmZdKVwiXFxzKjovXG5jb25zdCBzdXNwZWN0Q29uc3RydWN0b3JSeCA9IC9cIig/OmN8XFxcXHUwMDYzKSg/Om98XFxcXHUwMDZbRmZdKSg/Om58XFxcXHUwMDZbRWVdKSg/OnN8XFxcXHUwMDczKSg/OnR8XFxcXHUwMDc0KSg/OnJ8XFxcXHUwMDcyKSg/OnV8XFxcXHUwMDc1KSg/OmN8XFxcXHUwMDYzKSg/OnR8XFxcXHUwMDc0KSg/Om98XFxcXHUwMDZbRmZdKSg/OnJ8XFxcXHUwMDcyKVwiXFxzKjovXG5cbmZ1bmN0aW9uIF9wYXJzZSAodGV4dCwgcmV2aXZlciwgb3B0aW9ucykge1xuICAvLyBOb3JtYWxpemUgYXJndW1lbnRzXG4gIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICBpZiAocmV2aXZlciAhPT0gbnVsbCAmJiB0eXBlb2YgcmV2aXZlciA9PT0gJ29iamVjdCcpIHtcbiAgICAgIG9wdGlvbnMgPSByZXZpdmVyXG4gICAgICByZXZpdmVyID0gdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgaWYgKGhhc0J1ZmZlciAmJiBCdWZmZXIuaXNCdWZmZXIodGV4dCkpIHtcbiAgICB0ZXh0ID0gdGV4dC50b1N0cmluZygpXG4gIH1cblxuICAvLyBCT00gY2hlY2tlclxuICBpZiAodGV4dCAmJiB0ZXh0LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgIHRleHQgPSB0ZXh0LnNsaWNlKDEpXG4gIH1cblxuICAvLyBQYXJzZSBub3JtYWxseSwgYWxsb3dpbmcgZXhjZXB0aW9uc1xuICBjb25zdCBvYmogPSBKU09OLnBhcnNlKHRleHQsIHJldml2ZXIpXG5cbiAgLy8gSWdub3JlIG51bGwgYW5kIG5vbi1vYmplY3RzXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gb2JqXG4gIH1cblxuICBjb25zdCBwcm90b0FjdGlvbiA9IChvcHRpb25zICYmIG9wdGlvbnMucHJvdG9BY3Rpb24pIHx8ICdlcnJvcidcbiAgY29uc3QgY29uc3RydWN0b3JBY3Rpb24gPSAob3B0aW9ucyAmJiBvcHRpb25zLmNvbnN0cnVjdG9yQWN0aW9uKSB8fCAnZXJyb3InXG5cbiAgLy8gb3B0aW9uczogJ2Vycm9yJyAoZGVmYXVsdCkgLyAncmVtb3ZlJyAvICdpZ25vcmUnXG4gIGlmIChwcm90b0FjdGlvbiA9PT0gJ2lnbm9yZScgJiYgY29uc3RydWN0b3JBY3Rpb24gPT09ICdpZ25vcmUnKSB7XG4gICAgcmV0dXJuIG9ialxuICB9XG5cbiAgaWYgKHByb3RvQWN0aW9uICE9PSAnaWdub3JlJyAmJiBjb25zdHJ1Y3RvckFjdGlvbiAhPT0gJ2lnbm9yZScpIHtcbiAgICBpZiAoc3VzcGVjdFByb3RvUngudGVzdCh0ZXh0KSA9PT0gZmFsc2UgJiYgc3VzcGVjdENvbnN0cnVjdG9yUngudGVzdCh0ZXh0KSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBvYmpcbiAgICB9XG4gIH0gZWxzZSBpZiAocHJvdG9BY3Rpb24gIT09ICdpZ25vcmUnICYmIGNvbnN0cnVjdG9yQWN0aW9uID09PSAnaWdub3JlJykge1xuICAgIGlmIChzdXNwZWN0UHJvdG9SeC50ZXN0KHRleHQpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIG9ialxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoc3VzcGVjdENvbnN0cnVjdG9yUngudGVzdCh0ZXh0KSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBvYmpcbiAgICB9XG4gIH1cblxuICAvLyBTY2FuIHJlc3VsdCBmb3IgcHJvdG8ga2V5c1xuICByZXR1cm4gZmlsdGVyKG9iaiwgeyBwcm90b0FjdGlvbiwgY29uc3RydWN0b3JBY3Rpb24sIHNhZmU6IG9wdGlvbnMgJiYgb3B0aW9ucy5zYWZlIH0pXG59XG5cbmZ1bmN0aW9uIGZpbHRlciAob2JqLCB7IHByb3RvQWN0aW9uID0gJ2Vycm9yJywgY29uc3RydWN0b3JBY3Rpb24gPSAnZXJyb3InLCBzYWZlIH0gPSB7fSkge1xuICBsZXQgbmV4dCA9IFtvYmpdXG5cbiAgd2hpbGUgKG5leHQubGVuZ3RoKSB7XG4gICAgY29uc3Qgbm9kZXMgPSBuZXh0XG4gICAgbmV4dCA9IFtdXG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHtcbiAgICAgIGlmIChwcm90b0FjdGlvbiAhPT0gJ2lnbm9yZScgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGUsICdfX3Byb3RvX18nKSkgeyAvLyBBdm9pZCBjYWxsaW5nIG5vZGUuaGFzT3duUHJvcGVydHkgZGlyZWN0bHlcbiAgICAgICAgaWYgKHNhZmUgPT09IHRydWUpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9IGVsc2UgaWYgKHByb3RvQWN0aW9uID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdPYmplY3QgY29udGFpbnMgZm9yYmlkZGVuIHByb3RvdHlwZSBwcm9wZXJ0eScpXG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgbm9kZS5fX3Byb3RvX18gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wcm90b1xuICAgICAgfVxuXG4gICAgICBpZiAoY29uc3RydWN0b3JBY3Rpb24gIT09ICdpZ25vcmUnICYmXG4gICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGUsICdjb25zdHJ1Y3RvcicpICYmXG4gICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGUuY29uc3RydWN0b3IsICdwcm90b3R5cGUnKSkgeyAvLyBBdm9pZCBjYWxsaW5nIG5vZGUuaGFzT3duUHJvcGVydHkgZGlyZWN0bHlcbiAgICAgICAgaWYgKHNhZmUgPT09IHRydWUpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9IGVsc2UgaWYgKGNvbnN0cnVjdG9yQWN0aW9uID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdPYmplY3QgY29udGFpbnMgZm9yYmlkZGVuIHByb3RvdHlwZSBwcm9wZXJ0eScpXG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgbm9kZS5jb25zdHJ1Y3RvclxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBub2RlKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gbm9kZVtrZXldXG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgbmV4dC5wdXNoKHZhbHVlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmpcbn1cblxuZnVuY3Rpb24gcGFyc2UgKHRleHQsIHJldml2ZXIsIG9wdGlvbnMpIHtcbiAgY29uc3Qgc3RhY2tUcmFjZUxpbWl0ID0gRXJyb3Iuc3RhY2tUcmFjZUxpbWl0XG4gIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IDBcbiAgdHJ5IHtcbiAgICByZXR1cm4gX3BhcnNlKHRleHQsIHJldml2ZXIsIG9wdGlvbnMpXG4gIH0gZmluYWxseSB7XG4gICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gc3RhY2tUcmFjZUxpbWl0XG4gIH1cbn1cblxuZnVuY3Rpb24gc2FmZVBhcnNlICh0ZXh0LCByZXZpdmVyKSB7XG4gIGNvbnN0IHN0YWNrVHJhY2VMaW1pdCA9IEVycm9yLnN0YWNrVHJhY2VMaW1pdFxuICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSAwXG4gIHRyeSB7XG4gICAgcmV0dXJuIF9wYXJzZSh0ZXh0LCByZXZpdmVyLCB7IHNhZmU6IHRydWUgfSlcbiAgfSBjYXRjaCAoX2UpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9IGZpbmFsbHkge1xuICAgIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IHN0YWNrVHJhY2VMaW1pdFxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyc2Vcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBwYXJzZVxubW9kdWxlLmV4cG9ydHMucGFyc2UgPSBwYXJzZVxubW9kdWxlLmV4cG9ydHMuc2FmZVBhcnNlID0gc2FmZVBhcnNlXG5tb2R1bGUuZXhwb3J0cy5zY2FuID0gZmlsdGVyXG4iLCJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZSwgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmNsYXNzIFBhcnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihtZXNzYWdlKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcInR5cGVcIiksIF9fcHVibGljRmllbGQodGhpcywgXCJmaWVsZFwiKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcInZhbHVlXCIpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibGluZVwiKSwgdGhpcy5uYW1lID0gXCJQYXJzZUVycm9yXCIsIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZSwgdGhpcy5maWVsZCA9IG9wdGlvbnMuZmllbGQsIHRoaXMudmFsdWUgPSBvcHRpb25zLnZhbHVlLCB0aGlzLmxpbmUgPSBvcHRpb25zLmxpbmU7XG4gIH1cbn1cbmZ1bmN0aW9uIG5vb3AoX2FyZykge1xufVxuZnVuY3Rpb24gY3JlYXRlUGFyc2VyKGNhbGxiYWNrcykge1xuICBjb25zdCB7IG9uRXZlbnQgPSBub29wLCBvbkVycm9yID0gbm9vcCwgb25SZXRyeSA9IG5vb3AsIG9uQ29tbWVudCB9ID0gY2FsbGJhY2tzO1xuICBsZXQgaW5jb21wbGV0ZUxpbmUgPSBcIlwiLCBpc0ZpcnN0Q2h1bmsgPSAhMCwgaWQsIGRhdGEgPSBcIlwiLCBldmVudFR5cGUgPSBcIlwiO1xuICBmdW5jdGlvbiBmZWVkKG5ld0NodW5rKSB7XG4gICAgY29uc3QgY2h1bmsgPSBpc0ZpcnN0Q2h1bmsgPyBuZXdDaHVuay5yZXBsYWNlKC9eXFx4RUZcXHhCQlxceEJGLywgXCJcIikgOiBuZXdDaHVuaywgW2NvbXBsZXRlLCBpbmNvbXBsZXRlXSA9IHNwbGl0TGluZXMoYCR7aW5jb21wbGV0ZUxpbmV9JHtjaHVua31gKTtcbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgY29tcGxldGUpXG4gICAgICBwYXJzZUxpbmUobGluZSk7XG4gICAgaW5jb21wbGV0ZUxpbmUgPSBpbmNvbXBsZXRlLCBpc0ZpcnN0Q2h1bmsgPSAhMTtcbiAgfVxuICBmdW5jdGlvbiBwYXJzZUxpbmUobGluZSkge1xuICAgIGlmIChsaW5lID09PSBcIlwiKSB7XG4gICAgICBkaXNwYXRjaEV2ZW50KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoXCI6XCIpKSB7XG4gICAgICBvbkNvbW1lbnQgJiYgb25Db21tZW50KGxpbmUuc2xpY2UobGluZS5zdGFydHNXaXRoKFwiOiBcIikgPyAyIDogMSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaWVsZFNlcGFyYXRvckluZGV4ID0gbGluZS5pbmRleE9mKFwiOlwiKTtcbiAgICBpZiAoZmllbGRTZXBhcmF0b3JJbmRleCAhPT0gLTEpIHtcbiAgICAgIGNvbnN0IGZpZWxkID0gbGluZS5zbGljZSgwLCBmaWVsZFNlcGFyYXRvckluZGV4KSwgb2Zmc2V0ID0gbGluZVtmaWVsZFNlcGFyYXRvckluZGV4ICsgMV0gPT09IFwiIFwiID8gMiA6IDEsIHZhbHVlID0gbGluZS5zbGljZShmaWVsZFNlcGFyYXRvckluZGV4ICsgb2Zmc2V0KTtcbiAgICAgIHByb2Nlc3NGaWVsZChmaWVsZCwgdmFsdWUsIGxpbmUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcm9jZXNzRmllbGQobGluZSwgXCJcIiwgbGluZSk7XG4gIH1cbiAgZnVuY3Rpb24gcHJvY2Vzc0ZpZWxkKGZpZWxkLCB2YWx1ZSwgbGluZSkge1xuICAgIHN3aXRjaCAoZmllbGQpIHtcbiAgICAgIGNhc2UgXCJldmVudFwiOlxuICAgICAgICBldmVudFR5cGUgPSB2YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0YVwiOlxuICAgICAgICBkYXRhID0gYCR7ZGF0YX0ke3ZhbHVlfVxuYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiaWRcIjpcbiAgICAgICAgaWQgPSB2YWx1ZS5pbmNsdWRlcyhcIlxcMFwiKSA/IHZvaWQgMCA6IHZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZXRyeVwiOlxuICAgICAgICAvXlxcZCskLy50ZXN0KHZhbHVlKSA/IG9uUmV0cnkocGFyc2VJbnQodmFsdWUsIDEwKSkgOiBvbkVycm9yKFxuICAgICAgICAgIG5ldyBQYXJzZUVycm9yKGBJbnZhbGlkIFxcYHJldHJ5XFxgIHZhbHVlOiBcIiR7dmFsdWV9XCJgLCB7XG4gICAgICAgICAgICB0eXBlOiBcImludmFsaWQtcmV0cnlcIixcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgbGluZVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgb25FcnJvcihcbiAgICAgICAgICBuZXcgUGFyc2VFcnJvcihcbiAgICAgICAgICAgIGBVbmtub3duIGZpZWxkIFwiJHtmaWVsZC5sZW5ndGggPiAyMCA/IGAke2ZpZWxkLnNsaWNlKDAsIDIwKX1cXHUyMDI2YCA6IGZpZWxkfVwiYCxcbiAgICAgICAgICAgIHsgdHlwZTogXCJ1bmtub3duLWZpZWxkXCIsIGZpZWxkLCB2YWx1ZSwgbGluZSB9XG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudCgpIHtcbiAgICBkYXRhLmxlbmd0aCA+IDAgJiYgb25FdmVudCh7XG4gICAgICBpZCxcbiAgICAgIGV2ZW50OiBldmVudFR5cGUgfHwgdm9pZCAwLFxuICAgICAgLy8gSWYgdGhlIGRhdGEgYnVmZmVyJ3MgbGFzdCBjaGFyYWN0ZXIgaXMgYSBVKzAwMEEgTElORSBGRUVEIChMRikgY2hhcmFjdGVyLFxuICAgICAgLy8gdGhlbiByZW1vdmUgdGhlIGxhc3QgY2hhcmFjdGVyIGZyb20gdGhlIGRhdGEgYnVmZmVyLlxuICAgICAgZGF0YTogZGF0YS5lbmRzV2l0aChgXG5gKSA/IGRhdGEuc2xpY2UoMCwgLTEpIDogZGF0YVxuICAgIH0pLCBpZCA9IHZvaWQgMCwgZGF0YSA9IFwiXCIsIGV2ZW50VHlwZSA9IFwiXCI7XG4gIH1cbiAgZnVuY3Rpb24gcmVzZXQob3B0aW9ucyA9IHt9KSB7XG4gICAgaW5jb21wbGV0ZUxpbmUgJiYgb3B0aW9ucy5jb25zdW1lICYmIHBhcnNlTGluZShpbmNvbXBsZXRlTGluZSksIGlkID0gdm9pZCAwLCBkYXRhID0gXCJcIiwgZXZlbnRUeXBlID0gXCJcIiwgaW5jb21wbGV0ZUxpbmUgPSBcIlwiO1xuICB9XG4gIHJldHVybiB7IGZlZWQsIHJlc2V0IH07XG59XG5mdW5jdGlvbiBzcGxpdExpbmVzKGNodW5rKSB7XG4gIGNvbnN0IGxpbmVzID0gW107XG4gIGxldCBpbmNvbXBsZXRlTGluZSA9IFwiXCI7XG4gIGNvbnN0IHRvdGFsTGVuZ3RoID0gY2h1bmsubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsTGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGFyID0gY2h1bmtbaV07XG4gICAgY2hhciA9PT0gXCJcXHJcIiAmJiBjaHVua1tpICsgMV0gPT09IGBcbmAgPyAobGluZXMucHVzaChpbmNvbXBsZXRlTGluZSksIGluY29tcGxldGVMaW5lID0gXCJcIiwgaSsrKSA6IGNoYXIgPT09IFwiXFxyXCIgfHwgY2hhciA9PT0gYFxuYCA/IChsaW5lcy5wdXNoKGluY29tcGxldGVMaW5lKSwgaW5jb21wbGV0ZUxpbmUgPSBcIlwiKSA6IGluY29tcGxldGVMaW5lICs9IGNoYXI7XG4gIH1cbiAgcmV0dXJuIFtsaW5lcywgaW5jb21wbGV0ZUxpbmVdO1xufVxuZXhwb3J0IHtcbiAgUGFyc2VFcnJvcixcbiAgY3JlYXRlUGFyc2VyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iLCJpbXBvcnQgeyBjcmVhdGVQYXJzZXIgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUGFyc2VFcnJvciB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5jbGFzcyBFdmVudFNvdXJjZVBhcnNlclN0cmVhbSBleHRlbmRzIFRyYW5zZm9ybVN0cmVhbSB7XG4gIGNvbnN0cnVjdG9yKHsgb25FcnJvciwgb25SZXRyeSwgb25Db21tZW50IH0gPSB7fSkge1xuICAgIGxldCBwYXJzZXI7XG4gICAgc3VwZXIoe1xuICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICBwYXJzZXIgPSBjcmVhdGVQYXJzZXIoe1xuICAgICAgICAgIG9uRXZlbnQ6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGV2ZW50KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgICAgIG9uRXJyb3IgPT09IFwidGVybWluYXRlXCIgPyBjb250cm9sbGVyLmVycm9yKGVycm9yKSA6IHR5cGVvZiBvbkVycm9yID09IFwiZnVuY3Rpb25cIiAmJiBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uUmV0cnksXG4gICAgICAgICAgb25Db21tZW50XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHRyYW5zZm9ybShjaHVuaykge1xuICAgICAgICBwYXJzZXIuZmVlZChjaHVuayk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIEV2ZW50U291cmNlUGFyc2VyU3RyZWFtLFxuICBQYXJzZUVycm9yXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyZWFtLmpzLm1hcFxuIiwiLy8gc3JjL2NvbWJpbmUtaGVhZGVycy50c1xuZnVuY3Rpb24gY29tYmluZUhlYWRlcnMoLi4uaGVhZGVycykge1xuICByZXR1cm4gaGVhZGVycy5yZWR1Y2UoXG4gICAgKGNvbWJpbmVkSGVhZGVycywgY3VycmVudEhlYWRlcnMpID0+ICh7XG4gICAgICAuLi5jb21iaW5lZEhlYWRlcnMsXG4gICAgICAuLi5jdXJyZW50SGVhZGVycyAhPSBudWxsID8gY3VycmVudEhlYWRlcnMgOiB7fVxuICAgIH0pLFxuICAgIHt9XG4gICk7XG59XG5cbi8vIHNyYy9jb252ZXJ0LWFzeW5jLWl0ZXJhdG9yLXRvLXJlYWRhYmxlLXN0cmVhbS50c1xuZnVuY3Rpb24gY29udmVydEFzeW5jSXRlcmF0b3JUb1JlYWRhYmxlU3RyZWFtKGl0ZXJhdG9yKSB7XG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBjb25zdW1lciB3YW50cyB0byBwdWxsIG1vcmUgZGF0YSBmcm9tIHRoZSBzdHJlYW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8VD59IGNvbnRyb2xsZXIgLSBUaGUgY29udHJvbGxlciB0byBlbnF1ZXVlIGRhdGEgaW50byB0aGUgc3RyZWFtLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBjb25zdW1lciBjYW5jZWxzIHRoZSBzdHJlYW0uXG4gICAgICovXG4gICAgY2FuY2VsKCkge1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIHNyYy9leHRyYWN0LXJlc3BvbnNlLWhlYWRlcnMudHNcbmZ1bmN0aW9uIGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpIHtcbiAgY29uc3QgaGVhZGVycyA9IHt9O1xuICByZXNwb25zZS5oZWFkZXJzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICBoZWFkZXJzW2tleV0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBoZWFkZXJzO1xufVxuXG4vLyBzcmMvZ2VuZXJhdGUtaWQudHNcbmltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmltcG9ydCB7IGN1c3RvbUFscGhhYmV0IH0gZnJvbSBcIm5hbm9pZC9ub24tc2VjdXJlXCI7XG52YXIgY3JlYXRlSWRHZW5lcmF0b3IgPSAoe1xuICBwcmVmaXgsXG4gIHNpemU6IGRlZmF1bHRTaXplID0gMTYsXG4gIGFscGhhYmV0ID0gXCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiLFxuICBzZXBhcmF0b3IgPSBcIi1cIlxufSA9IHt9KSA9PiB7XG4gIGNvbnN0IGdlbmVyYXRvciA9IGN1c3RvbUFscGhhYmV0KGFscGhhYmV0LCBkZWZhdWx0U2l6ZSk7XG4gIGlmIChwcmVmaXggPT0gbnVsbCkge1xuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgaWYgKGFscGhhYmV0LmluY2x1ZGVzKHNlcGFyYXRvcikpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgYXJndW1lbnQ6IFwic2VwYXJhdG9yXCIsXG4gICAgICBtZXNzYWdlOiBgVGhlIHNlcGFyYXRvciBcIiR7c2VwYXJhdG9yfVwiIG11c3Qgbm90IGJlIHBhcnQgb2YgdGhlIGFscGhhYmV0IFwiJHthbHBoYWJldH1cIi5gXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIChzaXplKSA9PiBgJHtwcmVmaXh9JHtzZXBhcmF0b3J9JHtnZW5lcmF0b3Ioc2l6ZSl9YDtcbn07XG52YXIgZ2VuZXJhdGVJZCA9IGNyZWF0ZUlkR2VuZXJhdG9yKCk7XG5cbi8vIHNyYy9nZXQtZXJyb3ItbWVzc2FnZS50c1xuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSB7XG4gIGlmIChlcnJvciA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFwidW5rbm93biBlcnJvclwiO1xuICB9XG4gIGlmICh0eXBlb2YgZXJyb3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgfVxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xufVxuXG4vLyBzcmMvaXMtYWJvcnQtZXJyb3IudHNcbmZ1bmN0aW9uIGlzQWJvcnRFcnJvcihlcnJvcikge1xuICByZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAoZXJyb3IubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIgfHwgZXJyb3IubmFtZSA9PT0gXCJUaW1lb3V0RXJyb3JcIik7XG59XG5cbi8vIHNyYy9sb2FkLWFwaS1rZXkudHNcbmltcG9ydCB7IExvYWRBUElLZXlFcnJvciB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5mdW5jdGlvbiBsb2FkQXBpS2V5KHtcbiAgYXBpS2V5LFxuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZSxcbiAgYXBpS2V5UGFyYW1ldGVyTmFtZSA9IFwiYXBpS2V5XCIsXG4gIGRlc2NyaXB0aW9uXG59KSB7XG4gIGlmICh0eXBlb2YgYXBpS2V5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGFwaUtleTtcbiAgfVxuICBpZiAoYXBpS2V5ICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IG11c3QgYmUgYSBzdHJpbmcuYFxuICAgIH0pO1xuICB9XG4gIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBMb2FkQVBJS2V5RXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYCR7ZGVzY3JpcHRpb259IEFQSSBrZXkgaXMgbWlzc2luZy4gUGFzcyBpdCB1c2luZyB0aGUgJyR7YXBpS2V5UGFyYW1ldGVyTmFtZX0nIHBhcmFtZXRlci4gRW52aXJvbm1lbnQgdmFyaWFibGVzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC5gXG4gICAgfSk7XG4gIH1cbiAgYXBpS2V5ID0gcHJvY2Vzcy5lbnZbZW52aXJvbm1lbnRWYXJpYWJsZU5hbWVdO1xuICBpZiAoYXBpS2V5ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IGlzIG1pc3NpbmcuIFBhc3MgaXQgdXNpbmcgdGhlICcke2FwaUtleVBhcmFtZXRlck5hbWV9JyBwYXJhbWV0ZXIgb3IgdGhlICR7ZW52aXJvbm1lbnRWYXJpYWJsZU5hbWV9IGVudmlyb25tZW50IHZhcmlhYmxlLmBcbiAgICB9KTtcbiAgfVxuICBpZiAodHlwZW9mIGFwaUtleSAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBMb2FkQVBJS2V5RXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYCR7ZGVzY3JpcHRpb259IEFQSSBrZXkgbXVzdCBiZSBhIHN0cmluZy4gVGhlIHZhbHVlIG9mIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3QgYSBzdHJpbmcuYFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBhcGlLZXk7XG59XG5cbi8vIHNyYy9sb2FkLW9wdGlvbmFsLXNldHRpbmcudHNcbmZ1bmN0aW9uIGxvYWRPcHRpb25hbFNldHRpbmcoe1xuICBzZXR0aW5nVmFsdWUsXG4gIGVudmlyb25tZW50VmFyaWFibGVOYW1lXG59KSB7XG4gIGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHNldHRpbmdWYWx1ZTtcbiAgfVxuICBpZiAoc2V0dGluZ1ZhbHVlICE9IG51bGwgfHwgdHlwZW9mIHByb2Nlc3MgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIHNldHRpbmdWYWx1ZSA9IHByb2Nlc3MuZW52W2Vudmlyb25tZW50VmFyaWFibGVOYW1lXTtcbiAgaWYgKHNldHRpbmdWYWx1ZSA9PSBudWxsIHx8IHR5cGVvZiBzZXR0aW5nVmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIHJldHVybiBzZXR0aW5nVmFsdWU7XG59XG5cbi8vIHNyYy9sb2FkLXNldHRpbmcudHNcbmltcG9ydCB7IExvYWRTZXR0aW5nRXJyb3IgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuZnVuY3Rpb24gbG9hZFNldHRpbmcoe1xuICBzZXR0aW5nVmFsdWUsXG4gIGVudmlyb25tZW50VmFyaWFibGVOYW1lLFxuICBzZXR0aW5nTmFtZSxcbiAgZGVzY3JpcHRpb25cbn0pIHtcbiAgaWYgKHR5cGVvZiBzZXR0aW5nVmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gc2V0dGluZ1ZhbHVlO1xuICB9XG4gIGlmIChzZXR0aW5nVmFsdWUgIT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBMb2FkU2V0dGluZ0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBzZXR0aW5nIG11c3QgYmUgYSBzdHJpbmcuYFxuICAgIH0pO1xuICB9XG4gIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBMb2FkU2V0dGluZ0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBzZXR0aW5nIGlzIG1pc3NpbmcuIFBhc3MgaXQgdXNpbmcgdGhlICcke3NldHRpbmdOYW1lfScgcGFyYW1ldGVyLiBFbnZpcm9ubWVudCB2YXJpYWJsZXMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50LmBcbiAgICB9KTtcbiAgfVxuICBzZXR0aW5nVmFsdWUgPSBwcm9jZXNzLmVudltlbnZpcm9ubWVudFZhcmlhYmxlTmFtZV07XG4gIGlmIChzZXR0aW5nVmFsdWUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBMb2FkU2V0dGluZ0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBzZXR0aW5nIGlzIG1pc3NpbmcuIFBhc3MgaXQgdXNpbmcgdGhlICcke3NldHRpbmdOYW1lfScgcGFyYW1ldGVyIG9yIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZS5gXG4gICAgfSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBzZXR0aW5nVmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBtdXN0IGJlIGEgc3RyaW5nLiBUaGUgdmFsdWUgb2YgdGhlICR7ZW52aXJvbm1lbnRWYXJpYWJsZU5hbWV9IGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBhIHN0cmluZy5gXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHNldHRpbmdWYWx1ZTtcbn1cblxuLy8gc3JjL3BhcnNlLWpzb24udHNcbmltcG9ydCB7XG4gIEpTT05QYXJzZUVycm9yLFxuICBUeXBlVmFsaWRhdGlvbkVycm9yIGFzIFR5cGVWYWxpZGF0aW9uRXJyb3IyXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgU2VjdXJlSlNPTiBmcm9tIFwic2VjdXJlLWpzb24tcGFyc2VcIjtcblxuLy8gc3JjL3ZhbGlkYXRlLXR5cGVzLnRzXG5pbXBvcnQgeyBUeXBlVmFsaWRhdGlvbkVycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcblxuLy8gc3JjL3ZhbGlkYXRvci50c1xudmFyIHZhbGlkYXRvclN5bWJvbCA9IFN5bWJvbC5mb3IoXCJ2ZXJjZWwuYWkudmFsaWRhdG9yXCIpO1xuZnVuY3Rpb24gdmFsaWRhdG9yKHZhbGlkYXRlKSB7XG4gIHJldHVybiB7IFt2YWxpZGF0b3JTeW1ib2xdOiB0cnVlLCB2YWxpZGF0ZSB9O1xufVxuZnVuY3Rpb24gaXNWYWxpZGF0b3IodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWxpZGF0b3JTeW1ib2wgaW4gdmFsdWUgJiYgdmFsdWVbdmFsaWRhdG9yU3ltYm9sXSA9PT0gdHJ1ZSAmJiBcInZhbGlkYXRlXCIgaW4gdmFsdWU7XG59XG5mdW5jdGlvbiBhc1ZhbGlkYXRvcih2YWx1ZSkge1xuICByZXR1cm4gaXNWYWxpZGF0b3IodmFsdWUpID8gdmFsdWUgOiB6b2RWYWxpZGF0b3IodmFsdWUpO1xufVxuZnVuY3Rpb24gem9kVmFsaWRhdG9yKHpvZFNjaGVtYSkge1xuICByZXR1cm4gdmFsaWRhdG9yKCh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHpvZFNjaGVtYS5zYWZlUGFyc2UodmFsdWUpO1xuICAgIHJldHVybiByZXN1bHQuc3VjY2VzcyA/IHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHJlc3VsdC5kYXRhIH0gOiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVzdWx0LmVycm9yIH07XG4gIH0pO1xufVxuXG4vLyBzcmMvdmFsaWRhdGUtdHlwZXMudHNcbmZ1bmN0aW9uIHZhbGlkYXRlVHlwZXMoe1xuICB2YWx1ZSxcbiAgc2NoZW1hOiBpbnB1dFNjaGVtYVxufSkge1xuICBjb25zdCByZXN1bHQgPSBzYWZlVmFsaWRhdGVUeXBlcyh7IHZhbHVlLCBzY2hlbWE6IGlucHV0U2NoZW1hIH0pO1xuICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgdGhyb3cgVHlwZVZhbGlkYXRpb25FcnJvci53cmFwKHsgdmFsdWUsIGNhdXNlOiByZXN1bHQuZXJyb3IgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbn1cbmZ1bmN0aW9uIHNhZmVWYWxpZGF0ZVR5cGVzKHtcbiAgdmFsdWUsXG4gIHNjaGVtYVxufSkge1xuICBjb25zdCB2YWxpZGF0b3IyID0gYXNWYWxpZGF0b3Ioc2NoZW1hKTtcbiAgdHJ5IHtcbiAgICBpZiAodmFsaWRhdG9yMi52YWxpZGF0ZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZSB9O1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0b3IyLnZhbGlkYXRlKHZhbHVlKTtcbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBUeXBlVmFsaWRhdGlvbkVycm9yLndyYXAoeyB2YWx1ZSwgY2F1c2U6IHJlc3VsdC5lcnJvciB9KVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IFR5cGVWYWxpZGF0aW9uRXJyb3Iud3JhcCh7IHZhbHVlLCBjYXVzZTogZXJyb3IgfSlcbiAgICB9O1xuICB9XG59XG5cbi8vIHNyYy9wYXJzZS1qc29uLnRzXG5mdW5jdGlvbiBwYXJzZUpTT04oe1xuICB0ZXh0LFxuICBzY2hlbWFcbn0pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWx1ZSA9IFNlY3VyZUpTT04ucGFyc2UodGV4dCk7XG4gICAgaWYgKHNjaGVtYSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB2YWxpZGF0ZVR5cGVzKHsgdmFsdWUsIHNjaGVtYSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoSlNPTlBhcnNlRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgfHwgVHlwZVZhbGlkYXRpb25FcnJvcjIuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgSlNPTlBhcnNlRXJyb3IoeyB0ZXh0LCBjYXVzZTogZXJyb3IgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHNhZmVQYXJzZUpTT04oe1xuICB0ZXh0LFxuICBzY2hlbWFcbn0pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWx1ZSA9IFNlY3VyZUpTT04ucGFyc2UodGV4dCk7XG4gICAgaWYgKHNjaGVtYSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB2YWx1ZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHNhZmVWYWxpZGF0ZVR5cGVzKHsgdmFsdWUsIHNjaGVtYSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogSlNPTlBhcnNlRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgPyBlcnJvciA6IG5ldyBKU09OUGFyc2VFcnJvcih7IHRleHQsIGNhdXNlOiBlcnJvciB9KVxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGlzUGFyc2FibGVKc29uKGlucHV0KSB7XG4gIHRyeSB7XG4gICAgU2VjdXJlSlNPTi5wYXJzZShpbnB1dCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gc3JjL3Bvc3QtdG8tYXBpLnRzXG5pbXBvcnQgeyBBUElDYWxsRXJyb3IgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuXG4vLyBzcmMvcmVtb3ZlLXVuZGVmaW5lZC1lbnRyaWVzLnRzXG5mdW5jdGlvbiByZW1vdmVVbmRlZmluZWRFbnRyaWVzKHJlY29yZCkge1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIE9iamVjdC5lbnRyaWVzKHJlY29yZCkuZmlsdGVyKChbX2tleSwgdmFsdWVdKSA9PiB2YWx1ZSAhPSBudWxsKVxuICApO1xufVxuXG4vLyBzcmMvcG9zdC10by1hcGkudHNcbnZhciBnZXRPcmlnaW5hbEZldGNoID0gKCkgPT4gZ2xvYmFsVGhpcy5mZXRjaDtcbnZhciBwb3N0SnNvblRvQXBpID0gYXN5bmMgKHtcbiAgdXJsLFxuICBoZWFkZXJzLFxuICBib2R5LFxuICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGFib3J0U2lnbmFsLFxuICBmZXRjaFxufSkgPT4gcG9zdFRvQXBpKHtcbiAgdXJsLFxuICBoZWFkZXJzOiB7XG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgLi4uaGVhZGVyc1xuICB9LFxuICBib2R5OiB7XG4gICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgdmFsdWVzOiBib2R5XG4gIH0sXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoXG59KTtcbnZhciBwb3N0VG9BcGkgPSBhc3luYyAoe1xuICB1cmwsXG4gIGhlYWRlcnMgPSB7fSxcbiAgYm9keSxcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICBhYm9ydFNpZ25hbCxcbiAgZmV0Y2ggPSBnZXRPcmlnaW5hbEZldGNoKClcbn0pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHJlbW92ZVVuZGVmaW5lZEVudHJpZXMoaGVhZGVycyksXG4gICAgICBib2R5OiBib2R5LmNvbnRlbnQsXG4gICAgICBzaWduYWw6IGFib3J0U2lnbmFsXG4gICAgfSk7XG4gICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgbGV0IGVycm9ySW5mb3JtYXRpb247XG4gICAgICB0cnkge1xuICAgICAgICBlcnJvckluZm9ybWF0aW9uID0gYXdhaXQgZmFpbGVkUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikgfHwgQVBJQ2FsbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gcHJvY2VzcyBlcnJvciByZXNwb25zZVwiLFxuICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvckluZm9ybWF0aW9uLnZhbHVlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICByZXNwb25zZSxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXNcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSB8fCBBUElDYWxsRXJyb3IuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHByb2Nlc3Mgc3VjY2Vzc2Z1bCByZXNwb25zZVwiLFxuICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlc1xuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yICYmIGVycm9yLm1lc3NhZ2UgPT09IFwiZmV0Y2ggZmFpbGVkXCIpIHtcbiAgICAgIGNvbnN0IGNhdXNlID0gZXJyb3IuY2F1c2U7XG4gICAgICBpZiAoY2F1c2UgIT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBgQ2Fubm90IGNvbm5lY3QgdG8gQVBJOiAke2NhdXNlLm1lc3NhZ2V9YCxcbiAgICAgICAgICBjYXVzZSxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzLFxuICAgICAgICAgIGlzUmV0cnlhYmxlOiB0cnVlXG4gICAgICAgICAgLy8gcmV0cnkgd2hlbiBuZXR3b3JrIGVycm9yXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8gc3JjL3Jlc29sdmUudHNcbmFzeW5jIGZ1bmN0aW9uIHJlc29sdmUodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFsdWUgPSB2YWx1ZSgpO1xuICB9XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpO1xufVxuXG4vLyBzcmMvcmVzcG9uc2UtaGFuZGxlci50c1xuaW1wb3J0IHsgQVBJQ2FsbEVycm9yIGFzIEFQSUNhbGxFcnJvcjIsIEVtcHR5UmVzcG9uc2VCb2R5RXJyb3IgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHtcbiAgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW1cbn0gZnJvbSBcImV2ZW50c291cmNlLXBhcnNlci9zdHJlYW1cIjtcbnZhciBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIgPSAoe1xuICBlcnJvclNjaGVtYSxcbiAgZXJyb3JUb01lc3NhZ2UsXG4gIGlzUmV0cnlhYmxlXG59KSA9PiBhc3luYyAoeyByZXNwb25zZSwgdXJsLCByZXF1ZXN0Qm9keVZhbHVlcyB9KSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gIGlmIChyZXNwb25zZUJvZHkudHJpbSgpID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yMih7XG4gICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXNwb25zZUJvZHksXG4gICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZSA9PSBudWxsID8gdm9pZCAwIDogaXNSZXRyeWFibGUocmVzcG9uc2UpXG4gICAgICB9KVxuICAgIH07XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJzZWRFcnJvciA9IHBhcnNlSlNPTih7XG4gICAgICB0ZXh0OiByZXNwb25zZUJvZHksXG4gICAgICBzY2hlbWE6IGVycm9yU2NoZW1hXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yMih7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yVG9NZXNzYWdlKHBhcnNlZEVycm9yKSxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlc3BvbnNlQm9keSxcbiAgICAgICAgZGF0YTogcGFyc2VkRXJyb3IsXG4gICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZSA9PSBudWxsID8gdm9pZCAwIDogaXNSZXRyeWFibGUocmVzcG9uc2UsIHBhcnNlZEVycm9yKVxuICAgICAgfSlcbiAgICB9O1xuICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yMih7XG4gICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXNwb25zZUJvZHksXG4gICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZSA9PSBudWxsID8gdm9pZCAwIDogaXNSZXRyeWFibGUocmVzcG9uc2UpXG4gICAgICB9KVxuICAgIH07XG4gIH1cbn07XG52YXIgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIgPSAoY2h1bmtTY2hlbWEpID0+IGFzeW5jICh7IHJlc3BvbnNlIH0pID0+IHtcbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gIGlmIChyZXNwb25zZS5ib2R5ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRW1wdHlSZXNwb25zZUJvZHlFcnJvcih7fSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgdmFsdWU6IHJlc3BvbnNlLmJvZHkucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpLnBpcGVUaHJvdWdoKG5ldyBFdmVudFNvdXJjZVBhcnNlclN0cmVhbSgpKS5waXBlVGhyb3VnaChcbiAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICB0cmFuc2Zvcm0oeyBkYXRhIH0sIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBpZiAoZGF0YSA9PT0gXCJbRE9ORV1cIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgICBzYWZlUGFyc2VKU09OKHtcbiAgICAgICAgICAgICAgdGV4dDogZGF0YSxcbiAgICAgICAgICAgICAgc2NoZW1hOiBjaHVua1NjaGVtYVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIClcbiAgfTtcbn07XG52YXIgY3JlYXRlSnNvblN0cmVhbVJlc3BvbnNlSGFuZGxlciA9IChjaHVua1NjaGVtYSkgPT4gYXN5bmMgKHsgcmVzcG9uc2UgfSkgPT4ge1xuICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcbiAgaWYgKHJlc3BvbnNlLmJvZHkgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFbXB0eVJlc3BvbnNlQm9keUVycm9yKHt9KTtcbiAgfVxuICBsZXQgYnVmZmVyID0gXCJcIjtcbiAgcmV0dXJuIHtcbiAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgdmFsdWU6IHJlc3BvbnNlLmJvZHkucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpLnBpcGVUaHJvdWdoKFxuICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgIHRyYW5zZm9ybShjaHVua1RleHQsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBpZiAoY2h1bmtUZXh0LmVuZHNXaXRoKFwiXFxuXCIpKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgICAgIHNhZmVQYXJzZUpTT04oe1xuICAgICAgICAgICAgICAgIHRleHQ6IGJ1ZmZlciArIGNodW5rVGV4dCxcbiAgICAgICAgICAgICAgICBzY2hlbWE6IGNodW5rU2NoZW1hXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnVmZmVyID0gXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnVmZmVyICs9IGNodW5rVGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKVxuICB9O1xufTtcbnZhciBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyID0gKHJlc3BvbnNlU2NoZW1hKSA9PiBhc3luYyAoeyByZXNwb25zZSwgdXJsLCByZXF1ZXN0Qm9keVZhbHVlcyB9KSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgY29uc3QgcGFyc2VkUmVzdWx0ID0gc2FmZVBhcnNlSlNPTih7XG4gICAgdGV4dDogcmVzcG9uc2VCb2R5LFxuICAgIHNjaGVtYTogcmVzcG9uc2VTY2hlbWFcbiAgfSk7XG4gIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuICBpZiAoIXBhcnNlZFJlc3VsdC5zdWNjZXNzKSB7XG4gICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcjIoe1xuICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIEpTT04gcmVzcG9uc2VcIixcbiAgICAgIGNhdXNlOiBwYXJzZWRSZXN1bHQuZXJyb3IsXG4gICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICByZXNwb25zZUJvZHksXG4gICAgICB1cmwsXG4gICAgICByZXF1ZXN0Qm9keVZhbHVlc1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgIHZhbHVlOiBwYXJzZWRSZXN1bHQudmFsdWVcbiAgfTtcbn07XG5cbi8vIHNyYy91aW50OC11dGlscy50c1xudmFyIHsgYnRvYSwgYXRvYiB9ID0gZ2xvYmFsVGhpcztcbmZ1bmN0aW9uIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0U3RyaW5nKSB7XG4gIGNvbnN0IGJhc2U2NFVybCA9IGJhc2U2NFN0cmluZy5yZXBsYWNlKC8tL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKTtcbiAgY29uc3QgbGF0aW4xc3RyaW5nID0gYXRvYihiYXNlNjRVcmwpO1xuICByZXR1cm4gVWludDhBcnJheS5mcm9tKGxhdGluMXN0cmluZywgKGJ5dGUpID0+IGJ5dGUuY29kZVBvaW50QXQoMCkpO1xufVxuZnVuY3Rpb24gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NChhcnJheSkge1xuICBsZXQgbGF0aW4xc3RyaW5nID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGxhdGluMXN0cmluZyArPSBTdHJpbmcuZnJvbUNvZGVQb2ludChhcnJheVtpXSk7XG4gIH1cbiAgcmV0dXJuIGJ0b2EobGF0aW4xc3RyaW5nKTtcbn1cblxuLy8gc3JjL3dpdGhvdXQtdHJhaWxpbmctc2xhc2gudHNcbmZ1bmN0aW9uIHdpdGhvdXRUcmFpbGluZ1NsYXNoKHVybCkge1xuICByZXR1cm4gdXJsID09IG51bGwgPyB2b2lkIDAgOiB1cmwucmVwbGFjZSgvXFwvJC8sIFwiXCIpO1xufVxuZXhwb3J0IHtcbiAgYXNWYWxpZGF0b3IsXG4gIGNvbWJpbmVIZWFkZXJzLFxuICBjb252ZXJ0QXN5bmNJdGVyYXRvclRvUmVhZGFibGVTdHJlYW0sXG4gIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXksXG4gIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQsXG4gIGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVJZEdlbmVyYXRvcixcbiAgY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVKc29uU3RyZWFtUmVzcG9uc2VIYW5kbGVyLFxuICBleHRyYWN0UmVzcG9uc2VIZWFkZXJzLFxuICBnZW5lcmF0ZUlkLFxuICBnZXRFcnJvck1lc3NhZ2UsXG4gIGlzQWJvcnRFcnJvcixcbiAgaXNQYXJzYWJsZUpzb24sXG4gIGlzVmFsaWRhdG9yLFxuICBsb2FkQXBpS2V5LFxuICBsb2FkT3B0aW9uYWxTZXR0aW5nLFxuICBsb2FkU2V0dGluZyxcbiAgcGFyc2VKU09OLFxuICBwb3N0SnNvblRvQXBpLFxuICBwb3N0VG9BcGksXG4gIHJlc29sdmUsXG4gIHNhZmVQYXJzZUpTT04sXG4gIHNhZmVWYWxpZGF0ZVR5cGVzLFxuICB2YWxpZGF0ZVR5cGVzLFxuICB2YWxpZGF0b3IsXG4gIHZhbGlkYXRvclN5bWJvbCxcbiAgd2l0aG91dFRyYWlsaW5nU2xhc2gsXG4gIHpvZFZhbGlkYXRvclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiLCJleHBvcnQgY29uc3QgaWdub3JlT3ZlcnJpZGUgPSBTeW1ib2woXCJMZXQgem9kVG9Kc29uU2NoZW1hIGRlY2lkZSBvbiB3aGljaCBwYXJzZXIgdG8gdXNlXCIpO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICAkcmVmU3RyYXRlZ3k6IFwicm9vdFwiLFxuICAgIGJhc2VQYXRoOiBbXCIjXCJdLFxuICAgIGVmZmVjdFN0cmF0ZWd5OiBcImlucHV0XCIsXG4gICAgcGlwZVN0cmF0ZWd5OiBcImFsbFwiLFxuICAgIGRhdGVTdHJhdGVneTogXCJmb3JtYXQ6ZGF0ZS10aW1lXCIsXG4gICAgbWFwU3RyYXRlZ3k6IFwiZW50cmllc1wiLFxuICAgIHJlbW92ZUFkZGl0aW9uYWxTdHJhdGVneTogXCJwYXNzdGhyb3VnaFwiLFxuICAgIGRlZmluaXRpb25QYXRoOiBcImRlZmluaXRpb25zXCIsXG4gICAgdGFyZ2V0OiBcImpzb25TY2hlbWE3XCIsXG4gICAgc3RyaWN0VW5pb25zOiBmYWxzZSxcbiAgICBkZWZpbml0aW9uczoge30sXG4gICAgZXJyb3JNZXNzYWdlczogZmFsc2UsXG4gICAgbWFya2Rvd25EZXNjcmlwdGlvbjogZmFsc2UsXG4gICAgcGF0dGVyblN0cmF0ZWd5OiBcImVzY2FwZVwiLFxuICAgIGFwcGx5UmVnZXhGbGFnczogZmFsc2UsXG4gICAgZW1haWxTdHJhdGVneTogXCJmb3JtYXQ6ZW1haWxcIixcbiAgICBiYXNlNjRTdHJhdGVneTogXCJjb250ZW50RW5jb2Rpbmc6YmFzZTY0XCIsXG4gICAgbmFtZVN0cmF0ZWd5OiBcInJlZlwiLFxufTtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0T3B0aW9ucyA9IChvcHRpb25zKSA9PiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCJcbiAgICA/IHtcbiAgICAgICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAgIG5hbWU6IG9wdGlvbnMsXG4gICAgfVxuICAgIDoge1xuICAgICAgICAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICB9KTtcbiIsImltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4vT3B0aW9ucy5qc1wiO1xuZXhwb3J0IGNvbnN0IGdldFJlZnMgPSAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IF9vcHRpb25zID0gZ2V0RGVmYXVsdE9wdGlvbnMob3B0aW9ucyk7XG4gICAgY29uc3QgY3VycmVudFBhdGggPSBfb3B0aW9ucy5uYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBbLi4uX29wdGlvbnMuYmFzZVBhdGgsIF9vcHRpb25zLmRlZmluaXRpb25QYXRoLCBfb3B0aW9ucy5uYW1lXVxuICAgICAgICA6IF9vcHRpb25zLmJhc2VQYXRoO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLl9vcHRpb25zLFxuICAgICAgICBjdXJyZW50UGF0aDogY3VycmVudFBhdGgsXG4gICAgICAgIHByb3BlcnR5UGF0aDogdW5kZWZpbmVkLFxuICAgICAgICBzZWVuOiBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKF9vcHRpb25zLmRlZmluaXRpb25zKS5tYXAoKFtuYW1lLCBkZWZdKSA9PiBbXG4gICAgICAgICAgICBkZWYuX2RlZixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZWY6IGRlZi5fZGVmLFxuICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5fb3B0aW9ucy5iYXNlUGF0aCwgX29wdGlvbnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdLFxuICAgICAgICAgICAgICAgIC8vIFJlc29sdXRpb24gb2YgcmVmZXJlbmNlcyB3aWxsIGJlIGZvcmNlZCBldmVuIHRob3VnaCBzZWVuLCBzbyBpdCdzIG9rIHRoYXQgdGhlIHNjaGVtYSBpcyB1bmRlZmluZWQgaGVyZSBmb3Igbm93LlxuICAgICAgICAgICAgICAgIGpzb25TY2hlbWE6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0pKSxcbiAgICB9O1xufTtcbiIsImV4cG9ydCBmdW5jdGlvbiBhZGRFcnJvck1lc3NhZ2UocmVzLCBrZXksIGVycm9yTWVzc2FnZSwgcmVmcykge1xuICAgIGlmICghcmVmcz8uZXJyb3JNZXNzYWdlcylcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgcmVzLmVycm9yTWVzc2FnZSA9IHtcbiAgICAgICAgICAgIC4uLnJlcy5lcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICBba2V5XTogZXJyb3JNZXNzYWdlLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywga2V5LCB2YWx1ZSwgZXJyb3JNZXNzYWdlLCByZWZzKSB7XG4gICAgcmVzW2tleV0gPSB2YWx1ZTtcbiAgICBhZGRFcnJvck1lc3NhZ2UocmVzLCBrZXksIGVycm9yTWVzc2FnZSwgcmVmcyk7XG59XG4iLCJ2YXIgdXRpbDtcbihmdW5jdGlvbiAodXRpbCkge1xuICAgIHV0aWwuYXNzZXJ0RXF1YWwgPSAodmFsKSA9PiB2YWw7XG4gICAgZnVuY3Rpb24gYXNzZXJ0SXMoX2FyZykgeyB9XG4gICAgdXRpbC5hc3NlcnRJcyA9IGFzc2VydElzO1xuICAgIGZ1bmN0aW9uIGFzc2VydE5ldmVyKF94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICB1dGlsLmFzc2VydE5ldmVyID0gYXNzZXJ0TmV2ZXI7XG4gICAgdXRpbC5hcnJheVRvRW51bSA9IChpdGVtcykgPT4ge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBvYmpbaXRlbV0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKG9iaikuZmlsdGVyKChrKSA9PiB0eXBlb2Ygb2JqW29ialtrXV0gIT09IFwibnVtYmVyXCIpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGsgb2YgdmFsaWRLZXlzKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXMoZmlsdGVyZWQpO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RWYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdEtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmpbZV07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RLZXlzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSBcImZ1bmN0aW9uXCIgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgID8gKG9iaikgPT4gT2JqZWN0LmtleXMob2JqKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgOiAob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfTtcbiAgICB1dGlsLmZpbmQgPSAoYXJyLCBjaGVja2VyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnIpIHtcbiAgICAgICAgICAgIGlmIChjaGVja2VyKGl0ZW0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICB1dGlsLmlzSW50ZWdlciA9IHR5cGVvZiBOdW1iZXIuaXNJbnRlZ2VyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyAodmFsKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgIDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiAmJiBpc0Zpbml0ZSh2YWwpICYmIE1hdGguZmxvb3IodmFsKSA9PT0gdmFsO1xuICAgIGZ1bmN0aW9uIGpvaW5WYWx1ZXMoYXJyYXksIHNlcGFyYXRvciA9IFwiIHwgXCIpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5XG4gICAgICAgICAgICAubWFwKCh2YWwpID0+ICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiID8gYCcke3ZhbH0nYCA6IHZhbCkpXG4gICAgICAgICAgICAuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICB1dGlsLmpvaW5WYWx1ZXMgPSBqb2luVmFsdWVzO1xuICAgIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyID0gKF8sIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xufSkodXRpbCB8fCAodXRpbCA9IHt9KSk7XG52YXIgb2JqZWN0VXRpbDtcbihmdW5jdGlvbiAob2JqZWN0VXRpbCkge1xuICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXMgPSAoZmlyc3QsIHNlY29uZCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZmlyc3QsXG4gICAgICAgICAgICAuLi5zZWNvbmQsIC8vIHNlY29uZCBvdmVyd3JpdGVzIGZpcnN0XG4gICAgICAgIH07XG4gICAgfTtcbn0pKG9iamVjdFV0aWwgfHwgKG9iamVjdFV0aWwgPSB7fSkpO1xuY29uc3QgWm9kUGFyc2VkVHlwZSA9IHV0aWwuYXJyYXlUb0VudW0oW1xuICAgIFwic3RyaW5nXCIsXG4gICAgXCJuYW5cIixcbiAgICBcIm51bWJlclwiLFxuICAgIFwiaW50ZWdlclwiLFxuICAgIFwiZmxvYXRcIixcbiAgICBcImJvb2xlYW5cIixcbiAgICBcImRhdGVcIixcbiAgICBcImJpZ2ludFwiLFxuICAgIFwic3ltYm9sXCIsXG4gICAgXCJmdW5jdGlvblwiLFxuICAgIFwidW5kZWZpbmVkXCIsXG4gICAgXCJudWxsXCIsXG4gICAgXCJhcnJheVwiLFxuICAgIFwib2JqZWN0XCIsXG4gICAgXCJ1bmtub3duXCIsXG4gICAgXCJwcm9taXNlXCIsXG4gICAgXCJ2b2lkXCIsXG4gICAgXCJuZXZlclwiLFxuICAgIFwibWFwXCIsXG4gICAgXCJzZXRcIixcbl0pO1xuY29uc3QgZ2V0UGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQ7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN0cmluZztcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIGlzTmFOKGRhdGEpID8gWm9kUGFyc2VkVHlwZS5uYW4gOiBab2RQYXJzZWRUeXBlLm51bWJlcjtcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmJvb2xlYW47XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuZnVuY3Rpb247XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmJpZ2ludDtcbiAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc3ltYm9sO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5udWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEudGhlbiAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBkYXRhLnRoZW4gPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgIGRhdGEuY2F0Y2ggJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZGF0YS5jYXRjaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUucHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgTWFwICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5tYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIFNldCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBEYXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLm9iamVjdDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnVua25vd247XG4gICAgfVxufTtcblxuY29uc3QgWm9kSXNzdWVDb2RlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJpbnZhbGlkX3R5cGVcIixcbiAgICBcImludmFsaWRfbGl0ZXJhbFwiLFxuICAgIFwiY3VzdG9tXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3JcIixcbiAgICBcImludmFsaWRfZW51bV92YWx1ZVwiLFxuICAgIFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICBcImludmFsaWRfYXJndW1lbnRzXCIsXG4gICAgXCJpbnZhbGlkX3JldHVybl90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2RhdGVcIixcbiAgICBcImludmFsaWRfc3RyaW5nXCIsXG4gICAgXCJ0b29fc21hbGxcIixcbiAgICBcInRvb19iaWdcIixcbiAgICBcImludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzXCIsXG4gICAgXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICBcIm5vdF9maW5pdGVcIixcbl0pO1xuY29uc3QgcXVvdGVsZXNzSnNvbiA9IChvYmopID0+IHtcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCAyKTtcbiAgICByZXR1cm4ganNvbi5yZXBsYWNlKC9cIihbXlwiXSspXCI6L2csIFwiJDE6XCIpO1xufTtcbmNsYXNzIFpvZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGdldCBlcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzc3VlcztcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaXNzdWVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaXNzdWVzID0gW107XG4gICAgICAgIHRoaXMuYWRkSXNzdWUgPSAoc3ViKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzc3VlcyA9IFsuLi50aGlzLmlzc3Vlcywgc3ViXTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZXMgPSAoc3VicyA9IFtdKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzc3VlcyA9IFsuLi50aGlzLmlzc3VlcywgLi4uc3Vic107XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGFjdHVhbFByb3RvID0gbmV3LnRhcmdldC5wcm90b3R5cGU7XG4gICAgICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBiYW4vYmFuXG4gICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgYWN0dWFsUHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fX3Byb3RvX18gPSBhY3R1YWxQcm90bztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWUgPSBcIlpvZEVycm9yXCI7XG4gICAgICAgIHRoaXMuaXNzdWVzID0gaXNzdWVzO1xuICAgIH1cbiAgICBmb3JtYXQoX21hcHBlcikge1xuICAgICAgICBjb25zdCBtYXBwZXIgPSBfbWFwcGVyIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoaXNzdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNzdWUubWVzc2FnZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNvbnN0IGZpZWxkRXJyb3JzID0geyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICBjb25zdCBwcm9jZXNzRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXNzdWUgb2YgZXJyb3IuaXNzdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF91bmlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlLnVuaW9uRXJyb3JzLm1hcChwcm9jZXNzRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfcmV0dXJuX3R5cGVcIikge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoaXNzdWUucmV0dXJuVHlwZUVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX2FyZ3VtZW50c1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5hcmd1bWVudHNFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyID0gZmllbGRFcnJvcnM7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBpc3N1ZS5wYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBpc3N1ZS5wYXRoW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBpID09PSBpc3N1ZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiBlbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIGlmICh0eXBlb2YgZWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGNvbnN0IGVycm9yQXJyYXk6IGFueSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZXJyb3JBcnJheS5fZXJyb3JzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IGVycm9yQXJyYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0uX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyciA9IGN1cnJbZWxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBwcm9jZXNzRXJyb3IodGhpcyk7XG4gICAgICAgIHJldHVybiBmaWVsZEVycm9ycztcbiAgICB9XG4gICAgc3RhdGljIGFzc2VydCh2YWx1ZSkge1xuICAgICAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIFpvZEVycm9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb3QgYSBab2RFcnJvcjogJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZTtcbiAgICB9XG4gICAgZ2V0IG1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmlzc3VlcywgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgIH1cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgZmxhdHRlbihtYXBwZXIgPSAoaXNzdWUpID0+IGlzc3VlLm1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7fTtcbiAgICAgICAgY29uc3QgZm9ybUVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiB0aGlzLmlzc3Vlcykge1xuICAgICAgICAgICAgaWYgKHN1Yi5wYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gPSBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gfHwgW107XG4gICAgICAgICAgICAgICAgZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9ybUVycm9ycy5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmb3JtRXJyb3JzLCBmaWVsZEVycm9ycyB9O1xuICAgIH1cbiAgICBnZXQgZm9ybUVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdHRlbigpO1xuICAgIH1cbn1cblpvZEVycm9yLmNyZWF0ZSA9IChpc3N1ZXMpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihpc3N1ZXMpO1xuICAgIHJldHVybiBlcnJvcjtcbn07XG5cbmNvbnN0IGVycm9yTWFwID0gKGlzc3VlLCBfY3R4KSA9PiB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZTpcbiAgICAgICAgICAgIGlmIChpc3N1ZS5yZWNlaXZlZCA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJSZXF1aXJlZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBFeHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHtpc3N1ZS5yZWNlaXZlZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBsaXRlcmFsIHZhbHVlLCBleHBlY3RlZCAke0pTT04uc3RyaW5naWZ5KGlzc3VlLmV4cGVjdGVkLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlcil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5czpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgVW5yZWNvZ25pemVkIGtleShzKSBpbiBvYmplY3Q6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3I6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZW51bSB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9LCByZWNlaXZlZCAnJHtpc3N1ZS5yZWNlaXZlZH0nYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50czpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBmdW5jdGlvbiBhcmd1bWVudHNgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gcmV0dXJuIHR5cGVgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkYXRlYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZzpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChcImluY2x1ZGVzXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3QgaW5jbHVkZSBcIiR7aXNzdWUudmFsaWRhdGlvbi5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGAke21lc3NhZ2V9IGF0IG9uZSBvciBtb3JlIHBvc2l0aW9ucyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gJHtpc3N1ZS52YWxpZGF0aW9uLnBvc2l0aW9ufWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJzdGFydHNXaXRoXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3Qgc3RhcnQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5zdGFydHNXaXRofVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJlbmRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGVuZCB3aXRoIFwiJHtpc3N1ZS52YWxpZGF0aW9uLmVuZHNXaXRofVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUudmFsaWRhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudmFsaWRhdGlvbiAhPT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkICR7aXNzdWUudmFsaWRhdGlvbn1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLnRvb19zbWFsbDpcbiAgICAgICAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBBcnJheSBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBtb3JlIHRoYW5gfSAke2lzc3VlLm1pbmltdW19IGVsZW1lbnQocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFN0cmluZyBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBvdmVyYH0gJHtpc3N1ZS5taW5pbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseSBlcXVhbCB0byBgXG4gICAgICAgICAgICAgICAgICAgIDogaXNzdWUuaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgZ3JlYXRlciB0aGFuIGB9JHtpc3N1ZS5taW5pbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImRhdGVcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0XG4gICAgICAgICAgICAgICAgICAgID8gYGV4YWN0bHkgZXF1YWwgdG8gYFxuICAgICAgICAgICAgICAgICAgICA6IGlzc3VlLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGdyZWF0ZXIgdGhhbiBgfSR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1pbmltdW0pKX1gO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fYmlnOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYHVuZGVyYH0gJHtpc3N1ZS5tYXhpbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseWBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2BcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEJpZ0ludCBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseWBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2BcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBEYXRlIG11c3QgYmUgJHtpc3N1ZS5leGFjdFxuICAgICAgICAgICAgICAgICAgICA/IGBleGFjdGx5YFxuICAgICAgICAgICAgICAgICAgICA6IGlzc3VlLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgc21hbGxlciB0aGFuYH0gJHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWF4aW11bSkpfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmN1c3RvbTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludGVyc2VjdGlvbiByZXN1bHRzIGNvdWxkIG5vdCBiZSBtZXJnZWRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAke2lzc3VlLm11bHRpcGxlT2Z9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5ub3RfZmluaXRlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiTnVtYmVyIG11c3QgYmUgZmluaXRlXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBfY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUpO1xuICAgIH1cbiAgICByZXR1cm4geyBtZXNzYWdlIH07XG59O1xuXG5sZXQgb3ZlcnJpZGVFcnJvck1hcCA9IGVycm9yTWFwO1xuZnVuY3Rpb24gc2V0RXJyb3JNYXAobWFwKSB7XG4gICAgb3ZlcnJpZGVFcnJvck1hcCA9IG1hcDtcbn1cbmZ1bmN0aW9uIGdldEVycm9yTWFwKCkge1xuICAgIHJldHVybiBvdmVycmlkZUVycm9yTWFwO1xufVxuXG5jb25zdCBtYWtlSXNzdWUgPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBwYXRoLCBlcnJvck1hcHMsIGlzc3VlRGF0YSB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IGZ1bGxQYXRoID0gWy4uLnBhdGgsIC4uLihpc3N1ZURhdGEucGF0aCB8fCBbXSldO1xuICAgIGNvbnN0IGZ1bGxJc3N1ZSA9IHtcbiAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICB9O1xuICAgIGlmIChpc3N1ZURhdGEubWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGlzc3VlRGF0YS5tZXNzYWdlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgICBjb25zdCBtYXBzID0gZXJyb3JNYXBzXG4gICAgICAgIC5maWx0ZXIoKG0pID0+ICEhbSlcbiAgICAgICAgLnNsaWNlKClcbiAgICAgICAgLnJldmVyc2UoKTtcbiAgICBmb3IgKGNvbnN0IG1hcCBvZiBtYXBzKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IG1hcChmdWxsSXNzdWUsIHsgZGF0YSwgZGVmYXVsdEVycm9yOiBlcnJvck1lc3NhZ2UgfSkubWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgIH07XG59O1xuY29uc3QgRU1QVFlfUEFUSCA9IFtdO1xuZnVuY3Rpb24gYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBpc3N1ZURhdGEpIHtcbiAgICBjb25zdCBvdmVycmlkZU1hcCA9IGdldEVycm9yTWFwKCk7XG4gICAgY29uc3QgaXNzdWUgPSBtYWtlSXNzdWUoe1xuICAgICAgICBpc3N1ZURhdGE6IGlzc3VlRGF0YSxcbiAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLCAvLyBjb250ZXh0dWFsIGVycm9yIG1hcCBpcyBmaXJzdCBwcmlvcml0eVxuICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLCAvLyB0aGVuIHNjaGVtYS1ib3VuZCBtYXAgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICBvdmVycmlkZU1hcCwgLy8gdGhlbiBnbG9iYWwgb3ZlcnJpZGUgbWFwXG4gICAgICAgICAgICBvdmVycmlkZU1hcCA9PT0gZXJyb3JNYXAgPyB1bmRlZmluZWQgOiBlcnJvck1hcCwgLy8gdGhlbiBnbG9iYWwgZGVmYXVsdCBtYXBcbiAgICAgICAgXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgfSk7XG4gICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaChpc3N1ZSk7XG59XG5jbGFzcyBQYXJzZVN0YXR1cyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcInZhbGlkXCI7XG4gICAgfVxuICAgIGRpcnR5KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gXCJ2YWxpZFwiKVxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiZGlydHlcIjtcbiAgICB9XG4gICAgYWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImFib3J0ZWRcIjtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHRzKSB7XG4gICAgICAgIGNvbnN0IGFycmF5VmFsdWUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGFycmF5VmFsdWUucHVzaChzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGFycmF5VmFsdWUgfTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIG1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IGZpbmFsT2JqZWN0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSBwYWlyO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgaWYgKGtleS52YWx1ZSAhPT0gXCJfX3Byb3RvX19cIiAmJlxuICAgICAgICAgICAgICAgICh0eXBlb2YgdmFsdWUudmFsdWUgIT09IFwidW5kZWZpbmVkXCIgfHwgcGFpci5hbHdheXNTZXQpKSB7XG4gICAgICAgICAgICAgICAgZmluYWxPYmplY3Rba2V5LnZhbHVlXSA9IHZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxPYmplY3QgfTtcbiAgICB9XG59XG5jb25zdCBJTlZBTElEID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgc3RhdHVzOiBcImFib3J0ZWRcIixcbn0pO1xuY29uc3QgRElSVFkgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJkaXJ0eVwiLCB2YWx1ZSB9KTtcbmNvbnN0IE9LID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWUgfSk7XG5jb25zdCBpc0Fib3J0ZWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiO1xuY29uc3QgaXNEaXJ0eSA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJkaXJ0eVwiO1xuY29uc3QgaXNWYWxpZCA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJ2YWxpZFwiO1xuY29uc3QgaXNBc3luYyA9ICh4KSA9PiB0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB4IGluc3RhbmNlb2YgUHJvbWlzZTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG5mdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcclxufVxyXG5cclxudHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XHJcbiAgICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICAgIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XHJcbn07XG5cbnZhciBlcnJvclV0aWw7XG4oZnVuY3Rpb24gKGVycm9yVXRpbCkge1xuICAgIGVycm9yVXRpbC5lcnJUb09iaiA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZSB9IDogbWVzc2FnZSB8fCB7fTtcbiAgICBlcnJvclV0aWwudG9TdHJpbmcgPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlIDogbWVzc2FnZSA9PT0gbnVsbCB8fCBtZXNzYWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZXNzYWdlLm1lc3NhZ2U7XG59KShlcnJvclV0aWwgfHwgKGVycm9yVXRpbCA9IHt9KSk7XG5cbnZhciBfWm9kRW51bV9jYWNoZSwgX1pvZE5hdGl2ZUVudW1fY2FjaGU7XG5jbGFzcyBQYXJzZUlucHV0TGF6eVBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSkge1xuICAgICAgICB0aGlzLl9jYWNoZWRQYXRoID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuX2tleSA9IGtleTtcbiAgICB9XG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVkUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9rZXkgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCAuLi50aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIHRoaXMuX2tleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFBhdGg7XG4gICAgfVxufVxuY29uc3QgaGFuZGxlUmVzdWx0ID0gKGN0eCwgcmVzdWx0KSA9PiB7XG4gICAgaWYgKGlzVmFsaWQocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQudmFsdWUgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghY3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWYWxpZGF0aW9uIGZhaWxlZCBidXQgbm8gaXNzdWVzIGRldGVjdGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Vycm9yKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3I7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZnVuY3Rpb24gcHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGNvbnN0IHsgZXJyb3JNYXAsIGludmFsaWRfdHlwZV9lcnJvciwgcmVxdWlyZWRfZXJyb3IsIGRlc2NyaXB0aW9uIH0gPSBwYXJhbXM7XG4gICAgaWYgKGVycm9yTWFwICYmIChpbnZhbGlkX3R5cGVfZXJyb3IgfHwgcmVxdWlyZWRfZXJyb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgdXNlIFwiaW52YWxpZF90eXBlX2Vycm9yXCIgb3IgXCJyZXF1aXJlZF9lcnJvclwiIGluIGNvbmp1bmN0aW9uIHdpdGggY3VzdG9tIGVycm9yIG1hcC5gKTtcbiAgICB9XG4gICAgaWYgKGVycm9yTWFwKVxuICAgICAgICByZXR1cm4geyBlcnJvck1hcDogZXJyb3JNYXAsIGRlc2NyaXB0aW9uIH07XG4gICAgY29uc3QgY3VzdG9tTWFwID0gKGlzcywgY3R4KSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gcGFyYW1zO1xuICAgICAgICBpZiAoaXNzLmNvZGUgPT09IFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgIT09IG51bGwgJiYgbWVzc2FnZSAhPT0gdm9pZCAwID8gbWVzc2FnZSA6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGN0eC5kYXRhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiAoX2EgPSBtZXNzYWdlICE9PSBudWxsICYmIG1lc3NhZ2UgIT09IHZvaWQgMCA/IG1lc3NhZ2UgOiByZXF1aXJlZF9lcnJvcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc3MuY29kZSAhPT0gXCJpbnZhbGlkX3R5cGVcIilcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogKF9iID0gbWVzc2FnZSAhPT0gbnVsbCAmJiBtZXNzYWdlICE9PSB2b2lkIDAgPyBtZXNzYWdlIDogaW52YWxpZF90eXBlX2Vycm9yKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgfTtcbiAgICByZXR1cm4geyBlcnJvck1hcDogY3VzdG9tTWFwLCBkZXNjcmlwdGlvbiB9O1xufVxuY2xhc3MgWm9kVHlwZSB7XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBfZ2V0VHlwZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpIHtcbiAgICAgICAgcmV0dXJuIChjdHggfHwge1xuICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBuZXcgUGFyc2VTdGF0dXMoKSxcbiAgICAgICAgICAgIGN0eDoge1xuICAgICAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3BhcnNlU3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bmNocm9ub3VzIHBhcnNlIGVuY291bnRlcmVkIHByb21pc2UuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9wYXJzZUFzeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH1cbiAgICBwYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zYWZlUGFyc2UoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIHNhZmVQYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGFzeW5jOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuYXN5bmMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmVycm9yTWFwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMucGF0aCkgfHwgW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlU3luYyh7IGRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgfVxuICAgIFwifnZhbGlkYXRlXCIoZGF0YSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGFzeW5jOiAhIXRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGlmICghdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luYykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBbXSwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQocmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IGN0eC5jb21tb24uaXNzdWVzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmICgoX2IgPSAoX2EgPSBlcnIgPT09IG51bGwgfHwgZXJyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnIubWVzc2FnZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvTG93ZXJDYXNlKCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcyhcImVuY291bnRlcmVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHguY29tbW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJzZUFzeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pLnRoZW4oKHJlc3VsdCkgPT4gaXNWYWxpZChyZXN1bHQpXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBhc3luYyBzYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLnBhdGgpIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYXliZUFzeW5jUmVzdWx0ID0gdGhpcy5fcGFyc2UoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChpc0FzeW5jKG1heWJlQXN5bmNSZXN1bHQpXG4gICAgICAgICAgICA/IG1heWJlQXN5bmNSZXN1bHRcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKG1heWJlQXN5bmNSZXN1bHQpKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJlZmluZShjaGVjaywgbWVzc2FnZSkge1xuICAgICAgICBjb25zdCBnZXRJc3N1ZVByb3BlcnRpZXMgPSAodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG1lc3NhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UodmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNoZWNrKHZhbCk7XG4gICAgICAgICAgICBjb25zdCBzZXRFcnJvciA9ICgpID0+IGN0eC5hZGRJc3N1ZSh7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmN1c3RvbSxcbiAgICAgICAgICAgICAgICAuLi5nZXRJc3N1ZVByb3BlcnRpZXModmFsKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZmluZW1lbnQoY2hlY2ssIHJlZmluZW1lbnREYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KCh2YWwsIGN0eCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjaGVjayh2YWwpKSB7XG4gICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHR5cGVvZiByZWZpbmVtZW50RGF0YSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgID8gcmVmaW5lbWVudERhdGEodmFsLCBjdHgpXG4gICAgICAgICAgICAgICAgICAgIDogcmVmaW5lbWVudERhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3JlZmluZW1lbnQocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicmVmaW5lbWVudFwiLCByZWZpbmVtZW50IH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdXBlclJlZmluZShyZWZpbmVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KHJlZmluZW1lbnQpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihkZWYpIHtcbiAgICAgICAgLyoqIEFsaWFzIG9mIHNhZmVQYXJzZUFzeW5jICovXG4gICAgICAgIHRoaXMuc3BhID0gdGhpcy5zYWZlUGFyc2VBc3luYztcbiAgICAgICAgdGhpcy5fZGVmID0gZGVmO1xuICAgICAgICB0aGlzLnBhcnNlID0gdGhpcy5wYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZSA9IHRoaXMuc2FmZVBhcnNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGFyc2VBc3luYyA9IHRoaXMucGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZUFzeW5jID0gdGhpcy5zYWZlUGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc3BhLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lID0gdGhpcy5yZWZpbmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZpbmVtZW50ID0gdGhpcy5yZWZpbmVtZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3VwZXJSZWZpbmUgPSB0aGlzLnN1cGVyUmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3B0aW9uYWwgPSB0aGlzLm9wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGFibGUgPSB0aGlzLm51bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGlzaCA9IHRoaXMubnVsbGlzaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFycmF5ID0gdGhpcy5hcnJheS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vciA9IHRoaXMub3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hbmQgPSB0aGlzLmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYnJhbmQgPSB0aGlzLmJyYW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHRoaXMuZGVmYXVsdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhdGNoID0gdGhpcy5jYXRjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlc2NyaWJlID0gdGhpcy5kZXNjcmliZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBpcGUgPSB0aGlzLnBpcGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWFkb25seSA9IHRoaXMucmVhZG9ubHkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc051bGxhYmxlID0gdGhpcy5pc051bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNPcHRpb25hbCA9IHRoaXMuaXNPcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzW1wifnN0YW5kYXJkXCJdID0ge1xuICAgICAgICAgICAgdmVyc2lvbjogMSxcbiAgICAgICAgICAgIHZlbmRvcjogXCJ6b2RcIixcbiAgICAgICAgICAgIHZhbGlkYXRlOiAoZGF0YSkgPT4gdGhpc1tcIn52YWxpZGF0ZVwiXShkYXRhKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgb3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGlzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVsbGFibGUoKS5vcHRpb25hbCgpO1xuICAgIH1cbiAgICBhcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZEFycmF5LmNyZWF0ZSh0aGlzKTtcbiAgICB9XG4gICAgcHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZFByb21pc2UuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG9yKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gWm9kVW5pb24uY3JlYXRlKFt0aGlzLCBvcHRpb25dLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBhbmQoaW5jb21pbmcpIHtcbiAgICAgICAgcmV0dXJuIFpvZEludGVyc2VjdGlvbi5jcmVhdGUodGhpcywgaW5jb21pbmcsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIHRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInRyYW5zZm9ybVwiLCB0cmFuc2Zvcm0gfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlZmF1bHQoZGVmKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBpbm5lclR5cGU6IHRoaXMsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBicmFuZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCcmFuZGVkKHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChkZWYpIHtcbiAgICAgICAgY29uc3QgY2F0Y2hWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgY2F0Y2hWYWx1ZTogY2F0Y2hWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVzY3JpYmUoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29uc3QgVGhpcyA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHJldHVybiBuZXcgVGhpcyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBpcGUodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBab2RQaXBlbGluZS5jcmVhdGUodGhpcywgdGFyZ2V0KTtcbiAgICB9XG4gICAgcmVhZG9ubHkoKSB7XG4gICAgICAgIHJldHVybiBab2RSZWFkb25seS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIGlzT3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZSh1bmRlZmluZWQpLnN1Y2Nlc3M7XG4gICAgfVxuICAgIGlzTnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZShudWxsKS5zdWNjZXNzO1xuICAgIH1cbn1cbmNvbnN0IGN1aWRSZWdleCA9IC9eY1teXFxzLV17OCx9JC9pO1xuY29uc3QgY3VpZDJSZWdleCA9IC9eWzAtOWEtel0rJC87XG5jb25zdCB1bGlkUmVnZXggPSAvXlswLTlBLUhKS01OUC1UVi1aXXsyNn0kL2k7XG4vLyBjb25zdCB1dWlkUmVnZXggPVxuLy8gICAvXihbYS1mMC05XXs4fS1bYS1mMC05XXs0fS1bMS01XVthLWYwLTldezN9LVthLWYwLTldezR9LVthLWYwLTldezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pO1xuY29uc3QgdXVpZFJlZ2V4ID0gL15bMC05YS1mQS1GXXs4fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXsxMn0kL2k7XG5jb25zdCBuYW5vaWRSZWdleCA9IC9eW2EtejAtOV8tXXsyMX0kL2k7XG5jb25zdCBqd3RSZWdleCA9IC9eW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dK1xcLltBLVphLXowLTktX10qJC87XG5jb25zdCBkdXJhdGlvblJlZ2V4ID0gL15bLStdP1AoPyEkKSg/Oig/OlstK10/XFxkK1kpfCg/OlstK10/XFxkK1suLF1cXGQrWSQpKT8oPzooPzpbLStdP1xcZCtNKXwoPzpbLStdP1xcZCtbLixdXFxkK00kKSk/KD86KD86Wy0rXT9cXGQrVyl8KD86Wy0rXT9cXGQrWy4sXVxcZCtXJCkpPyg/Oig/OlstK10/XFxkK0QpfCg/OlstK10/XFxkK1suLF1cXGQrRCQpKT8oPzpUKD89W1xcZCstXSkoPzooPzpbLStdP1xcZCtIKXwoPzpbLStdP1xcZCtbLixdXFxkK0gkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/OlstK10/XFxkKyg/OlsuLF1cXGQrKT9TKT8pPz8kLztcbi8vIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ2MTgxLzE1NTAxNTVcbi8vIG9sZCB2ZXJzaW9uOiB0b28gc2xvdywgZGlkbid0IHN1cHBvcnQgdW5pY29kZVxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKCgoW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKyhcXC4oW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKykqKXwoKFxceDIyKSgoKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KChbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHg3Zl18XFx4MjF8W1xceDIzLVxceDViXXxbXFx4NWQtXFx4N2VdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoXFxcXChbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpKSooKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KFxceDIyKSkpQCgoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4pKygoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSQvaTtcbi8vb2xkIGVtYWlsIHJlZ2V4XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID0gL14oKFtePD4oKVtcXF0uLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXS4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKCg/IS0pKFtePD4oKVtcXF0uLDs6XFxzQFwiXStcXC4pK1tePD4oKVtcXF0uLDs6XFxzQFwiXXsxLH0pW14tPD4oKVtcXF0uLDs6XFxzQFwiXSQvaTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcWygoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcXSl8KFxcW0lQdjY6KChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKVxcXSl8KFtBLVphLXowLTldKFtBLVphLXowLTktXSpbQS1aYS16MC05XSkqKFxcLltBLVphLXpdezIsfSkrKSkkLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXpBLVowLTlcXC5cXCFcXCNcXCRcXCVcXCZcXCdcXCpcXCtcXC9cXD1cXD9cXF5cXF9cXGBcXHtcXHxcXH1cXH5cXC1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKD86W2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlxcLlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSspKnxcIig/OltcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDIxXFx4MjMtXFx4NWJcXHg1ZC1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKlwiKUAoPzooPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/fFxcWyg/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/fFthLXowLTktXSpbYS16MC05XTooPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMS1cXHg1YVxceDUzLVxceDdmXXxcXFxcW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBlLVxceDdmXSkrKVxcXSkkL2k7XG5jb25zdCBlbWFpbFJlZ2V4ID0gL14oPyFcXC4pKD8hLipcXC5cXC4pKFtBLVowLTlfJytcXC1cXC5dKilbQS1aMC05XystXUAoW0EtWjAtOV1bQS1aMC05XFwtXSpcXC4pK1tBLVpdezIsfSQvaTtcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXowLTkuISMkJSbigJkqKy89P15fYHt8fX4tXStAW2EtejAtOS1dKyg/OlxcLlthLXowLTlcXC1dKykqJC9pO1xuLy8gZnJvbSBodHRwczovL3RoZWtldmluc2NvdHQuY29tL2Vtb2ppcy1pbi1qYXZhc2NyaXB0LyN3cml0aW5nLWEtcmVndWxhci1leHByZXNzaW9uXG5jb25zdCBfZW1vamlSZWdleCA9IGBeKFxcXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318XFxcXHB7RW1vamlfQ29tcG9uZW50fSkrJGA7XG5sZXQgZW1vamlSZWdleDtcbi8vIGZhc3Rlciwgc2ltcGxlciwgc2FmZXJcbmNvbnN0IGlwdjRSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pJC87XG5jb25zdCBpcHY0Q2lkclJlZ2V4ID0gL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC8oM1swLTJdfFsxMl0/WzAtOV0pJC87XG4vLyBjb25zdCBpcHY2UmVnZXggPVxuLy8gL14oKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpJC87XG5jb25zdCBpcHY2UmVnZXggPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezcsN31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318Oil8ZmU4MDooOlswLTlhLWZBLUZdezAsNH0pezAsNH0lWzAtOWEtekEtWl17MSx9fDo6KGZmZmYoOjB7MSw0fSl7MCwxfTopezAsMX0oKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSl8KFswLTlhLWZBLUZdezEsNH06KXsxLDR9OigoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKSkkLztcbmNvbnN0IGlwdjZDaWRyUmVnZXggPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezcsN31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318Oil8ZmU4MDooOlswLTlhLWZBLUZdezAsNH0pezAsNH0lWzAtOWEtekEtWl17MSx9fDo6KGZmZmYoOjB7MSw0fSl7MCwxfTopezAsMX0oKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSl8KFswLTlhLWZBLUZdezEsNH06KXsxLDR9OigoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKSlcXC8oMTJbMC04XXwxWzAxXVswLTldfFsxLTldP1swLTldKSQvO1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg2MDM5Mi9kZXRlcm1pbmUtaWYtc3RyaW5nLWlzLWluLWJhc2U2NC11c2luZy1qYXZhc2NyaXB0XG5jb25zdCBiYXNlNjRSZWdleCA9IC9eKFswLTlhLXpBLVorL117NH0pKigoWzAtOWEtekEtWisvXXsyfT09KXwoWzAtOWEtekEtWisvXXszfT0pKT8kLztcbi8vIGh0dHBzOi8vYmFzZTY0Lmd1cnUvc3RhbmRhcmRzL2Jhc2U2NHVybFxuY29uc3QgYmFzZTY0dXJsUmVnZXggPSAvXihbMC05YS16QS1aLV9dezR9KSooKFswLTlhLXpBLVotX117Mn0oPT0pPyl8KFswLTlhLXpBLVotX117M30oPSk/KSk/JC87XG4vLyBzaW1wbGVcbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfWA7XG4vLyBubyBsZWFwIHllYXIgdmFsaWRhdGlvblxuLy8gY29uc3QgZGF0ZVJlZ2V4U291cmNlID0gYFxcXFxkezR9LSgoMFsxMzU3OF18MTB8MTIpLTMxfCgwWzEzLTldfDFbMC0yXSktMzB8KDBbMS05XXwxWzAtMl0pLSgwWzEtOV18MVxcXFxkfDJcXFxcZCkpYDtcbi8vIHdpdGggbGVhcCB5ZWFyIHZhbGlkYXRpb25cbmNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGAoKFxcXFxkXFxcXGRbMjQ2OF1bMDQ4XXxcXFxcZFxcXFxkWzEzNTc5XVsyNl18XFxcXGRcXFxcZDBbNDhdfFswMjQ2OF1bMDQ4XTAwfFsxMzU3OV1bMjZdMDApLTAyLTI5fFxcXFxkezR9LSgoMFsxMzU3OF18MVswMl0pLSgwWzEtOV18WzEyXVxcXFxkfDNbMDFdKXwoMFs0NjldfDExKS0oMFsxLTldfFsxMl1cXFxcZHwzMCl8KDAyKS0oMFsxLTldfDFcXFxcZHwyWzAtOF0pKSlgO1xuY29uc3QgZGF0ZVJlZ2V4ID0gbmV3IFJlZ0V4cChgXiR7ZGF0ZVJlZ2V4U291cmNlfSRgKTtcbmZ1bmN0aW9uIHRpbWVSZWdleFNvdXJjZShhcmdzKSB7XG4gICAgLy8gbGV0IHJlZ2V4ID0gYFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9YDtcbiAgICBsZXQgcmVnZXggPSBgKFswMV1cXFxcZHwyWzAtM10pOlswLTVdXFxcXGQ6WzAtNV1cXFxcZGA7XG4gICAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgICAgIHJlZ2V4ID0gYCR7cmVnZXh9XFxcXC5cXFxcZHske2FyZ3MucHJlY2lzaW9ufX1gO1xuICAgIH1cbiAgICBlbHNlIGlmIChhcmdzLnByZWNpc2lvbiA9PSBudWxsKSB7XG4gICAgICAgIHJlZ2V4ID0gYCR7cmVnZXh9KFxcXFwuXFxcXGQrKT9gO1xuICAgIH1cbiAgICByZXR1cm4gcmVnZXg7XG59XG5mdW5jdGlvbiB0aW1lUmVnZXgoYXJncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9JGApO1xufVxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTQzMjMxXG5mdW5jdGlvbiBkYXRldGltZVJlZ2V4KGFyZ3MpIHtcbiAgICBsZXQgcmVnZXggPSBgJHtkYXRlUmVnZXhTb3VyY2V9VCR7dGltZVJlZ2V4U291cmNlKGFyZ3MpfWA7XG4gICAgY29uc3Qgb3B0cyA9IFtdO1xuICAgIG9wdHMucHVzaChhcmdzLmxvY2FsID8gYFo/YCA6IGBaYCk7XG4gICAgaWYgKGFyZ3Mub2Zmc2V0KVxuICAgICAgICBvcHRzLnB1c2goYChbKy1dXFxcXGR7Mn06P1xcXFxkezJ9KWApO1xuICAgIHJlZ2V4ID0gYCR7cmVnZXh9KCR7b3B0cy5qb2luKFwifFwiKX0pYDtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cmVnZXh9JGApO1xufVxuZnVuY3Rpb24gaXNWYWxpZElQKGlwLCB2ZXJzaW9uKSB7XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY0XCIgfHwgIXZlcnNpb24pICYmIGlwdjRSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNWYWxpZEpXVChqd3QsIGFsZykge1xuICAgIGlmICghand0UmVnZXgudGVzdChqd3QpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW2hlYWRlcl0gPSBqd3Quc3BsaXQoXCIuXCIpO1xuICAgICAgICAvLyBDb252ZXJ0IGJhc2U2NHVybCB0byBiYXNlNjRcbiAgICAgICAgY29uc3QgYmFzZTY0ID0gaGVhZGVyXG4gICAgICAgICAgICAucmVwbGFjZSgvLS9nLCBcIitcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9fL2csIFwiL1wiKVxuICAgICAgICAgICAgLnBhZEVuZChoZWFkZXIubGVuZ3RoICsgKCg0IC0gKGhlYWRlci5sZW5ndGggJSA0KSkgJSA0KSwgXCI9XCIpO1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gSlNPTi5wYXJzZShhdG9iKGJhc2U2NCkpO1xuICAgICAgICBpZiAodHlwZW9mIGRlY29kZWQgIT09IFwib2JqZWN0XCIgfHwgZGVjb2RlZCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFkZWNvZGVkLnR5cCB8fCAhZGVjb2RlZC5hbGcpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChhbGcgJiYgZGVjb2RlZC5hbGcgIT09IGFsZylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNWYWxpZENpZHIoaXAsIHZlcnNpb24pIHtcbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjRcIiB8fCAhdmVyc2lvbikgJiYgaXB2NENpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZDaWRyUmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmNsYXNzIFpvZFN0cmluZyBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IFN0cmluZyhpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zdHJpbmcsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibGVuZ3RoXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtb2ppXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVtb2ppUmVnZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1vamlSZWdleCA9IG5ldyBSZWdFeHAoX2Vtb2ppUmVnZXgsIFwidVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbW9qaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXVpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1dWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInV1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm5hbm9pZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW5vaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwibmFub2lkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZDJcIikge1xuICAgICAgICAgICAgICAgIGlmICghY3VpZDJSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVsaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdWxpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1bGlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1cmxcIikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBVUkwoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIGNoZWNrLnJlZ2V4Lmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFJlc3VsdCA9IGNoZWNrLnJlZ2V4LnRlc3QoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0ZXN0UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwicmVnZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRyaW1cIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW5jbHVkZXNcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5pbmNsdWRlcyhjaGVjay52YWx1ZSwgY2hlY2sucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgaW5jbHVkZXM6IGNoZWNrLnZhbHVlLCBwb3NpdGlvbjogY2hlY2sucG9zaXRpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvTG93ZXJDYXNlXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b1VwcGVyQ2FzZVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwic3RhcnRzV2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLnN0YXJ0c1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgc3RhcnRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVuZHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuZW5kc1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgZW5kc1dpdGg6IGNoZWNrLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRldGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBkYXRldGltZVJlZ2V4KGNoZWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZGF0ZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBkYXRlUmVnZXg7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSB0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInRpbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImR1cmF0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWR1cmF0aW9uUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImR1cmF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpcFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkSVAoaW5wdXQuZGF0YSwgY2hlY2sudmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJpcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiand0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRKV1QoaW5wdXQuZGF0YSwgY2hlY2suYWxnKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImp3dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY2lkclwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkQ2lkcihpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImNpZHJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImJhc2U2NFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNlNjRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiYmFzZTY0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjR1cmxcIikge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZTY0dXJsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImJhc2U2NHVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBfcmVnZXgocmVnZXgsIHZhbGlkYXRpb24sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmaW5lbWVudCgoZGF0YSkgPT4gcmVnZXgudGVzdChkYXRhKSwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbixcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbWFpbChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1haWxcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1cmwobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVybFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGVtb2ppKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbW9qaVwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHV1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInV1aWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBuYW5vaWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcIm5hbm9pZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImN1aWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBjdWlkMihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZDJcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1bGlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1bGlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgYmFzZTY0KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJiYXNlNjRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBiYXNlNjR1cmwobWVzc2FnZSkge1xuICAgICAgICAvLyBiYXNlNjR1cmwgZW5jb2RpbmcgaXMgYSBtb2RpZmljYXRpb24gb2YgYmFzZTY0IHRoYXQgY2FuIHNhZmVseSBiZSB1c2VkIGluIFVSTHMgYW5kIGZpbGVuYW1lc1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJiYXNlNjR1cmxcIixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGp3dChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiand0XCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgaXAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImlwXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgY2lkcihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY2lkclwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGRhdGV0aW1lKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAgICAgIGtpbmQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsb2NhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICBwcmVjaXNpb246IHR5cGVvZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbikgPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbixcbiAgICAgICAgICAgIG9mZnNldDogKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm9mZnNldCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAgICAgICBsb2NhbDogKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmxvY2FsKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkYXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJkYXRlXCIsIG1lc3NhZ2UgfSk7XG4gICAgfVxuICAgIHRpbWUob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICAgICAga2luZDogXCJ0aW1lXCIsXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJ0aW1lXCIsXG4gICAgICAgICAgICBwcmVjaXNpb246IHR5cGVvZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbikgPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkdXJhdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZHVyYXRpb25cIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICByZWdleChyZWdleCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJyZWdleFwiLFxuICAgICAgICAgICAgcmVnZXg6IHJlZ2V4LFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW5jbHVkZXModmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW5jbHVkZXNcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucG9zaXRpb24sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJzdGFydHNXaXRoXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbmRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJlbmRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5MZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heExlbmd0aCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibGVuZ3RoXCIsXG4gICAgICAgICAgICB2YWx1ZTogbGVuLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBgLm1pbigxKWBcbiAgICAgKi9cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBlcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkpO1xuICAgIH1cbiAgICB0cmltKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidHJpbVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9Mb3dlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b0xvd2VyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9VcHBlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b1VwcGVyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZXRpbWUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZXRpbWVcIik7XG4gICAgfVxuICAgIGdldCBpc0RhdGUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVGltZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ0aW1lXCIpO1xuICAgIH1cbiAgICBnZXQgaXNEdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkdXJhdGlvblwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1haWwoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1haWxcIik7XG4gICAgfVxuICAgIGdldCBpc1VSTCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1cmxcIik7XG4gICAgfVxuICAgIGdldCBpc0Vtb2ppKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtb2ppXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInV1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc05BTk9JRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJuYW5vaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0NVSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ1VJRDIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZDJcIik7XG4gICAgfVxuICAgIGdldCBpc1VMSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidWxpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzSVAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaXBcIik7XG4gICAgfVxuICAgIGdldCBpc0NJRFIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY2lkclwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImJhc2U2NFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0dXJsKCkge1xuICAgICAgICAvLyBiYXNlNjR1cmwgZW5jb2RpbmcgaXMgYSBtb2RpZmljYXRpb24gb2YgYmFzZTY0IHRoYXQgY2FuIHNhZmVseSBiZSB1c2VkIGluIFVSTHMgYW5kIGZpbGVuYW1lc1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImJhc2U2NHVybFwiKTtcbiAgICB9XG4gICAgZ2V0IG1pbkxlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4TGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuWm9kU3RyaW5nLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyxcbiAgICAgICAgY29lcmNlOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM5NjY0ODQvd2h5LWRvZXMtbW9kdWx1cy1vcGVyYXRvci1yZXR1cm4tZnJhY3Rpb25hbC1udW1iZXItaW4tamF2YXNjcmlwdC8zMTcxMTAzNCMzMTcxMTAzNFxuZnVuY3Rpb24gZmxvYXRTYWZlUmVtYWluZGVyKHZhbCwgc3RlcCkge1xuICAgIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcERlY0NvdW50ID0gKHN0ZXAudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IGRlY0NvdW50ID0gdmFsRGVjQ291bnQgPiBzdGVwRGVjQ291bnQgPyB2YWxEZWNDb3VudCA6IHN0ZXBEZWNDb3VudDtcbiAgICBjb25zdCB2YWxJbnQgPSBwYXJzZUludCh2YWwudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIGNvbnN0IHN0ZXBJbnQgPSBwYXJzZUludChzdGVwLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICByZXR1cm4gKHZhbEludCAlIHN0ZXBJbnQpIC8gTWF0aC5wb3coMTAsIGRlY0NvdW50KTtcbn1cbmNsYXNzIFpvZE51bWJlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgICAgICB0aGlzLnN0ZXAgPSB0aGlzLm11bHRpcGxlT2Y7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IE51bWJlcihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5udW1iZXIsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJpbnRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdXRpbC5pc0ludGVnZXIoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcImludGVnZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBcImZsb2F0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIGlmIChmbG9hdFNhZmVSZW1haW5kZXIoaW5wdXQuZGF0YSwgY2hlY2sudmFsdWUpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImZpbml0ZVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9maW5pdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGludChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImludFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZpbml0ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImZpbml0ZVwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2FmZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KS5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG4gICAgZ2V0IGlzSW50KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImludFwiIHx8XG4gICAgICAgICAgICAoY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIgJiYgdXRpbC5pc0ludGVnZXIoY2gudmFsdWUpKSk7XG4gICAgfVxuICAgIGdldCBpc0Zpbml0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGwsIG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwiZmluaXRlXCIgfHxcbiAgICAgICAgICAgICAgICBjaC5raW5kID09PSBcImludFwiIHx8XG4gICAgICAgICAgICAgICAgY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG1pbikgJiYgTnVtYmVyLmlzRmluaXRlKG1heCk7XG4gICAgfVxufVxuWm9kTnVtYmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVtYmVyLFxuICAgICAgICBjb2VyY2U6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEJpZ0ludCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJpZ0ludChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYmlnaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0SW52YWxpZElucHV0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhICUgY2hlY2sudmFsdWUgIT09IEJpZ0ludCgwKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIF9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5iaWdpbnQsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuWm9kQmlnSW50LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludCxcbiAgICAgICAgY29lcmNlOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEJvb2xlYW4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBCb29sZWFuKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYm9vbGVhbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5ib29sZWFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZEJvb2xlYW4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQm9vbGVhbih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbixcbiAgICAgICAgY29lcmNlOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2REYXRlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gbmV3IERhdGUoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5kYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmRhdGUsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOYU4oaW5wdXQuZGF0YS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPiBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLnZhbHVlLFxuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKGlucHV0LmRhdGEuZ2V0VGltZSgpKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtaW4obWluRGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5EYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhEYXRlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heERhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pbkRhdGUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbiAhPSBudWxsID8gbmV3IERhdGUobWluKSA6IG51bGw7XG4gICAgfVxuICAgIGdldCBtYXhEYXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXggIT0gbnVsbCA/IG5ldyBEYXRlKG1heCkgOiBudWxsO1xuICAgIH1cbn1cblpvZERhdGUuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIGNvZXJjZTogKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpIHx8IGZhbHNlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RTeW1ib2wgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zeW1ib2wpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc3ltYm9sLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFN5bWJvbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTeW1ib2woe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFVuZGVmaW5lZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS51bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVW5kZWZpbmVkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuZGVmaW5lZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5kZWZpbmVkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kTnVsbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubnVsbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2ROdWxsLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGwoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RBbnkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLy8gdG8gcHJldmVudCBpbnN0YW5jZXMgb2Ygb3RoZXIgY2xhc3NlcyBmcm9tIGV4dGVuZGluZyBab2RBbnkuIHRoaXMgY2F1c2VzIGlzc3VlcyB3aXRoIGNhdGNoYWxsIGluIFpvZE9iamVjdC5cbiAgICAgICAgdGhpcy5fYW55ID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RBbnkuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQW55KHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RVbmtub3duIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8vIHJlcXVpcmVkXG4gICAgICAgIHRoaXMuX3Vua25vd24gPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFVua25vd24uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5rbm93bih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE5ldmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubmV2ZXIsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG59XG5ab2ROZXZlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROZXZlcih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXIsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RWb2lkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnZvaWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVm9pZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RWb2lkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kQXJyYXkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHgsIHN0YXR1cyB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLmV4YWN0TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjdHguZGF0YS5sZW5ndGggPiBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogdG9vQmlnID8gWm9kSXNzdWVDb2RlLnRvb19iaWcgOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiAodG9vU21hbGwgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiAodG9vQmlnID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1pbkxlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5taW5MZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pbkxlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pbkxlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoID4gZGVmLm1heExlbmd0aC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heExlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heExlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlQXN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgICAgICB9KSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VTeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiB7IHZhbHVlOiBtaW5MZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1heExlbmd0aDogeyB2YWx1ZTogbWF4TGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBleGFjdExlbmd0aDogeyB2YWx1ZTogbGVuLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cblpvZEFycmF5LmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIG1pbkxlbmd0aDogbnVsbCxcbiAgICAgICAgbWF4TGVuZ3RoOiBudWxsLFxuICAgICAgICBleGFjdExlbmd0aDogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYSkge1xuICAgIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPYmplY3QpIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hLnNoYXBlKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHNjaGVtYS5zaGFwZVtrZXldO1xuICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShmaWVsZFNjaGVtYSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHR5cGU6IGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS5lbGVtZW50KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZFR1cGxlKSB7XG4gICAgICAgIHJldHVybiBab2RUdXBsZS5jcmVhdGUoc2NoZW1hLml0ZW1zLm1hcCgoaXRlbSkgPT4gZGVlcFBhcnRpYWxpZnkoaXRlbSkpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuY2xhc3MgWm9kT2JqZWN0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX2NhY2hlZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBJbiBtb3N0IGNhc2VzLCB0aGlzIGlzIG5vIGxvbmdlciBuZWVkZWQgLSB1bmtub3duIHByb3BlcnRpZXMgYXJlIG5vdyBzaWxlbnRseSBzdHJpcHBlZC5cbiAgICAgICAgICogSWYgeW91IHdhbnQgdG8gcGFzcyB0aHJvdWdoIHVua25vd24gcHJvcGVydGllcywgdXNlIGAucGFzc3Rocm91Z2goKWAgaW5zdGVhZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubm9uc3RyaWN0ID0gdGhpcy5wYXNzdGhyb3VnaDtcbiAgICAgICAgLy8gZXh0ZW5kPFxuICAgICAgICAvLyAgIEF1Z21lbnRhdGlvbiBleHRlbmRzIFpvZFJhd1NoYXBlLFxuICAgICAgICAvLyAgIE5ld091dHB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAgICAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBPdXRwdXRcbiAgICAgICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgICAgLy8gICB9PixcbiAgICAgICAgLy8gICBOZXdJbnB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfaW5wdXRcIl1cbiAgICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgICAgICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgICAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgICAgICAvLyAgIH0+XG4gICAgICAgIC8vID4oXG4gICAgICAgIC8vICAgYXVnbWVudGF0aW9uOiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gKTogWm9kT2JqZWN0PFxuICAgICAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIEF1Z21lbnRhdGlvbj4sXG4gICAgICAgIC8vICAgVW5rbm93bktleXMsXG4gICAgICAgIC8vICAgQ2F0Y2hhbGwsXG4gICAgICAgIC8vICAgTmV3T3V0cHV0LFxuICAgICAgICAvLyAgIE5ld0lucHV0XG4gICAgICAgIC8vID4ge1xuICAgICAgICAvLyAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgLy8gICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgLy8gICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAvLyAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgLy8gICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgICAgICAvLyAgICAgfSksXG4gICAgICAgIC8vICAgfSkgYXMgYW55O1xuICAgICAgICAvLyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYC5leHRlbmRgIGluc3RlYWRcbiAgICAgICAgICogICovXG4gICAgICAgIHRoaXMuYXVnbWVudCA9IHRoaXMuZXh0ZW5kO1xuICAgIH1cbiAgICBfZ2V0Q2FjaGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVkICE9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZDtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICAgICAgY29uc3Qga2V5cyA9IHV0aWwub2JqZWN0S2V5cyhzaGFwZSk7XG4gICAgICAgIHJldHVybiAodGhpcy5fY2FjaGVkID0geyBzaGFwZSwga2V5cyB9KTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IHsgc2hhcGUsIGtleXM6IHNoYXBlS2V5cyB9ID0gdGhpcy5fZ2V0Q2FjaGVkKCk7XG4gICAgICAgIGNvbnN0IGV4dHJhS2V5cyA9IFtdO1xuICAgICAgICBpZiAoISh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlciAmJlxuICAgICAgICAgICAgdGhpcy5fZGVmLnVua25vd25LZXlzID09PSBcInN0cmlwXCIpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICghc2hhcGVLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcGVLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlWYWxpZGF0b3IgPSBzaGFwZVtrZXldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IGtleVZhbGlkYXRvci5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHVua25vd25LZXlzID0gdGhpcy5fZGVmLnVua25vd25LZXlzO1xuICAgICAgICAgICAgaWYgKHVua25vd25LZXlzID09PSBcInBhc3N0aHJvdWdoXCIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogY3R4LmRhdGFba2V5XSB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChleHRyYUtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IGV4dHJhS2V5cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmlwXCIpIDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgWm9kT2JqZWN0IGVycm9yOiBpbnZhbGlkIHVua25vd25LZXlzIHZhbHVlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcnVuIGNhdGNoYWxsIHZhbGlkYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGNhdGNoYWxsID0gdGhpcy5fZGVmLmNhdGNoYWxsO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhdGNoYWxsLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpIC8vLCBjdHguY2hpbGQoa2V5KSwgdmFsdWUsIGdldFBhcnNlZFR5cGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBwYWlyLmFsd2F5c1NldCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jUGFpcnM7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChzeW5jUGFpcnMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICB9XG4gICAgc3RyaWN0KG1lc3NhZ2UpIHtcbiAgICAgICAgZXJyb3JVdGlsLmVyclRvT2JqO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNYXA6IChpc3N1ZSwgY3R4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0RXJyb3IgPSAoX2MgPSAoX2IgPSAoX2EgPSB0aGlzLl9kZWYpLmVycm9yTWFwKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgaXNzdWUsIGN0eCkubWVzc2FnZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcInVucmVjb2duaXplZF9rZXlzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogKF9kID0gZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLm1lc3NhZ2UpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRlZmF1bHRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0cmlwKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGFzc3Rocm91Z2goKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInBhc3N0aHJvdWdoXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjb25zdCBBdWdtZW50RmFjdG9yeSA9XG4gICAgLy8gICA8RGVmIGV4dGVuZHMgWm9kT2JqZWN0RGVmPihkZWY6IERlZikgPT5cbiAgICAvLyAgIDxBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZT4oXG4gICAgLy8gICAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgLy8gICApOiBab2RPYmplY3Q8XG4gICAgLy8gICAgIGV4dGVuZFNoYXBlPFJldHVyblR5cGU8RGVmW1wic2hhcGVcIl0+LCBBdWdtZW50YXRpb24+LFxuICAgIC8vICAgICBEZWZbXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgICAgRGVmW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyAgID4gPT4ge1xuICAgIC8vICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgICAgLi4uZGVmLFxuICAgIC8vICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgIC8vICAgICAgICAgLi4uZGVmLnNoYXBlKCksXG4gICAgLy8gICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgLy8gICAgICAgfSksXG4gICAgLy8gICAgIH0pIGFzIGFueTtcbiAgICAvLyAgIH07XG4gICAgZXh0ZW5kKGF1Z21lbnRhdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByaW9yIHRvIHpvZEAxLjAuMTIgdGhlcmUgd2FzIGEgYnVnIGluIHRoZVxuICAgICAqIGluZmVycmVkIHR5cGUgb2YgbWVyZ2VkIG9iamVjdHMuIFBsZWFzZVxuICAgICAqIHVwZ3JhZGUgaWYgeW91IGFyZSBleHBlcmllbmNpbmcgaXNzdWVzLlxuICAgICAqL1xuICAgIG1lcmdlKG1lcmdpbmcpIHtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgIC4uLm1lcmdpbmcuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWQ7XG4gICAgfVxuICAgIC8vIG1lcmdlPFxuICAgIC8vICAgSW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3QsXG4gICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBJbmNvbWluZ1tcInNoYXBlXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfSxcbiAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9XG4gICAgLy8gPihcbiAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgLy8gKTogWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXSxcbiAgICAvLyAgIE5ld091dHB1dCxcbiAgICAvLyAgIE5ld0lucHV0XG4gICAgLy8gPiB7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgc2V0S2V5KGtleSwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1Z21lbnQoeyBba2V5XTogc2NoZW1hIH0pO1xuICAgIH1cbiAgICAvLyBtZXJnZTxJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdD4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IC8vWm9kT2JqZWN0PFQgJiBJbmNvbWluZ1tcIl9zaGFwZVwiXSwgVW5rbm93bktleXMsIENhdGNoYWxsPiA9IChtZXJnaW5nKSA9PiB7XG4gICAgLy8gWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXVxuICAgIC8vID4ge1xuICAgIC8vICAgLy8gY29uc3QgbWVyZ2VkU2hhcGUgPSBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKFxuICAgIC8vICAgLy8gICB0aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAvLyAgIC8vICAgbWVyZ2luZy5fZGVmLnNoYXBlKClcbiAgICAvLyAgIC8vICk7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgY2F0Y2hhbGwoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IGluZGV4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGljayhtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIHV0aWwub2JqZWN0S2V5cyhtYXNrKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChtYXNrW2tleV0gJiYgdGhpcy5zaGFwZVtrZXldKSB7XG4gICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9taXQobWFzaykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgICAgICB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIGRlZXBQYXJ0aWFsKCkge1xuICAgICAgICByZXR1cm4gZGVlcFBhcnRpYWxpZnkodGhpcyk7XG4gICAgfVxuICAgIHBhcnRpYWwobWFzaykge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWEub3B0aW9uYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcXVpcmVkKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3RmllbGQgPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV3RmllbGQgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdGaWVsZCA9IG5ld0ZpZWxkLl9kZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gbmV3RmllbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBrZXlvZigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVpvZEVudW0odXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKTtcbiAgICB9XG59XG5ab2RPYmplY3QuY3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5zdHJpY3RDcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5sYXp5Y3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLl9kZWYub3B0aW9ucztcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlUmVzdWx0cyhyZXN1bHRzKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gZmlyc3QgaXNzdWUtZnJlZSB2YWxpZGF0aW9uIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXNzdWVzIGZyb20gZGlydHkgb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4ucmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0dXJuIGludmFsaWRcbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gbmV3IFpvZEVycm9yKHJlc3VsdC5jdHguY29tbW9uLmlzc3VlcykpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwob3B0aW9ucy5tYXAoYXN5bmMgKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogYXdhaXQgb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgY3R4OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkpLnRoZW4oaGFuZGxlUmVzdWx0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGlydHkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBpc3N1ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIiAmJiAhZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlydHkgPSB7IHJlc3VsdCwgY3R4OiBjaGlsZEN0eCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRDdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVzLnB1c2goY2hpbGRDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpcnR5KSB7XG4gICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5kaXJ0eS5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcnR5LnJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gaXNzdWVzLm1hcCgoaXNzdWVzKSA9PiBuZXcgWm9kRXJyb3IoaXNzdWVzKSk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICAgICAgICB1bmlvbkVycm9ycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG59XG5ab2RVbmlvbi5jcmVhdGUgPSAodHlwZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5pb24oe1xuICAgICAgICBvcHRpb25zOiB0eXBlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICBab2REaXNjcmltaW5hdGVkVW5pb24gICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5jb25zdCBnZXREaXNjcmltaW5hdG9yID0gKHR5cGUpID0+IHtcbiAgICBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExhenkpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5zY2hlbWEpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRWZmZWN0cykge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLmlubmVyVHlwZSgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExpdGVyYWwpIHtcbiAgICAgICAgcmV0dXJuIFt0eXBlLnZhbHVlXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVudW0pIHtcbiAgICAgICAgcmV0dXJuIHR5cGUub3B0aW9ucztcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE5hdGl2ZUVudW0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0VmFsdWVzKHR5cGUuZW51bSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2REZWZhdWx0KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuX2RlZi5pbm5lclR5cGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kVW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkLCAuLi5nZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBbbnVsbCwgLi4uZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RCcmFuZGVkKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kUmVhZG9ubHkpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RDYXRjaCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLl9kZWYuaW5uZXJUeXBlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59O1xuY2xhc3MgWm9kRGlzY3JpbWluYXRlZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3IgPSB0aGlzLmRpc2NyaW1pbmF0b3I7XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZSA9IGN0eC5kYXRhW2Rpc2NyaW1pbmF0b3JdO1xuICAgICAgICBjb25zdCBvcHRpb24gPSB0aGlzLm9wdGlvbnNNYXAuZ2V0KGRpc2NyaW1pbmF0b3JWYWx1ZSk7XG4gICAgICAgIGlmICghb3B0aW9uKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFycmF5LmZyb20odGhpcy5vcHRpb25zTWFwLmtleXMoKSksXG4gICAgICAgICAgICAgICAgcGF0aDogW2Rpc2NyaW1pbmF0b3JdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZGlzY3JpbWluYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5kaXNjcmltaW5hdG9yO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIH1cbiAgICBnZXQgb3B0aW9uc01hcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zTWFwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIGRpc2NyaW1pbmF0ZWQgdW5pb24gc2NoZW1hLiBJdHMgYmVoYXZpb3VyIGlzIHZlcnkgc2ltaWxhciB0byB0aGF0IG9mIHRoZSBub3JtYWwgei51bmlvbigpIGNvbnN0cnVjdG9yLlxuICAgICAqIEhvd2V2ZXIsIGl0IG9ubHkgYWxsb3dzIGEgdW5pb24gb2Ygb2JqZWN0cywgYWxsIG9mIHdoaWNoIG5lZWQgdG8gc2hhcmUgYSBkaXNjcmltaW5hdG9yIHByb3BlcnR5LiBUaGlzIHByb3BlcnR5IG11c3RcbiAgICAgKiBoYXZlIGEgZGlmZmVyZW50IHZhbHVlIGZvciBlYWNoIG9iamVjdCBpbiB0aGUgdW5pb24uXG4gICAgICogQHBhcmFtIGRpc2NyaW1pbmF0b3IgdGhlIG5hbWUgb2YgdGhlIGRpc2NyaW1pbmF0b3IgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gdHlwZXMgYW4gYXJyYXkgb2Ygb2JqZWN0IHNjaGVtYXNcbiAgICAgKiBAcGFyYW0gcGFyYW1zXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShkaXNjcmltaW5hdG9yLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICAgICAgLy8gR2V0IGFsbCB0aGUgdmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZXNcbiAgICAgICAgY29uc3Qgb3B0aW9uc01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gdHJ5IHtcbiAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZXMgPSBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2hhcGVbZGlzY3JpbWluYXRvcl0pO1xuICAgICAgICAgICAgaWYgKCFkaXNjcmltaW5hdG9yVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBkaXNjcmltaW5hdG9yIHZhbHVlIGZvciBrZXkgXFxgJHtkaXNjcmltaW5hdG9yfVxcYCBjb3VsZCBub3QgYmUgZXh0cmFjdGVkIGZyb20gYWxsIHNjaGVtYSBvcHRpb25zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGRpc2NyaW1pbmF0b3JWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGlzY3JpbWluYXRvciBwcm9wZXJ0eSAke1N0cmluZyhkaXNjcmltaW5hdG9yKX0gaGFzIGR1cGxpY2F0ZSB2YWx1ZSAke1N0cmluZyh2YWx1ZSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbnNNYXAuc2V0KHZhbHVlLCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZERpc2NyaW1pbmF0ZWRVbmlvbih7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbixcbiAgICAgICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9uc01hcCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gbWVyZ2VWYWx1ZXMoYSwgYikge1xuICAgIGNvbnN0IGFUeXBlID0gZ2V0UGFyc2VkVHlwZShhKTtcbiAgICBjb25zdCBiVHlwZSA9IGdldFBhcnNlZFR5cGUoYik7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUub2JqZWN0ICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICBjb25zdCBiS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhiKTtcbiAgICAgICAgY29uc3Qgc2hhcmVkS2V5cyA9IHV0aWxcbiAgICAgICAgICAgIC5vYmplY3RLZXlzKGEpXG4gICAgICAgICAgICAuZmlsdGVyKChrZXkpID0+IGJLZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpO1xuICAgICAgICBjb25zdCBuZXdPYmogPSB7IC4uLmEsIC4uLmIgfTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcmVkS2V5cykge1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhhW2tleV0sIGJba2V5XSk7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IHNoYXJlZFZhbHVlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld09iaiB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdBcnJheSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1BID0gYVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBpdGVtQiA9IGJbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhpdGVtQSwgaXRlbUIpO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QXJyYXkucHVzaChzaGFyZWRWYWx1ZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3QXJyYXkgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUuZGF0ZSAmJlxuICAgICAgICBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5kYXRlICYmXG4gICAgICAgICthID09PSArYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgfVxufVxuY2xhc3MgWm9kSW50ZXJzZWN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGhhbmRsZVBhcnNlZCA9IChwYXJzZWRMZWZ0LCBwYXJzZWRSaWdodCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzQWJvcnRlZChwYXJzZWRMZWZ0KSB8fCBpc0Fib3J0ZWQocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBtZXJnZVZhbHVlcyhwYXJzZWRMZWZ0LnZhbHVlLCBwYXJzZWRSaWdodC52YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIW1lcmdlZC52YWxpZCkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNEaXJ0eShwYXJzZWRMZWZ0KSB8fCBpc0RpcnR5KHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBtZXJnZWQuZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYubGVmdC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0pLnRoZW4oKFtsZWZ0LCByaWdodF0pID0+IGhhbmRsZVBhcnNlZChsZWZ0LCByaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVBhcnNlZCh0aGlzLl9kZWYubGVmdC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pLCB0aGlzLl9kZWYucmlnaHQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5ab2RJbnRlcnNlY3Rpb24uY3JlYXRlID0gKGxlZnQsIHJpZ2h0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEludGVyc2VjdGlvbih7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHJpZ2h0OiByaWdodCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RUdXBsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICBtaW5pbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN0ID0gdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgIGlmICghcmVzdCAmJiBjdHguZGF0YS5sZW5ndGggPiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICBtYXhpbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IFsuLi5jdHguZGF0YV1cbiAgICAgICAgICAgIC5tYXAoKGl0ZW0sIGl0ZW1JbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy5fZGVmLml0ZW1zW2l0ZW1JbmRleF0gfHwgdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgICAgICBpZiAoIXNjaGVtYSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWEuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaXRlbUluZGV4KSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKCh4KSA9PiAhIXgpOyAvLyBmaWx0ZXIgbnVsbHNcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChpdGVtcykudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgaXRlbXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pdGVtcztcbiAgICB9XG4gICAgcmVzdChyZXN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgcmVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuWm9kVHVwbGUuY3JlYXRlID0gKHNjaGVtYXMsIHBhcmFtcykgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWFzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IG9mIHNjaGVtYXMgdG8gei50dXBsZShbIC4uLiBdKVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgIGl0ZW1zOiBzY2hlbWFzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFR1cGxlLFxuICAgICAgICByZXN0OiBudWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kUmVjb3JkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgY3R4LmRhdGFba2V5XSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoZmlyc3QsIHNlY29uZCwgdGhpcmQpIHtcbiAgICAgICAgaWYgKHNlY29uZCBpbnN0YW5jZW9mIFpvZFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgICAgICBrZXlUeXBlOiBmaXJzdCxcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IHNlY29uZCxcbiAgICAgICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXJkKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgIGtleVR5cGU6IFpvZFN0cmluZy5jcmVhdGUoKSxcbiAgICAgICAgICAgIHZhbHVlVHlwZTogZmlyc3QsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMoc2Vjb25kKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgWm9kTWFwIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm1hcCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5tYXAsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGNvbnN0IHBhaXJzID0gWy4uLmN0eC5kYXRhLmVudHJpZXMoKV0ubWFwKChba2V5LCB2YWx1ZV0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIFtpbmRleCwgXCJrZXlcIl0pKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBbaW5kZXgsIFwidmFsdWVcIl0pKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgY29uc3QgZmluYWxNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZmluYWxNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsTWFwLnNldChrZXkudmFsdWUsIHZhbHVlLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblpvZE1hcC5jcmVhdGUgPSAoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE1hcCh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAga2V5VHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXAsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RTZXQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnNldCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zZXQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICAgIGlmIChkZWYubWluU2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPCBkZWYubWluU2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluU2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5TaXplLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhTaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA+IGRlZi5tYXhTaXplLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4U2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhTaXplLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgZnVuY3Rpb24gZmluYWxpemVTZXQoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICBwYXJzZWRTZXQuYWRkKGVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBwYXJzZWRTZXQgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFsuLi5jdHguZGF0YS52YWx1ZXMoKV0ubWFwKChpdGVtLCBpKSA9PiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpKTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChlbGVtZW50cykudGhlbigoZWxlbWVudHMpID0+IGZpbmFsaXplU2V0KGVsZW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmluYWxpemVTZXQoZWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1pbihtaW5TaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1pblNpemU6IHsgdmFsdWU6IG1pblNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heFNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWF4U2l6ZTogeyB2YWx1ZTogbWF4U2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaXplKHNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKHNpemUsIG1lc3NhZ2UpLm1heChzaXplLCBtZXNzYWdlKTtcbiAgICB9XG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgbWVzc2FnZSk7XG4gICAgfVxufVxuWm9kU2V0LmNyZWF0ZSA9ICh2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICBtaW5TaXplOiBudWxsLFxuICAgICAgICBtYXhTaXplOiBudWxsLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFNldCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEZ1bmN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudmFsaWRhdGUgPSB0aGlzLmltcGxlbWVudDtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlQXJnc0lzc3VlKGFyZ3MsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZUlzc3VlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW1xuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgICAgICAgICAgICBnZXRFcnJvck1hcCgpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvck1hcCxcbiAgICAgICAgICAgICAgICBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VSZXR1cm5zSXNzdWUocmV0dXJucywgZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlSXNzdWUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IHJldHVybnMsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgICAgICAgICAgICBjdHguc2NoZW1hRXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgICAgIGdldEVycm9yTWFwKCksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWFwLFxuICAgICAgICAgICAgICAgIF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgICAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZUVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0geyBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAgfTtcbiAgICAgICAgY29uc3QgZm4gPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5yZXR1cm5zIGluc3RhbmNlb2YgWm9kUHJvbWlzZSkge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIE9LKGFzeW5jIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoW10pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBhd2FpdCBtZS5fZGVmLmFyZ3NcbiAgICAgICAgICAgICAgICAgICAgLnBhcnNlQXN5bmMoYXJncywgcGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZUFyZ3NJc3N1ZShhcmdzLCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBhd2FpdCBtZS5fZGVmLnJldHVybnMuX2RlZi50eXBlXG4gICAgICAgICAgICAgICAgICAgIC5wYXJzZUFzeW5jKHJlc3VsdCwgcGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdvdWxkIGxvdmUgYSB3YXkgdG8gYXZvaWQgZGlzYWJsaW5nIHRoaXMgcnVsZSwgYnV0IHdlIG5lZWRcbiAgICAgICAgICAgIC8vIGFuIGFsaWFzICh1c2luZyBhbiBhcnJvdyBmdW5jdGlvbiB3YXMgd2hhdCBjYXVzZWQgMjY1MSkuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBPSyhmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBtZS5fZGVmLmFyZ3Muc2FmZVBhcnNlKGFyZ3MsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZWRBcmdzLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yKFttYWtlQXJnc0lzc3VlKGFyZ3MsIHBhcnNlZEFyZ3MuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IG1lLl9kZWYucmV0dXJucy5zYWZlUGFyc2UocmVzdWx0LCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkUmV0dXJucy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcihbbWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIHBhcnNlZFJldHVybnMuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRSZXR1cm5zLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJhbWV0ZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmFyZ3M7XG4gICAgfVxuICAgIHJldHVyblR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYucmV0dXJucztcbiAgICB9XG4gICAgYXJncyguLi5pdGVtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGFyZ3M6IFpvZFR1cGxlLmNyZWF0ZShpdGVtcykucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybnMocmV0dXJuVHlwZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVyblR5cGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgfVxuICAgIHN0cmljdEltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhcmdzLCByZXR1cm5zLCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICBhcmdzOiAoYXJnc1xuICAgICAgICAgICAgICAgID8gYXJnc1xuICAgICAgICAgICAgICAgIDogWm9kVHVwbGUuY3JlYXRlKFtdKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpKSxcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVybnMgfHwgWm9kVW5rbm93bi5jcmVhdGUoKSxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb24sXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzIFpvZExhenkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGxhenlTY2hlbWEgPSB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgICAgIHJldHVybiBsYXp5U2NoZW1hLl9wYXJzZSh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgfVxufVxuWm9kTGF6eS5jcmVhdGUgPSAoZ2V0dGVyLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExhenkoe1xuICAgICAgICBnZXR0ZXI6IGdldHRlcixcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kTGl0ZXJhbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuZGF0YSAhPT0gdGhpcy5fZGVmLnZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdGhpcy5fZGVmLnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlO1xuICAgIH1cbn1cblpvZExpdGVyYWwuY3JlYXRlID0gKHZhbHVlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExpdGVyYWwoe1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGl0ZXJhbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVpvZEVudW0odmFsdWVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuY2xhc3MgWm9kRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBfWm9kRW51bV9jYWNoZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWm9kRW51bV9jYWNoZSwgXCJmXCIpKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ab2RFbnVtX2NhY2hlLCBuZXcgU2V0KHRoaXMuX2RlZi52YWx1ZXMpLCBcImZcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ab2RFbnVtX2NhY2hlLCBcImZcIikuaGFzKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgfVxuICAgIGdldCBlbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IFZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGdldCBFbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZXh0cmFjdCh2YWx1ZXMsIG5ld0RlZiA9IHRoaXMuX2RlZikge1xuICAgICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodmFsdWVzLCB7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICAuLi5uZXdEZWYsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBleGNsdWRlKHZhbHVlcywgbmV3RGVmID0gdGhpcy5fZGVmKSB7XG4gICAgICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh0aGlzLm9wdGlvbnMuZmlsdGVyKChvcHQpID0+ICF2YWx1ZXMuaW5jbHVkZXMob3B0KSksIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIC4uLm5ld0RlZixcbiAgICAgICAgfSk7XG4gICAgfVxufVxuX1pvZEVudW1fY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuWm9kRW51bS5jcmVhdGUgPSBjcmVhdGVab2RFbnVtO1xuY2xhc3MgWm9kTmF0aXZlRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBfWm9kTmF0aXZlRW51bV9jYWNoZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUVudW1WYWx1ZXMgPSB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3RyaW5nICYmXG4gICAgICAgICAgICBjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ab2ROYXRpdmVFbnVtX2NhY2hlLCBcImZcIikpIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1pvZE5hdGl2ZUVudW1fY2FjaGUsIG5ldyBTZXQodXRpbC5nZXRWYWxpZEVudW1WYWx1ZXModGhpcy5fZGVmLnZhbHVlcykpLCBcImZcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ab2ROYXRpdmVFbnVtX2NhY2hlLCBcImZcIikuaGFzKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbn1cbl9ab2ROYXRpdmVFbnVtX2NhY2hlID0gbmV3IFdlYWtNYXAoKTtcblpvZE5hdGl2ZUVudW0uY3JlYXRlID0gKHZhbHVlcywgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROYXRpdmVFbnVtKHtcbiAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmF0aXZlRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFByb21pc2UgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUucHJvbWlzZSAmJlxuICAgICAgICAgICAgY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUucHJvbWlzZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21pc2lmaWVkID0gY3R4LnBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUucHJvbWlzZVxuICAgICAgICAgICAgPyBjdHguZGF0YVxuICAgICAgICAgICAgOiBQcm9taXNlLnJlc29sdmUoY3R4LmRhdGEpO1xuICAgICAgICByZXR1cm4gT0socHJvbWlzaWZpZWQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLnBhcnNlQXN5bmMoZGF0YSwge1xuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuWm9kUHJvbWlzZS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFByb21pc2Uoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUHJvbWlzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEVmZmVjdHMgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBpbm5lclR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgIH1cbiAgICBzb3VyY2VUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0c1xuICAgICAgICAgICAgPyB0aGlzLl9kZWYuc2NoZW1hLnNvdXJjZVR5cGUoKVxuICAgICAgICAgICAgOiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZWZmZWN0ID0gdGhpcy5fZGVmLmVmZmVjdCB8fCBudWxsO1xuICAgICAgICBjb25zdCBjaGVja0N0eCA9IHtcbiAgICAgICAgICAgIGFkZElzc3VlOiAoYXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChhcmcuZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eC5wYXRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY2hlY2tDdHguYWRkSXNzdWUgPSBjaGVja0N0eC5hZGRJc3N1ZS5iaW5kKGNoZWNrQ3R4KTtcbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInByZXByb2Nlc3NcIikge1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkID0gZWZmZWN0LnRyYW5zZm9ybShjdHguZGF0YSwgY2hlY2tDdHgpO1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHByb2Nlc3NlZCkudGhlbihhc3luYyAocHJvY2Vzc2VkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJyZWZpbmVtZW50XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4ZWN1dGVSZWZpbmVtZW50ID0gKGFjYykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC5yZWZpbmVtZW50KGFjYywgY2hlY2tDdHgpO1xuICAgICAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXN5bmMgcmVmaW5lbWVudCBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkXG4gICAgICAgICAgICAgICAgZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hXG4gICAgICAgICAgICAgICAgICAgIC5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGlubmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbm5lci52YWx1ZSB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZChiYXNlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBc3luY2hyb25vdXMgdHJhbnNmb3JtIGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHJlc3VsdCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWFcbiAgICAgICAgICAgICAgICAgICAgLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoYmFzZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQoYmFzZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KSkudGhlbigocmVzdWx0KSA9PiAoeyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHJlc3VsdCB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXRpbC5hc3NlcnROZXZlcihlZmZlY3QpO1xuICAgIH1cbn1cblpvZEVmZmVjdHMuY3JlYXRlID0gKHNjaGVtYSwgZWZmZWN0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgZWZmZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcyA9IChwcmVwcm9jZXNzLCBzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicHJlcHJvY2Vzc1wiLCB0cmFuc2Zvcm06IHByZXByb2Nlc3MgfSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kT3B0aW9uYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBPSyh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kT3B0aW9uYWwuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT3B0aW9uYWwoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT3B0aW9uYWwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2ROdWxsYWJsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBPSyhudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZE51bGxhYmxlLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGxhYmxlKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kRGVmYXVsdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgbGV0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2RlZi5kZWZhdWx0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVEZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2REZWZhdWx0LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB0eXBlb2YgcGFyYW1zLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyBwYXJhbXMuZGVmYXVsdFxuICAgICAgICAgICAgOiAoKSA9PiBwYXJhbXMuZGVmYXVsdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZENhdGNoIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICAvLyBuZXdDdHggaXMgdXNlZCB0byBub3QgY29sbGVjdCBpc3N1ZXMgZnJvbSBpbm5lciB0eXBlcyBpbiBjdHhcbiAgICAgICAgY29uc3QgbmV3Q3R4ID0ge1xuICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YTogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICBwYXRoOiBuZXdDdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDoge1xuICAgICAgICAgICAgICAgIC4uLm5ld0N0eCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXNBc3luYyhyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIlxuICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVDYXRjaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kQ2F0Y2guY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2gsXG4gICAgICAgIGNhdGNoVmFsdWU6IHR5cGVvZiBwYXJhbXMuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5jYXRjaCA6ICgpID0+IHBhcmFtcy5jYXRjaCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE5hTiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm5hbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5uYW4sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG59XG5ab2ROYU4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmFOKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU4sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jb25zdCBCUkFORCA9IFN5bWJvbChcInpvZF9icmFuZFwiKTtcbmNsYXNzIFpvZEJyYW5kZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbn1cbmNsYXNzIFpvZFBpcGVsaW5lIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVBc3luYyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5pbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKGluUmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVBc3luYygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5SZXN1bHQgPSB0aGlzLl9kZWYuaW4uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcImRpcnR5XCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhLCBiKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kUGlwZWxpbmUoe1xuICAgICAgICAgICAgaW46IGEsXG4gICAgICAgICAgICBvdXQ6IGIsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFBpcGVsaW5lLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBab2RSZWFkb25seSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGNvbnN0IGZyZWV6ZSA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZChkYXRhKSkge1xuICAgICAgICAgICAgICAgIGRhdGEudmFsdWUgPSBPYmplY3QuZnJlZXplKGRhdGEudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpc0FzeW5jKHJlc3VsdClcbiAgICAgICAgICAgID8gcmVzdWx0LnRoZW4oKGRhdGEpID0+IGZyZWV6ZShkYXRhKSlcbiAgICAgICAgICAgIDogZnJlZXplKHJlc3VsdCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kUmVhZG9ubHkuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kUmVhZG9ubHkoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBjdXN0b20oY2hlY2ssIHBhcmFtcyA9IHt9LCBcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqXG4gKiBQYXNzIGBmYXRhbGAgaW50byB0aGUgcGFyYW1zIG9iamVjdCBpbnN0ZWFkOlxuICpcbiAqIGBgYHRzXG4gKiB6LnN0cmluZygpLmN1c3RvbSgodmFsKSA9PiB2YWwubGVuZ3RoID4gNSwgeyBmYXRhbDogZmFsc2UgfSlcbiAqIGBgYFxuICpcbiAqL1xuZmF0YWwpIHtcbiAgICBpZiAoY2hlY2spXG4gICAgICAgIHJldHVybiBab2RBbnkuY3JlYXRlKCkuc3VwZXJSZWZpbmUoKGRhdGEsIGN0eCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmICghY2hlY2soZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgID8gcGFyYW1zKGRhdGEpXG4gICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIHBhcmFtcyA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7IG1lc3NhZ2U6IHBhcmFtcyB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHBhcmFtcztcbiAgICAgICAgICAgICAgICBjb25zdCBfZmF0YWwgPSAoX2IgPSAoX2EgPSBwLmZhdGFsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYXRhbCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwMiA9IHR5cGVvZiBwID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlOiBwIH0gOiBwO1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7IGNvZGU6IFwiY3VzdG9tXCIsIC4uLnAyLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpO1xufVxuY29uc3QgbGF0ZSA9IHtcbiAgICBvYmplY3Q6IFpvZE9iamVjdC5sYXp5Y3JlYXRlLFxufTtcbnZhciBab2RGaXJzdFBhcnR5VHlwZUtpbmQ7XG4oZnVuY3Rpb24gKFpvZEZpcnN0UGFydHlUeXBlS2luZCkge1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN0cmluZ1wiXSA9IFwiWm9kU3RyaW5nXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVtYmVyXCJdID0gXCJab2ROdW1iZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYU5cIl0gPSBcIlpvZE5hTlwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJpZ0ludFwiXSA9IFwiWm9kQmlnSW50XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQm9vbGVhblwiXSA9IFwiWm9kQm9vbGVhblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERhdGVcIl0gPSBcIlpvZERhdGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTeW1ib2xcIl0gPSBcIlpvZFN5bWJvbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuZGVmaW5lZFwiXSA9IFwiWm9kVW5kZWZpbmVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbFwiXSA9IFwiWm9kTnVsbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFueVwiXSA9IFwiWm9kQW55XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5rbm93blwiXSA9IFwiWm9kVW5rbm93blwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5ldmVyXCJdID0gXCJab2ROZXZlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFZvaWRcIl0gPSBcIlpvZFZvaWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RBcnJheVwiXSA9IFwiWm9kQXJyYXlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RPYmplY3RcIl0gPSBcIlpvZE9iamVjdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuaW9uXCJdID0gXCJab2RVbmlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiXSA9IFwiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kSW50ZXJzZWN0aW9uXCJdID0gXCJab2RJbnRlcnNlY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RUdXBsZVwiXSA9IFwiWm9kVHVwbGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RSZWNvcmRcIl0gPSBcIlpvZFJlY29yZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE1hcFwiXSA9IFwiWm9kTWFwXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU2V0XCJdID0gXCJab2RTZXRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RGdW5jdGlvblwiXSA9IFwiWm9kRnVuY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMYXp5XCJdID0gXCJab2RMYXp5XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTGl0ZXJhbFwiXSA9IFwiWm9kTGl0ZXJhbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVudW1cIl0gPSBcIlpvZEVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RFZmZlY3RzXCJdID0gXCJab2RFZmZlY3RzXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmF0aXZlRW51bVwiXSA9IFwiWm9kTmF0aXZlRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9wdGlvbmFsXCJdID0gXCJab2RPcHRpb25hbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bGxhYmxlXCJdID0gXCJab2ROdWxsYWJsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERlZmF1bHRcIl0gPSBcIlpvZERlZmF1bHRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RDYXRjaFwiXSA9IFwiWm9kQ2F0Y2hcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RQcm9taXNlXCJdID0gXCJab2RQcm9taXNlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQnJhbmRlZFwiXSA9IFwiWm9kQnJhbmRlZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFBpcGVsaW5lXCJdID0gXCJab2RQaXBlbGluZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlYWRvbmx5XCJdID0gXCJab2RSZWFkb25seVwiO1xufSkoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIHx8IChab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuY29uc3QgaW5zdGFuY2VPZlR5cGUgPSAoXG4vLyBjb25zdCBpbnN0YW5jZU9mVHlwZSA9IDxUIGV4dGVuZHMgbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PihcbmNscywgcGFyYW1zID0ge1xuICAgIG1lc3NhZ2U6IGBJbnB1dCBub3QgaW5zdGFuY2Ugb2YgJHtjbHMubmFtZX1gLFxufSkgPT4gY3VzdG9tKChkYXRhKSA9PiBkYXRhIGluc3RhbmNlb2YgY2xzLCBwYXJhbXMpO1xuY29uc3Qgc3RyaW5nVHlwZSA9IFpvZFN0cmluZy5jcmVhdGU7XG5jb25zdCBudW1iZXJUeXBlID0gWm9kTnVtYmVyLmNyZWF0ZTtcbmNvbnN0IG5hblR5cGUgPSBab2ROYU4uY3JlYXRlO1xuY29uc3QgYmlnSW50VHlwZSA9IFpvZEJpZ0ludC5jcmVhdGU7XG5jb25zdCBib29sZWFuVHlwZSA9IFpvZEJvb2xlYW4uY3JlYXRlO1xuY29uc3QgZGF0ZVR5cGUgPSBab2REYXRlLmNyZWF0ZTtcbmNvbnN0IHN5bWJvbFR5cGUgPSBab2RTeW1ib2wuY3JlYXRlO1xuY29uc3QgdW5kZWZpbmVkVHlwZSA9IFpvZFVuZGVmaW5lZC5jcmVhdGU7XG5jb25zdCBudWxsVHlwZSA9IFpvZE51bGwuY3JlYXRlO1xuY29uc3QgYW55VHlwZSA9IFpvZEFueS5jcmVhdGU7XG5jb25zdCB1bmtub3duVHlwZSA9IFpvZFVua25vd24uY3JlYXRlO1xuY29uc3QgbmV2ZXJUeXBlID0gWm9kTmV2ZXIuY3JlYXRlO1xuY29uc3Qgdm9pZFR5cGUgPSBab2RWb2lkLmNyZWF0ZTtcbmNvbnN0IGFycmF5VHlwZSA9IFpvZEFycmF5LmNyZWF0ZTtcbmNvbnN0IG9iamVjdFR5cGUgPSBab2RPYmplY3QuY3JlYXRlO1xuY29uc3Qgc3RyaWN0T2JqZWN0VHlwZSA9IFpvZE9iamVjdC5zdHJpY3RDcmVhdGU7XG5jb25zdCB1bmlvblR5cGUgPSBab2RVbmlvbi5jcmVhdGU7XG5jb25zdCBkaXNjcmltaW5hdGVkVW5pb25UeXBlID0gWm9kRGlzY3JpbWluYXRlZFVuaW9uLmNyZWF0ZTtcbmNvbnN0IGludGVyc2VjdGlvblR5cGUgPSBab2RJbnRlcnNlY3Rpb24uY3JlYXRlO1xuY29uc3QgdHVwbGVUeXBlID0gWm9kVHVwbGUuY3JlYXRlO1xuY29uc3QgcmVjb3JkVHlwZSA9IFpvZFJlY29yZC5jcmVhdGU7XG5jb25zdCBtYXBUeXBlID0gWm9kTWFwLmNyZWF0ZTtcbmNvbnN0IHNldFR5cGUgPSBab2RTZXQuY3JlYXRlO1xuY29uc3QgZnVuY3Rpb25UeXBlID0gWm9kRnVuY3Rpb24uY3JlYXRlO1xuY29uc3QgbGF6eVR5cGUgPSBab2RMYXp5LmNyZWF0ZTtcbmNvbnN0IGxpdGVyYWxUeXBlID0gWm9kTGl0ZXJhbC5jcmVhdGU7XG5jb25zdCBlbnVtVHlwZSA9IFpvZEVudW0uY3JlYXRlO1xuY29uc3QgbmF0aXZlRW51bVR5cGUgPSBab2ROYXRpdmVFbnVtLmNyZWF0ZTtcbmNvbnN0IHByb21pc2VUeXBlID0gWm9kUHJvbWlzZS5jcmVhdGU7XG5jb25zdCBlZmZlY3RzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlO1xuY29uc3Qgb3B0aW9uYWxUeXBlID0gWm9kT3B0aW9uYWwuY3JlYXRlO1xuY29uc3QgbnVsbGFibGVUeXBlID0gWm9kTnVsbGFibGUuY3JlYXRlO1xuY29uc3QgcHJlcHJvY2Vzc1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzO1xuY29uc3QgcGlwZWxpbmVUeXBlID0gWm9kUGlwZWxpbmUuY3JlYXRlO1xuY29uc3Qgb3N0cmluZyA9ICgpID0+IHN0cmluZ1R5cGUoKS5vcHRpb25hbCgpO1xuY29uc3Qgb251bWJlciA9ICgpID0+IG51bWJlclR5cGUoKS5vcHRpb25hbCgpO1xuY29uc3Qgb2Jvb2xlYW4gPSAoKSA9PiBib29sZWFuVHlwZSgpLm9wdGlvbmFsKCk7XG5jb25zdCBjb2VyY2UgPSB7XG4gICAgc3RyaW5nOiAoKGFyZykgPT4gWm9kU3RyaW5nLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBudW1iZXI6ICgoYXJnKSA9PiBab2ROdW1iZXIuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIGJvb2xlYW46ICgoYXJnKSA9PiBab2RCb29sZWFuLmNyZWF0ZSh7XG4gICAgICAgIC4uLmFyZyxcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgIH0pKSxcbiAgICBiaWdpbnQ6ICgoYXJnKSA9PiBab2RCaWdJbnQuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIGRhdGU6ICgoYXJnKSA9PiBab2REYXRlLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbn07XG5jb25zdCBORVZFUiA9IElOVkFMSUQ7XG5cbnZhciB6ID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBkZWZhdWx0RXJyb3JNYXA6IGVycm9yTWFwLFxuICAgIHNldEVycm9yTWFwOiBzZXRFcnJvck1hcCxcbiAgICBnZXRFcnJvck1hcDogZ2V0RXJyb3JNYXAsXG4gICAgbWFrZUlzc3VlOiBtYWtlSXNzdWUsXG4gICAgRU1QVFlfUEFUSDogRU1QVFlfUEFUSCxcbiAgICBhZGRJc3N1ZVRvQ29udGV4dDogYWRkSXNzdWVUb0NvbnRleHQsXG4gICAgUGFyc2VTdGF0dXM6IFBhcnNlU3RhdHVzLFxuICAgIElOVkFMSUQ6IElOVkFMSUQsXG4gICAgRElSVFk6IERJUlRZLFxuICAgIE9LOiBPSyxcbiAgICBpc0Fib3J0ZWQ6IGlzQWJvcnRlZCxcbiAgICBpc0RpcnR5OiBpc0RpcnR5LFxuICAgIGlzVmFsaWQ6IGlzVmFsaWQsXG4gICAgaXNBc3luYzogaXNBc3luYyxcbiAgICBnZXQgdXRpbCAoKSB7IHJldHVybiB1dGlsOyB9LFxuICAgIGdldCBvYmplY3RVdGlsICgpIHsgcmV0dXJuIG9iamVjdFV0aWw7IH0sXG4gICAgWm9kUGFyc2VkVHlwZTogWm9kUGFyc2VkVHlwZSxcbiAgICBnZXRQYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlLFxuICAgIFpvZFR5cGU6IFpvZFR5cGUsXG4gICAgZGF0ZXRpbWVSZWdleDogZGF0ZXRpbWVSZWdleCxcbiAgICBab2RTdHJpbmc6IFpvZFN0cmluZyxcbiAgICBab2ROdW1iZXI6IFpvZE51bWJlcixcbiAgICBab2RCaWdJbnQ6IFpvZEJpZ0ludCxcbiAgICBab2RCb29sZWFuOiBab2RCb29sZWFuLFxuICAgIFpvZERhdGU6IFpvZERhdGUsXG4gICAgWm9kU3ltYm9sOiBab2RTeW1ib2wsXG4gICAgWm9kVW5kZWZpbmVkOiBab2RVbmRlZmluZWQsXG4gICAgWm9kTnVsbDogWm9kTnVsbCxcbiAgICBab2RBbnk6IFpvZEFueSxcbiAgICBab2RVbmtub3duOiBab2RVbmtub3duLFxuICAgIFpvZE5ldmVyOiBab2ROZXZlcixcbiAgICBab2RWb2lkOiBab2RWb2lkLFxuICAgIFpvZEFycmF5OiBab2RBcnJheSxcbiAgICBab2RPYmplY3Q6IFpvZE9iamVjdCxcbiAgICBab2RVbmlvbjogWm9kVW5pb24sXG4gICAgWm9kRGlzY3JpbWluYXRlZFVuaW9uOiBab2REaXNjcmltaW5hdGVkVW5pb24sXG4gICAgWm9kSW50ZXJzZWN0aW9uOiBab2RJbnRlcnNlY3Rpb24sXG4gICAgWm9kVHVwbGU6IFpvZFR1cGxlLFxuICAgIFpvZFJlY29yZDogWm9kUmVjb3JkLFxuICAgIFpvZE1hcDogWm9kTWFwLFxuICAgIFpvZFNldDogWm9kU2V0LFxuICAgIFpvZEZ1bmN0aW9uOiBab2RGdW5jdGlvbixcbiAgICBab2RMYXp5OiBab2RMYXp5LFxuICAgIFpvZExpdGVyYWw6IFpvZExpdGVyYWwsXG4gICAgWm9kRW51bTogWm9kRW51bSxcbiAgICBab2ROYXRpdmVFbnVtOiBab2ROYXRpdmVFbnVtLFxuICAgIFpvZFByb21pc2U6IFpvZFByb21pc2UsXG4gICAgWm9kRWZmZWN0czogWm9kRWZmZWN0cyxcbiAgICBab2RUcmFuc2Zvcm1lcjogWm9kRWZmZWN0cyxcbiAgICBab2RPcHRpb25hbDogWm9kT3B0aW9uYWwsXG4gICAgWm9kTnVsbGFibGU6IFpvZE51bGxhYmxlLFxuICAgIFpvZERlZmF1bHQ6IFpvZERlZmF1bHQsXG4gICAgWm9kQ2F0Y2g6IFpvZENhdGNoLFxuICAgIFpvZE5hTjogWm9kTmFOLFxuICAgIEJSQU5EOiBCUkFORCxcbiAgICBab2RCcmFuZGVkOiBab2RCcmFuZGVkLFxuICAgIFpvZFBpcGVsaW5lOiBab2RQaXBlbGluZSxcbiAgICBab2RSZWFkb25seTogWm9kUmVhZG9ubHksXG4gICAgY3VzdG9tOiBjdXN0b20sXG4gICAgU2NoZW1hOiBab2RUeXBlLFxuICAgIFpvZFNjaGVtYTogWm9kVHlwZSxcbiAgICBsYXRlOiBsYXRlLFxuICAgIGdldCBab2RGaXJzdFBhcnR5VHlwZUtpbmQgKCkgeyByZXR1cm4gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kOyB9LFxuICAgIGNvZXJjZTogY29lcmNlLFxuICAgIGFueTogYW55VHlwZSxcbiAgICBhcnJheTogYXJyYXlUeXBlLFxuICAgIGJpZ2ludDogYmlnSW50VHlwZSxcbiAgICBib29sZWFuOiBib29sZWFuVHlwZSxcbiAgICBkYXRlOiBkYXRlVHlwZSxcbiAgICBkaXNjcmltaW5hdGVkVW5pb246IGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUsXG4gICAgZWZmZWN0OiBlZmZlY3RzVHlwZSxcbiAgICAnZW51bSc6IGVudW1UeXBlLFxuICAgICdmdW5jdGlvbic6IGZ1bmN0aW9uVHlwZSxcbiAgICAnaW5zdGFuY2VvZic6IGluc3RhbmNlT2ZUeXBlLFxuICAgIGludGVyc2VjdGlvbjogaW50ZXJzZWN0aW9uVHlwZSxcbiAgICBsYXp5OiBsYXp5VHlwZSxcbiAgICBsaXRlcmFsOiBsaXRlcmFsVHlwZSxcbiAgICBtYXA6IG1hcFR5cGUsXG4gICAgbmFuOiBuYW5UeXBlLFxuICAgIG5hdGl2ZUVudW06IG5hdGl2ZUVudW1UeXBlLFxuICAgIG5ldmVyOiBuZXZlclR5cGUsXG4gICAgJ251bGwnOiBudWxsVHlwZSxcbiAgICBudWxsYWJsZTogbnVsbGFibGVUeXBlLFxuICAgIG51bWJlcjogbnVtYmVyVHlwZSxcbiAgICBvYmplY3Q6IG9iamVjdFR5cGUsXG4gICAgb2Jvb2xlYW46IG9ib29sZWFuLFxuICAgIG9udW1iZXI6IG9udW1iZXIsXG4gICAgb3B0aW9uYWw6IG9wdGlvbmFsVHlwZSxcbiAgICBvc3RyaW5nOiBvc3RyaW5nLFxuICAgIHBpcGVsaW5lOiBwaXBlbGluZVR5cGUsXG4gICAgcHJlcHJvY2VzczogcHJlcHJvY2Vzc1R5cGUsXG4gICAgcHJvbWlzZTogcHJvbWlzZVR5cGUsXG4gICAgcmVjb3JkOiByZWNvcmRUeXBlLFxuICAgIHNldDogc2V0VHlwZSxcbiAgICBzdHJpY3RPYmplY3Q6IHN0cmljdE9iamVjdFR5cGUsXG4gICAgc3RyaW5nOiBzdHJpbmdUeXBlLFxuICAgIHN5bWJvbDogc3ltYm9sVHlwZSxcbiAgICB0cmFuc2Zvcm1lcjogZWZmZWN0c1R5cGUsXG4gICAgdHVwbGU6IHR1cGxlVHlwZSxcbiAgICAndW5kZWZpbmVkJzogdW5kZWZpbmVkVHlwZSxcbiAgICB1bmlvbjogdW5pb25UeXBlLFxuICAgIHVua25vd246IHVua25vd25UeXBlLFxuICAgICd2b2lkJzogdm9pZFR5cGUsXG4gICAgTkVWRVI6IE5FVkVSLFxuICAgIFpvZElzc3VlQ29kZTogWm9kSXNzdWVDb2RlLFxuICAgIHF1b3RlbGVzc0pzb246IHF1b3RlbGVzc0pzb24sXG4gICAgWm9kRXJyb3I6IFpvZEVycm9yXG59KTtcblxuZXhwb3J0IHsgQlJBTkQsIERJUlRZLCBFTVBUWV9QQVRILCBJTlZBTElELCBORVZFUiwgT0ssIFBhcnNlU3RhdHVzLCBab2RUeXBlIGFzIFNjaGVtYSwgWm9kQW55LCBab2RBcnJheSwgWm9kQmlnSW50LCBab2RCb29sZWFuLCBab2RCcmFuZGVkLCBab2RDYXRjaCwgWm9kRGF0ZSwgWm9kRGVmYXVsdCwgWm9kRGlzY3JpbWluYXRlZFVuaW9uLCBab2RFZmZlY3RzLCBab2RFbnVtLCBab2RFcnJvciwgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLCBab2RGdW5jdGlvbiwgWm9kSW50ZXJzZWN0aW9uLCBab2RJc3N1ZUNvZGUsIFpvZExhenksIFpvZExpdGVyYWwsIFpvZE1hcCwgWm9kTmFOLCBab2ROYXRpdmVFbnVtLCBab2ROZXZlciwgWm9kTnVsbCwgWm9kTnVsbGFibGUsIFpvZE51bWJlciwgWm9kT2JqZWN0LCBab2RPcHRpb25hbCwgWm9kUGFyc2VkVHlwZSwgWm9kUGlwZWxpbmUsIFpvZFByb21pc2UsIFpvZFJlYWRvbmx5LCBab2RSZWNvcmQsIFpvZFR5cGUgYXMgWm9kU2NoZW1hLCBab2RTZXQsIFpvZFN0cmluZywgWm9kU3ltYm9sLCBab2RFZmZlY3RzIGFzIFpvZFRyYW5zZm9ybWVyLCBab2RUdXBsZSwgWm9kVHlwZSwgWm9kVW5kZWZpbmVkLCBab2RVbmlvbiwgWm9kVW5rbm93biwgWm9kVm9pZCwgYWRkSXNzdWVUb0NvbnRleHQsIGFueVR5cGUgYXMgYW55LCBhcnJheVR5cGUgYXMgYXJyYXksIGJpZ0ludFR5cGUgYXMgYmlnaW50LCBib29sZWFuVHlwZSBhcyBib29sZWFuLCBjb2VyY2UsIGN1c3RvbSwgZGF0ZVR5cGUgYXMgZGF0ZSwgZGF0ZXRpbWVSZWdleCwgeiBhcyBkZWZhdWx0LCBlcnJvck1hcCBhcyBkZWZhdWx0RXJyb3JNYXAsIGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUgYXMgZGlzY3JpbWluYXRlZFVuaW9uLCBlZmZlY3RzVHlwZSBhcyBlZmZlY3QsIGVudW1UeXBlIGFzIGVudW0sIGZ1bmN0aW9uVHlwZSBhcyBmdW5jdGlvbiwgZ2V0RXJyb3JNYXAsIGdldFBhcnNlZFR5cGUsIGluc3RhbmNlT2ZUeXBlIGFzIGluc3RhbmNlb2YsIGludGVyc2VjdGlvblR5cGUgYXMgaW50ZXJzZWN0aW9uLCBpc0Fib3J0ZWQsIGlzQXN5bmMsIGlzRGlydHksIGlzVmFsaWQsIGxhdGUsIGxhenlUeXBlIGFzIGxhenksIGxpdGVyYWxUeXBlIGFzIGxpdGVyYWwsIG1ha2VJc3N1ZSwgbWFwVHlwZSBhcyBtYXAsIG5hblR5cGUgYXMgbmFuLCBuYXRpdmVFbnVtVHlwZSBhcyBuYXRpdmVFbnVtLCBuZXZlclR5cGUgYXMgbmV2ZXIsIG51bGxUeXBlIGFzIG51bGwsIG51bGxhYmxlVHlwZSBhcyBudWxsYWJsZSwgbnVtYmVyVHlwZSBhcyBudW1iZXIsIG9iamVjdFR5cGUgYXMgb2JqZWN0LCBvYmplY3RVdGlsLCBvYm9vbGVhbiwgb251bWJlciwgb3B0aW9uYWxUeXBlIGFzIG9wdGlvbmFsLCBvc3RyaW5nLCBwaXBlbGluZVR5cGUgYXMgcGlwZWxpbmUsIHByZXByb2Nlc3NUeXBlIGFzIHByZXByb2Nlc3MsIHByb21pc2VUeXBlIGFzIHByb21pc2UsIHF1b3RlbGVzc0pzb24sIHJlY29yZFR5cGUgYXMgcmVjb3JkLCBzZXRUeXBlIGFzIHNldCwgc2V0RXJyb3JNYXAsIHN0cmljdE9iamVjdFR5cGUgYXMgc3RyaWN0T2JqZWN0LCBzdHJpbmdUeXBlIGFzIHN0cmluZywgc3ltYm9sVHlwZSBhcyBzeW1ib2wsIGVmZmVjdHNUeXBlIGFzIHRyYW5zZm9ybWVyLCB0dXBsZVR5cGUgYXMgdHVwbGUsIHVuZGVmaW5lZFR5cGUgYXMgdW5kZWZpbmVkLCB1bmlvblR5cGUgYXMgdW5pb24sIHVua25vd25UeXBlIGFzIHVua25vd24sIHV0aWwsIHZvaWRUeXBlIGFzIHZvaWQsIHogfTtcbiIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZUFueURlZigpIHtcbiAgICByZXR1cm4ge307XG59XG4iLCJpbXBvcnQgeyBab2RGaXJzdFBhcnR5VHlwZUtpbmQgfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMuanNcIjtcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBcnJheURlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICB9O1xuICAgIGlmIChkZWYudHlwZT8uX2RlZiAmJlxuICAgICAgICBkZWYudHlwZT8uX2RlZj8udHlwZU5hbWUgIT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnkpIHtcbiAgICAgICAgcmVzLml0ZW1zID0gcGFyc2VEZWYoZGVmLnR5cGUuX2RlZiwge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJpdGVtc1wiXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChkZWYubWluTGVuZ3RoKSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1pbkl0ZW1zXCIsIGRlZi5taW5MZW5ndGgudmFsdWUsIGRlZi5taW5MZW5ndGgubWVzc2FnZSwgcmVmcyk7XG4gICAgfVxuICAgIGlmIChkZWYubWF4TGVuZ3RoKSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heEl0ZW1zXCIsIGRlZi5tYXhMZW5ndGgudmFsdWUsIGRlZi5tYXhMZW5ndGgubWVzc2FnZSwgcmVmcyk7XG4gICAgfVxuICAgIGlmIChkZWYuZXhhY3RMZW5ndGgpIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluSXRlbXNcIiwgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlLCBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSwgcmVmcyk7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heEl0ZW1zXCIsIGRlZi5leGFjdExlbmd0aC52YWx1ZSwgZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuIiwiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VCaWdpbnREZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiBcImludGVnZXJcIixcbiAgICAgICAgZm9ybWF0OiBcImludDY0XCIsXG4gICAgfTtcbiAgICBpZiAoIWRlZi5jaGVja3MpXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgY2FzZSBcIm1pblwiOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwiZXhjbHVzaXZlTWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWluaW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1heFwiOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwiZXhjbHVzaXZlTWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWF4aW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlT2ZcIjpcbiAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtdWx0aXBsZU9mXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQm9vbGVhbkRlZigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUJyYW5kZWREZWYoX2RlZiwgcmVmcykge1xuICAgIHJldHVybiBwYXJzZURlZihfZGVmLnR5cGUuX2RlZiwgcmVmcyk7XG59XG4iLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlQ2F0Y2hEZWYgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyk7XG59O1xuIiwiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcywgb3ZlcnJpZGVEYXRlU3RyYXRlZ3kpIHtcbiAgICBjb25zdCBzdHJhdGVneSA9IG92ZXJyaWRlRGF0ZVN0cmF0ZWd5ID8/IHJlZnMuZGF0ZVN0cmF0ZWd5O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN0cmF0ZWd5KSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYW55T2Y6IHN0cmF0ZWd5Lm1hcCgoaXRlbSwgaSkgPT4gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcywgaXRlbSkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgY2FzZSBcImZvcm1hdDpkYXRlLXRpbWVcIjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwiZGF0ZS10aW1lXCIsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFwiZm9ybWF0OmRhdGVcIjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBcImludGVnZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBpbnRlZ2VyRGF0ZVBhcnNlcihkZWYsIHJlZnMpO1xuICAgIH1cbn1cbmNvbnN0IGludGVnZXJEYXRlUGFyc2VyID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgdHlwZTogXCJpbnRlZ2VyXCIsXG4gICAgICAgIGZvcm1hdDogXCJ1bml4LXRpbWVcIixcbiAgICB9O1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgICAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtaW5cIjpcbiAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCAvLyBUaGlzIGlzIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICAgICAgICAgIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1heFwiOlxuICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIC8vIFRoaXMgaXMgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICAgICAgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn07XG4iLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRGVmYXVsdERlZihfZGVmLCByZWZzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucGFyc2VEZWYoX2RlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyksXG4gICAgICAgIGRlZmF1bHQ6IF9kZWYuZGVmYXVsdFZhbHVlKCksXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VFZmZlY3RzRGVmKF9kZWYsIHJlZnMpIHtcbiAgICByZXR1cm4gcmVmcy5lZmZlY3RTdHJhdGVneSA9PT0gXCJpbnB1dFwiXG4gICAgICAgID8gcGFyc2VEZWYoX2RlZi5zY2hlbWEuX2RlZiwgcmVmcylcbiAgICAgICAgOiB7fTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZUVudW1EZWYoZGVmKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZW51bTogQXJyYXkuZnJvbShkZWYudmFsdWVzKSxcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmNvbnN0IGlzSnNvblNjaGVtYTdBbGxPZlR5cGUgPSAodHlwZSkgPT4ge1xuICAgIGlmIChcInR5cGVcIiBpbiB0eXBlICYmIHR5cGUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBcImFsbE9mXCIgaW4gdHlwZTtcbn07XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VJbnRlcnNlY3Rpb25EZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgYWxsT2YgPSBbXG4gICAgICAgIHBhcnNlRGVmKGRlZi5sZWZ0Ll9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWxsT2ZcIiwgXCIwXCJdLFxuICAgICAgICB9KSxcbiAgICAgICAgcGFyc2VEZWYoZGVmLnJpZ2h0Ll9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWxsT2ZcIiwgXCIxXCJdLFxuICAgICAgICB9KSxcbiAgICBdLmZpbHRlcigoeCkgPT4gISF4KTtcbiAgICBsZXQgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gcmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTIwMTktMDlcIlxuICAgICAgICA/IHsgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzOiBmYWxzZSB9XG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IG1lcmdlZEFsbE9mID0gW107XG4gICAgLy8gSWYgZWl0aGVyIG9mIHRoZSBzY2hlbWFzIGlzIGFuIGFsbE9mLCBtZXJnZSB0aGVtIGludG8gYSBzaW5nbGUgYWxsT2ZcbiAgICBhbGxPZi5mb3JFYWNoKChzY2hlbWEpID0+IHtcbiAgICAgICAgaWYgKGlzSnNvblNjaGVtYTdBbGxPZlR5cGUoc2NoZW1hKSkge1xuICAgICAgICAgICAgbWVyZ2VkQWxsT2YucHVzaCguLi5zY2hlbWEuYWxsT2YpO1xuICAgICAgICAgICAgaWYgKHNjaGVtYS51bmV2YWx1YXRlZFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIElmIG9uZSBvZiB0aGUgc2NoZW1hcyBoYXMgbm8gdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzIHNldCxcbiAgICAgICAgICAgICAgICAvLyB0aGUgbWVyZ2VkIHNjaGVtYSBzaG91bGQgYWxzbyBoYXZlIG5vIHVuZXZhbHVhdGVkUHJvcGVydGllcyBzZXRcbiAgICAgICAgICAgICAgICB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbmVzdGVkU2NoZW1hID0gc2NoZW1hO1xuICAgICAgICAgICAgaWYgKFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIiBpbiBzY2hlbWEgJiZcbiAgICAgICAgICAgICAgICBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhZGRpdGlvbmFsUHJvcGVydGllcywgLi4ucmVzdCB9ID0gc2NoZW1hO1xuICAgICAgICAgICAgICAgIG5lc3RlZFNjaGVtYSA9IHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBcyBzb29uIGFzIG9uZSBvZiB0aGUgc2NoZW1hcyBoYXMgYWRkaXRpb25hbFByb3BlcnRpZXMgc2V0IG5vdCB0byBmYWxzZSwgd2UgYWxsb3cgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVyZ2VkQWxsT2YucHVzaChuZXN0ZWRTY2hlbWEpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG1lcmdlZEFsbE9mLmxlbmd0aFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGFsbE9mOiBtZXJnZWRBbGxPZixcbiAgICAgICAgICAgIC4uLnVuZXZhbHVhdGVkUHJvcGVydGllcyxcbiAgICAgICAgfVxuICAgICAgICA6IHVuZGVmaW5lZDtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZUxpdGVyYWxEZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHR5cGVvZiBkZWYudmFsdWU7XG4gICAgaWYgKHBhcnNlZFR5cGUgIT09IFwiYmlnaW50XCIgJiZcbiAgICAgICAgcGFyc2VkVHlwZSAhPT0gXCJudW1iZXJcIiAmJlxuICAgICAgICBwYXJzZWRUeXBlICE9PSBcImJvb2xlYW5cIiAmJlxuICAgICAgICBwYXJzZWRUeXBlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBBcnJheS5pc0FycmF5KGRlZi52YWx1ZSkgPyBcImFycmF5XCIgOiBcIm9iamVjdFwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogcGFyc2VkVHlwZSA9PT0gXCJiaWdpbnRcIiA/IFwiaW50ZWdlclwiIDogcGFyc2VkVHlwZSxcbiAgICAgICAgICAgIGVudW06IFtkZWYudmFsdWVdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBwYXJzZWRUeXBlID09PSBcImJpZ2ludFwiID8gXCJpbnRlZ2VyXCIgOiBwYXJzZWRUeXBlLFxuICAgICAgICBjb25zdDogZGVmLnZhbHVlLFxuICAgIH07XG59XG4iLCJpbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMuanNcIjtcbmxldCBlbW9qaVJlZ2V4ID0gdW5kZWZpbmVkO1xuLyoqXG4gKiBHZW5lcmF0ZWQgZnJvbSB0aGUgcmVndWxhciBleHByZXNzaW9ucyBmb3VuZCBoZXJlIGFzIG9mIDIwMjQtMDUtMjI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vY29saW5oYWNrcy96b2QvYmxvYi9tYXN0ZXIvc3JjL3R5cGVzLnRzLlxuICpcbiAqIEV4cHJlc3Npb25zIHdpdGggL2kgZmxhZyBoYXZlIGJlZW4gY2hhbmdlZCBhY2NvcmRpbmdseS5cbiAqL1xuZXhwb3J0IGNvbnN0IHpvZFBhdHRlcm5zID0ge1xuICAgIC8qKlxuICAgICAqIGBjYCB3YXMgY2hhbmdlZCB0byBgW2NDXWAgdG8gcmVwbGljYXRlIC9pIGZsYWdcbiAgICAgKi9cbiAgICBjdWlkOiAvXltjQ11bXlxccy1dezgsfSQvLFxuICAgIGN1aWQyOiAvXlswLTlhLXpdKyQvLFxuICAgIHVsaWQ6IC9eWzAtOUEtSEpLTU5QLVRWLVpdezI2fSQvLFxuICAgIC8qKlxuICAgICAqIGBhLXpgIHdhcyBhZGRlZCB0byByZXBsaWNhdGUgL2kgZmxhZ1xuICAgICAqL1xuICAgIGVtYWlsOiAvXig/IVxcLikoPyEuKlxcLlxcLikoW2EtekEtWjAtOV8nK1xcLVxcLl0qKVthLXpBLVowLTlfKy1dQChbYS16QS1aMC05XVthLXpBLVowLTlcXC1dKlxcLikrW2EtekEtWl17Mix9JC8sXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0ZWQgYSB2YWxpZCBVbmljb2RlIFJlZ0V4cFxuICAgICAqXG4gICAgICogTGF6aWx5IGluc3RhbnRpYXRlIHNpbmNlIHRoaXMgdHlwZSBvZiByZWdleCBpc24ndCBzdXBwb3J0ZWRcbiAgICAgKiBpbiBhbGwgZW52cyAoZS5nLiBSZWFjdCBOYXRpdmUpLlxuICAgICAqXG4gICAgICogU2VlOlxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2xpbmhhY2tzL3pvZC9pc3N1ZXMvMjQzM1xuICAgICAqIEZpeCBpbiBab2Q6XG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL2NvbGluaGFja3Mvem9kL2NvbW1pdC85MzQwZmQ1MWU0ODU3NmE3NWFkYzkxOWJmZjY1ZGJjNGE1ZDRjOTliXG4gICAgICovXG4gICAgZW1vamk6ICgpID0+IHtcbiAgICAgICAgaWYgKGVtb2ppUmVnZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZW1vamlSZWdleCA9IFJlZ0V4cChcIl4oXFxcXHB7RXh0ZW5kZWRfUGljdG9ncmFwaGljfXxcXFxccHtFbW9qaV9Db21wb25lbnR9KSskXCIsIFwidVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW1vamlSZWdleDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFVudXNlZFxuICAgICAqL1xuICAgIHV1aWQ6IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC8sXG4gICAgLyoqXG4gICAgICogVW51c2VkXG4gICAgICovXG4gICAgaXB2NDogL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSkkLyxcbiAgICBpcHY0Q2lkcjogL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC8oM1swLTJdfFsxMl0/WzAtOV0pJC8sXG4gICAgLyoqXG4gICAgICogVW51c2VkXG4gICAgICovXG4gICAgaXB2NjogL14oKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpJC8sXG4gICAgaXB2NkNpZHI6IC9eKChbMC05YS1mQS1GXXsxLDR9Oil7Nyw3fVswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDd9OnwoWzAtOWEtZkEtRl17MSw0fTopezEsNn06WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsNX0oOlswLTlhLWZBLUZdezEsNH0pezEsMn18KFswLTlhLWZBLUZdezEsNH06KXsxLDR9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDN9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwzfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsMn0oOlswLTlhLWZBLUZdezEsNH0pezEsNX18WzAtOWEtZkEtRl17MSw0fTooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDZ9KXw6KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw3fXw6KXxmZTgwOig6WzAtOWEtZkEtRl17MCw0fSl7MCw0fSVbMC05YS16QS1aXXsxLH18OjooZmZmZig6MHsxLDR9KXswLDF9Oil7MCwxfSgoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH06KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pKVxcLygxMlswLThdfDFbMDFdWzAtOV18WzEtOV0/WzAtOV0pJC8sXG4gICAgYmFzZTY0OiAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC8sXG4gICAgYmFzZTY0dXJsOiAvXihbMC05YS16QS1aLV9dezR9KSooKFswLTlhLXpBLVotX117Mn0oPT0pPyl8KFswLTlhLXpBLVotX117M30oPSk/KSk/JC8sXG4gICAgbmFub2lkOiAvXlthLXpBLVowLTlfLV17MjF9JC8sXG4gICAgand0OiAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0cmluZ0RlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgfTtcbiAgICBpZiAoZGVmLmNoZWNrcykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtaW5cIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluTGVuZ3RoXCIsIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtYXhcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4TGVuZ3RoXCIsIHR5cGVvZiByZXMubWF4TGVuZ3RoID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWluKHJlcy5tYXhMZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlbWFpbFwiOlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlZnMuZW1haWxTdHJhdGVneSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZvcm1hdDplbWFpbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiZW1haWxcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybWF0Omlkbi1lbWFpbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiaWRuLWVtYWlsXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBhdHRlcm46em9kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmVtYWlsLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwidXJpXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidXVpZFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCBcInV1aWRcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyZWdleFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgY2hlY2sucmVnZXgsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY3VpZFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuY3VpZCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjdWlkMlwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuY3VpZDIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RhcnRzV2l0aFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKGBeJHtlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZShjaGVjay52YWx1ZSwgcmVmcyl9YCksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW5kc1dpdGhcIjpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIFJlZ0V4cChgJHtlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZShjaGVjay52YWx1ZSwgcmVmcyl9JGApLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhdGV0aW1lXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiZGF0ZS10aW1lXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCBcImRhdGVcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0aW1lXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwidGltZVwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImR1cmF0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiZHVyYXRpb25cIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsZW5ndGhcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluTGVuZ3RoXCIsIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heExlbmd0aFwiLCB0eXBlb2YgcmVzLm1heExlbmd0aCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBNYXRoLm1pbihyZXMubWF4TGVuZ3RoLCBjaGVjay52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW5jbHVkZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKGVzY2FwZUxpdGVyYWxDaGVja1ZhbHVlKGNoZWNrLnZhbHVlLCByZWZzKSksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcImlwXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLnZlcnNpb24gIT09IFwidjZcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgXCJpcHY0XCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSBcInY0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiaXB2NlwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcImJhc2U2NHVybFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuYmFzZTY0dXJsLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImp3dFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuand0LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNpZHJcIjoge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2sudmVyc2lvbiAhPT0gXCJ2NlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuaXB2NENpZHIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSBcInY0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5pcHY2Q2lkciwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJlbW9qaVwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuZW1vamkoKSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1bGlkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLnVsaWQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcImJhc2U2NFwiOiB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVmcy5iYXNlNjRTdHJhdGVneSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZvcm1hdDpiaW5hcnlcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiYmluYXJ5XCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbnRlbnRFbmNvZGluZzpiYXNlNjRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcImNvbnRlbnRFbmNvZGluZ1wiLCBcImJhc2U2NFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwYXR0ZXJuOnpvZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmJhc2U2NCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJuYW5vaWRcIjoge1xuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMubmFub2lkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcInRvTG93ZXJDYXNlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInRvVXBwZXJDYXNlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInRyaW1cIjpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgLyogYzggaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICAgICAgKChfKSA9PiB7IH0pKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gZXNjYXBlTGl0ZXJhbENoZWNrVmFsdWUobGl0ZXJhbCwgcmVmcykge1xuICAgIHJldHVybiByZWZzLnBhdHRlcm5TdHJhdGVneSA9PT0gXCJlc2NhcGVcIlxuICAgICAgICA/IGVzY2FwZU5vbkFscGhhTnVtZXJpYyhsaXRlcmFsKVxuICAgICAgICA6IGxpdGVyYWw7XG59XG5jb25zdCBBTFBIQV9OVU1FUklDID0gbmV3IFNldChcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2eHl6MDEyMzQ1Njc4OVwiKTtcbmZ1bmN0aW9uIGVzY2FwZU5vbkFscGhhTnVtZXJpYyhzb3VyY2UpIHtcbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIUFMUEhBX05VTUVSSUMuaGFzKHNvdXJjZVtpXSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBcIlxcXFxcIjtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gc291cmNlW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8gQWRkcyBhIFwiZm9ybWF0XCIga2V5d29yZCB0byB0aGUgc2NoZW1hLiBJZiBhIGZvcm1hdCBleGlzdHMsIGJvdGggZm9ybWF0cyB3aWxsIGJlIGpvaW5lZCBpbiBhbiBhbGxPZi1ub2RlLCBhbG9uZyB3aXRoIHN1YnNlcXVlbnQgb25lcy5cbmZ1bmN0aW9uIGFkZEZvcm1hdChzY2hlbWEsIHZhbHVlLCBtZXNzYWdlLCByZWZzKSB7XG4gICAgaWYgKHNjaGVtYS5mb3JtYXQgfHwgc2NoZW1hLmFueU9mPy5zb21lKCh4KSA9PiB4LmZvcm1hdCkpIHtcbiAgICAgICAgaWYgKCFzY2hlbWEuYW55T2YpIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbnlPZiA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEuZm9ybWF0KSB7XG4gICAgICAgICAgICBzY2hlbWEuYW55T2YucHVzaCh7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBzY2hlbWEuZm9ybWF0LFxuICAgICAgICAgICAgICAgIC4uLihzY2hlbWEuZXJyb3JNZXNzYWdlICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogeyBmb3JtYXQ6IHNjaGVtYS5lcnJvck1lc3NhZ2UuZm9ybWF0IH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZm9ybWF0O1xuICAgICAgICAgICAgaWYgKHNjaGVtYS5lcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZS5mb3JtYXQ7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNjaGVtYS5lcnJvck1lc3NhZ2UpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hLmFueU9mLnB1c2goe1xuICAgICAgICAgICAgZm9ybWF0OiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICYmXG4gICAgICAgICAgICAgICAgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IGZvcm1hdDogbWVzc2FnZSB9IH0pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCBcImZvcm1hdFwiLCB2YWx1ZSwgbWVzc2FnZSwgcmVmcyk7XG4gICAgfVxufVxuLy8gQWRkcyBhIFwicGF0dGVyblwiIGtleXdvcmQgdG8gdGhlIHNjaGVtYS4gSWYgYSBwYXR0ZXJuIGV4aXN0cywgYm90aCBwYXR0ZXJucyB3aWxsIGJlIGpvaW5lZCBpbiBhbiBhbGxPZi1ub2RlLCBhbG9uZyB3aXRoIHN1YnNlcXVlbnQgb25lcy5cbmZ1bmN0aW9uIGFkZFBhdHRlcm4oc2NoZW1hLCByZWdleCwgbWVzc2FnZSwgcmVmcykge1xuICAgIGlmIChzY2hlbWEucGF0dGVybiB8fCBzY2hlbWEuYWxsT2Y/LnNvbWUoKHgpID0+IHgucGF0dGVybikpIHtcbiAgICAgICAgaWYgKCFzY2hlbWEuYWxsT2YpIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbGxPZiA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEucGF0dGVybikge1xuICAgICAgICAgICAgc2NoZW1hLmFsbE9mLnB1c2goe1xuICAgICAgICAgICAgICAgIHBhdHRlcm46IHNjaGVtYS5wYXR0ZXJuLFxuICAgICAgICAgICAgICAgIC4uLihzY2hlbWEuZXJyb3JNZXNzYWdlICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBzY2hlbWEuZXJyb3JNZXNzYWdlLnBhdHRlcm4gfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5wYXR0ZXJuO1xuICAgICAgICAgICAgaWYgKHNjaGVtYS5lcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZS5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhzY2hlbWEuZXJyb3JNZXNzYWdlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjaGVtYS5hbGxPZi5wdXNoKHtcbiAgICAgICAgICAgIHBhdHRlcm46IHN0cmluZ2lmeVJlZ0V4cFdpdGhGbGFncyhyZWdleCwgcmVmcyksXG4gICAgICAgICAgICAuLi4obWVzc2FnZSAmJlxuICAgICAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBtZXNzYWdlIH0gfSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhzY2hlbWEsIFwicGF0dGVyblwiLCBzdHJpbmdpZnlSZWdFeHBXaXRoRmxhZ3MocmVnZXgsIHJlZnMpLCBtZXNzYWdlLCByZWZzKTtcbiAgICB9XG59XG4vLyBNdXRhdGUgei5zdHJpbmcucmVnZXgoKSBpbiBhIGJlc3QgYXR0ZW1wdCB0byBhY2NvbW1vZGF0ZSBmb3IgcmVnZXggZmxhZ3Mgd2hlbiBhcHBseVJlZ2V4RmxhZ3MgaXMgdHJ1ZVxuZnVuY3Rpb24gc3RyaW5naWZ5UmVnRXhwV2l0aEZsYWdzKHJlZ2V4LCByZWZzKSB7XG4gICAgaWYgKCFyZWZzLmFwcGx5UmVnZXhGbGFncyB8fCAhcmVnZXguZmxhZ3MpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnNvdXJjZTtcbiAgICB9XG4gICAgLy8gQ3VycmVudGx5IGhhbmRsZWQgZmxhZ3NcbiAgICBjb25zdCBmbGFncyA9IHtcbiAgICAgICAgaTogcmVnZXguZmxhZ3MuaW5jbHVkZXMoXCJpXCIpLFxuICAgICAgICBtOiByZWdleC5mbGFncy5pbmNsdWRlcyhcIm1cIiksXG4gICAgICAgIHM6IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKFwic1wiKSwgLy8gYC5gIG1hdGNoZXMgbmV3bGluZXNcbiAgICB9O1xuICAgIC8vIFRoZSBnZW5lcmFsIHByaW5jaXBsZSBoZXJlIGlzIHRvIHN0ZXAgdGhyb3VnaCBlYWNoIGNoYXJhY3Rlciwgb25lIGF0IGEgdGltZSwgYXBwbHlpbmcgbXV0YXRpb25zIGFzIGZsYWdzIHJlcXVpcmUuIFdlIGtlZXAgdHJhY2sgd2hlbiB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaXMgZXNjYXBlZCwgYW5kIHdoZW4gaXQncyBpbnNpZGUgYSBncm91cCAvbGlrZSBbdGhpc10vIG9yIChhbHNvKSBhIHJhbmdlIGxpa2UgL1thLXpdLy4gVGhlIGZvbGxvd2luZyBpcyBmYWlybHkgYnJpdHRsZSBpbXBlcmF0aXZlIGNvZGU7IGVkaXQgYXQgeW91ciBwZXJpbCFcbiAgICBjb25zdCBzb3VyY2UgPSBmbGFncy5pID8gcmVnZXguc291cmNlLnRvTG93ZXJDYXNlKCkgOiByZWdleC5zb3VyY2U7XG4gICAgbGV0IHBhdHRlcm4gPSBcIlwiO1xuICAgIGxldCBpc0VzY2FwZWQgPSBmYWxzZTtcbiAgICBsZXQgaW5DaGFyR3JvdXAgPSBmYWxzZTtcbiAgICBsZXQgaW5DaGFyUmFuZ2UgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXNFc2NhcGVkKSB7XG4gICAgICAgICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgIGlzRXNjYXBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsYWdzLmkpIHtcbiAgICAgICAgICAgIGlmIChpbkNoYXJHcm91cCkge1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VbaV0ubWF0Y2goL1thLXpdLykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluQ2hhclJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gYCR7c291cmNlW2kgLSAyXX0tJHtzb3VyY2VbaV19YC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5DaGFyUmFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzb3VyY2VbaSArIDFdID09PSBcIi1cIiAmJiBzb3VyY2VbaSArIDJdPy5tYXRjaCgvW2Etel0vKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiArPSBzb3VyY2VbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpbkNoYXJSYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IGAke3NvdXJjZVtpXX0ke3NvdXJjZVtpXS50b1VwcGVyQ2FzZSgpfWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc291cmNlW2ldLm1hdGNoKC9bYS16XS8pKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSBgWyR7c291cmNlW2ldfSR7c291cmNlW2ldLnRvVXBwZXJDYXNlKCl9XWA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsYWdzLm0pIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2VbaV0gPT09IFwiXlwiKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSBgKF58KD88PVtcXHJcXG5dKSlgO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc291cmNlW2ldID09PSBcIiRcIikge1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gYCgkfCg/PVtcXHJcXG5dKSlgO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmbGFncy5zICYmIHNvdXJjZVtpXSA9PT0gXCIuXCIpIHtcbiAgICAgICAgICAgIHBhdHRlcm4gKz0gaW5DaGFyR3JvdXAgPyBgJHtzb3VyY2VbaV19XFxyXFxuYCA6IGBbJHtzb3VyY2VbaV19XFxyXFxuXWA7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgICAgaWYgKHNvdXJjZVtpXSA9PT0gXCJcXFxcXCIpIHtcbiAgICAgICAgICAgIGlzRXNjYXBlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5DaGFyR3JvdXAgJiYgc291cmNlW2ldID09PSBcIl1cIikge1xuICAgICAgICAgICAgaW5DaGFyR3JvdXAgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5DaGFyR3JvdXAgJiYgc291cmNlW2ldID09PSBcIltcIikge1xuICAgICAgICAgICAgaW5DaGFyR3JvdXAgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIG5ldyBSZWdFeHAocGF0dGVybik7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgY29udmVydCByZWdleCBwYXR0ZXJuIGF0ICR7cmVmcy5jdXJyZW50UGF0aC5qb2luKFwiL1wiKX0gdG8gYSBmbGFnLWluZGVwZW5kZW50IGZvcm0hIEZhbGxpbmcgYmFjayB0byB0aGUgZmxhZy1pZ25vcmFudCBzb3VyY2VgKTtcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnNvdXJjZTtcbiAgICB9XG4gICAgcmV0dXJuIHBhdHRlcm47XG59XG4iLCJpbXBvcnQgeyBab2RGaXJzdFBhcnR5VHlwZUtpbmQsIH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmltcG9ydCB7IHBhcnNlU3RyaW5nRGVmIH0gZnJvbSBcIi4vc3RyaW5nLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUJyYW5kZWREZWYgfSBmcm9tIFwiLi9icmFuZGVkLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKSB7XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BaVwiKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIldhcm5pbmc6IE9wZW5BSSBtYXkgbm90IHN1cHBvcnQgcmVjb3JkcyBpbiBzY2hlbWFzISBUcnkgYW4gYXJyYXkgb2Yga2V5LXZhbHVlIHBhaXJzIGluc3RlYWQuXCIpO1xuICAgIH1cbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIiAmJlxuICAgICAgICBkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICByZXF1aXJlZDogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBkZWYua2V5VHlwZS5fZGVmLnZhbHVlcy5yZWR1Y2UoKGFjYywga2V5KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgICAgICBba2V5XTogcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJwcm9wZXJ0aWVzXCIsIGtleV0sXG4gICAgICAgICAgICAgICAgfSkgPz8ge30sXG4gICAgICAgICAgICB9KSwge30pLFxuICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBzY2hlbWEgPSB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBwYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0sXG4gICAgICAgIH0pID8/IHt9LFxuICAgIH07XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG4gICAgaWYgKGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nICYmXG4gICAgICAgIGRlZi5rZXlUeXBlLl9kZWYuY2hlY2tzPy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgeyB0eXBlLCAuLi5rZXlUeXBlIH0gPSBwYXJzZVN0cmluZ0RlZihkZWYua2V5VHlwZS5fZGVmLCByZWZzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnNjaGVtYSxcbiAgICAgICAgICAgIHByb3BlcnR5TmFtZXM6IGtleVR5cGUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc2NoZW1hLFxuICAgICAgICAgICAgcHJvcGVydHlOYW1lczoge1xuICAgICAgICAgICAgICAgIGVudW06IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGVmLmtleVR5cGU/Ll9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCcmFuZGVkICYmXG4gICAgICAgIGRlZi5rZXlUeXBlLl9kZWYudHlwZS5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nICYmXG4gICAgICAgIGRlZi5rZXlUeXBlLl9kZWYudHlwZS5fZGVmLmNoZWNrcz8ubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgLi4ua2V5VHlwZSB9ID0gcGFyc2VCcmFuZGVkRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHJlZnMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc2NoZW1hLFxuICAgICAgICAgICAgcHJvcGVydHlOYW1lczoga2V5VHlwZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbiIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVJlY29yZERlZiB9IGZyb20gXCIuL3JlY29yZC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTWFwRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChyZWZzLm1hcFN0cmF0ZWd5ID09PSBcInJlY29yZFwiKSB7XG4gICAgICAgIHJldHVybiBwYXJzZVJlY29yZERlZihkZWYsIHJlZnMpO1xuICAgIH1cbiAgICBjb25zdCBrZXlzID0gcGFyc2VEZWYoZGVmLmtleVR5cGUuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIiwgXCJpdGVtc1wiLCBcIjBcIl0sXG4gICAgfSkgfHwge307XG4gICAgY29uc3QgdmFsdWVzID0gcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJpdGVtc1wiLCBcIml0ZW1zXCIsIFwiMVwiXSxcbiAgICB9KSB8fCB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgIG1heEl0ZW1zOiAxMjUsXG4gICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICBpdGVtczogW2tleXMsIHZhbHVlc10sXG4gICAgICAgICAgICBtaW5JdGVtczogMixcbiAgICAgICAgICAgIG1heEl0ZW1zOiAyLFxuICAgICAgICB9LFxuICAgIH07XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VOYXRpdmVFbnVtRGVmKGRlZikge1xuICAgIGNvbnN0IG9iamVjdCA9IGRlZi52YWx1ZXM7XG4gICAgY29uc3QgYWN0dWFsS2V5cyA9IE9iamVjdC5rZXlzKGRlZi52YWx1ZXMpLmZpbHRlcigoa2V5KSA9PiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0W29iamVjdFtrZXldXSAhPT0gXCJudW1iZXJcIjtcbiAgICB9KTtcbiAgICBjb25zdCBhY3R1YWxWYWx1ZXMgPSBhY3R1YWxLZXlzLm1hcCgoa2V5KSA9PiBvYmplY3Rba2V5XSk7XG4gICAgY29uc3QgcGFyc2VkVHlwZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQoYWN0dWFsVmFsdWVzLm1hcCgodmFsdWVzKSA9PiB0eXBlb2YgdmFsdWVzKSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHBhcnNlZFR5cGVzLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgPyBwYXJzZWRUeXBlc1swXSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgID8gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIDogXCJudW1iZXJcIlxuICAgICAgICAgICAgOiBbXCJzdHJpbmdcIiwgXCJudW1iZXJcIl0sXG4gICAgICAgIGVudW06IGFjdHVhbFZhbHVlcyxcbiAgICB9O1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTmV2ZXJEZWYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbm90OiB7fSxcbiAgICB9O1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTnVsbERlZihyZWZzKSB7XG4gICAgcmV0dXJuIHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCJcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBlbnVtOiBbXCJudWxsXCJdLFxuICAgICAgICAgICAgbnVsbGFibGU6IHRydWUsXG4gICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICB0eXBlOiBcIm51bGxcIixcbiAgICAgICAgfTtcbn1cbiIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5leHBvcnQgY29uc3QgcHJpbWl0aXZlTWFwcGluZ3MgPSB7XG4gICAgWm9kU3RyaW5nOiBcInN0cmluZ1wiLFxuICAgIFpvZE51bWJlcjogXCJudW1iZXJcIixcbiAgICBab2RCaWdJbnQ6IFwiaW50ZWdlclwiLFxuICAgIFpvZEJvb2xlYW46IFwiYm9vbGVhblwiLFxuICAgIFpvZE51bGw6IFwibnVsbFwiLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVuaW9uRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKVxuICAgICAgICByZXR1cm4gYXNBbnlPZihkZWYsIHJlZnMpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBkZWYub3B0aW9ucyBpbnN0YW5jZW9mIE1hcCA/IEFycmF5LmZyb20oZGVmLm9wdGlvbnMudmFsdWVzKCkpIDogZGVmLm9wdGlvbnM7XG4gICAgLy8gVGhpcyBibG9ja3MgdHJpZXMgdG8gbG9vayBhaGVhZCBhIGJpdCB0byBwcm9kdWNlIG5pY2VyIGxvb2tpbmcgc2NoZW1hcyB3aXRoIHR5cGUgYXJyYXkgaW5zdGVhZCBvZiBhbnlPZi5cbiAgICBpZiAob3B0aW9ucy5ldmVyeSgoeCkgPT4geC5fZGVmLnR5cGVOYW1lIGluIHByaW1pdGl2ZU1hcHBpbmdzICYmXG4gICAgICAgICgheC5fZGVmLmNoZWNrcyB8fCAheC5fZGVmLmNoZWNrcy5sZW5ndGgpKSkge1xuICAgICAgICAvLyBhbGwgdHlwZXMgaW4gdW5pb24gYXJlIHByaW1pdGl2ZSBhbmQgbGFjayBjaGVja3MsIHNvIG1pZ2h0IGFzIHdlbGwgc3F1YXNoIGludG8ge3R5cGU6IFsuLi5dfVxuICAgICAgICBjb25zdCB0eXBlcyA9IG9wdGlvbnMucmVkdWNlKCh0eXBlcywgeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHByaW1pdGl2ZU1hcHBpbmdzW3guX2RlZi50eXBlTmFtZV07IC8vQ2FuIGJlIHNhZmVseSBjYXN0ZWQgZHVlIHRvIHJvdyA0M1xuICAgICAgICAgICAgcmV0dXJuIHR5cGUgJiYgIXR5cGVzLmluY2x1ZGVzKHR5cGUpID8gWy4uLnR5cGVzLCB0eXBlXSA6IHR5cGVzO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlcy5sZW5ndGggPiAxID8gdHlwZXMgOiB0eXBlc1swXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9ucy5ldmVyeSgoeCkgPT4geC5fZGVmLnR5cGVOYW1lID09PSBcIlpvZExpdGVyYWxcIiAmJiAheC5kZXNjcmlwdGlvbikpIHtcbiAgICAgICAgLy8gYWxsIG9wdGlvbnMgbGl0ZXJhbHNcbiAgICAgICAgY29uc3QgdHlwZXMgPSBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIHguX2RlZi52YWx1ZTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIHR5cGVdO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIFwiaW50ZWdlclwiXTtcbiAgICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh4Ll9kZWYudmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgXCJudWxsXCJdO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgW10pO1xuICAgICAgICBpZiAodHlwZXMubGVuZ3RoID09PSBvcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gYWxsIHRoZSBsaXRlcmFscyBhcmUgcHJpbWl0aXZlLCBhcyBmYXIgYXMgbnVsbCBjYW4gYmUgY29uc2lkZXJlZCBwcmltaXRpdmVcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZVR5cGVzID0gdHlwZXMuZmlsdGVyKCh4LCBpLCBhKSA9PiBhLmluZGV4T2YoeCkgPT09IGkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB1bmlxdWVUeXBlcy5sZW5ndGggPiAxID8gdW5pcXVlVHlwZXMgOiB1bmlxdWVUeXBlc1swXSxcbiAgICAgICAgICAgICAgICBlbnVtOiBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2MuaW5jbHVkZXMoeC5fZGVmLnZhbHVlKSA/IGFjYyA6IFsuLi5hY2MsIHguX2RlZi52YWx1ZV07XG4gICAgICAgICAgICAgICAgfSwgW10pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChvcHRpb25zLmV2ZXJ5KCh4KSA9PiB4Ll9kZWYudHlwZU5hbWUgPT09IFwiWm9kRW51bVwiKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGVudW06IG9wdGlvbnMucmVkdWNlKChhY2MsIHgpID0+IFtcbiAgICAgICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICAgICAgLi4ueC5fZGVmLnZhbHVlcy5maWx0ZXIoKHgpID0+ICFhY2MuaW5jbHVkZXMoeCkpLFxuICAgICAgICAgICAgXSwgW10pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYXNBbnlPZihkZWYsIHJlZnMpO1xufVxuY29uc3QgYXNBbnlPZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBjb25zdCBhbnlPZiA9IChkZWYub3B0aW9ucyBpbnN0YW5jZW9mIE1hcFxuICAgICAgICA/IEFycmF5LmZyb20oZGVmLm9wdGlvbnMudmFsdWVzKCkpXG4gICAgICAgIDogZGVmLm9wdGlvbnMpXG4gICAgICAgIC5tYXAoKHgsIGkpID0+IHBhcnNlRGVmKHguX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYW55T2ZcIiwgYCR7aX1gXSxcbiAgICB9KSlcbiAgICAgICAgLmZpbHRlcigoeCkgPT4gISF4ICYmXG4gICAgICAgICghcmVmcy5zdHJpY3RVbmlvbnMgfHxcbiAgICAgICAgICAgICh0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3Qua2V5cyh4KS5sZW5ndGggPiAwKSkpO1xuICAgIHJldHVybiBhbnlPZi5sZW5ndGggPyB7IGFueU9mIH0gOiB1bmRlZmluZWQ7XG59O1xuIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmltcG9ydCB7IHByaW1pdGl2ZU1hcHBpbmdzIH0gZnJvbSBcIi4vdW5pb24uanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bGxhYmxlRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChbXCJab2RTdHJpbmdcIiwgXCJab2ROdW1iZXJcIiwgXCJab2RCaWdJbnRcIiwgXCJab2RCb29sZWFuXCIsIFwiWm9kTnVsbFwiXS5pbmNsdWRlcyhkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWUpICYmXG4gICAgICAgICghZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcyB8fCAhZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcy5sZW5ndGgpKSB7XG4gICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHByaW1pdGl2ZU1hcHBpbmdzW2RlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZV0sXG4gICAgICAgICAgICAgICAgbnVsbGFibGU6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBbXG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlTWFwcGluZ3NbZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lXSxcbiAgICAgICAgICAgICAgICBcIm51bGxcIixcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSB7XG4gICAgICAgIGNvbnN0IGJhc2UgPSBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGhdLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGJhc2UgJiYgXCIkcmVmXCIgaW4gYmFzZSlcbiAgICAgICAgICAgIHJldHVybiB7IGFsbE9mOiBbYmFzZV0sIG51bGxhYmxlOiB0cnVlIH07XG4gICAgICAgIHJldHVybiBiYXNlICYmIHsgLi4uYmFzZSwgbnVsbGFibGU6IHRydWUgfTtcbiAgICB9XG4gICAgY29uc3QgYmFzZSA9IHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYW55T2ZcIiwgXCIwXCJdLFxuICAgIH0pO1xuICAgIHJldHVybiBiYXNlICYmIHsgYW55T2Y6IFtiYXNlLCB7IHR5cGU6IFwibnVsbFwiIH1dIH07XG59XG4iLCJpbXBvcnQgeyBhZGRFcnJvck1lc3NhZ2UsIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMsIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bWJlckRlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgfTtcbiAgICBpZiAoIWRlZi5jaGVja3MpXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgY2FzZSBcImludFwiOlxuICAgICAgICAgICAgICAgIHJlcy50eXBlID0gXCJpbnRlZ2VyXCI7XG4gICAgICAgICAgICAgICAgYWRkRXJyb3JNZXNzYWdlKHJlcywgXCJ0eXBlXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1pblwiOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwiZXhjbHVzaXZlTWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWluaW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1heFwiOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwiZXhjbHVzaXZlTWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWF4aW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlT2ZcIjpcbiAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtdWx0aXBsZU9mXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuIiwiaW1wb3J0IHsgWm9kT3B0aW9uYWwgfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuZnVuY3Rpb24gZGVjaWRlQWRkaXRpb25hbFByb3BlcnRpZXMoZGVmLCByZWZzKSB7XG4gICAgaWYgKHJlZnMucmVtb3ZlQWRkaXRpb25hbFN0cmF0ZWd5ID09PSBcInN0cmljdFwiKSB7XG4gICAgICAgIHJldHVybiBkZWYuY2F0Y2hhbGwuX2RlZi50eXBlTmFtZSA9PT0gXCJab2ROZXZlclwiXG4gICAgICAgICAgICA/IGRlZi51bmtub3duS2V5cyAhPT0gXCJzdHJpY3RcIlxuICAgICAgICAgICAgOiBwYXJzZURlZihkZWYuY2F0Y2hhbGwuX2RlZiwge1xuICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdLFxuICAgICAgICAgICAgfSkgPz8gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWYuY2F0Y2hhbGwuX2RlZi50eXBlTmFtZSA9PT0gXCJab2ROZXZlclwiXG4gICAgICAgICAgICA/IGRlZi51bmtub3duS2V5cyA9PT0gXCJwYXNzdGhyb3VnaFwiXG4gICAgICAgICAgICA6IHBhcnNlRGVmKGRlZi5jYXRjaGFsbC5fZGVmLCB7XG4gICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0sXG4gICAgICAgICAgICB9KSA/PyB0cnVlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU9iamVjdERlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCBmb3JjZU9wdGlvbmFsSW50b051bGxhYmxlID0gcmVmcy50YXJnZXQgPT09IFwib3BlbkFpXCI7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAuLi5PYmplY3QuZW50cmllcyhkZWYuc2hhcGUoKSkucmVkdWNlKChhY2MsIFtwcm9wTmFtZSwgcHJvcERlZl0pID0+IHtcbiAgICAgICAgICAgIGlmIChwcm9wRGVmID09PSB1bmRlZmluZWQgfHwgcHJvcERlZi5fZGVmID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIGxldCBwcm9wT3B0aW9uYWwgPSBwcm9wRGVmLmlzT3B0aW9uYWwoKTtcbiAgICAgICAgICAgIGlmIChwcm9wT3B0aW9uYWwgJiYgZm9yY2VPcHRpb25hbEludG9OdWxsYWJsZSkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9wRGVmIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcERlZiA9IHByb3BEZWYuX2RlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcHJvcERlZi5pc051bGxhYmxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcERlZiA9IHByb3BEZWYubnVsbGFibGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvcE9wdGlvbmFsID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYXJzZWREZWYgPSBwYXJzZURlZihwcm9wRGVmLl9kZWYsIHtcbiAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJwcm9wZXJ0aWVzXCIsIHByb3BOYW1lXSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eVBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcInByb3BlcnRpZXNcIiwgcHJvcE5hbWVdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocGFyc2VkRGVmID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogeyAuLi5hY2MucHJvcGVydGllcywgW3Byb3BOYW1lXTogcGFyc2VkRGVmIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHByb3BPcHRpb25hbCA/IGFjYy5yZXF1aXJlZCA6IFsuLi5hY2MucmVxdWlyZWQsIHByb3BOYW1lXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIHsgcHJvcGVydGllczoge30sIHJlcXVpcmVkOiBbXSB9KSxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGRlY2lkZUFkZGl0aW9uYWxQcm9wZXJ0aWVzKGRlZiwgcmVmcyksXG4gICAgfTtcbiAgICBpZiAoIXJlc3VsdC5yZXF1aXJlZC5sZW5ndGgpXG4gICAgICAgIGRlbGV0ZSByZXN1bHQucmVxdWlyZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VPcHRpb25hbERlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBpZiAocmVmcy5jdXJyZW50UGF0aC50b1N0cmluZygpID09PSByZWZzLnByb3BlcnR5UGF0aD8udG9TdHJpbmcoKSkge1xuICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcbiAgICB9XG4gICAgY29uc3QgaW5uZXJTY2hlbWEgPSBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFueU9mXCIsIFwiMVwiXSxcbiAgICB9KTtcbiAgICByZXR1cm4gaW5uZXJTY2hlbWFcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBhbnlPZjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbm90OiB7fSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlubmVyU2NoZW1hLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgICA6IHt9O1xufTtcbiIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VQaXBlbGluZURlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBpZiAocmVmcy5waXBlU3RyYXRlZ3kgPT09IFwiaW5wdXRcIikge1xuICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmluLl9kZWYsIHJlZnMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWZzLnBpcGVTdHJhdGVneSA9PT0gXCJvdXRwdXRcIikge1xuICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLm91dC5fZGVmLCByZWZzKTtcbiAgICB9XG4gICAgY29uc3QgYSA9IHBhcnNlRGVmKGRlZi5pbi5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhbGxPZlwiLCBcIjBcIl0sXG4gICAgfSk7XG4gICAgY29uc3QgYiA9IHBhcnNlRGVmKGRlZi5vdXQuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWxsT2ZcIiwgYSA/IFwiMVwiIDogXCIwXCJdLFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFsbE9mOiBbYSwgYl0uZmlsdGVyKCh4KSA9PiB4ICE9PSB1bmRlZmluZWQpLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVByb21pc2VEZWYoZGVmLCByZWZzKSB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi50eXBlLl9kZWYsIHJlZnMpO1xufVxuIiwiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLmpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU2V0RGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IGl0ZW1zID0gcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJpdGVtc1wiXSxcbiAgICB9KTtcbiAgICBjb25zdCBzY2hlbWEgPSB7XG4gICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgdW5pcXVlSXRlbXM6IHRydWUsXG4gICAgICAgIGl0ZW1zLFxuICAgIH07XG4gICAgaWYgKGRlZi5taW5TaXplKSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCBcIm1pbkl0ZW1zXCIsIGRlZi5taW5TaXplLnZhbHVlLCBkZWYubWluU2l6ZS5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgaWYgKGRlZi5tYXhTaXplKSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCBcIm1heEl0ZW1zXCIsIGRlZi5tYXhTaXplLnZhbHVlLCBkZWYubWF4U2l6ZS5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbiIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VUdXBsZURlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAoZGVmLnJlc3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgaXRlbXM6IGRlZi5pdGVtc1xuICAgICAgICAgICAgICAgIC5tYXAoKHgsIGkpID0+IHBhcnNlRGVmKHguX2RlZiwge1xuICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCIsIGAke2l9YF0sXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIHgpID0+ICh4ID09PSB1bmRlZmluZWQgPyBhY2MgOiBbLi4uYWNjLCB4XSksIFtdKSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxJdGVtczogcGFyc2VEZWYoZGVmLnJlc3QuX2RlZiwge1xuICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFkZGl0aW9uYWxJdGVtc1wiXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgbWF4SXRlbXM6IGRlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICBpdGVtczogZGVmLml0ZW1zXG4gICAgICAgICAgICAgICAgLm1hcCgoeCwgaSkgPT4gcGFyc2VEZWYoeC5fZGVmLCB7XG4gICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIiwgYCR7aX1gXSxcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgeCkgPT4gKHggPT09IHVuZGVmaW5lZCA/IGFjYyA6IFsuLi5hY2MsIHhdKSwgW10pLFxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZVVuZGVmaW5lZERlZigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBub3Q6IHt9LFxuICAgIH07XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VVbmtub3duRGVmKCkge1xuICAgIHJldHVybiB7fTtcbn1cbiIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VSZWFkb25seURlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcbn07XG4iLCJpbXBvcnQgeyBab2RGaXJzdFBhcnR5VHlwZUtpbmQgfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gXCIuL3BhcnNlcnMvYW55LmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFycmF5RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9hcnJheS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VCaWdpbnREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2JpZ2ludC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VCb29sZWFuRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9ib29sZWFuLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUJyYW5kZWREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2JyYW5kZWQuanNcIjtcbmltcG9ydCB7IHBhcnNlQ2F0Y2hEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2NhdGNoLmpzXCI7XG5pbXBvcnQgeyBwYXJzZURhdGVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2RhdGUuanNcIjtcbmltcG9ydCB7IHBhcnNlRGVmYXVsdERlZiB9IGZyb20gXCIuL3BhcnNlcnMvZGVmYXVsdC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VFZmZlY3RzRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9lZmZlY3RzLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUVudW1EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2VudW0uanNcIjtcbmltcG9ydCB7IHBhcnNlSW50ZXJzZWN0aW9uRGVmLCB9IGZyb20gXCIuL3BhcnNlcnMvaW50ZXJzZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUxpdGVyYWxEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2xpdGVyYWwuanNcIjtcbmltcG9ydCB7IHBhcnNlTWFwRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9tYXAuanNcIjtcbmltcG9ydCB7IHBhcnNlTmF0aXZlRW51bURlZiwgfSBmcm9tIFwiLi9wYXJzZXJzL25hdGl2ZUVudW0uanNcIjtcbmltcG9ydCB7IHBhcnNlTmV2ZXJEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL25ldmVyLmpzXCI7XG5pbXBvcnQgeyBwYXJzZU51bGxEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL251bGwuanNcIjtcbmltcG9ydCB7IHBhcnNlTnVsbGFibGVEZWYsIH0gZnJvbSBcIi4vcGFyc2Vycy9udWxsYWJsZS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VOdW1iZXJEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL251bWJlci5qc1wiO1xuaW1wb3J0IHsgcGFyc2VPYmplY3REZWYgfSBmcm9tIFwiLi9wYXJzZXJzL29iamVjdC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VPcHRpb25hbERlZiB9IGZyb20gXCIuL3BhcnNlcnMvb3B0aW9uYWwuanNcIjtcbmltcG9ydCB7IHBhcnNlUGlwZWxpbmVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3BpcGVsaW5lLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVByb21pc2VEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3Byb21pc2UuanNcIjtcbmltcG9ydCB7IHBhcnNlUmVjb3JkRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9yZWNvcmQuanNcIjtcbmltcG9ydCB7IHBhcnNlU2V0RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9zZXQuanNcIjtcbmltcG9ydCB7IHBhcnNlU3RyaW5nRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9zdHJpbmcuanNcIjtcbmltcG9ydCB7IHBhcnNlVHVwbGVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3R1cGxlLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVVuZGVmaW5lZERlZiwgfSBmcm9tIFwiLi9wYXJzZXJzL3VuZGVmaW5lZC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VVbmlvbkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvdW5pb24uanNcIjtcbmltcG9ydCB7IHBhcnNlVW5rbm93bkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvdW5rbm93bi5qc1wiO1xuaW1wb3J0IHsgcGFyc2VSZWFkb25seURlZiB9IGZyb20gXCIuL3BhcnNlcnMvcmVhZG9ubHkuanNcIjtcbmltcG9ydCB7IGlnbm9yZU92ZXJyaWRlIH0gZnJvbSBcIi4vT3B0aW9ucy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRGVmKGRlZiwgcmVmcywgZm9yY2VSZXNvbHV0aW9uID0gZmFsc2UpIHtcbiAgICBjb25zdCBzZWVuSXRlbSA9IHJlZnMuc2Vlbi5nZXQoZGVmKTtcbiAgICBpZiAocmVmcy5vdmVycmlkZSkge1xuICAgICAgICBjb25zdCBvdmVycmlkZVJlc3VsdCA9IHJlZnMub3ZlcnJpZGU/LihkZWYsIHJlZnMsIHNlZW5JdGVtLCBmb3JjZVJlc29sdXRpb24pO1xuICAgICAgICBpZiAob3ZlcnJpZGVSZXN1bHQgIT09IGlnbm9yZU92ZXJyaWRlKSB7XG4gICAgICAgICAgICByZXR1cm4gb3ZlcnJpZGVSZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNlZW5JdGVtICYmICFmb3JjZVJlc29sdXRpb24pIHtcbiAgICAgICAgY29uc3Qgc2VlblNjaGVtYSA9IGdldCRyZWYoc2Vlbkl0ZW0sIHJlZnMpO1xuICAgICAgICBpZiAoc2VlblNjaGVtYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VlblNjaGVtYTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBuZXdJdGVtID0geyBkZWYsIHBhdGg6IHJlZnMuY3VycmVudFBhdGgsIGpzb25TY2hlbWE6IHVuZGVmaW5lZCB9O1xuICAgIHJlZnMuc2Vlbi5zZXQoZGVmLCBuZXdJdGVtKTtcbiAgICBjb25zdCBqc29uU2NoZW1hID0gc2VsZWN0UGFyc2VyKGRlZiwgZGVmLnR5cGVOYW1lLCByZWZzKTtcbiAgICBpZiAoanNvblNjaGVtYSkge1xuICAgICAgICBhZGRNZXRhKGRlZiwgcmVmcywganNvblNjaGVtYSk7XG4gICAgfVxuICAgIG5ld0l0ZW0uanNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG4gICAgcmV0dXJuIGpzb25TY2hlbWE7XG59XG5jb25zdCBnZXQkcmVmID0gKGl0ZW0sIHJlZnMpID0+IHtcbiAgICBzd2l0Y2ggKHJlZnMuJHJlZlN0cmF0ZWd5KSB7XG4gICAgICAgIGNhc2UgXCJyb290XCI6XG4gICAgICAgICAgICByZXR1cm4geyAkcmVmOiBpdGVtLnBhdGguam9pbihcIi9cIikgfTtcbiAgICAgICAgY2FzZSBcInJlbGF0aXZlXCI6XG4gICAgICAgICAgICByZXR1cm4geyAkcmVmOiBnZXRSZWxhdGl2ZVBhdGgocmVmcy5jdXJyZW50UGF0aCwgaXRlbS5wYXRoKSB9O1xuICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICBjYXNlIFwic2VlblwiOiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5wYXRoLmxlbmd0aCA8IHJlZnMuY3VycmVudFBhdGgubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgaXRlbS5wYXRoLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHJlZnMuY3VycmVudFBhdGhbaW5kZXhdID09PSB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFJlY3Vyc2l2ZSByZWZlcmVuY2UgZGV0ZWN0ZWQgYXQgJHtyZWZzLmN1cnJlbnRQYXRoLmpvaW4oXCIvXCIpfSEgRGVmYXVsdGluZyB0byBhbnlgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVmcy4kcmVmU3RyYXRlZ3kgPT09IFwic2VlblwiID8ge30gOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgZ2V0UmVsYXRpdmVQYXRoID0gKHBhdGhBLCBwYXRoQikgPT4ge1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKDsgaSA8IHBhdGhBLmxlbmd0aCAmJiBpIDwgcGF0aEIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHBhdGhBW2ldICE9PSBwYXRoQltpXSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gWyhwYXRoQS5sZW5ndGggLSBpKS50b1N0cmluZygpLCAuLi5wYXRoQi5zbGljZShpKV0uam9pbihcIi9cIik7XG59O1xuY29uc3Qgc2VsZWN0UGFyc2VyID0gKGRlZiwgdHlwZU5hbWUsIHJlZnMpID0+IHtcbiAgICBzd2l0Y2ggKHR5cGVOYW1lKSB7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZzpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVN0cmluZ0RlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdW1iZXI6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VOdW1iZXJEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlT2JqZWN0RGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUJpZ2ludERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCb29sZWFuOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQm9vbGVhbkRlZigpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRGF0ZURlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmRlZmluZWQ6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVbmRlZmluZWREZWYoKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU51bGxEZWYocmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFycmF5OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQXJyYXlEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb246XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVVuaW9uRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludGVyc2VjdGlvbkRlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVR1cGxlRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVJlY29yZERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTGl0ZXJhbERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRW51bURlZihkZWYpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYXRpdmVFbnVtOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTmF0aXZlRW51bURlZihkZWYpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU51bGxhYmxlRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlT3B0aW9uYWxEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTWFwOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTWFwRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFNldDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVNldERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5nZXR0ZXIoKS5fZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUHJvbWlzZTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVByb21pc2VEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmFOOlxuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROZXZlcjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU5ldmVyRGVmKCk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHM6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VFZmZlY3RzRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUFueURlZigpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmtub3duOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVW5rbm93bkRlZigpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRGVmYXVsdERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCcmFuZGVkOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQnJhbmRlZERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWFkb25seTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVJlYWRvbmx5RGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQ2F0Y2hEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUGlwZWxpbmU6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VQaXBlbGluZURlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RGdW5jdGlvbjpcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVm9pZDpcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3ltYm9sOlxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICByZXR1cm4gKChfKSA9PiB1bmRlZmluZWQpKHR5cGVOYW1lKTtcbiAgICB9XG59O1xuY29uc3QgYWRkTWV0YSA9IChkZWYsIHJlZnMsIGpzb25TY2hlbWEpID0+IHtcbiAgICBpZiAoZGVmLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGpzb25TY2hlbWEuZGVzY3JpcHRpb24gPSBkZWYuZGVzY3JpcHRpb247XG4gICAgICAgIGlmIChyZWZzLm1hcmtkb3duRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGpzb25TY2hlbWEubWFya2Rvd25EZXNjcmlwdGlvbiA9IGRlZi5kZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ganNvblNjaGVtYTtcbn07XG4iLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuL3BhcnNlRGVmLmpzXCI7XG5pbXBvcnQgeyBnZXRSZWZzIH0gZnJvbSBcIi4vUmVmcy5qc1wiO1xuY29uc3Qgem9kVG9Kc29uU2NoZW1hID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHJlZnMgPSBnZXRSZWZzKG9wdGlvbnMpO1xuICAgIGNvbnN0IGRlZmluaXRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5kZWZpbml0aW9uc1xuICAgICAgICA/IE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuZGVmaW5pdGlvbnMpLnJlZHVjZSgoYWNjLCBbbmFtZSwgc2NoZW1hXSkgPT4gKHtcbiAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgIFtuYW1lXTogcGFyc2VEZWYoc2NoZW1hLl9kZWYsIHtcbiAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5iYXNlUGF0aCwgcmVmcy5kZWZpbml0aW9uUGF0aCwgbmFtZV0sXG4gICAgICAgICAgICB9LCB0cnVlKSA/PyB7fSxcbiAgICAgICAgfSksIHt9KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBuYW1lID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCJcbiAgICAgICAgPyBvcHRpb25zXG4gICAgICAgIDogb3B0aW9ucz8ubmFtZVN0cmF0ZWd5ID09PSBcInRpdGxlXCJcbiAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICA6IG9wdGlvbnM/Lm5hbWU7XG4gICAgY29uc3QgbWFpbiA9IHBhcnNlRGVmKHNjaGVtYS5fZGVmLCBuYW1lID09PSB1bmRlZmluZWRcbiAgICAgICAgPyByZWZzXG4gICAgICAgIDoge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5iYXNlUGF0aCwgcmVmcy5kZWZpbml0aW9uUGF0aCwgbmFtZV0sXG4gICAgICAgIH0sIGZhbHNlKSA/PyB7fTtcbiAgICBjb25zdCB0aXRsZSA9IHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgIG9wdGlvbnMubmFtZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG9wdGlvbnMubmFtZVN0cmF0ZWd5ID09PSBcInRpdGxlXCJcbiAgICAgICAgPyBvcHRpb25zLm5hbWVcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgaWYgKHRpdGxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWFpbi50aXRsZSA9IHRpdGxlO1xuICAgIH1cbiAgICBjb25zdCBjb21iaW5lZCA9IG5hbWUgPT09IHVuZGVmaW5lZFxuICAgICAgICA/IGRlZmluaXRpb25zXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAuLi5tYWluLFxuICAgICAgICAgICAgICAgIFtyZWZzLmRlZmluaXRpb25QYXRoXTogZGVmaW5pdGlvbnMsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IG1haW5cbiAgICAgICAgOiB7XG4gICAgICAgICAgICAkcmVmOiBbXG4gICAgICAgICAgICAgICAgLi4uKHJlZnMuJHJlZlN0cmF0ZWd5ID09PSBcInJlbGF0aXZlXCIgPyBbXSA6IHJlZnMuYmFzZVBhdGgpLFxuICAgICAgICAgICAgICAgIHJlZnMuZGVmaW5pdGlvblBhdGgsXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIF0uam9pbihcIi9cIiksXG4gICAgICAgICAgICBbcmVmcy5kZWZpbml0aW9uUGF0aF06IHtcbiAgICAgICAgICAgICAgICAuLi5kZWZpbml0aW9ucyxcbiAgICAgICAgICAgICAgICBbbmFtZV06IG1haW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XG4gICAgICAgIGNvbWJpbmVkLiRzY2hlbWEgPSBcImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hI1wiO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hMjAxOS0wOVwiIHx8IHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BaVwiKSB7XG4gICAgICAgIGNvbWJpbmVkLiRzY2hlbWEgPSBcImh0dHBzOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LzIwMTktMDkvc2NoZW1hI1wiO1xuICAgIH1cbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFpXCIgJiZcbiAgICAgICAgKFwiYW55T2ZcIiBpbiBjb21iaW5lZCB8fFxuICAgICAgICAgICAgXCJvbmVPZlwiIGluIGNvbWJpbmVkIHx8XG4gICAgICAgICAgICBcImFsbE9mXCIgaW4gY29tYmluZWQgfHxcbiAgICAgICAgICAgIChcInR5cGVcIiBpbiBjb21iaW5lZCAmJiBBcnJheS5pc0FycmF5KGNvbWJpbmVkLnR5cGUpKSkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiV2FybmluZzogT3BlbkFJIG1heSBub3Qgc3VwcG9ydCBzY2hlbWFzIHdpdGggdW5pb25zIGFzIHJvb3RzISBUcnkgd3JhcHBpbmcgaXQgaW4gYW4gb2JqZWN0IHByb3BlcnR5LlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbWJpbmVkO1xufTtcbmV4cG9ydCB7IHpvZFRvSnNvblNjaGVtYSB9O1xuIiwiLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQgeyBnZW5lcmF0ZUlkIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gc3JjL2Fzc2lzdGFudC1zdHJlYW0tcGFydHMudHNcbnZhciB0ZXh0U3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCIwXCIsXG4gIG5hbWU6IFwidGV4dFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcInRleHRcIiBwYXJ0cyBleHBlY3QgYSBzdHJpbmcgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwidGV4dFwiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIGVycm9yU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCIzXCIsXG4gIG5hbWU6IFwiZXJyb3JcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJlcnJvclwiIHBhcnRzIGV4cGVjdCBhIHN0cmluZyB2YWx1ZS4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIGFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjRcIixcbiAgbmFtZTogXCJhc3Npc3RhbnRfbWVzc2FnZVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJpZFwiIGluIHZhbHVlKSB8fCAhKFwicm9sZVwiIGluIHZhbHVlKSB8fCAhKFwiY29udGVudFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuaWQgIT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlLnJvbGUgIT09IFwic3RyaW5nXCIgfHwgdmFsdWUucm9sZSAhPT0gXCJhc3Npc3RhbnRcIiB8fCAhQXJyYXkuaXNBcnJheSh2YWx1ZS5jb250ZW50KSB8fCAhdmFsdWUuY29udGVudC5ldmVyeShcbiAgICAgIChpdGVtKSA9PiBpdGVtICE9IG51bGwgJiYgdHlwZW9mIGl0ZW0gPT09IFwib2JqZWN0XCIgJiYgXCJ0eXBlXCIgaW4gaXRlbSAmJiBpdGVtLnR5cGUgPT09IFwidGV4dFwiICYmIFwidGV4dFwiIGluIGl0ZW0gJiYgaXRlbS50ZXh0ICE9IG51bGwgJiYgdHlwZW9mIGl0ZW0udGV4dCA9PT0gXCJvYmplY3RcIiAmJiBcInZhbHVlXCIgaW4gaXRlbS50ZXh0ICYmIHR5cGVvZiBpdGVtLnRleHQudmFsdWUgPT09IFwic3RyaW5nXCJcbiAgICApKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImFzc2lzdGFudF9tZXNzYWdlXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGFuIFwiaWRcIiwgXCJyb2xlXCIsIGFuZCBcImNvbnRlbnRcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJhc3Npc3RhbnRfbWVzc2FnZVwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCI1XCIsXG4gIG5hbWU6IFwiYXNzaXN0YW50X2NvbnRyb2xfZGF0YVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJ0aHJlYWRJZFwiIGluIHZhbHVlKSB8fCAhKFwibWVzc2FnZUlkXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50aHJlYWRJZCAhPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsdWUubWVzc2FnZUlkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImFzc2lzdGFudF9jb250cm9sX2RhdGFcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInRocmVhZElkXCIgYW5kIFwibWVzc2FnZUlkXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiYXNzaXN0YW50X2NvbnRyb2xfZGF0YVwiLFxuICAgICAgdmFsdWU6IHtcbiAgICAgICAgdGhyZWFkSWQ6IHZhbHVlLnRocmVhZElkLFxuICAgICAgICBtZXNzYWdlSWQ6IHZhbHVlLm1lc3NhZ2VJZFxuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG52YXIgZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjZcIixcbiAgbmFtZTogXCJkYXRhX21lc3NhZ2VcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwicm9sZVwiIGluIHZhbHVlKSB8fCAhKFwiZGF0YVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUucm9sZSAhPT0gXCJzdHJpbmdcIiB8fCB2YWx1ZS5yb2xlICE9PSBcImRhdGFcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJkYXRhX21lc3NhZ2VcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInJvbGVcIiBhbmQgXCJkYXRhXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZGF0YV9tZXNzYWdlXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgYXNzaXN0YW50U3RyZWFtUGFydHMgPSBbXG4gIHRleHRTdHJlYW1QYXJ0LFxuICBlcnJvclN0cmVhbVBhcnQsXG4gIGFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0LFxuICBhc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQsXG4gIGRhdGFNZXNzYWdlU3RyZWFtUGFydFxuXTtcbnZhciBhc3Npc3RhbnRTdHJlYW1QYXJ0c0J5Q29kZSA9IHtcbiAgW3RleHRTdHJlYW1QYXJ0LmNvZGVdOiB0ZXh0U3RyZWFtUGFydCxcbiAgW2Vycm9yU3RyZWFtUGFydC5jb2RlXTogZXJyb3JTdHJlYW1QYXJ0LFxuICBbYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQuY29kZV06IGFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0LFxuICBbYXNzaXN0YW50Q29udHJvbERhdGFTdHJlYW1QYXJ0LmNvZGVdOiBhc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQsXG4gIFtkYXRhTWVzc2FnZVN0cmVhbVBhcnQuY29kZV06IGRhdGFNZXNzYWdlU3RyZWFtUGFydFxufTtcbnZhciBTdHJlYW1TdHJpbmdQcmVmaXhlcyA9IHtcbiAgW3RleHRTdHJlYW1QYXJ0Lm5hbWVdOiB0ZXh0U3RyZWFtUGFydC5jb2RlLFxuICBbZXJyb3JTdHJlYW1QYXJ0Lm5hbWVdOiBlcnJvclN0cmVhbVBhcnQuY29kZSxcbiAgW2Fzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0Lm5hbWVdOiBhc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydC5jb2RlLFxuICBbYXNzaXN0YW50Q29udHJvbERhdGFTdHJlYW1QYXJ0Lm5hbWVdOiBhc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQuY29kZSxcbiAgW2RhdGFNZXNzYWdlU3RyZWFtUGFydC5uYW1lXTogZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0LmNvZGVcbn07XG52YXIgdmFsaWRDb2RlcyA9IGFzc2lzdGFudFN0cmVhbVBhcnRzLm1hcCgocGFydCkgPT4gcGFydC5jb2RlKTtcbnZhciBwYXJzZUFzc2lzdGFudFN0cmVhbVBhcnQgPSAobGluZSkgPT4ge1xuICBjb25zdCBmaXJzdFNlcGFyYXRvckluZGV4ID0gbGluZS5pbmRleE9mKFwiOlwiKTtcbiAgaWYgKGZpcnN0U2VwYXJhdG9ySW5kZXggPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHN0cmVhbSBzdHJpbmcuIE5vIHNlcGFyYXRvciBmb3VuZC5cIik7XG4gIH1cbiAgY29uc3QgcHJlZml4ID0gbGluZS5zbGljZSgwLCBmaXJzdFNlcGFyYXRvckluZGV4KTtcbiAgaWYgKCF2YWxpZENvZGVzLmluY2x1ZGVzKHByZWZpeCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSBzdHJlYW0gc3RyaW5nLiBJbnZhbGlkIGNvZGUgJHtwcmVmaXh9LmApO1xuICB9XG4gIGNvbnN0IGNvZGUgPSBwcmVmaXg7XG4gIGNvbnN0IHRleHRWYWx1ZSA9IGxpbmUuc2xpY2UoZmlyc3RTZXBhcmF0b3JJbmRleCArIDEpO1xuICBjb25zdCBqc29uVmFsdWUgPSBKU09OLnBhcnNlKHRleHRWYWx1ZSk7XG4gIHJldHVybiBhc3Npc3RhbnRTdHJlYW1QYXJ0c0J5Q29kZVtjb2RlXS5wYXJzZShqc29uVmFsdWUpO1xufTtcbmZ1bmN0aW9uIGZvcm1hdEFzc2lzdGFudFN0cmVhbVBhcnQodHlwZSwgdmFsdWUpIHtcbiAgY29uc3Qgc3RyZWFtUGFydCA9IGFzc2lzdGFudFN0cmVhbVBhcnRzLmZpbmQoKHBhcnQpID0+IHBhcnQubmFtZSA9PT0gdHlwZSk7XG4gIGlmICghc3RyZWFtUGFydCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzdHJlYW0gcGFydCB0eXBlOiAke3R5cGV9YCk7XG4gIH1cbiAgcmV0dXJuIGAke3N0cmVhbVBhcnQuY29kZX06JHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9XG5gO1xufVxuXG4vLyBzcmMvcHJvY2Vzcy1jaGF0LXJlc3BvbnNlLnRzXG5pbXBvcnQgeyBnZW5lcmF0ZUlkIGFzIGdlbmVyYXRlSWRGdW5jdGlvbiB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5cbi8vIHNyYy9wYXJzZS1wYXJ0aWFsLWpzb24udHNcbmltcG9ydCB7IHNhZmVQYXJzZUpTT04gfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvZml4LWpzb24udHNcbmZ1bmN0aW9uIGZpeEpzb24oaW5wdXQpIHtcbiAgY29uc3Qgc3RhY2sgPSBbXCJST09UXCJdO1xuICBsZXQgbGFzdFZhbGlkSW5kZXggPSAtMTtcbiAgbGV0IGxpdGVyYWxTdGFydCA9IG51bGw7XG4gIGZ1bmN0aW9uIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIHN3YXBTdGF0ZSkge1xuICAgIHtcbiAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmXCI6XG4gICAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICAgIGNhc2UgXCJuXCI6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgbGl0ZXJhbFN0YXJ0ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9MSVRFUkFMXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCItXCI6IHtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgY2FzZSBcIjVcIjpcbiAgICAgICAgY2FzZSBcIjZcIjpcbiAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgY2FzZSBcIjhcIjpcbiAgICAgICAgY2FzZSBcIjlcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIntcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfU1RBUlRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIltcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9TVEFSVFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKSB7XG4gICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICBjYXNlIFwiLFwiOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwifVwiOiB7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXIsIGkpIHtcbiAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIl1cIjoge1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBpbnB1dFtpXTtcbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICBzd2l0Y2ggKGN1cnJlbnRTdGF0ZSkge1xuICAgICAgY2FzZSBcIlJPT1RcIjpcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJGSU5JU0hcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfU1RBUlRcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJ9XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfS0VZXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCI6XCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJcXFxcXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HX0VTQ0FQRVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9TVEFSVFwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiXVwiOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdfRVNDQVBFXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX05VTUJFUlwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgIGNhc2UgXCI2XCI6XG4gICAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgICBjYXNlIFwiOFwiOlxuICAgICAgICAgIGNhc2UgXCI5XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiZVwiOlxuICAgICAgICAgIGNhc2UgXCJFXCI6XG4gICAgICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgICBjYXNlIFwiLlwiOiB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIixcIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIn1cIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0xJVEVSQUxcIjoge1xuICAgICAgICBjb25zdCBwYXJ0aWFsTGl0ZXJhbCA9IGlucHV0LnN1YnN0cmluZyhsaXRlcmFsU3RhcnQsIGkgKyAxKTtcbiAgICAgICAgaWYgKCFcImZhbHNlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkgJiYgIVwidHJ1ZVwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpICYmICFcIm51bGxcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IHJlc3VsdCA9IGlucHV0LnNsaWNlKDAsIGxhc3RWYWxpZEluZGV4ICsgMSk7XG4gIGZvciAobGV0IGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHN0YXRlID0gc3RhY2tbaV07XG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdcIjoge1xuICAgICAgICByZXN1bHQgKz0gJ1wiJztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9LRVlcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOlxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX1NUQVJUXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUVcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcmVzdWx0ICs9IFwifVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfU1RBUlRcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIjoge1xuICAgICAgICByZXN1bHQgKz0gXCJdXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9MSVRFUkFMXCI6IHtcbiAgICAgICAgY29uc3QgcGFydGlhbExpdGVyYWwgPSBpbnB1dC5zdWJzdHJpbmcobGl0ZXJhbFN0YXJ0LCBpbnB1dC5sZW5ndGgpO1xuICAgICAgICBpZiAoXCJ0cnVlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJ0cnVlXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIGlmIChcImZhbHNlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJmYWxzZVwiLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJudWxsXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJudWxsXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBzcmMvcGFyc2UtcGFydGlhbC1qc29uLnRzXG5mdW5jdGlvbiBwYXJzZVBhcnRpYWxKc29uKGpzb25UZXh0KSB7XG4gIGlmIChqc29uVGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHZvaWQgMCwgc3RhdGU6IFwidW5kZWZpbmVkLWlucHV0XCIgfTtcbiAgfVxuICBsZXQgcmVzdWx0ID0gc2FmZVBhcnNlSlNPTih7IHRleHQ6IGpzb25UZXh0IH0pO1xuICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LnZhbHVlLCBzdGF0ZTogXCJzdWNjZXNzZnVsLXBhcnNlXCIgfTtcbiAgfVxuICByZXN1bHQgPSBzYWZlUGFyc2VKU09OKHsgdGV4dDogZml4SnNvbihqc29uVGV4dCkgfSk7XG4gIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHZhbHVlOiByZXN1bHQudmFsdWUsIHN0YXRlOiBcInJlcGFpcmVkLXBhcnNlXCIgfTtcbiAgfVxuICByZXR1cm4geyB2YWx1ZTogdm9pZCAwLCBzdGF0ZTogXCJmYWlsZWQtcGFyc2VcIiB9O1xufVxuXG4vLyBzcmMvZGF0YS1zdHJlYW0tcGFydHMudHNcbnZhciB0ZXh0U3RyZWFtUGFydDIgPSB7XG4gIGNvZGU6IFwiMFwiLFxuICBuYW1lOiBcInRleHRcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJ0ZXh0XCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcInRleHRcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBkYXRhU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCIyXCIsXG4gIG5hbWU6IFwiZGF0YVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImRhdGFcIiBwYXJ0cyBleHBlY3QgYW4gYXJyYXkgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwiZGF0YVwiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIGVycm9yU3RyZWFtUGFydDIgPSB7XG4gIGNvZGU6IFwiM1wiLFxuICBuYW1lOiBcImVycm9yXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiZXJyb3JcIiBwYXJ0cyBleHBlY3QgYSBzdHJpbmcgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBtZXNzYWdlQW5ub3RhdGlvbnNTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjhcIixcbiAgbmFtZTogXCJtZXNzYWdlX2Fubm90YXRpb25zXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wibWVzc2FnZV9hbm5vdGF0aW9uc1wiIHBhcnRzIGV4cGVjdCBhbiBhcnJheSB2YWx1ZS4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogXCJtZXNzYWdlX2Fubm90YXRpb25zXCIsIHZhbHVlIH07XG4gIH1cbn07XG52YXIgdG9vbENhbGxTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjlcIixcbiAgbmFtZTogXCJ0b29sX2NhbGxcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbENhbGxJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbENhbGxJZCAhPT0gXCJzdHJpbmdcIiB8fCAhKFwidG9vbE5hbWVcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xOYW1lICE9PSBcInN0cmluZ1wiIHx8ICEoXCJhcmdzXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5hcmdzICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfY2FsbFwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidG9vbENhbGxJZFwiLCBcInRvb2xOYW1lXCIsIGFuZCBcImFyZ3NcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX2NhbGxcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciB0b29sUmVzdWx0U3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJhXCIsXG4gIG5hbWU6IFwidG9vbF9yZXN1bHRcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbENhbGxJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbENhbGxJZCAhPT0gXCJzdHJpbmdcIiB8fCAhKFwicmVzdWx0XCIgaW4gdmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfcmVzdWx0XCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0b29sQ2FsbElkXCIgYW5kIGEgXCJyZXN1bHRcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX3Jlc3VsdFwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIHRvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImJcIixcbiAgbmFtZTogXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInRvb2xDYWxsSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xDYWxsSWQgIT09IFwic3RyaW5nXCIgfHwgIShcInRvb2xOYW1lXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sTmFtZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0b29sQ2FsbElkXCIgYW5kIFwidG9vbE5hbWVcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiY1wiLFxuICBuYW1lOiBcInRvb2xfY2FsbF9kZWx0YVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJ0b29sQ2FsbElkXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sQ2FsbElkICE9PSBcInN0cmluZ1wiIHx8ICEoXCJhcmdzVGV4dERlbHRhXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5hcmdzVGV4dERlbHRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfY2FsbF9kZWx0YVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidG9vbENhbGxJZFwiIGFuZCBcImFyZ3NUZXh0RGVsdGFcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX2NhbGxfZGVsdGFcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciBmaW5pc2hNZXNzYWdlU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJkXCIsXG4gIG5hbWU6IFwiZmluaXNoX21lc3NhZ2VcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwiZmluaXNoUmVhc29uXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5maW5pc2hSZWFzb24gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiZmluaXNoX21lc3NhZ2VcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcImZpbmlzaFJlYXNvblwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgIGZpbmlzaFJlYXNvbjogdmFsdWUuZmluaXNoUmVhc29uXG4gICAgfTtcbiAgICBpZiAoXCJ1c2FnZVwiIGluIHZhbHVlICYmIHZhbHVlLnVzYWdlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnVzYWdlID09PSBcIm9iamVjdFwiICYmIFwicHJvbXB0VG9rZW5zXCIgaW4gdmFsdWUudXNhZ2UgJiYgXCJjb21wbGV0aW9uVG9rZW5zXCIgaW4gdmFsdWUudXNhZ2UpIHtcbiAgICAgIHJlc3VsdC51c2FnZSA9IHtcbiAgICAgICAgcHJvbXB0VG9rZW5zOiB0eXBlb2YgdmFsdWUudXNhZ2UucHJvbXB0VG9rZW5zID09PSBcIm51bWJlclwiID8gdmFsdWUudXNhZ2UucHJvbXB0VG9rZW5zIDogTnVtYmVyLk5hTixcbiAgICAgICAgY29tcGxldGlvblRva2VuczogdHlwZW9mIHZhbHVlLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPT09IFwibnVtYmVyXCIgPyB2YWx1ZS51c2FnZS5jb21wbGV0aW9uVG9rZW5zIDogTnVtYmVyLk5hTlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZmluaXNoX21lc3NhZ2VcIixcbiAgICAgIHZhbHVlOiByZXN1bHRcbiAgICB9O1xuICB9XG59O1xudmFyIGZpbmlzaFN0ZXBTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImVcIixcbiAgbmFtZTogXCJmaW5pc2hfc3RlcFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJmaW5pc2hSZWFzb25cIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmZpbmlzaFJlYXNvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJmaW5pc2hfc3RlcFwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwiZmluaXNoUmVhc29uXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgZmluaXNoUmVhc29uOiB2YWx1ZS5maW5pc2hSZWFzb24sXG4gICAgICBpc0NvbnRpbnVlZDogZmFsc2VcbiAgICB9O1xuICAgIGlmIChcInVzYWdlXCIgaW4gdmFsdWUgJiYgdmFsdWUudXNhZ2UgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudXNhZ2UgPT09IFwib2JqZWN0XCIgJiYgXCJwcm9tcHRUb2tlbnNcIiBpbiB2YWx1ZS51c2FnZSAmJiBcImNvbXBsZXRpb25Ub2tlbnNcIiBpbiB2YWx1ZS51c2FnZSkge1xuICAgICAgcmVzdWx0LnVzYWdlID0ge1xuICAgICAgICBwcm9tcHRUb2tlbnM6IHR5cGVvZiB2YWx1ZS51c2FnZS5wcm9tcHRUb2tlbnMgPT09IFwibnVtYmVyXCIgPyB2YWx1ZS51c2FnZS5wcm9tcHRUb2tlbnMgOiBOdW1iZXIuTmFOLFxuICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiB0eXBlb2YgdmFsdWUudXNhZ2UuY29tcGxldGlvblRva2VucyA9PT0gXCJudW1iZXJcIiA/IHZhbHVlLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgOiBOdW1iZXIuTmFOXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoXCJpc0NvbnRpbnVlZFwiIGluIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5pc0NvbnRpbnVlZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHJlc3VsdC5pc0NvbnRpbnVlZCA9IHZhbHVlLmlzQ29udGludWVkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJmaW5pc2hfc3RlcFwiLFxuICAgICAgdmFsdWU6IHJlc3VsdFxuICAgIH07XG4gIH1cbn07XG52YXIgZGF0YVN0cmVhbVBhcnRzID0gW1xuICB0ZXh0U3RyZWFtUGFydDIsXG4gIGRhdGFTdHJlYW1QYXJ0LFxuICBlcnJvclN0cmVhbVBhcnQyLFxuICBtZXNzYWdlQW5ub3RhdGlvbnNTdHJlYW1QYXJ0LFxuICB0b29sQ2FsbFN0cmVhbVBhcnQsXG4gIHRvb2xSZXN1bHRTdHJlYW1QYXJ0LFxuICB0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydCxcbiAgdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQsXG4gIGZpbmlzaE1lc3NhZ2VTdHJlYW1QYXJ0LFxuICBmaW5pc2hTdGVwU3RyZWFtUGFydFxuXTtcbnZhciBkYXRhU3RyZWFtUGFydHNCeUNvZGUgPSB7XG4gIFt0ZXh0U3RyZWFtUGFydDIuY29kZV06IHRleHRTdHJlYW1QYXJ0MixcbiAgW2RhdGFTdHJlYW1QYXJ0LmNvZGVdOiBkYXRhU3RyZWFtUGFydCxcbiAgW2Vycm9yU3RyZWFtUGFydDIuY29kZV06IGVycm9yU3RyZWFtUGFydDIsXG4gIFttZXNzYWdlQW5ub3RhdGlvbnNTdHJlYW1QYXJ0LmNvZGVdOiBtZXNzYWdlQW5ub3RhdGlvbnNTdHJlYW1QYXJ0LFxuICBbdG9vbENhbGxTdHJlYW1QYXJ0LmNvZGVdOiB0b29sQ2FsbFN0cmVhbVBhcnQsXG4gIFt0b29sUmVzdWx0U3RyZWFtUGFydC5jb2RlXTogdG9vbFJlc3VsdFN0cmVhbVBhcnQsXG4gIFt0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydC5jb2RlXTogdG9vbENhbGxTdHJlYW1pbmdTdGFydFN0cmVhbVBhcnQsXG4gIFt0b29sQ2FsbERlbHRhU3RyZWFtUGFydC5jb2RlXTogdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQsXG4gIFtmaW5pc2hNZXNzYWdlU3RyZWFtUGFydC5jb2RlXTogZmluaXNoTWVzc2FnZVN0cmVhbVBhcnQsXG4gIFtmaW5pc2hTdGVwU3RyZWFtUGFydC5jb2RlXTogZmluaXNoU3RlcFN0cmVhbVBhcnRcbn07XG52YXIgRGF0YVN0cmVhbVN0cmluZ1ByZWZpeGVzID0ge1xuICBbdGV4dFN0cmVhbVBhcnQyLm5hbWVdOiB0ZXh0U3RyZWFtUGFydDIuY29kZSxcbiAgW2RhdGFTdHJlYW1QYXJ0Lm5hbWVdOiBkYXRhU3RyZWFtUGFydC5jb2RlLFxuICBbZXJyb3JTdHJlYW1QYXJ0Mi5uYW1lXTogZXJyb3JTdHJlYW1QYXJ0Mi5jb2RlLFxuICBbbWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydC5uYW1lXTogbWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydC5jb2RlLFxuICBbdG9vbENhbGxTdHJlYW1QYXJ0Lm5hbWVdOiB0b29sQ2FsbFN0cmVhbVBhcnQuY29kZSxcbiAgW3Rvb2xSZXN1bHRTdHJlYW1QYXJ0Lm5hbWVdOiB0b29sUmVzdWx0U3RyZWFtUGFydC5jb2RlLFxuICBbdG9vbENhbGxTdHJlYW1pbmdTdGFydFN0cmVhbVBhcnQubmFtZV06IHRvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0LmNvZGUsXG4gIFt0b29sQ2FsbERlbHRhU3RyZWFtUGFydC5uYW1lXTogdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQuY29kZSxcbiAgW2ZpbmlzaE1lc3NhZ2VTdHJlYW1QYXJ0Lm5hbWVdOiBmaW5pc2hNZXNzYWdlU3RyZWFtUGFydC5jb2RlLFxuICBbZmluaXNoU3RlcFN0cmVhbVBhcnQubmFtZV06IGZpbmlzaFN0ZXBTdHJlYW1QYXJ0LmNvZGVcbn07XG52YXIgdmFsaWRDb2RlczIgPSBkYXRhU3RyZWFtUGFydHMubWFwKChwYXJ0KSA9PiBwYXJ0LmNvZGUpO1xudmFyIHBhcnNlRGF0YVN0cmVhbVBhcnQgPSAobGluZSkgPT4ge1xuICBjb25zdCBmaXJzdFNlcGFyYXRvckluZGV4ID0gbGluZS5pbmRleE9mKFwiOlwiKTtcbiAgaWYgKGZpcnN0U2VwYXJhdG9ySW5kZXggPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHN0cmVhbSBzdHJpbmcuIE5vIHNlcGFyYXRvciBmb3VuZC5cIik7XG4gIH1cbiAgY29uc3QgcHJlZml4ID0gbGluZS5zbGljZSgwLCBmaXJzdFNlcGFyYXRvckluZGV4KTtcbiAgaWYgKCF2YWxpZENvZGVzMi5pbmNsdWRlcyhwcmVmaXgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2Ugc3RyZWFtIHN0cmluZy4gSW52YWxpZCBjb2RlICR7cHJlZml4fS5gKTtcbiAgfVxuICBjb25zdCBjb2RlID0gcHJlZml4O1xuICBjb25zdCB0ZXh0VmFsdWUgPSBsaW5lLnNsaWNlKGZpcnN0U2VwYXJhdG9ySW5kZXggKyAxKTtcbiAgY29uc3QganNvblZhbHVlID0gSlNPTi5wYXJzZSh0ZXh0VmFsdWUpO1xuICByZXR1cm4gZGF0YVN0cmVhbVBhcnRzQnlDb2RlW2NvZGVdLnBhcnNlKGpzb25WYWx1ZSk7XG59O1xuZnVuY3Rpb24gZm9ybWF0RGF0YVN0cmVhbVBhcnQodHlwZSwgdmFsdWUpIHtcbiAgY29uc3Qgc3RyZWFtUGFydCA9IGRhdGFTdHJlYW1QYXJ0cy5maW5kKChwYXJ0KSA9PiBwYXJ0Lm5hbWUgPT09IHR5cGUpO1xuICBpZiAoIXN0cmVhbVBhcnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc3RyZWFtIHBhcnQgdHlwZTogJHt0eXBlfWApO1xuICB9XG4gIHJldHVybiBgJHtzdHJlYW1QYXJ0LmNvZGV9OiR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfVxuYDtcbn1cblxuLy8gc3JjL3Byb2Nlc3MtZGF0YS1zdHJlYW0udHNcbnZhciBORVdMSU5FID0gXCJcXG5cIi5jaGFyQ29kZUF0KDApO1xuZnVuY3Rpb24gY29uY2F0Q2h1bmtzKGNodW5rcywgdG90YWxMZW5ndGgpIHtcbiAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxMZW5ndGgpO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgZm9yIChjb25zdCBjaHVuayBvZiBjaHVua3MpIHtcbiAgICBjb25jYXRlbmF0ZWRDaHVua3Muc2V0KGNodW5rLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSBjaHVuay5sZW5ndGg7XG4gIH1cbiAgY2h1bmtzLmxlbmd0aCA9IDA7XG4gIHJldHVybiBjb25jYXRlbmF0ZWRDaHVua3M7XG59XG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzRGF0YVN0cmVhbSh7XG4gIHN0cmVhbSxcbiAgb25UZXh0UGFydCxcbiAgb25EYXRhUGFydCxcbiAgb25FcnJvclBhcnQsXG4gIG9uVG9vbENhbGxTdHJlYW1pbmdTdGFydFBhcnQsXG4gIG9uVG9vbENhbGxEZWx0YVBhcnQsXG4gIG9uVG9vbENhbGxQYXJ0LFxuICBvblRvb2xSZXN1bHRQYXJ0LFxuICBvbk1lc3NhZ2VBbm5vdGF0aW9uc1BhcnQsXG4gIG9uRmluaXNoTWVzc2FnZVBhcnQsXG4gIG9uRmluaXNoU3RlcFBhcnRcbn0pIHtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gIGNvbnN0IGNodW5rcyA9IFtdO1xuICBsZXQgdG90YWxMZW5ndGggPSAwO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBjaHVua3MucHVzaCh2YWx1ZSk7XG4gICAgICB0b3RhbExlbmd0aCArPSB2YWx1ZS5sZW5ndGg7XG4gICAgICBpZiAodmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0gIT09IE5FV0xJTkUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjaHVua3MubGVuZ3RoID09PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gY29uY2F0Q2h1bmtzKGNodW5rcywgdG90YWxMZW5ndGgpO1xuICAgIHRvdGFsTGVuZ3RoID0gMDtcbiAgICBjb25zdCBzdHJlYW1QYXJ0cyA9IGRlY29kZXIuZGVjb2RlKGNvbmNhdGVuYXRlZENodW5rcywgeyBzdHJlYW06IHRydWUgfSkuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChsaW5lKSA9PiBsaW5lICE9PSBcIlwiKS5tYXAocGFyc2VEYXRhU3RyZWFtUGFydCk7XG4gICAgZm9yIChjb25zdCB7IHR5cGUsIHZhbHVlOiB2YWx1ZTIgfSBvZiBzdHJlYW1QYXJ0cykge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgYXdhaXQgKG9uVGV4dFBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVGV4dFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkYXRhXCI6XG4gICAgICAgICAgYXdhaXQgKG9uRGF0YVBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRGF0YVBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgIGF3YWl0IChvbkVycm9yUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25FcnJvclBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlX2Fubm90YXRpb25zXCI6XG4gICAgICAgICAgYXdhaXQgKG9uTWVzc2FnZUFubm90YXRpb25zUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25NZXNzYWdlQW5ub3RhdGlvbnNQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidG9vbF9jYWxsX3N0cmVhbWluZ19zdGFydFwiOlxuICAgICAgICAgIGF3YWl0IChvblRvb2xDYWxsU3RyZWFtaW5nU3RhcnRQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblRvb2xDYWxsU3RyZWFtaW5nU3RhcnRQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidG9vbF9jYWxsX2RlbHRhXCI6XG4gICAgICAgICAgYXdhaXQgKG9uVG9vbENhbGxEZWx0YVBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVG9vbENhbGxEZWx0YVBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b29sX2NhbGxcIjpcbiAgICAgICAgICBhd2FpdCAob25Ub29sQ2FsbFBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVG9vbENhbGxQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidG9vbF9yZXN1bHRcIjpcbiAgICAgICAgICBhd2FpdCAob25Ub29sUmVzdWx0UGFydCA9PSBudWxsID8gdm9pZCAwIDogb25Ub29sUmVzdWx0UGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZpbmlzaF9tZXNzYWdlXCI6XG4gICAgICAgICAgYXdhaXQgKG9uRmluaXNoTWVzc2FnZVBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmluaXNoTWVzc2FnZVBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJmaW5pc2hfc3RlcFwiOlxuICAgICAgICAgIGF3YWl0IChvbkZpbmlzaFN0ZXBQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkZpbmlzaFN0ZXBQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrID0gdHlwZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc3RyZWFtIHBhcnQgdHlwZTogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL2R1cGxpY2F0ZWQvdXNhZ2UudHNcbmZ1bmN0aW9uIGNhbGN1bGF0ZUxhbmd1YWdlTW9kZWxVc2FnZSh7XG4gIHByb21wdFRva2VucyxcbiAgY29tcGxldGlvblRva2Vuc1xufSkge1xuICByZXR1cm4ge1xuICAgIHByb21wdFRva2VucyxcbiAgICBjb21wbGV0aW9uVG9rZW5zLFxuICAgIHRvdGFsVG9rZW5zOiBwcm9tcHRUb2tlbnMgKyBjb21wbGV0aW9uVG9rZW5zXG4gIH07XG59XG5cbi8vIHNyYy9wcm9jZXNzLWNoYXQtcmVzcG9uc2UudHNcbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NDaGF0UmVzcG9uc2Uoe1xuICBzdHJlYW0sXG4gIHVwZGF0ZSxcbiAgb25Ub29sQ2FsbCxcbiAgb25GaW5pc2gsXG4gIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQyID0gZ2VuZXJhdGVJZEZ1bmN0aW9uLFxuICBnZXRDdXJyZW50RGF0ZSA9ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpXG59KSB7XG4gIGNvbnN0IGNyZWF0ZWRBdCA9IGdldEN1cnJlbnREYXRlKCk7XG4gIGxldCBjdXJyZW50TWVzc2FnZSA9IHZvaWQgMDtcbiAgbGV0IGNyZWF0ZU5ld01lc3NhZ2UgPSB0cnVlO1xuICBjb25zdCBwcmV2aW91c01lc3NhZ2VzID0gW107XG4gIGNvbnN0IGRhdGEgPSBbXTtcbiAgbGV0IG1lc3NhZ2VBbm5vdGF0aW9ucyA9IHZvaWQgMDtcbiAgY29uc3QgcGFydGlhbFRvb2xDYWxscyA9IHt9O1xuICBsZXQgdXNhZ2UgPSB7XG4gICAgY29tcGxldGlvblRva2VuczogTmFOLFxuICAgIHByb21wdFRva2VuczogTmFOLFxuICAgIHRvdGFsVG9rZW5zOiBOYU5cbiAgfTtcbiAgbGV0IGZpbmlzaFJlYXNvbiA9IFwidW5rbm93blwiO1xuICBmdW5jdGlvbiBleGVjVXBkYXRlKCkge1xuICAgIGNvbnN0IGNvcGllZERhdGEgPSBbLi4uZGF0YV07XG4gICAgaWYgKGN1cnJlbnRNZXNzYWdlID09IG51bGwpIHtcbiAgICAgIHVwZGF0ZShwcmV2aW91c01lc3NhZ2VzLCBjb3BpZWREYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2VBbm5vdGF0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogbWVzc2FnZUFubm90YXRpb25zLmxlbmd0aCkge1xuICAgICAgY3VycmVudE1lc3NhZ2UuYW5ub3RhdGlvbnMgPSBtZXNzYWdlQW5ub3RhdGlvbnM7XG4gICAgfVxuICAgIGNvbnN0IGNvcGllZE1lc3NhZ2UgPSB7XG4gICAgICAvLyBkZWVwIGNvcHkgdGhlIG1lc3NhZ2UgdG8gZW5zdXJlIHRoYXQgZGVlcCBjaGFuZ2VzIChtc2cgYXR0YWNobWVudHMpIGFyZSB1cGRhdGVkXG4gICAgICAvLyB3aXRoIFNvbGlkSlMuIFNvbGlkSlMgdXNlcyByZWZlcmVudGlhbCBpbnRlZ3JhdGlvbiBvZiBzdWItb2JqZWN0cyB0byBkZXRlY3QgY2hhbmdlcy5cbiAgICAgIC4uLkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3VycmVudE1lc3NhZ2UpKSxcbiAgICAgIC8vIGFkZCBhIHJldmlzaW9uIGlkIHRvIGVuc3VyZSB0aGF0IHRoZSBtZXNzYWdlIGlzIHVwZGF0ZWQgd2l0aCBTV1IuIFNXUiB1c2VzIGFcbiAgICAgIC8vIGhhc2hpbmcgYXBwcm9hY2ggYnkgZGVmYXVsdCB0byBkZXRlY3QgY2hhbmdlcywgYnV0IGl0IG9ubHkgd29ya3MgZm9yIHNoYWxsb3dcbiAgICAgIC8vIGNoYW5nZXMuIFRoaXMgaXMgd2h5IHdlIG5lZWQgdG8gYWRkIGEgcmV2aXNpb24gaWQgdG8gZW5zdXJlIHRoYXQgdGhlIG1lc3NhZ2VcbiAgICAgIC8vIGlzIHVwZGF0ZWQgd2l0aCBTV1IgKHdpdGhvdXQgaXQsIHRoZSBjaGFuZ2VzIGdldCBzdHVjayBpbiBTV1IgYW5kIGFyZSBub3RcbiAgICAgIC8vIGZvcndhcmRlZCB0byByZW5kZXJpbmcpOlxuICAgICAgcmV2aXNpb25JZDogZ2VuZXJhdGVJZDIoKSxcbiAgICAgIC8vIEZpbGwgaW4gY3JlYXRlZEF0IHRvIHJldGFpbiBEYXRlIG9iamVjdCAobG9zdCBpbiBKU09OLnBhcnNlKTpcbiAgICAgIGNyZWF0ZWRBdDogY3VycmVudE1lc3NhZ2UuY3JlYXRlZEF0XG4gICAgfTtcbiAgICB1cGRhdGUoWy4uLnByZXZpb3VzTWVzc2FnZXMsIGNvcGllZE1lc3NhZ2VdLCBjb3BpZWREYXRhKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRNZXNzYWdlKCkge1xuICAgIGlmIChjcmVhdGVOZXdNZXNzYWdlIHx8IGN1cnJlbnRNZXNzYWdlID09IG51bGwpIHtcbiAgICAgIGlmIChjdXJyZW50TWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICAgIHByZXZpb3VzTWVzc2FnZXMucHVzaChjdXJyZW50TWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBjcmVhdGVOZXdNZXNzYWdlID0gZmFsc2U7XG4gICAgICBjdXJyZW50TWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IGdlbmVyYXRlSWQyKCksXG4gICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgIGNvbnRlbnQ6IFwiXCIsXG4gICAgICAgIGNyZWF0ZWRBdFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRNZXNzYWdlO1xuICB9XG4gIGF3YWl0IHByb2Nlc3NEYXRhU3RyZWFtKHtcbiAgICBzdHJlYW0sXG4gICAgb25UZXh0UGFydCh2YWx1ZSkge1xuICAgICAgY29uc3QgYWN0aXZlTWVzc2FnZSA9IGdldE1lc3NhZ2UoKTtcbiAgICAgIGN1cnJlbnRNZXNzYWdlID0ge1xuICAgICAgICAuLi5hY3RpdmVNZXNzYWdlLFxuICAgICAgICBjb250ZW50OiBhY3RpdmVNZXNzYWdlLmNvbnRlbnQgKyB2YWx1ZVxuICAgICAgfTtcbiAgICAgIGV4ZWNVcGRhdGUoKTtcbiAgICB9LFxuICAgIG9uVG9vbENhbGxTdHJlYW1pbmdTdGFydFBhcnQodmFsdWUpIHtcbiAgICAgIGNvbnN0IGFjdGl2ZU1lc3NhZ2UgPSBnZXRNZXNzYWdlKCk7XG4gICAgICBpZiAoYWN0aXZlTWVzc2FnZS50b29sSW52b2NhdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBhY3RpdmVNZXNzYWdlLnRvb2xJbnZvY2F0aW9ucyA9IFtdO1xuICAgICAgfVxuICAgICAgcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXSA9IHtcbiAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgdG9vbE5hbWU6IHZhbHVlLnRvb2xOYW1lLFxuICAgICAgICBpbmRleDogYWN0aXZlTWVzc2FnZS50b29sSW52b2NhdGlvbnMubGVuZ3RoXG4gICAgICB9O1xuICAgICAgYWN0aXZlTWVzc2FnZS50b29sSW52b2NhdGlvbnMucHVzaCh7XG4gICAgICAgIHN0YXRlOiBcInBhcnRpYWwtY2FsbFwiLFxuICAgICAgICB0b29sQ2FsbElkOiB2YWx1ZS50b29sQ2FsbElkLFxuICAgICAgICB0b29sTmFtZTogdmFsdWUudG9vbE5hbWUsXG4gICAgICAgIGFyZ3M6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBvblRvb2xDYWxsRGVsdGFQYXJ0KHZhbHVlKSB7XG4gICAgICBjb25zdCBhY3RpdmVNZXNzYWdlID0gZ2V0TWVzc2FnZSgpO1xuICAgICAgY29uc3QgcGFydGlhbFRvb2xDYWxsID0gcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXTtcbiAgICAgIHBhcnRpYWxUb29sQ2FsbC50ZXh0ICs9IHZhbHVlLmFyZ3NUZXh0RGVsdGE7XG4gICAgICBjb25zdCB7IHZhbHVlOiBwYXJ0aWFsQXJncyB9ID0gcGFyc2VQYXJ0aWFsSnNvbihwYXJ0aWFsVG9vbENhbGwudGV4dCk7XG4gICAgICBhY3RpdmVNZXNzYWdlLnRvb2xJbnZvY2F0aW9uc1twYXJ0aWFsVG9vbENhbGwuaW5kZXhdID0ge1xuICAgICAgICBzdGF0ZTogXCJwYXJ0aWFsLWNhbGxcIixcbiAgICAgICAgdG9vbENhbGxJZDogdmFsdWUudG9vbENhbGxJZCxcbiAgICAgICAgdG9vbE5hbWU6IHBhcnRpYWxUb29sQ2FsbC50b29sTmFtZSxcbiAgICAgICAgYXJnczogcGFydGlhbEFyZ3NcbiAgICAgIH07XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBhc3luYyBvblRvb2xDYWxsUGFydCh2YWx1ZSkge1xuICAgICAgY29uc3QgYWN0aXZlTWVzc2FnZSA9IGdldE1lc3NhZ2UoKTtcbiAgICAgIGlmIChwYXJ0aWFsVG9vbENhbGxzW3ZhbHVlLnRvb2xDYWxsSWRdICE9IG51bGwpIHtcbiAgICAgICAgYWN0aXZlTWVzc2FnZS50b29sSW52b2NhdGlvbnNbcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXS5pbmRleF0gPSB7IHN0YXRlOiBcImNhbGxcIiwgLi4udmFsdWUgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhY3RpdmVNZXNzYWdlLnRvb2xJbnZvY2F0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgICAgYWN0aXZlTWVzc2FnZS50b29sSW52b2NhdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVNZXNzYWdlLnRvb2xJbnZvY2F0aW9ucy5wdXNoKHtcbiAgICAgICAgICBzdGF0ZTogXCJjYWxsXCIsXG4gICAgICAgICAgLi4udmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAob25Ub29sQ2FsbCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvblRvb2xDYWxsKHsgdG9vbENhbGw6IHZhbHVlIH0pO1xuICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICBhY3RpdmVNZXNzYWdlLnRvb2xJbnZvY2F0aW9uc1thY3RpdmVNZXNzYWdlLnRvb2xJbnZvY2F0aW9ucy5sZW5ndGggLSAxXSA9IHsgc3RhdGU6IFwicmVzdWx0XCIsIC4uLnZhbHVlLCByZXN1bHQgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25Ub29sUmVzdWx0UGFydCh2YWx1ZSkge1xuICAgICAgY29uc3QgYWN0aXZlTWVzc2FnZSA9IGdldE1lc3NhZ2UoKTtcbiAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9ucyA9IGFjdGl2ZU1lc3NhZ2UudG9vbEludm9jYXRpb25zO1xuICAgICAgaWYgKHRvb2xJbnZvY2F0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInRvb2xfcmVzdWx0IG11c3QgYmUgcHJlY2VkZWQgYnkgYSB0b29sX2NhbGxcIik7XG4gICAgICB9XG4gICAgICBjb25zdCB0b29sSW52b2NhdGlvbkluZGV4ID0gdG9vbEludm9jYXRpb25zLmZpbmRJbmRleChcbiAgICAgICAgKGludm9jYXRpb24pID0+IGludm9jYXRpb24udG9vbENhbGxJZCA9PT0gdmFsdWUudG9vbENhbGxJZFxuICAgICAgKTtcbiAgICAgIGlmICh0b29sSW52b2NhdGlvbkluZGV4ID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJ0b29sX3Jlc3VsdCBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgdG9vbF9jYWxsIHdpdGggdGhlIHNhbWUgdG9vbENhbGxJZFwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0b29sSW52b2NhdGlvbnNbdG9vbEludm9jYXRpb25JbmRleF0gPSB7XG4gICAgICAgIC4uLnRvb2xJbnZvY2F0aW9uc1t0b29sSW52b2NhdGlvbkluZGV4XSxcbiAgICAgICAgc3RhdGU6IFwicmVzdWx0XCIsXG4gICAgICAgIC4uLnZhbHVlXG4gICAgICB9O1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25EYXRhUGFydCh2YWx1ZSkge1xuICAgICAgZGF0YS5wdXNoKC4uLnZhbHVlKTtcbiAgICAgIGV4ZWNVcGRhdGUoKTtcbiAgICB9LFxuICAgIG9uTWVzc2FnZUFubm90YXRpb25zUGFydCh2YWx1ZSkge1xuICAgICAgaWYgKG1lc3NhZ2VBbm5vdGF0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG1lc3NhZ2VBbm5vdGF0aW9ucyA9IFsuLi52YWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlQW5ub3RhdGlvbnMucHVzaCguLi52YWx1ZSk7XG4gICAgICB9XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBvbkZpbmlzaFN0ZXBQYXJ0KHZhbHVlKSB7XG4gICAgICBjcmVhdGVOZXdNZXNzYWdlID0gIXZhbHVlLmlzQ29udGludWVkO1xuICAgIH0sXG4gICAgb25GaW5pc2hNZXNzYWdlUGFydCh2YWx1ZSkge1xuICAgICAgZmluaXNoUmVhc29uID0gdmFsdWUuZmluaXNoUmVhc29uO1xuICAgICAgaWYgKHZhbHVlLnVzYWdlICE9IG51bGwpIHtcbiAgICAgICAgdXNhZ2UgPSBjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2UodmFsdWUudXNhZ2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25FcnJvclBhcnQoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgfVxuICB9KTtcbiAgb25GaW5pc2ggPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmluaXNoKHsgbWVzc2FnZTogY3VycmVudE1lc3NhZ2UsIGZpbmlzaFJlYXNvbiwgdXNhZ2UgfSk7XG59XG5cbi8vIHNyYy9wcm9jZXNzLXRleHQtc3RyZWFtLnRzXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzVGV4dFN0cmVhbSh7XG4gIHN0cmVhbSxcbiAgb25UZXh0UGFydFxufSkge1xuICBjb25zdCByZWFkZXIgPSBzdHJlYW0ucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpLmdldFJlYWRlcigpO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgaWYgKGRvbmUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBhd2FpdCBvblRleHRQYXJ0KHZhbHVlKTtcbiAgfVxufVxuXG4vLyBzcmMvY2FsbC1jaGF0LWFwaS50c1xudmFyIGdldE9yaWdpbmFsRmV0Y2ggPSAoKSA9PiBmZXRjaDtcbmFzeW5jIGZ1bmN0aW9uIGNhbGxDaGF0QXBpKHtcbiAgYXBpLFxuICBib2R5LFxuICBzdHJlYW1Qcm90b2NvbCA9IFwiZGF0YVwiLFxuICBjcmVkZW50aWFscyxcbiAgaGVhZGVycyxcbiAgYWJvcnRDb250cm9sbGVyLFxuICByZXN0b3JlTWVzc2FnZXNPbkZhaWx1cmUsXG4gIG9uUmVzcG9uc2UsXG4gIG9uVXBkYXRlLFxuICBvbkZpbmlzaCxcbiAgb25Ub29sQ2FsbCxcbiAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDIsXG4gIGZldGNoOiBmZXRjaDIgPSBnZXRPcmlnaW5hbEZldGNoKClcbn0pIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaDIoYXBpLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIC4uLmhlYWRlcnNcbiAgICB9LFxuICAgIHNpZ25hbDogKF9hID0gYWJvcnRDb250cm9sbGVyID09IG51bGwgPyB2b2lkIDAgOiBhYm9ydENvbnRyb2xsZXIoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnNpZ25hbCxcbiAgICBjcmVkZW50aWFsc1xuICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgcmVzdG9yZU1lc3NhZ2VzT25GYWlsdXJlKCk7XG4gICAgdGhyb3cgZXJyO1xuICB9KTtcbiAgaWYgKG9uUmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgb25SZXNwb25zZShyZXNwb25zZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICByZXN0b3JlTWVzc2FnZXNPbkZhaWx1cmUoKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAoX2IgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkpICE9IG51bGwgPyBfYiA6IFwiRmFpbGVkIHRvIGZldGNoIHRoZSBjaGF0IHJlc3BvbnNlLlwiXG4gICAgKTtcbiAgfVxuICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVzcG9uc2UgYm9keSBpcyBlbXB0eS5cIik7XG4gIH1cbiAgc3dpdGNoIChzdHJlYW1Qcm90b2NvbCkge1xuICAgIGNhc2UgXCJ0ZXh0XCI6IHtcbiAgICAgIGNvbnN0IHJlc3VsdE1lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkMigpLFxuICAgICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICBjb250ZW50OiBcIlwiXG4gICAgICB9O1xuICAgICAgYXdhaXQgcHJvY2Vzc1RleHRTdHJlYW0oe1xuICAgICAgICBzdHJlYW06IHJlc3BvbnNlLmJvZHksXG4gICAgICAgIG9uVGV4dFBhcnQ6IChjaHVuaykgPT4ge1xuICAgICAgICAgIHJlc3VsdE1lc3NhZ2UuY29udGVudCArPSBjaHVuaztcbiAgICAgICAgICBvblVwZGF0ZShbeyAuLi5yZXN1bHRNZXNzYWdlIH1dLCBbXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgb25GaW5pc2ggPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmluaXNoKHJlc3VsdE1lc3NhZ2UsIHtcbiAgICAgICAgdXNhZ2U6IHsgY29tcGxldGlvblRva2VuczogTmFOLCBwcm9tcHRUb2tlbnM6IE5hTiwgdG90YWxUb2tlbnM6IE5hTiB9LFxuICAgICAgICBmaW5pc2hSZWFzb246IFwidW5rbm93blwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FzZSBcImRhdGFcIjoge1xuICAgICAgYXdhaXQgcHJvY2Vzc0NoYXRSZXNwb25zZSh7XG4gICAgICAgIHN0cmVhbTogcmVzcG9uc2UuYm9keSxcbiAgICAgICAgdXBkYXRlOiBvblVwZGF0ZSxcbiAgICAgICAgb25Ub29sQ2FsbCxcbiAgICAgICAgb25GaW5pc2goeyBtZXNzYWdlLCBmaW5pc2hSZWFzb24sIHVzYWdlIH0pIHtcbiAgICAgICAgICBpZiAob25GaW5pc2ggJiYgbWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBvbkZpbmlzaChtZXNzYWdlLCB7IHVzYWdlLCBmaW5pc2hSZWFzb24gfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMlxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IHN0cmVhbVByb3RvY29sO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHN0cmVhbSBwcm90b2NvbDogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9jYWxsLWNvbXBsZXRpb24tYXBpLnRzXG52YXIgZ2V0T3JpZ2luYWxGZXRjaDIgPSAoKSA9PiBmZXRjaDtcbmFzeW5jIGZ1bmN0aW9uIGNhbGxDb21wbGV0aW9uQXBpKHtcbiAgYXBpLFxuICBwcm9tcHQsXG4gIGNyZWRlbnRpYWxzLFxuICBoZWFkZXJzLFxuICBib2R5LFxuICBzdHJlYW1Qcm90b2NvbCA9IFwiZGF0YVwiLFxuICBzZXRDb21wbGV0aW9uLFxuICBzZXRMb2FkaW5nLFxuICBzZXRFcnJvcixcbiAgc2V0QWJvcnRDb250cm9sbGVyLFxuICBvblJlc3BvbnNlLFxuICBvbkZpbmlzaCxcbiAgb25FcnJvcixcbiAgb25EYXRhLFxuICBmZXRjaDogZmV0Y2gyID0gZ2V0T3JpZ2luYWxGZXRjaDIoKVxufSkge1xuICB2YXIgX2E7XG4gIHRyeSB7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcih2b2lkIDApO1xuICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBzZXRBYm9ydENvbnRyb2xsZXIoYWJvcnRDb250cm9sbGVyKTtcbiAgICBzZXRDb21wbGV0aW9uKFwiXCIpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gyKGFwaSwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcHJvbXB0LFxuICAgICAgICAuLi5ib2R5XG4gICAgICB9KSxcbiAgICAgIGNyZWRlbnRpYWxzLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgLi4uaGVhZGVyc1xuICAgICAgfSxcbiAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbFxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgICBpZiAob25SZXNwb25zZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgb25SZXNwb25zZShyZXNwb25zZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIChfYSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKSkgIT0gbnVsbCA/IF9hIDogXCJGYWlsZWQgdG8gZmV0Y2ggdGhlIGNoYXQgcmVzcG9uc2UuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHJlc3BvbnNlIGJvZHkgaXMgZW1wdHkuXCIpO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICBzd2l0Y2ggKHN0cmVhbVByb3RvY29sKSB7XG4gICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgIGF3YWl0IHByb2Nlc3NUZXh0U3RyZWFtKHtcbiAgICAgICAgICBzdHJlYW06IHJlc3BvbnNlLmJvZHksXG4gICAgICAgICAgb25UZXh0UGFydDogKGNodW5rKSA9PiB7XG4gICAgICAgICAgICByZXN1bHQgKz0gY2h1bms7XG4gICAgICAgICAgICBzZXRDb21wbGV0aW9uKHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiZGF0YVwiOiB7XG4gICAgICAgIGF3YWl0IHByb2Nlc3NEYXRhU3RyZWFtKHtcbiAgICAgICAgICBzdHJlYW06IHJlc3BvbnNlLmJvZHksXG4gICAgICAgICAgb25UZXh0UGFydCh2YWx1ZSkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHZhbHVlO1xuICAgICAgICAgICAgc2V0Q29tcGxldGlvbihyZXN1bHQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25EYXRhUGFydCh2YWx1ZSkge1xuICAgICAgICAgICAgb25EYXRhID09IG51bGwgPyB2b2lkIDAgOiBvbkRhdGEodmFsdWUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25FcnJvclBhcnQodmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IHN0cmVhbVByb3RvY29sO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc3RyZWFtIHByb3RvY29sOiAke2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9uRmluaXNoKSB7XG4gICAgICBvbkZpbmlzaChwcm9tcHQsIHJlc3VsdCk7XG4gICAgfVxuICAgIHNldEFib3J0Q29udHJvbGxlcihudWxsKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoZXJyLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB7XG4gICAgICBzZXRBYm9ydENvbnRyb2xsZXIobnVsbCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBpZiAob25FcnJvcikge1xuICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIHNldEVycm9yKGVycik7XG4gIH0gZmluYWxseSB7XG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gIH1cbn1cblxuLy8gc3JjL2RhdGEtdXJsLnRzXG5mdW5jdGlvbiBnZXRUZXh0RnJvbURhdGFVcmwoZGF0YVVybCkge1xuICBjb25zdCBbaGVhZGVyLCBiYXNlNjRDb250ZW50XSA9IGRhdGFVcmwuc3BsaXQoXCIsXCIpO1xuICBjb25zdCBtaW1lVHlwZSA9IGhlYWRlci5zcGxpdChcIjtcIilbMF0uc3BsaXQoXCI6XCIpWzFdO1xuICBpZiAobWltZVR5cGUgPT0gbnVsbCB8fCBiYXNlNjRDb250ZW50ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGEgVVJMIGZvcm1hdFwiKTtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cuYXRvYihiYXNlNjRDb250ZW50KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGRlY29kaW5nIGRhdGEgVVJMYCk7XG4gIH1cbn1cblxuLy8gc3JjL2lzLWRlZXAtZXF1YWwtZGF0YS50c1xuZnVuY3Rpb24gaXNEZWVwRXF1YWxEYXRhKG9iajEsIG9iajIpIHtcbiAgaWYgKG9iajEgPT09IG9iajIpXG4gICAgcmV0dXJuIHRydWU7XG4gIGlmIChvYmoxID09IG51bGwgfHwgb2JqMiA9PSBudWxsKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKHR5cGVvZiBvYmoxICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmoyICE9PSBcIm9iamVjdFwiKVxuICAgIHJldHVybiBvYmoxID09PSBvYmoyO1xuICBpZiAob2JqMS5jb25zdHJ1Y3RvciAhPT0gb2JqMi5jb25zdHJ1Y3RvcilcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmIChvYmoxIGluc3RhbmNlb2YgRGF0ZSAmJiBvYmoyIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHJldHVybiBvYmoxLmdldFRpbWUoKSA9PT0gb2JqMi5nZXRUaW1lKCk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqMSkpIHtcbiAgICBpZiAob2JqMS5sZW5ndGggIT09IG9iajIubGVuZ3RoKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqMS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFpc0RlZXBFcXVhbERhdGEob2JqMVtpXSwgb2JqMltpXSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3Qga2V5czEgPSBPYmplY3Qua2V5cyhvYmoxKTtcbiAgY29uc3Qga2V5czIgPSBPYmplY3Qua2V5cyhvYmoyKTtcbiAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5czEpIHtcbiAgICBpZiAoIWtleXMyLmluY2x1ZGVzKGtleSkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFpc0RlZXBFcXVhbERhdGEob2JqMVtrZXldLCBvYmoyW2tleV0pKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBzcmMvcHJlcGFyZS1hdHRhY2htZW50cy1mb3ItcmVxdWVzdC50c1xuYXN5bmMgZnVuY3Rpb24gcHJlcGFyZUF0dGFjaG1lbnRzRm9yUmVxdWVzdChhdHRhY2htZW50c0Zyb21PcHRpb25zKSB7XG4gIGlmICghYXR0YWNobWVudHNGcm9tT3B0aW9ucykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoYXR0YWNobWVudHNGcm9tT3B0aW9ucyBpbnN0YW5jZW9mIEZpbGVMaXN0KSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgQXJyYXkuZnJvbShhdHRhY2htZW50c0Zyb21PcHRpb25zKS5tYXAoYXN5bmMgKGF0dGFjaG1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgeyBuYW1lLCB0eXBlIH0gPSBhdHRhY2htZW50O1xuICAgICAgICBjb25zdCBkYXRhVXJsID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChyZWFkZXJFdmVudCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmVzb2x2ZSgoX2EgPSByZWFkZXJFdmVudC50YXJnZXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZXN1bHQpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoZXJyb3IpID0+IHJlamVjdChlcnJvcik7XG4gICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYXR0YWNobWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgY29udGVudFR5cGU6IHR5cGUsXG4gICAgICAgICAgdXJsOiBkYXRhVXJsXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoYXR0YWNobWVudHNGcm9tT3B0aW9ucykpIHtcbiAgICByZXR1cm4gYXR0YWNobWVudHNGcm9tT3B0aW9ucztcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGF0dGFjaG1lbnRzIHR5cGVcIik7XG59XG5cbi8vIHNyYy9wcm9jZXNzLWFzc2lzdGFudC1zdHJlYW0udHNcbnZhciBORVdMSU5FMiA9IFwiXFxuXCIuY2hhckNvZGVBdCgwKTtcbmZ1bmN0aW9uIGNvbmNhdENodW5rczIoY2h1bmtzLCB0b3RhbExlbmd0aCkge1xuICBjb25zdCBjb25jYXRlbmF0ZWRDaHVua3MgPSBuZXcgVWludDhBcnJheSh0b3RhbExlbmd0aCk7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBmb3IgKGNvbnN0IGNodW5rIG9mIGNodW5rcykge1xuICAgIGNvbmNhdGVuYXRlZENodW5rcy5zZXQoY2h1bmssIG9mZnNldCk7XG4gICAgb2Zmc2V0ICs9IGNodW5rLmxlbmd0aDtcbiAgfVxuICBjaHVua3MubGVuZ3RoID0gMDtcbiAgcmV0dXJuIGNvbmNhdGVuYXRlZENodW5rcztcbn1cbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NBc3Npc3RhbnRTdHJlYW0oe1xuICBzdHJlYW0sXG4gIG9uVGV4dFBhcnQsXG4gIG9uRXJyb3JQYXJ0LFxuICBvbkFzc2lzdGFudE1lc3NhZ2VQYXJ0LFxuICBvbkFzc2lzdGFudENvbnRyb2xEYXRhUGFydCxcbiAgb25EYXRhTWVzc2FnZVBhcnRcbn0pIHtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gIGNvbnN0IGNodW5rcyA9IFtdO1xuICBsZXQgdG90YWxMZW5ndGggPSAwO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBjaHVua3MucHVzaCh2YWx1ZSk7XG4gICAgICB0b3RhbExlbmd0aCArPSB2YWx1ZS5sZW5ndGg7XG4gICAgICBpZiAodmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0gIT09IE5FV0xJTkUyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2h1bmtzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNvbnN0IGNvbmNhdGVuYXRlZENodW5rcyA9IGNvbmNhdENodW5rczIoY2h1bmtzLCB0b3RhbExlbmd0aCk7XG4gICAgdG90YWxMZW5ndGggPSAwO1xuICAgIGNvbnN0IHN0cmVhbVBhcnRzID0gZGVjb2Rlci5kZWNvZGUoY29uY2F0ZW5hdGVkQ2h1bmtzLCB7IHN0cmVhbTogdHJ1ZSB9KS5zcGxpdChcIlxcblwiKS5maWx0ZXIoKGxpbmUpID0+IGxpbmUgIT09IFwiXCIpLm1hcChwYXJzZUFzc2lzdGFudFN0cmVhbVBhcnQpO1xuICAgIGZvciAoY29uc3QgeyB0eXBlLCB2YWx1ZTogdmFsdWUyIH0gb2Ygc3RyZWFtUGFydHMpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgIGF3YWl0IChvblRleHRQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblRleHRQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICBhd2FpdCAob25FcnJvclBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRXJyb3JQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYXNzaXN0YW50X21lc3NhZ2VcIjpcbiAgICAgICAgICBhd2FpdCAob25Bc3Npc3RhbnRNZXNzYWdlUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25Bc3Npc3RhbnRNZXNzYWdlUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFzc2lzdGFudF9jb250cm9sX2RhdGFcIjpcbiAgICAgICAgICBhd2FpdCAob25Bc3Npc3RhbnRDb250cm9sRGF0YVBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQXNzaXN0YW50Q29udHJvbERhdGFQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGF0YV9tZXNzYWdlXCI6XG4gICAgICAgICAgYXdhaXQgKG9uRGF0YU1lc3NhZ2VQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkRhdGFNZXNzYWdlUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IHR5cGU7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHN0cmVhbSBwYXJ0IHR5cGU6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9zY2hlbWEudHNcbmltcG9ydCB7IHZhbGlkYXRvclN5bWJvbCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgem9kVG9Kc29uU2NoZW1hIGZyb20gXCJ6b2QtdG8tanNvbi1zY2hlbWFcIjtcbnZhciBzY2hlbWFTeW1ib2wgPSBTeW1ib2wuZm9yKFwidmVyY2VsLmFpLnNjaGVtYVwiKTtcbmZ1bmN0aW9uIGpzb25TY2hlbWEoanNvblNjaGVtYTIsIHtcbiAgdmFsaWRhdGVcbn0gPSB7fSkge1xuICByZXR1cm4ge1xuICAgIFtzY2hlbWFTeW1ib2xdOiB0cnVlLFxuICAgIF90eXBlOiB2b2lkIDAsXG4gICAgLy8gc2hvdWxkIG5ldmVyIGJlIHVzZWQgZGlyZWN0bHlcbiAgICBbdmFsaWRhdG9yU3ltYm9sXTogdHJ1ZSxcbiAgICBqc29uU2NoZW1hOiBqc29uU2NoZW1hMixcbiAgICB2YWxpZGF0ZVxuICB9O1xufVxuZnVuY3Rpb24gaXNTY2hlbWEodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBzY2hlbWFTeW1ib2wgaW4gdmFsdWUgJiYgdmFsdWVbc2NoZW1hU3ltYm9sXSA9PT0gdHJ1ZSAmJiBcImpzb25TY2hlbWFcIiBpbiB2YWx1ZSAmJiBcInZhbGlkYXRlXCIgaW4gdmFsdWU7XG59XG5mdW5jdGlvbiBhc1NjaGVtYShzY2hlbWEpIHtcbiAgcmV0dXJuIGlzU2NoZW1hKHNjaGVtYSkgPyBzY2hlbWEgOiB6b2RTY2hlbWEoc2NoZW1hKTtcbn1cbmZ1bmN0aW9uIHpvZFNjaGVtYSh6b2RTY2hlbWEyKSB7XG4gIHJldHVybiBqc29uU2NoZW1hKFxuICAgIC8vIHdlIGFzc3VtZSB0aGF0IHpvZFRvSnNvblNjaGVtYSB3aWxsIHJldHVybiBhIHZhbGlkIEpTT05TY2hlbWE3OlxuICAgIHpvZFRvSnNvblNjaGVtYSh6b2RTY2hlbWEyKSxcbiAgICB7XG4gICAgICB2YWxpZGF0ZTogKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHpvZFNjaGVtYTIuc2FmZVBhcnNlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzID8geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogcmVzdWx0LmRhdGEgfSA6IHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiByZXN1bHQuZXJyb3IgfTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5leHBvcnQge1xuICBhc1NjaGVtYSxcbiAgY2FsbENoYXRBcGksXG4gIGNhbGxDb21wbGV0aW9uQXBpLFxuICBmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0LFxuICBmb3JtYXREYXRhU3RyZWFtUGFydCxcbiAgZ2VuZXJhdGVJZCxcbiAgZ2V0VGV4dEZyb21EYXRhVXJsLFxuICBpc0RlZXBFcXVhbERhdGEsXG4gIGpzb25TY2hlbWEsXG4gIHBhcnNlQXNzaXN0YW50U3RyZWFtUGFydCxcbiAgcGFyc2VEYXRhU3RyZWFtUGFydCxcbiAgcGFyc2VQYXJ0aWFsSnNvbixcbiAgcHJlcGFyZUF0dGFjaG1lbnRzRm9yUmVxdWVzdCxcbiAgcHJvY2Vzc0Fzc2lzdGFudFN0cmVhbSxcbiAgcHJvY2Vzc0RhdGFTdHJlYW0sXG4gIHByb2Nlc3NUZXh0U3RyZWFtLFxuICB6b2RTY2hlbWFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIiwiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIFVwZGF0ZXMgdG8gdGhpcyBmaWxlIHNob3VsZCBhbHNvIGJlIHJlcGxpY2F0ZWQgdG8gQG9wZW50ZWxlbWV0cnkvY29yZSB0b28uXG4vKipcbiAqIC0gZ2xvYmFsVGhpcyAoTmV3IHN0YW5kYXJkKVxuICogLSBzZWxmIChXaWxsIHJldHVybiB0aGUgY3VycmVudCB3aW5kb3cgaW5zdGFuY2UgZm9yIHN1cHBvcnRlZCBicm93c2VycylcbiAqIC0gd2luZG93IChmYWxsYmFjayBmb3Igb2xkZXIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbnMpXG4gKiAtIGdsb2JhbCAoTm9kZUpTIGltcGxlbWVudGF0aW9uKVxuICogLSA8b2JqZWN0PiAoV2hlbiBhbGwgZWxzZSBmYWlscylcbiAqL1xuLyoqIG9ubHkgZ2xvYmFscyB0aGF0IGNvbW1vbiB0byBub2RlIGFuZCBicm93c2VycyBhcmUgYWxsb3dlZCAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vZGUvbm8tdW5zdXBwb3J0ZWQtZmVhdHVyZXMvZXMtYnVpbHRpbnMsIG5vLXVuZGVmXG5leHBvcnQgdmFyIF9nbG9iYWxUaGlzID0gdHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnXG4gICAgPyBnbG9iYWxUaGlzXG4gICAgOiB0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCdcbiAgICAgICAgPyBzZWxmXG4gICAgICAgIDogdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgID8gd2luZG93XG4gICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWwgPT09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgICAgICA6IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2xvYmFsVGhpcy5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gdGhpcyBpcyBhdXRvZ2VuZXJhdGVkIGZpbGUsIHNlZSBzY3JpcHRzL3ZlcnNpb24tdXBkYXRlLmpzXG5leHBvcnQgdmFyIFZFUlNJT04gPSAnMS45LjAnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVyc2lvbi5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4uL3ZlcnNpb24nO1xudmFyIHJlID0gL14oXFxkKylcXC4oXFxkKylcXC4oXFxkKykoLSguKykpPyQvO1xuLyoqXG4gKiBDcmVhdGUgYSBmdW5jdGlvbiB0byB0ZXN0IGFuIEFQSSB2ZXJzaW9uIHRvIHNlZSBpZiBpdCBpcyBjb21wYXRpYmxlIHdpdGggdGhlIHByb3ZpZGVkIG93blZlcnNpb24uXG4gKlxuICogVGhlIHJldHVybmVkIGZ1bmN0aW9uIGhhcyB0aGUgZm9sbG93aW5nIHNlbWFudGljczpcbiAqIC0gRXhhY3QgbWF0Y2ggaXMgYWx3YXlzIGNvbXBhdGlibGVcbiAqIC0gTWFqb3IgdmVyc2lvbnMgbXVzdCBtYXRjaCBleGFjdGx5XG4gKiAgICAtIDEueCBwYWNrYWdlIGNhbm5vdCB1c2UgZ2xvYmFsIDIueCBwYWNrYWdlXG4gKiAgICAtIDIueCBwYWNrYWdlIGNhbm5vdCB1c2UgZ2xvYmFsIDEueCBwYWNrYWdlXG4gKiAtIFRoZSBtaW5vciB2ZXJzaW9uIG9mIHRoZSBBUEkgbW9kdWxlIHJlcXVlc3RpbmcgYWNjZXNzIHRvIHRoZSBnbG9iYWwgQVBJIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBtaW5vciB2ZXJzaW9uIG9mIHRoaXMgQVBJXG4gKiAgICAtIDEuMyBwYWNrYWdlIG1heSB1c2UgMS40IGdsb2JhbCBiZWNhdXNlIHRoZSBsYXRlciBnbG9iYWwgY29udGFpbnMgYWxsIGZ1bmN0aW9ucyAxLjMgZXhwZWN0c1xuICogICAgLSAxLjQgcGFja2FnZSBtYXkgTk9UIHVzZSAxLjMgZ2xvYmFsIGJlY2F1c2UgaXQgbWF5IHRyeSB0byBjYWxsIGZ1bmN0aW9ucyB3aGljaCBkb24ndCBleGlzdCBvbiAxLjNcbiAqIC0gSWYgdGhlIG1ham9yIHZlcnNpb24gaXMgMCwgdGhlIG1pbm9yIHZlcnNpb24gaXMgdHJlYXRlZCBhcyB0aGUgbWFqb3IgYW5kIHRoZSBwYXRjaCBpcyB0cmVhdGVkIGFzIHRoZSBtaW5vclxuICogLSBQYXRjaCBhbmQgYnVpbGQgdGFnIGRpZmZlcmVuY2VzIGFyZSBub3QgY29uc2lkZXJlZCBhdCB0aGlzIHRpbWVcbiAqXG4gKiBAcGFyYW0gb3duVmVyc2lvbiB2ZXJzaW9uIHdoaWNoIHNob3VsZCBiZSBjaGVja2VkIGFnYWluc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9tYWtlQ29tcGF0aWJpbGl0eUNoZWNrKG93blZlcnNpb24pIHtcbiAgICB2YXIgYWNjZXB0ZWRWZXJzaW9ucyA9IG5ldyBTZXQoW293blZlcnNpb25dKTtcbiAgICB2YXIgcmVqZWN0ZWRWZXJzaW9ucyA9IG5ldyBTZXQoKTtcbiAgICB2YXIgbXlWZXJzaW9uTWF0Y2ggPSBvd25WZXJzaW9uLm1hdGNoKHJlKTtcbiAgICBpZiAoIW15VmVyc2lvbk1hdGNoKSB7XG4gICAgICAgIC8vIHdlIGNhbm5vdCBndWFyYW50ZWUgY29tcGF0aWJpbGl0eSBzbyB3ZSBhbHdheXMgcmV0dXJuIG5vb3BcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9O1xuICAgIH1cbiAgICB2YXIgb3duVmVyc2lvblBhcnNlZCA9IHtcbiAgICAgICAgbWFqb3I6ICtteVZlcnNpb25NYXRjaFsxXSxcbiAgICAgICAgbWlub3I6ICtteVZlcnNpb25NYXRjaFsyXSxcbiAgICAgICAgcGF0Y2g6ICtteVZlcnNpb25NYXRjaFszXSxcbiAgICAgICAgcHJlcmVsZWFzZTogbXlWZXJzaW9uTWF0Y2hbNF0sXG4gICAgfTtcbiAgICAvLyBpZiBvd25WZXJzaW9uIGhhcyBhIHByZXJlbGVhc2UgdGFnLCB2ZXJzaW9ucyBtdXN0IG1hdGNoIGV4YWN0bHlcbiAgICBpZiAob3duVmVyc2lvblBhcnNlZC5wcmVyZWxlYXNlICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzRXhhY3RtYXRjaChnbG9iYWxWZXJzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsVmVyc2lvbiA9PT0gb3duVmVyc2lvbjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX3JlamVjdCh2KSB7XG4gICAgICAgIHJlamVjdGVkVmVyc2lvbnMuYWRkKHYpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9hY2NlcHQodikge1xuICAgICAgICBhY2NlcHRlZFZlcnNpb25zLmFkZCh2KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBpc0NvbXBhdGlibGUoZ2xvYmFsVmVyc2lvbikge1xuICAgICAgICBpZiAoYWNjZXB0ZWRWZXJzaW9ucy5oYXMoZ2xvYmFsVmVyc2lvbikpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWplY3RlZFZlcnNpb25zLmhhcyhnbG9iYWxWZXJzaW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnbG9iYWxWZXJzaW9uTWF0Y2ggPSBnbG9iYWxWZXJzaW9uLm1hdGNoKHJlKTtcbiAgICAgICAgaWYgKCFnbG9iYWxWZXJzaW9uTWF0Y2gpIHtcbiAgICAgICAgICAgIC8vIGNhbm5vdCBwYXJzZSBvdGhlciB2ZXJzaW9uXG4gICAgICAgICAgICAvLyB3ZSBjYW5ub3QgZ3VhcmFudGVlIGNvbXBhdGliaWxpdHkgc28gd2UgYWx3YXlzIG5vb3BcbiAgICAgICAgICAgIHJldHVybiBfcmVqZWN0KGdsb2JhbFZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnbG9iYWxWZXJzaW9uUGFyc2VkID0ge1xuICAgICAgICAgICAgbWFqb3I6ICtnbG9iYWxWZXJzaW9uTWF0Y2hbMV0sXG4gICAgICAgICAgICBtaW5vcjogK2dsb2JhbFZlcnNpb25NYXRjaFsyXSxcbiAgICAgICAgICAgIHBhdGNoOiArZ2xvYmFsVmVyc2lvbk1hdGNoWzNdLFxuICAgICAgICAgICAgcHJlcmVsZWFzZTogZ2xvYmFsVmVyc2lvbk1hdGNoWzRdLFxuICAgICAgICB9O1xuICAgICAgICAvLyBpZiBnbG9iYWxWZXJzaW9uIGhhcyBhIHByZXJlbGVhc2UgdGFnLCB2ZXJzaW9ucyBtdXN0IG1hdGNoIGV4YWN0bHlcbiAgICAgICAgaWYgKGdsb2JhbFZlcnNpb25QYXJzZWQucHJlcmVsZWFzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gX3JlamVjdChnbG9iYWxWZXJzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWpvciB2ZXJzaW9ucyBtdXN0IG1hdGNoXG4gICAgICAgIGlmIChvd25WZXJzaW9uUGFyc2VkLm1ham9yICE9PSBnbG9iYWxWZXJzaW9uUGFyc2VkLm1ham9yKSB7XG4gICAgICAgICAgICByZXR1cm4gX3JlamVjdChnbG9iYWxWZXJzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3duVmVyc2lvblBhcnNlZC5tYWpvciA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKG93blZlcnNpb25QYXJzZWQubWlub3IgPT09IGdsb2JhbFZlcnNpb25QYXJzZWQubWlub3IgJiZcbiAgICAgICAgICAgICAgICBvd25WZXJzaW9uUGFyc2VkLnBhdGNoIDw9IGdsb2JhbFZlcnNpb25QYXJzZWQucGF0Y2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2FjY2VwdChnbG9iYWxWZXJzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfcmVqZWN0KGdsb2JhbFZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvd25WZXJzaW9uUGFyc2VkLm1pbm9yIDw9IGdsb2JhbFZlcnNpb25QYXJzZWQubWlub3IpIHtcbiAgICAgICAgICAgIHJldHVybiBfYWNjZXB0KGdsb2JhbFZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVqZWN0KGdsb2JhbFZlcnNpb24pO1xuICAgIH07XG59XG4vKipcbiAqIFRlc3QgYW4gQVBJIHZlcnNpb24gdG8gc2VlIGlmIGl0IGlzIGNvbXBhdGlibGUgd2l0aCB0aGlzIEFQSS5cbiAqXG4gKiAtIEV4YWN0IG1hdGNoIGlzIGFsd2F5cyBjb21wYXRpYmxlXG4gKiAtIE1ham9yIHZlcnNpb25zIG11c3QgbWF0Y2ggZXhhY3RseVxuICogICAgLSAxLnggcGFja2FnZSBjYW5ub3QgdXNlIGdsb2JhbCAyLnggcGFja2FnZVxuICogICAgLSAyLnggcGFja2FnZSBjYW5ub3QgdXNlIGdsb2JhbCAxLnggcGFja2FnZVxuICogLSBUaGUgbWlub3IgdmVyc2lvbiBvZiB0aGUgQVBJIG1vZHVsZSByZXF1ZXN0aW5nIGFjY2VzcyB0byB0aGUgZ2xvYmFsIEFQSSBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgbWlub3IgdmVyc2lvbiBvZiB0aGlzIEFQSVxuICogICAgLSAxLjMgcGFja2FnZSBtYXkgdXNlIDEuNCBnbG9iYWwgYmVjYXVzZSB0aGUgbGF0ZXIgZ2xvYmFsIGNvbnRhaW5zIGFsbCBmdW5jdGlvbnMgMS4zIGV4cGVjdHNcbiAqICAgIC0gMS40IHBhY2thZ2UgbWF5IE5PVCB1c2UgMS4zIGdsb2JhbCBiZWNhdXNlIGl0IG1heSB0cnkgdG8gY2FsbCBmdW5jdGlvbnMgd2hpY2ggZG9uJ3QgZXhpc3Qgb24gMS4zXG4gKiAtIElmIHRoZSBtYWpvciB2ZXJzaW9uIGlzIDAsIHRoZSBtaW5vciB2ZXJzaW9uIGlzIHRyZWF0ZWQgYXMgdGhlIG1ham9yIGFuZCB0aGUgcGF0Y2ggaXMgdHJlYXRlZCBhcyB0aGUgbWlub3JcbiAqIC0gUGF0Y2ggYW5kIGJ1aWxkIHRhZyBkaWZmZXJlbmNlcyBhcmUgbm90IGNvbnNpZGVyZWQgYXQgdGhpcyB0aW1lXG4gKlxuICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgQVBJIHJlcXVlc3RpbmcgYW4gaW5zdGFuY2Ugb2YgdGhlIGdsb2JhbCBBUElcbiAqL1xuZXhwb3J0IHZhciBpc0NvbXBhdGlibGUgPSBfbWFrZUNvbXBhdGliaWxpdHlDaGVjayhWRVJTSU9OKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlbXZlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgX2dsb2JhbFRoaXMgfSBmcm9tICcuLi9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5pbXBvcnQgeyBpc0NvbXBhdGlibGUgfSBmcm9tICcuL3NlbXZlcic7XG52YXIgbWFqb3IgPSBWRVJTSU9OLnNwbGl0KCcuJylbMF07XG52YXIgR0xPQkFMX09QRU5URUxFTUVUUllfQVBJX0tFWSA9IFN5bWJvbC5mb3IoXCJvcGVudGVsZW1ldHJ5LmpzLmFwaS5cIiArIG1ham9yKTtcbnZhciBfZ2xvYmFsID0gX2dsb2JhbFRoaXM7XG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJHbG9iYWwodHlwZSwgaW5zdGFuY2UsIGRpYWcsIGFsbG93T3ZlcnJpZGUpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGFsbG93T3ZlcnJpZGUgPT09IHZvaWQgMCkgeyBhbGxvd092ZXJyaWRlID0gZmFsc2U7IH1cbiAgICB2YXIgYXBpID0gKF9nbG9iYWxbR0xPQkFMX09QRU5URUxFTUVUUllfQVBJX0tFWV0gPSAoX2EgPSBfZ2xvYmFsW0dMT0JBTF9PUEVOVEVMRU1FVFJZX0FQSV9LRVldKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7XG4gICAgICAgIHZlcnNpb246IFZFUlNJT04sXG4gICAgfSk7XG4gICAgaWYgKCFhbGxvd092ZXJyaWRlICYmIGFwaVt0eXBlXSkge1xuICAgICAgICAvLyBhbHJlYWR5IHJlZ2lzdGVyZWQgYW4gQVBJIG9mIHRoaXMgdHlwZVxuICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKFwiQG9wZW50ZWxlbWV0cnkvYXBpOiBBdHRlbXB0ZWQgZHVwbGljYXRlIHJlZ2lzdHJhdGlvbiBvZiBBUEk6IFwiICsgdHlwZSk7XG4gICAgICAgIGRpYWcuZXJyb3IoZXJyLnN0YWNrIHx8IGVyci5tZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXBpLnZlcnNpb24gIT09IFZFUlNJT04pIHtcbiAgICAgICAgLy8gQWxsIHJlZ2lzdGVyZWQgQVBJcyBtdXN0IGJlIG9mIHRoZSBzYW1lIHZlcnNpb24gZXhhY3RseVxuICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKFwiQG9wZW50ZWxlbWV0cnkvYXBpOiBSZWdpc3RyYXRpb24gb2YgdmVyc2lvbiB2XCIgKyBhcGkudmVyc2lvbiArIFwiIGZvciBcIiArIHR5cGUgKyBcIiBkb2VzIG5vdCBtYXRjaCBwcmV2aW91c2x5IHJlZ2lzdGVyZWQgQVBJIHZcIiArIFZFUlNJT04pO1xuICAgICAgICBkaWFnLmVycm9yKGVyci5zdGFjayB8fCBlcnIubWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYXBpW3R5cGVdID0gaW5zdGFuY2U7XG4gICAgZGlhZy5kZWJ1ZyhcIkBvcGVudGVsZW1ldHJ5L2FwaTogUmVnaXN0ZXJlZCBhIGdsb2JhbCBmb3IgXCIgKyB0eXBlICsgXCIgdlwiICsgVkVSU0lPTiArIFwiLlwiKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRHbG9iYWwodHlwZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIGdsb2JhbFZlcnNpb24gPSAoX2EgPSBfZ2xvYmFsW0dMT0JBTF9PUEVOVEVMRU1FVFJZX0FQSV9LRVldKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmVyc2lvbjtcbiAgICBpZiAoIWdsb2JhbFZlcnNpb24gfHwgIWlzQ29tcGF0aWJsZShnbG9iYWxWZXJzaW9uKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiAoX2IgPSBfZ2xvYmFsW0dMT0JBTF9PUEVOVEVMRU1FVFJZX0FQSV9LRVldKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbdHlwZV07XG59XG5leHBvcnQgZnVuY3Rpb24gdW5yZWdpc3Rlckdsb2JhbCh0eXBlLCBkaWFnKSB7XG4gICAgZGlhZy5kZWJ1ZyhcIkBvcGVudGVsZW1ldHJ5L2FwaTogVW5yZWdpc3RlcmluZyBhIGdsb2JhbCBmb3IgXCIgKyB0eXBlICsgXCIgdlwiICsgVkVSU0lPTiArIFwiLlwiKTtcbiAgICB2YXIgYXBpID0gX2dsb2JhbFtHTE9CQUxfT1BFTlRFTEVNRVRSWV9BUElfS0VZXTtcbiAgICBpZiAoYXBpKSB7XG4gICAgICAgIGRlbGV0ZSBhcGlbdHlwZV07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2xvYmFsLXV0aWxzLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tLCBwYWNrKSB7XG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn07XG5pbXBvcnQgeyBnZXRHbG9iYWwgfSBmcm9tICcuLi9pbnRlcm5hbC9nbG9iYWwtdXRpbHMnO1xuLyoqXG4gKiBDb21wb25lbnQgTG9nZ2VyIHdoaWNoIGlzIG1lYW50IHRvIGJlIHVzZWQgYXMgcGFydCBvZiBhbnkgY29tcG9uZW50IHdoaWNoXG4gKiB3aWxsIGFkZCBhdXRvbWF0aWNhbGx5IGFkZGl0aW9uYWwgbmFtZXNwYWNlIGluIGZyb250IG9mIHRoZSBsb2cgbWVzc2FnZS5cbiAqIEl0IHdpbGwgdGhlbiBmb3J3YXJkIGFsbCBtZXNzYWdlIHRvIGdsb2JhbCBkaWFnIGxvZ2dlclxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGNMb2dnZXIgPSBkaWFnLmNyZWF0ZUNvbXBvbmVudExvZ2dlcih7IG5hbWVzcGFjZTogJ0BvcGVudGVsZW1ldHJ5L2luc3RydW1lbnRhdGlvbi1odHRwJyB9KTtcbiAqIGNMb2dnZXIuZGVidWcoJ3Rlc3QnKTtcbiAqIC8vIEBvcGVudGVsZW1ldHJ5L2luc3RydW1lbnRhdGlvbi1odHRwIHRlc3RcbiAqL1xudmFyIERpYWdDb21wb25lbnRMb2dnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlhZ0NvbXBvbmVudExvZ2dlcihwcm9wcykge1xuICAgICAgICB0aGlzLl9uYW1lc3BhY2UgPSBwcm9wcy5uYW1lc3BhY2UgfHwgJ0RpYWdDb21wb25lbnRMb2dnZXInO1xuICAgIH1cbiAgICBEaWFnQ29tcG9uZW50TG9nZ2VyLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9nUHJveHkoJ2RlYnVnJywgdGhpcy5fbmFtZXNwYWNlLCBhcmdzKTtcbiAgICB9O1xuICAgIERpYWdDb21wb25lbnRMb2dnZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2dQcm94eSgnZXJyb3InLCB0aGlzLl9uYW1lc3BhY2UsIGFyZ3MpO1xuICAgIH07XG4gICAgRGlhZ0NvbXBvbmVudExvZ2dlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9nUHJveHkoJ2luZm8nLCB0aGlzLl9uYW1lc3BhY2UsIGFyZ3MpO1xuICAgIH07XG4gICAgRGlhZ0NvbXBvbmVudExvZ2dlci5wcm90b3R5cGUud2FybiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9nUHJveHkoJ3dhcm4nLCB0aGlzLl9uYW1lc3BhY2UsIGFyZ3MpO1xuICAgIH07XG4gICAgRGlhZ0NvbXBvbmVudExvZ2dlci5wcm90b3R5cGUudmVyYm9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9nUHJveHkoJ3ZlcmJvc2UnLCB0aGlzLl9uYW1lc3BhY2UsIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIERpYWdDb21wb25lbnRMb2dnZXI7XG59KCkpO1xuZXhwb3J0IHsgRGlhZ0NvbXBvbmVudExvZ2dlciB9O1xuZnVuY3Rpb24gbG9nUHJveHkoZnVuY05hbWUsIG5hbWVzcGFjZSwgYXJncykge1xuICAgIHZhciBsb2dnZXIgPSBnZXRHbG9iYWwoJ2RpYWcnKTtcbiAgICAvLyBzaG9ydGN1dCBpZiBsb2dnZXIgbm90IHNldFxuICAgIGlmICghbG9nZ2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXJncy51bnNoaWZ0KG5hbWVzcGFjZSk7XG4gICAgcmV0dXJuIGxvZ2dlcltmdW5jTmFtZV0uYXBwbHkobG9nZ2VyLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncyksIGZhbHNlKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db21wb25lbnRMb2dnZXIuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogRGVmaW5lcyB0aGUgYXZhaWxhYmxlIGludGVybmFsIGxvZ2dpbmcgbGV2ZWxzIGZvciB0aGUgZGlhZ25vc3RpYyBsb2dnZXIsIHRoZSBudW1lcmljIHZhbHVlc1xuICogb2YgdGhlIGxldmVscyBhcmUgZGVmaW5lZCB0byBtYXRjaCB0aGUgb3JpZ2luYWwgdmFsdWVzIGZyb20gdGhlIGluaXRpYWwgTG9nTGV2ZWwgdG8gYXZvaWRcbiAqIGNvbXBhdGliaWxpdHkvbWlncmF0aW9uIGlzc3VlcyBmb3IgYW55IGltcGxlbWVudGF0aW9uIHRoYXQgYXNzdW1lIHRoZSBudW1lcmljIG9yZGVyaW5nLlxuICovXG5leHBvcnQgdmFyIERpYWdMb2dMZXZlbDtcbihmdW5jdGlvbiAoRGlhZ0xvZ0xldmVsKSB7XG4gICAgLyoqIERpYWdub3N0aWMgTG9nZ2luZyBsZXZlbCBzZXR0aW5nIHRvIGRpc2FibGUgYWxsIGxvZ2dpbmcgKGV4Y2VwdCBhbmQgZm9yY2VkIGxvZ3MpICovXG4gICAgRGlhZ0xvZ0xldmVsW0RpYWdMb2dMZXZlbFtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIC8qKiBJZGVudGlmaWVzIGFuIGVycm9yIHNjZW5hcmlvICovXG4gICAgRGlhZ0xvZ0xldmVsW0RpYWdMb2dMZXZlbFtcIkVSUk9SXCJdID0gMzBdID0gXCJFUlJPUlwiO1xuICAgIC8qKiBJZGVudGlmaWVzIGEgd2FybmluZyBzY2VuYXJpbyAqL1xuICAgIERpYWdMb2dMZXZlbFtEaWFnTG9nTGV2ZWxbXCJXQVJOXCJdID0gNTBdID0gXCJXQVJOXCI7XG4gICAgLyoqIEdlbmVyYWwgaW5mb3JtYXRpb25hbCBsb2cgbWVzc2FnZSAqL1xuICAgIERpYWdMb2dMZXZlbFtEaWFnTG9nTGV2ZWxbXCJJTkZPXCJdID0gNjBdID0gXCJJTkZPXCI7XG4gICAgLyoqIEdlbmVyYWwgZGVidWcgbG9nIG1lc3NhZ2UgKi9cbiAgICBEaWFnTG9nTGV2ZWxbRGlhZ0xvZ0xldmVsW1wiREVCVUdcIl0gPSA3MF0gPSBcIkRFQlVHXCI7XG4gICAgLyoqXG4gICAgICogRGV0YWlsZWQgdHJhY2UgbGV2ZWwgbG9nZ2luZyBzaG91bGQgb25seSBiZSB1c2VkIGZvciBkZXZlbG9wbWVudCwgc2hvdWxkIG9ubHkgYmUgc2V0XG4gICAgICogaW4gYSBkZXZlbG9wbWVudCBlbnZpcm9ubWVudC5cbiAgICAgKi9cbiAgICBEaWFnTG9nTGV2ZWxbRGlhZ0xvZ0xldmVsW1wiVkVSQk9TRVwiXSA9IDgwXSA9IFwiVkVSQk9TRVwiO1xuICAgIC8qKiBVc2VkIHRvIHNldCB0aGUgbG9nZ2luZyBsZXZlbCB0byBpbmNsdWRlIGFsbCBsb2dnaW5nICovXG4gICAgRGlhZ0xvZ0xldmVsW0RpYWdMb2dMZXZlbFtcIkFMTFwiXSA9IDk5OTldID0gXCJBTExcIjtcbn0pKERpYWdMb2dMZXZlbCB8fCAoRGlhZ0xvZ0xldmVsID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBEaWFnTG9nTGV2ZWwgfSBmcm9tICcuLi90eXBlcyc7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9nTGV2ZWxEaWFnTG9nZ2VyKG1heExldmVsLCBsb2dnZXIpIHtcbiAgICBpZiAobWF4TGV2ZWwgPCBEaWFnTG9nTGV2ZWwuTk9ORSkge1xuICAgICAgICBtYXhMZXZlbCA9IERpYWdMb2dMZXZlbC5OT05FO1xuICAgIH1cbiAgICBlbHNlIGlmIChtYXhMZXZlbCA+IERpYWdMb2dMZXZlbC5BTEwpIHtcbiAgICAgICAgbWF4TGV2ZWwgPSBEaWFnTG9nTGV2ZWwuQUxMO1xuICAgIH1cbiAgICAvLyBJbiBjYXNlIHRoZSBsb2dnZXIgaXMgbnVsbCBvciB1bmRlZmluZWRcbiAgICBsb2dnZXIgPSBsb2dnZXIgfHwge307XG4gICAgZnVuY3Rpb24gX2ZpbHRlckZ1bmMoZnVuY05hbWUsIHRoZUxldmVsKSB7XG4gICAgICAgIHZhciB0aGVGdW5jID0gbG9nZ2VyW2Z1bmNOYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGVGdW5jID09PSAnZnVuY3Rpb24nICYmIG1heExldmVsID49IHRoZUxldmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhlRnVuYy5iaW5kKGxvZ2dlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3I6IF9maWx0ZXJGdW5jKCdlcnJvcicsIERpYWdMb2dMZXZlbC5FUlJPUiksXG4gICAgICAgIHdhcm46IF9maWx0ZXJGdW5jKCd3YXJuJywgRGlhZ0xvZ0xldmVsLldBUk4pLFxuICAgICAgICBpbmZvOiBfZmlsdGVyRnVuYygnaW5mbycsIERpYWdMb2dMZXZlbC5JTkZPKSxcbiAgICAgICAgZGVidWc6IF9maWx0ZXJGdW5jKCdkZWJ1ZycsIERpYWdMb2dMZXZlbC5ERUJVRyksXG4gICAgICAgIHZlcmJvc2U6IF9maWx0ZXJGdW5jKCd2ZXJib3NlJywgRGlhZ0xvZ0xldmVsLlZFUkJPU0UpLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dMZXZlbExvZ2dlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSwgcGFjaykge1xuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG59O1xuaW1wb3J0IHsgRGlhZ0NvbXBvbmVudExvZ2dlciB9IGZyb20gJy4uL2RpYWcvQ29tcG9uZW50TG9nZ2VyJztcbmltcG9ydCB7IGNyZWF0ZUxvZ0xldmVsRGlhZ0xvZ2dlciB9IGZyb20gJy4uL2RpYWcvaW50ZXJuYWwvbG9nTGV2ZWxMb2dnZXInO1xuaW1wb3J0IHsgRGlhZ0xvZ0xldmVsLCB9IGZyb20gJy4uL2RpYWcvdHlwZXMnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsLCByZWdpc3Rlckdsb2JhbCwgdW5yZWdpc3Rlckdsb2JhbCwgfSBmcm9tICcuLi9pbnRlcm5hbC9nbG9iYWwtdXRpbHMnO1xudmFyIEFQSV9OQU1FID0gJ2RpYWcnO1xuLyoqXG4gKiBTaW5nbGV0b24gb2JqZWN0IHdoaWNoIHJlcHJlc2VudHMgdGhlIGVudHJ5IHBvaW50IHRvIHRoZSBPcGVuVGVsZW1ldHJ5IGludGVybmFsXG4gKiBkaWFnbm9zdGljIEFQSVxuICovXG52YXIgRGlhZ0FQSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBQcml2YXRlIGludGVybmFsIGNvbnN0cnVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEaWFnQVBJKCkge1xuICAgICAgICBmdW5jdGlvbiBfbG9nUHJveHkoZnVuY05hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBsb2dnZXIgPSBnZXRHbG9iYWwoJ2RpYWcnKTtcbiAgICAgICAgICAgICAgICAvLyBzaG9ydGN1dCBpZiBsb2dnZXIgbm90IHNldFxuICAgICAgICAgICAgICAgIGlmICghbG9nZ2VyKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2dlcltmdW5jTmFtZV0uYXBwbHkobG9nZ2VyLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncyksIGZhbHNlKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIFVzaW5nIHNlbGYgbG9jYWwgdmFyaWFibGUgZm9yIG1pbmlmaWNhdGlvbiBwdXJwb3NlcyBhcyAndGhpcycgY2Fubm90IGJlIG1pbmlmaWVkXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gRGlhZ0FQSSBzcGVjaWZpYyBmdW5jdGlvbnNcbiAgICAgICAgdmFyIHNldExvZ2dlciA9IGZ1bmN0aW9uIChsb2dnZXIsIG9wdGlvbnNPckxvZ0xldmVsKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIGlmIChvcHRpb25zT3JMb2dMZXZlbCA9PT0gdm9pZCAwKSB7IG9wdGlvbnNPckxvZ0xldmVsID0geyBsb2dMZXZlbDogRGlhZ0xvZ0xldmVsLklORk8gfTsgfVxuICAgICAgICAgICAgaWYgKGxvZ2dlciA9PT0gc2VsZikge1xuICAgICAgICAgICAgICAgIC8vIFRoZXJlIGlzbid0IG11Y2ggd2UgY2FuIGRvIGhlcmUuXG4gICAgICAgICAgICAgICAgLy8gTG9nZ2luZyB0byB0aGUgY29uc29sZSBtaWdodCBicmVhayB0aGUgdXNlciBhcHBsaWNhdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBUcnkgdG8gbG9nIHRvIHNlbGYuIElmIGEgbG9nZ2VyIHdhcyBwcmV2aW91c2x5IHJlZ2lzdGVyZWQgaXQgd2lsbCByZWNlaXZlIHRoZSBsb2cuXG4gICAgICAgICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignQ2Fubm90IHVzZSBkaWFnIGFzIHRoZSBsb2dnZXIgZm9yIGl0c2VsZi4gUGxlYXNlIHVzZSBhIERpYWdMb2dnZXIgaW1wbGVtZW50YXRpb24gbGlrZSBDb25zb2xlRGlhZ0xvZ2dlciBvciBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbicpO1xuICAgICAgICAgICAgICAgIHNlbGYuZXJyb3IoKF9hID0gZXJyLnN0YWNrKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zT3JMb2dMZXZlbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zT3JMb2dMZXZlbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgbG9nTGV2ZWw6IG9wdGlvbnNPckxvZ0xldmVsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb2xkTG9nZ2VyID0gZ2V0R2xvYmFsKCdkaWFnJyk7XG4gICAgICAgICAgICB2YXIgbmV3TG9nZ2VyID0gY3JlYXRlTG9nTGV2ZWxEaWFnTG9nZ2VyKChfYiA9IG9wdGlvbnNPckxvZ0xldmVsLmxvZ0xldmVsKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBEaWFnTG9nTGV2ZWwuSU5GTywgbG9nZ2VyKTtcbiAgICAgICAgICAgIC8vIFRoZXJlIGFscmVhZHkgaXMgYW4gbG9nZ2VyIHJlZ2lzdGVyZWQuIFdlJ2xsIGxldCBpdCBrbm93IGJlZm9yZSBvdmVyd3JpdGluZyBpdC5cbiAgICAgICAgICAgIGlmIChvbGRMb2dnZXIgJiYgIW9wdGlvbnNPckxvZ0xldmVsLnN1cHByZXNzT3ZlcnJpZGVNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YWNrID0gKF9jID0gbmV3IEVycm9yKCkuc3RhY2spICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICc8ZmFpbGVkIHRvIGdlbmVyYXRlIHN0YWNrdHJhY2U+JztcbiAgICAgICAgICAgICAgICBvbGRMb2dnZXIud2FybihcIkN1cnJlbnQgbG9nZ2VyIHdpbGwgYmUgb3ZlcndyaXR0ZW4gZnJvbSBcIiArIHN0YWNrKTtcbiAgICAgICAgICAgICAgICBuZXdMb2dnZXIud2FybihcIkN1cnJlbnQgbG9nZ2VyIHdpbGwgb3ZlcndyaXRlIG9uZSBhbHJlYWR5IHJlZ2lzdGVyZWQgZnJvbSBcIiArIHN0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZWdpc3Rlckdsb2JhbCgnZGlhZycsIG5ld0xvZ2dlciwgc2VsZiwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHNlbGYuc2V0TG9nZ2VyID0gc2V0TG9nZ2VyO1xuICAgICAgICBzZWxmLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB1bnJlZ2lzdGVyR2xvYmFsKEFQSV9OQU1FLCBzZWxmKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5jcmVhdGVDb21wb25lbnRMb2dnZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEaWFnQ29tcG9uZW50TG9nZ2VyKG9wdGlvbnMpO1xuICAgICAgICB9O1xuICAgICAgICBzZWxmLnZlcmJvc2UgPSBfbG9nUHJveHkoJ3ZlcmJvc2UnKTtcbiAgICAgICAgc2VsZi5kZWJ1ZyA9IF9sb2dQcm94eSgnZGVidWcnKTtcbiAgICAgICAgc2VsZi5pbmZvID0gX2xvZ1Byb3h5KCdpbmZvJyk7XG4gICAgICAgIHNlbGYud2FybiA9IF9sb2dQcm94eSgnd2FybicpO1xuICAgICAgICBzZWxmLmVycm9yID0gX2xvZ1Byb3h5KCdlcnJvcicpO1xuICAgIH1cbiAgICAvKiogR2V0IHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIERpYWdBUEkgQVBJICovXG4gICAgRGlhZ0FQSS5pbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgRGlhZ0FQSSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICB9O1xuICAgIHJldHVybiBEaWFnQVBJO1xufSgpKTtcbmV4cG9ydCB7IERpYWdBUEkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpYWcuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBHZXQgYSBrZXkgdG8gdW5pcXVlbHkgaWRlbnRpZnkgYSBjb250ZXh0IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udGV4dEtleShkZXNjcmlwdGlvbikge1xuICAgIC8vIFRoZSBzcGVjaWZpY2F0aW9uIHN0YXRlcyB0aGF0IGZvciB0aGUgc2FtZSBpbnB1dCwgbXVsdGlwbGUgY2FsbHMgc2hvdWxkXG4gICAgLy8gcmV0dXJuIGRpZmZlcmVudCBrZXlzLiBEdWUgdG8gdGhlIG5hdHVyZSBvZiB0aGUgSlMgZGVwZW5kZW5jeSBtYW5hZ2VtZW50XG4gICAgLy8gc3lzdGVtLCB0aGlzIGNyZWF0ZXMgcHJvYmxlbXMgd2hlcmUgbXVsdGlwbGUgdmVyc2lvbnMgb2Ygc29tZSBwYWNrYWdlXG4gICAgLy8gY291bGQgaG9sZCBkaWZmZXJlbnQga2V5cyBmb3IgdGhlIHNhbWUgcHJvcGVydHkuXG4gICAgLy9cbiAgICAvLyBUaGVyZWZvcmUsIHdlIHVzZSBTeW1ib2wuZm9yIHdoaWNoIHJldHVybnMgdGhlIHNhbWUga2V5IGZvciB0aGUgc2FtZSBpbnB1dC5cbiAgICByZXR1cm4gU3ltYm9sLmZvcihkZXNjcmlwdGlvbik7XG59XG52YXIgQmFzZUNvbnRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IGNvbnRleHQgd2hpY2ggaW5oZXJpdHMgdmFsdWVzIGZyb20gYW4gb3B0aW9uYWwgcGFyZW50IGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyZW50Q29udGV4dCBhIGNvbnRleHQgZnJvbSB3aGljaCB0byBpbmhlcml0IHZhbHVlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VDb250ZXh0KHBhcmVudENvbnRleHQpIHtcbiAgICAgICAgLy8gZm9yIG1pbmlmaWNhdGlvblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuX2N1cnJlbnRDb250ZXh0ID0gcGFyZW50Q29udGV4dCA/IG5ldyBNYXAocGFyZW50Q29udGV4dCkgOiBuZXcgTWFwKCk7XG4gICAgICAgIHNlbGYuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZWxmLl9jdXJyZW50Q29udGV4dC5nZXQoa2V5KTsgfTtcbiAgICAgICAgc2VsZi5zZXRWYWx1ZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IG5ldyBCYXNlQ29udGV4dChzZWxmLl9jdXJyZW50Q29udGV4dCk7XG4gICAgICAgICAgICBjb250ZXh0Ll9jdXJyZW50Q29udGV4dC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5kZWxldGVWYWx1ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gbmV3IEJhc2VDb250ZXh0KHNlbGYuX2N1cnJlbnRDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnRleHQuX2N1cnJlbnRDb250ZXh0LmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBCYXNlQ29udGV4dDtcbn0oKSk7XG4vKiogVGhlIHJvb3QgY29udGV4dCBpcyB1c2VkIGFzIHRoZSBkZWZhdWx0IHBhcmVudCBjb250ZXh0IHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbnRleHQgKi9cbmV4cG9ydCB2YXIgUk9PVF9DT05URVhUID0gbmV3IEJhc2VDb250ZXh0KCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250ZXh0LmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tLCBwYWNrKSB7XG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn07XG5pbXBvcnQgeyBST09UX0NPTlRFWFQgfSBmcm9tICcuL2NvbnRleHQnO1xudmFyIE5vb3BDb250ZXh0TWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb29wQ29udGV4dE1hbmFnZXIoKSB7XG4gICAgfVxuICAgIE5vb3BDb250ZXh0TWFuYWdlci5wcm90b3R5cGUuYWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUk9PVF9DT05URVhUO1xuICAgIH07XG4gICAgTm9vcENvbnRleHRNYW5hZ2VyLnByb3RvdHlwZS53aXRoID0gZnVuY3Rpb24gKF9jb250ZXh0LCBmbiwgdGhpc0FyZykge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDNdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uY2FsbC5hcHBseShmbiwgX19zcHJlYWRBcnJheShbdGhpc0FyZ10sIF9fcmVhZChhcmdzKSwgZmFsc2UpKTtcbiAgICB9O1xuICAgIE5vb3BDb250ZXh0TWFuYWdlci5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChfY29udGV4dCwgdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfTtcbiAgICBOb29wQ29udGV4dE1hbmFnZXIucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBOb29wQ29udGV4dE1hbmFnZXIucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIE5vb3BDb250ZXh0TWFuYWdlcjtcbn0oKSk7XG5leHBvcnQgeyBOb29wQ29udGV4dE1hbmFnZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vb3BDb250ZXh0TWFuYWdlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSwgcGFjaykge1xuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG59O1xuaW1wb3J0IHsgTm9vcENvbnRleHRNYW5hZ2VyIH0gZnJvbSAnLi4vY29udGV4dC9Ob29wQ29udGV4dE1hbmFnZXInO1xuaW1wb3J0IHsgZ2V0R2xvYmFsLCByZWdpc3Rlckdsb2JhbCwgdW5yZWdpc3Rlckdsb2JhbCwgfSBmcm9tICcuLi9pbnRlcm5hbC9nbG9iYWwtdXRpbHMnO1xuaW1wb3J0IHsgRGlhZ0FQSSB9IGZyb20gJy4vZGlhZyc7XG52YXIgQVBJX05BTUUgPSAnY29udGV4dCc7XG52YXIgTk9PUF9DT05URVhUX01BTkFHRVIgPSBuZXcgTm9vcENvbnRleHRNYW5hZ2VyKCk7XG4vKipcbiAqIFNpbmdsZXRvbiBvYmplY3Qgd2hpY2ggcmVwcmVzZW50cyB0aGUgZW50cnkgcG9pbnQgdG8gdGhlIE9wZW5UZWxlbWV0cnkgQ29udGV4dCBBUElcbiAqL1xudmFyIENvbnRleHRBUEkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIEVtcHR5IHByaXZhdGUgY29uc3RydWN0b3IgcHJldmVudHMgZW5kIHVzZXJzIGZyb20gY29uc3RydWN0aW5nIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBBUEkgKi9cbiAgICBmdW5jdGlvbiBDb250ZXh0QVBJKCkge1xuICAgIH1cbiAgICAvKiogR2V0IHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIENvbnRleHQgQVBJICovXG4gICAgQ29udGV4dEFQSS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgQ29udGV4dEFQSSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3VycmVudCBjb250ZXh0IG1hbmFnZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBjb250ZXh0IG1hbmFnZXIgd2FzIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLCBlbHNlIGZhbHNlXG4gICAgICovXG4gICAgQ29udGV4dEFQSS5wcm90b3R5cGUuc2V0R2xvYmFsQ29udGV4dE1hbmFnZXIgPSBmdW5jdGlvbiAoY29udGV4dE1hbmFnZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2lzdGVyR2xvYmFsKEFQSV9OQU1FLCBjb250ZXh0TWFuYWdlciwgRGlhZ0FQSS5pbnN0YW5jZSgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dEFQSS5wcm90b3R5cGUuYWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q29udGV4dE1hbmFnZXIoKS5hY3RpdmUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgYSBmdW5jdGlvbiB3aXRoIGFuIGFjdGl2ZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIGJlIGFjdGl2ZSBkdXJpbmcgZnVuY3Rpb24gZXhlY3V0aW9uXG4gICAgICogQHBhcmFtIGZuIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgaW4gYSBjb250ZXh0XG4gICAgICogQHBhcmFtIHRoaXNBcmcgb3B0aW9uYWwgcmVjZWl2ZXIgdG8gYmUgdXNlZCBmb3IgY2FsbGluZyBmblxuICAgICAqIEBwYXJhbSBhcmdzIG9wdGlvbmFsIGFyZ3VtZW50cyBmb3J3YXJkZWQgdG8gZm5cbiAgICAgKi9cbiAgICBDb250ZXh0QVBJLnByb3RvdHlwZS53aXRoID0gZnVuY3Rpb24gKGNvbnRleHQsIGZuLCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAzOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAzXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuX2dldENvbnRleHRNYW5hZ2VyKCkpLndpdGguYXBwbHkoX2EsIF9fc3ByZWFkQXJyYXkoW2NvbnRleHQsIGZuLCB0aGlzQXJnXSwgX19yZWFkKGFyZ3MpLCBmYWxzZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZCBhIGNvbnRleHQgdG8gYSB0YXJnZXQgZnVuY3Rpb24gb3IgZXZlbnQgZW1pdHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnRleHQgY29udGV4dCB0byBiaW5kIHRvIHRoZSBldmVudCBlbWl0dGVyIG9yIGZ1bmN0aW9uLiBEZWZhdWx0cyB0byB0aGUgY3VycmVudGx5IGFjdGl2ZSBjb250ZXh0XG4gICAgICogQHBhcmFtIHRhcmdldCBmdW5jdGlvbiBvciBldmVudCBlbWl0dGVyIHRvIGJpbmRcbiAgICAgKi9cbiAgICBDb250ZXh0QVBJLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGNvbnRleHQsIHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q29udGV4dE1hbmFnZXIoKS5iaW5kKGNvbnRleHQsIHRhcmdldCk7XG4gICAgfTtcbiAgICBDb250ZXh0QVBJLnByb3RvdHlwZS5fZ2V0Q29udGV4dE1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBnZXRHbG9iYWwoQVBJX05BTUUpIHx8IE5PT1BfQ09OVEVYVF9NQU5BR0VSO1xuICAgIH07XG4gICAgLyoqIERpc2FibGUgYW5kIHJlbW92ZSB0aGUgZ2xvYmFsIGNvbnRleHQgbWFuYWdlciAqL1xuICAgIENvbnRleHRBUEkucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2dldENvbnRleHRNYW5hZ2VyKCkuZGlzYWJsZSgpO1xuICAgICAgICB1bnJlZ2lzdGVyR2xvYmFsKEFQSV9OQU1FLCBEaWFnQVBJLmluc3RhbmNlKCkpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbnRleHRBUEk7XG59KCkpO1xuZXhwb3J0IHsgQ29udGV4dEFQSSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGV4dC5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IHZhciBUcmFjZUZsYWdzO1xuKGZ1bmN0aW9uIChUcmFjZUZsYWdzKSB7XG4gICAgLyoqIFJlcHJlc2VudHMgbm8gZmxhZyBzZXQuICovXG4gICAgVHJhY2VGbGFnc1tUcmFjZUZsYWdzW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgLyoqIEJpdCB0byByZXByZXNlbnQgd2hldGhlciB0cmFjZSBpcyBzYW1wbGVkIGluIHRyYWNlIGZsYWdzLiAqL1xuICAgIFRyYWNlRmxhZ3NbVHJhY2VGbGFnc1tcIlNBTVBMRURcIl0gPSAxXSA9IFwiU0FNUExFRFwiO1xufSkoVHJhY2VGbGFncyB8fCAoVHJhY2VGbGFncyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFjZV9mbGFncy5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgVHJhY2VGbGFncyB9IGZyb20gJy4vdHJhY2VfZmxhZ3MnO1xuZXhwb3J0IHZhciBJTlZBTElEX1NQQU5JRCA9ICcwMDAwMDAwMDAwMDAwMDAwJztcbmV4cG9ydCB2YXIgSU5WQUxJRF9UUkFDRUlEID0gJzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJztcbmV4cG9ydCB2YXIgSU5WQUxJRF9TUEFOX0NPTlRFWFQgPSB7XG4gICAgdHJhY2VJZDogSU5WQUxJRF9UUkFDRUlELFxuICAgIHNwYW5JZDogSU5WQUxJRF9TUEFOSUQsXG4gICAgdHJhY2VGbGFnczogVHJhY2VGbGFncy5OT05FLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludmFsaWQtc3Bhbi1jb25zdGFudHMuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IElOVkFMSURfU1BBTl9DT05URVhUIH0gZnJvbSAnLi9pbnZhbGlkLXNwYW4tY29uc3RhbnRzJztcbi8qKlxuICogVGhlIE5vblJlY29yZGluZ1NwYW4gaXMgdGhlIGRlZmF1bHQge0BsaW5rIFNwYW59IHRoYXQgaXMgdXNlZCB3aGVuIG5vIFNwYW5cbiAqIGltcGxlbWVudGF0aW9uIGlzIGF2YWlsYWJsZS4gQWxsIG9wZXJhdGlvbnMgYXJlIG5vLW9wIGluY2x1ZGluZyBjb250ZXh0XG4gKiBwcm9wYWdhdGlvbi5cbiAqL1xudmFyIE5vblJlY29yZGluZ1NwYW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9uUmVjb3JkaW5nU3Bhbihfc3BhbkNvbnRleHQpIHtcbiAgICAgICAgaWYgKF9zcGFuQ29udGV4dCA9PT0gdm9pZCAwKSB7IF9zcGFuQ29udGV4dCA9IElOVkFMSURfU1BBTl9DT05URVhUOyB9XG4gICAgICAgIHRoaXMuX3NwYW5Db250ZXh0ID0gX3NwYW5Db250ZXh0O1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGEgU3BhbkNvbnRleHQuXG4gICAgTm9uUmVjb3JkaW5nU3Bhbi5wcm90b3R5cGUuc3BhbkNvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGFuQ29udGV4dDtcbiAgICB9O1xuICAgIC8vIEJ5IGRlZmF1bHQgZG9lcyBub3RoaW5nXG4gICAgTm9uUmVjb3JkaW5nU3Bhbi5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKF9rZXksIF92YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIEJ5IGRlZmF1bHQgZG9lcyBub3RoaW5nXG4gICAgTm9uUmVjb3JkaW5nU3Bhbi5wcm90b3R5cGUuc2V0QXR0cmlidXRlcyA9IGZ1bmN0aW9uIChfYXR0cmlidXRlcykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIEJ5IGRlZmF1bHQgZG9lcyBub3RoaW5nXG4gICAgTm9uUmVjb3JkaW5nU3Bhbi5wcm90b3R5cGUuYWRkRXZlbnQgPSBmdW5jdGlvbiAoX25hbWUsIF9hdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgTm9uUmVjb3JkaW5nU3Bhbi5wcm90b3R5cGUuYWRkTGluayA9IGZ1bmN0aW9uIChfbGluaykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE5vblJlY29yZGluZ1NwYW4ucHJvdG90eXBlLmFkZExpbmtzID0gZnVuY3Rpb24gKF9saW5rcykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIEJ5IGRlZmF1bHQgZG9lcyBub3RoaW5nXG4gICAgTm9uUmVjb3JkaW5nU3Bhbi5wcm90b3R5cGUuc2V0U3RhdHVzID0gZnVuY3Rpb24gKF9zdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBCeSBkZWZhdWx0IGRvZXMgbm90aGluZ1xuICAgIE5vblJlY29yZGluZ1NwYW4ucHJvdG90eXBlLnVwZGF0ZU5hbWUgPSBmdW5jdGlvbiAoX25hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBCeSBkZWZhdWx0IGRvZXMgbm90aGluZ1xuICAgIE5vblJlY29yZGluZ1NwYW4ucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChfZW5kVGltZSkgeyB9O1xuICAgIC8vIGlzUmVjb3JkaW5nIGFsd2F5cyByZXR1cm5zIGZhbHNlIGZvciBOb25SZWNvcmRpbmdTcGFuLlxuICAgIE5vblJlY29yZGluZ1NwYW4ucHJvdG90eXBlLmlzUmVjb3JkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvLyBCeSBkZWZhdWx0IGRvZXMgbm90aGluZ1xuICAgIE5vblJlY29yZGluZ1NwYW4ucHJvdG90eXBlLnJlY29yZEV4Y2VwdGlvbiA9IGZ1bmN0aW9uIChfZXhjZXB0aW9uLCBfdGltZSkgeyB9O1xuICAgIHJldHVybiBOb25SZWNvcmRpbmdTcGFuO1xufSgpKTtcbmV4cG9ydCB7IE5vblJlY29yZGluZ1NwYW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vblJlY29yZGluZ1NwYW4uanMubWFwIiwiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IGNyZWF0ZUNvbnRleHRLZXkgfSBmcm9tICcuLi9jb250ZXh0L2NvbnRleHQnO1xuaW1wb3J0IHsgTm9uUmVjb3JkaW5nU3BhbiB9IGZyb20gJy4vTm9uUmVjb3JkaW5nU3Bhbic7XG5pbXBvcnQgeyBDb250ZXh0QVBJIH0gZnJvbSAnLi4vYXBpL2NvbnRleHQnO1xuLyoqXG4gKiBzcGFuIGtleVxuICovXG52YXIgU1BBTl9LRVkgPSBjcmVhdGVDb250ZXh0S2V5KCdPcGVuVGVsZW1ldHJ5IENvbnRleHQgS2V5IFNQQU4nKTtcbi8qKlxuICogUmV0dXJuIHRoZSBzcGFuIGlmIG9uZSBleGlzdHNcbiAqXG4gKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIGdldCBzcGFuIGZyb21cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNwYW4oY29udGV4dCkge1xuICAgIHJldHVybiBjb250ZXh0LmdldFZhbHVlKFNQQU5fS0VZKSB8fCB1bmRlZmluZWQ7XG59XG4vKipcbiAqIEdldHMgdGhlIHNwYW4gZnJvbSB0aGUgY3VycmVudCBjb250ZXh0LCBpZiBvbmUgZXhpc3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlU3BhbigpIHtcbiAgICByZXR1cm4gZ2V0U3BhbihDb250ZXh0QVBJLmdldEluc3RhbmNlKCkuYWN0aXZlKCkpO1xufVxuLyoqXG4gKiBTZXQgdGhlIHNwYW4gb24gYSBjb250ZXh0XG4gKlxuICogQHBhcmFtIGNvbnRleHQgY29udGV4dCB0byB1c2UgYXMgcGFyZW50XG4gKiBAcGFyYW0gc3BhbiBzcGFuIHRvIHNldCBhY3RpdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNwYW4oY29udGV4dCwgc3Bhbikge1xuICAgIHJldHVybiBjb250ZXh0LnNldFZhbHVlKFNQQU5fS0VZLCBzcGFuKTtcbn1cbi8qKlxuICogUmVtb3ZlIGN1cnJlbnQgc3BhbiBzdG9yZWQgaW4gdGhlIGNvbnRleHRcbiAqXG4gKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIGRlbGV0ZSBzcGFuIGZyb21cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVNwYW4oY29udGV4dCkge1xuICAgIHJldHVybiBjb250ZXh0LmRlbGV0ZVZhbHVlKFNQQU5fS0VZKTtcbn1cbi8qKlxuICogV3JhcCBzcGFuIGNvbnRleHQgaW4gYSBOb29wU3BhbiBhbmQgc2V0IGFzIHNwYW4gaW4gYSBuZXdcbiAqIGNvbnRleHRcbiAqXG4gKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIHNldCBhY3RpdmUgc3BhbiBvblxuICogQHBhcmFtIHNwYW5Db250ZXh0IHNwYW4gY29udGV4dCB0byBiZSB3cmFwcGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTcGFuQ29udGV4dChjb250ZXh0LCBzcGFuQ29udGV4dCkge1xuICAgIHJldHVybiBzZXRTcGFuKGNvbnRleHQsIG5ldyBOb25SZWNvcmRpbmdTcGFuKHNwYW5Db250ZXh0KSk7XG59XG4vKipcbiAqIEdldCB0aGUgc3BhbiBjb250ZXh0IG9mIHRoZSBzcGFuIGlmIGl0IGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIGdldCB2YWx1ZXMgZnJvbVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3BhbkNvbnRleHQoY29udGV4dCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gZ2V0U3Bhbihjb250ZXh0KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwYW5Db250ZXh0KCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250ZXh0LXV0aWxzLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBJTlZBTElEX1NQQU5JRCwgSU5WQUxJRF9UUkFDRUlEIH0gZnJvbSAnLi9pbnZhbGlkLXNwYW4tY29uc3RhbnRzJztcbmltcG9ydCB7IE5vblJlY29yZGluZ1NwYW4gfSBmcm9tICcuL05vblJlY29yZGluZ1NwYW4nO1xudmFyIFZBTElEX1RSQUNFSURfUkVHRVggPSAvXihbMC05YS1mXXszMn0pJC9pO1xudmFyIFZBTElEX1NQQU5JRF9SRUdFWCA9IC9eWzAtOWEtZl17MTZ9JC9pO1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRUcmFjZUlkKHRyYWNlSWQpIHtcbiAgICByZXR1cm4gVkFMSURfVFJBQ0VJRF9SRUdFWC50ZXN0KHRyYWNlSWQpICYmIHRyYWNlSWQgIT09IElOVkFMSURfVFJBQ0VJRDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkU3BhbklkKHNwYW5JZCkge1xuICAgIHJldHVybiBWQUxJRF9TUEFOSURfUkVHRVgudGVzdChzcGFuSWQpICYmIHNwYW5JZCAhPT0gSU5WQUxJRF9TUEFOSUQ7XG59XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHtAbGluayBTcGFuQ29udGV4dH0gaXMgdmFsaWQuXG4gKiBAcmV0dXJuIHRydWUgaWYgdGhpcyB7QGxpbmsgU3BhbkNvbnRleHR9IGlzIHZhbGlkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTcGFuQ29udGV4dFZhbGlkKHNwYW5Db250ZXh0KSB7XG4gICAgcmV0dXJuIChpc1ZhbGlkVHJhY2VJZChzcGFuQ29udGV4dC50cmFjZUlkKSAmJiBpc1ZhbGlkU3BhbklkKHNwYW5Db250ZXh0LnNwYW5JZCkpO1xufVxuLyoqXG4gKiBXcmFwIHRoZSBnaXZlbiB7QGxpbmsgU3BhbkNvbnRleHR9IGluIGEgbmV3IG5vbi1yZWNvcmRpbmcge0BsaW5rIFNwYW59XG4gKlxuICogQHBhcmFtIHNwYW5Db250ZXh0IHNwYW4gY29udGV4dCB0byBiZSB3cmFwcGVkXG4gKiBAcmV0dXJucyBhIG5ldyBub24tcmVjb3JkaW5nIHtAbGluayBTcGFufSB3aXRoIHRoZSBwcm92aWRlZCBjb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwU3BhbkNvbnRleHQoc3BhbkNvbnRleHQpIHtcbiAgICByZXR1cm4gbmV3IE5vblJlY29yZGluZ1NwYW4oc3BhbkNvbnRleHQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3BhbmNvbnRleHQtdXRpbHMuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IENvbnRleHRBUEkgfSBmcm9tICcuLi9hcGkvY29udGV4dCc7XG5pbXBvcnQgeyBnZXRTcGFuQ29udGV4dCwgc2V0U3BhbiB9IGZyb20gJy4uL3RyYWNlL2NvbnRleHQtdXRpbHMnO1xuaW1wb3J0IHsgTm9uUmVjb3JkaW5nU3BhbiB9IGZyb20gJy4vTm9uUmVjb3JkaW5nU3Bhbic7XG5pbXBvcnQgeyBpc1NwYW5Db250ZXh0VmFsaWQgfSBmcm9tICcuL3NwYW5jb250ZXh0LXV0aWxzJztcbnZhciBjb250ZXh0QXBpID0gQ29udGV4dEFQSS5nZXRJbnN0YW5jZSgpO1xuLyoqXG4gKiBOby1vcCBpbXBsZW1lbnRhdGlvbnMgb2Yge0BsaW5rIFRyYWNlcn0uXG4gKi9cbnZhciBOb29wVHJhY2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vb3BUcmFjZXIoKSB7XG4gICAgfVxuICAgIC8vIHN0YXJ0U3BhbiBzdGFydHMgYSBub29wIHNwYW4uXG4gICAgTm9vcFRyYWNlci5wcm90b3R5cGUuc3RhcnRTcGFuID0gZnVuY3Rpb24gKG5hbWUsIG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gY29udGV4dEFwaS5hY3RpdmUoKTsgfVxuICAgICAgICB2YXIgcm9vdCA9IEJvb2xlYW4ob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJvb3QpO1xuICAgICAgICBpZiAocm9vdCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb25SZWNvcmRpbmdTcGFuKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmVudEZyb21Db250ZXh0ID0gY29udGV4dCAmJiBnZXRTcGFuQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgaWYgKGlzU3BhbkNvbnRleHQocGFyZW50RnJvbUNvbnRleHQpICYmXG4gICAgICAgICAgICBpc1NwYW5Db250ZXh0VmFsaWQocGFyZW50RnJvbUNvbnRleHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vblJlY29yZGluZ1NwYW4ocGFyZW50RnJvbUNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb25SZWNvcmRpbmdTcGFuKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vb3BUcmFjZXIucHJvdG90eXBlLnN0YXJ0QWN0aXZlU3BhbiA9IGZ1bmN0aW9uIChuYW1lLCBhcmcyLCBhcmczLCBhcmc0KSB7XG4gICAgICAgIHZhciBvcHRzO1xuICAgICAgICB2YXIgY3R4O1xuICAgICAgICB2YXIgZm47XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIGZuID0gYXJnMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICBvcHRzID0gYXJnMjtcbiAgICAgICAgICAgIGZuID0gYXJnMztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdHMgPSBhcmcyO1xuICAgICAgICAgICAgY3R4ID0gYXJnMztcbiAgICAgICAgICAgIGZuID0gYXJnNDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyZW50Q29udGV4dCA9IGN0eCAhPT0gbnVsbCAmJiBjdHggIT09IHZvaWQgMCA/IGN0eCA6IGNvbnRleHRBcGkuYWN0aXZlKCk7XG4gICAgICAgIHZhciBzcGFuID0gdGhpcy5zdGFydFNwYW4obmFtZSwgb3B0cywgcGFyZW50Q29udGV4dCk7XG4gICAgICAgIHZhciBjb250ZXh0V2l0aFNwYW5TZXQgPSBzZXRTcGFuKHBhcmVudENvbnRleHQsIHNwYW4pO1xuICAgICAgICByZXR1cm4gY29udGV4dEFwaS53aXRoKGNvbnRleHRXaXRoU3BhblNldCwgZm4sIHVuZGVmaW5lZCwgc3Bhbik7XG4gICAgfTtcbiAgICByZXR1cm4gTm9vcFRyYWNlcjtcbn0oKSk7XG5leHBvcnQgeyBOb29wVHJhY2VyIH07XG5mdW5jdGlvbiBpc1NwYW5Db250ZXh0KHNwYW5Db250ZXh0KSB7XG4gICAgcmV0dXJuICh0eXBlb2Ygc3BhbkNvbnRleHQgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHR5cGVvZiBzcGFuQ29udGV4dFsnc3BhbklkJ10gPT09ICdzdHJpbmcnICYmXG4gICAgICAgIHR5cGVvZiBzcGFuQ29udGV4dFsndHJhY2VJZCddID09PSAnc3RyaW5nJyAmJlxuICAgICAgICB0eXBlb2Ygc3BhbkNvbnRleHRbJ3RyYWNlRmxhZ3MnXSA9PT0gJ251bWJlcicpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm9vcFRyYWNlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgTm9vcFRyYWNlciB9IGZyb20gJy4vTm9vcFRyYWNlcic7XG52YXIgTk9PUF9UUkFDRVIgPSBuZXcgTm9vcFRyYWNlcigpO1xuLyoqXG4gKiBQcm94eSB0cmFjZXIgcHJvdmlkZWQgYnkgdGhlIHByb3h5IHRyYWNlciBwcm92aWRlclxuICovXG52YXIgUHJveHlUcmFjZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJveHlUcmFjZXIoX3Byb3ZpZGVyLCBuYW1lLCB2ZXJzaW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3Byb3ZpZGVyID0gX3Byb3ZpZGVyO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBQcm94eVRyYWNlci5wcm90b3R5cGUuc3RhcnRTcGFuID0gZnVuY3Rpb24gKG5hbWUsIG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFRyYWNlcigpLnN0YXJ0U3BhbihuYW1lLCBvcHRpb25zLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFByb3h5VHJhY2VyLnByb3RvdHlwZS5zdGFydEFjdGl2ZVNwYW4gPSBmdW5jdGlvbiAoX25hbWUsIF9vcHRpb25zLCBfY29udGV4dCwgX2ZuKSB7XG4gICAgICAgIHZhciB0cmFjZXIgPSB0aGlzLl9nZXRUcmFjZXIoKTtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodHJhY2VyLnN0YXJ0QWN0aXZlU3BhbiwgdHJhY2VyLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJ5IHRvIGdldCBhIHRyYWNlciBmcm9tIHRoZSBwcm94eSB0cmFjZXIgcHJvdmlkZXIuXG4gICAgICogSWYgdGhlIHByb3h5IHRyYWNlciBwcm92aWRlciBoYXMgbm8gZGVsZWdhdGUsIHJldHVybiBhIG5vb3AgdHJhY2VyLlxuICAgICAqL1xuICAgIFByb3h5VHJhY2VyLnByb3RvdHlwZS5fZ2V0VHJhY2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fZGVsZWdhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhY2VyID0gdGhpcy5fcHJvdmlkZXIuZ2V0RGVsZWdhdGVUcmFjZXIodGhpcy5uYW1lLCB0aGlzLnZlcnNpb24sIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGlmICghdHJhY2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gTk9PUF9UUkFDRVI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGVsZWdhdGUgPSB0cmFjZXI7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZTtcbiAgICB9O1xuICAgIHJldHVybiBQcm94eVRyYWNlcjtcbn0oKSk7XG5leHBvcnQgeyBQcm94eVRyYWNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJveHlUcmFjZXIuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IE5vb3BUcmFjZXIgfSBmcm9tICcuL05vb3BUcmFjZXInO1xuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUge0BsaW5rIFRyYWNlclByb3ZpZGVyfSB3aGljaCByZXR1cm5zIGFuIGltcG90ZW50XG4gKiBUcmFjZXIgZm9yIGFsbCBjYWxscyB0byBgZ2V0VHJhY2VyYC5cbiAqXG4gKiBBbGwgb3BlcmF0aW9ucyBhcmUgbm8tb3AuXG4gKi9cbnZhciBOb29wVHJhY2VyUHJvdmlkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9vcFRyYWNlclByb3ZpZGVyKCkge1xuICAgIH1cbiAgICBOb29wVHJhY2VyUHJvdmlkZXIucHJvdG90eXBlLmdldFRyYWNlciA9IGZ1bmN0aW9uIChfbmFtZSwgX3ZlcnNpb24sIF9vcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm9vcFRyYWNlcigpO1xuICAgIH07XG4gICAgcmV0dXJuIE5vb3BUcmFjZXJQcm92aWRlcjtcbn0oKSk7XG5leHBvcnQgeyBOb29wVHJhY2VyUHJvdmlkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vb3BUcmFjZXJQcm92aWRlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgUHJveHlUcmFjZXIgfSBmcm9tICcuL1Byb3h5VHJhY2VyJztcbmltcG9ydCB7IE5vb3BUcmFjZXJQcm92aWRlciB9IGZyb20gJy4vTm9vcFRyYWNlclByb3ZpZGVyJztcbnZhciBOT09QX1RSQUNFUl9QUk9WSURFUiA9IG5ldyBOb29wVHJhY2VyUHJvdmlkZXIoKTtcbi8qKlxuICogVHJhY2VyIHByb3ZpZGVyIHdoaWNoIHByb3ZpZGVzIHtAbGluayBQcm94eVRyYWNlcn1zLlxuICpcbiAqIEJlZm9yZSBhIGRlbGVnYXRlIGlzIHNldCwgdHJhY2VycyBwcm92aWRlZCBhcmUgTm9PcC5cbiAqICAgV2hlbiBhIGRlbGVnYXRlIGlzIHNldCwgdHJhY2VzIGFyZSBwcm92aWRlZCBmcm9tIHRoZSBkZWxlZ2F0ZS5cbiAqICAgV2hlbiBhIGRlbGVnYXRlIGlzIHNldCBhZnRlciB0cmFjZXJzIGhhdmUgYWxyZWFkeSBiZWVuIHByb3ZpZGVkLFxuICogICBhbGwgdHJhY2VycyBhbHJlYWR5IHByb3ZpZGVkIHdpbGwgdXNlIHRoZSBwcm92aWRlZCBkZWxlZ2F0ZSBpbXBsZW1lbnRhdGlvbi5cbiAqL1xudmFyIFByb3h5VHJhY2VyUHJvdmlkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJveHlUcmFjZXJQcm92aWRlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEge0BsaW5rIFByb3h5VHJhY2VyfVxuICAgICAqL1xuICAgIFByb3h5VHJhY2VyUHJvdmlkZXIucHJvdG90eXBlLmdldFRyYWNlciA9IGZ1bmN0aW9uIChuYW1lLCB2ZXJzaW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLmdldERlbGVnYXRlVHJhY2VyKG5hbWUsIHZlcnNpb24sIG9wdGlvbnMpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBuZXcgUHJveHlUcmFjZXIodGhpcywgbmFtZSwgdmVyc2lvbiwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgUHJveHlUcmFjZXJQcm92aWRlci5wcm90b3R5cGUuZ2V0RGVsZWdhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuX2RlbGVnYXRlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBOT09QX1RSQUNFUl9QUk9WSURFUjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZGVsZWdhdGUgdHJhY2VyIHByb3ZpZGVyXG4gICAgICovXG4gICAgUHJveHlUcmFjZXJQcm92aWRlci5wcm90b3R5cGUuc2V0RGVsZWdhdGUgPSBmdW5jdGlvbiAoZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5fZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICB9O1xuICAgIFByb3h5VHJhY2VyUHJvdmlkZXIucHJvdG90eXBlLmdldERlbGVnYXRlVHJhY2VyID0gZnVuY3Rpb24gKG5hbWUsIHZlcnNpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fZGVsZWdhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRUcmFjZXIobmFtZSwgdmVyc2lvbiwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4gUHJveHlUcmFjZXJQcm92aWRlcjtcbn0oKSk7XG5leHBvcnQgeyBQcm94eVRyYWNlclByb3ZpZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm94eVRyYWNlclByb3ZpZGVyLmpzLm1hcCIsIi8qKlxuICogQW4gZW51bWVyYXRpb24gb2Ygc3RhdHVzIGNvZGVzLlxuICovXG5leHBvcnQgdmFyIFNwYW5TdGF0dXNDb2RlO1xuKGZ1bmN0aW9uIChTcGFuU3RhdHVzQ29kZSkge1xuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHN0YXR1cy5cbiAgICAgKi9cbiAgICBTcGFuU3RhdHVzQ29kZVtTcGFuU3RhdHVzQ29kZVtcIlVOU0VUXCJdID0gMF0gPSBcIlVOU0VUXCI7XG4gICAgLyoqXG4gICAgICogVGhlIG9wZXJhdGlvbiBoYXMgYmVlbiB2YWxpZGF0ZWQgYnkgYW4gQXBwbGljYXRpb24gZGV2ZWxvcGVyIG9yXG4gICAgICogT3BlcmF0b3IgdG8gaGF2ZSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LlxuICAgICAqL1xuICAgIFNwYW5TdGF0dXNDb2RlW1NwYW5TdGF0dXNDb2RlW1wiT0tcIl0gPSAxXSA9IFwiT0tcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgb3BlcmF0aW9uIGNvbnRhaW5zIGFuIGVycm9yLlxuICAgICAqL1xuICAgIFNwYW5TdGF0dXNDb2RlW1NwYW5TdGF0dXNDb2RlW1wiRVJST1JcIl0gPSAyXSA9IFwiRVJST1JcIjtcbn0pKFNwYW5TdGF0dXNDb2RlIHx8IChTcGFuU3RhdHVzQ29kZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0dXMuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IGdldEdsb2JhbCwgcmVnaXN0ZXJHbG9iYWwsIHVucmVnaXN0ZXJHbG9iYWwsIH0gZnJvbSAnLi4vaW50ZXJuYWwvZ2xvYmFsLXV0aWxzJztcbmltcG9ydCB7IFByb3h5VHJhY2VyUHJvdmlkZXIgfSBmcm9tICcuLi90cmFjZS9Qcm94eVRyYWNlclByb3ZpZGVyJztcbmltcG9ydCB7IGlzU3BhbkNvbnRleHRWYWxpZCwgd3JhcFNwYW5Db250ZXh0LCB9IGZyb20gJy4uL3RyYWNlL3NwYW5jb250ZXh0LXV0aWxzJztcbmltcG9ydCB7IGRlbGV0ZVNwYW4sIGdldEFjdGl2ZVNwYW4sIGdldFNwYW4sIGdldFNwYW5Db250ZXh0LCBzZXRTcGFuLCBzZXRTcGFuQ29udGV4dCwgfSBmcm9tICcuLi90cmFjZS9jb250ZXh0LXV0aWxzJztcbmltcG9ydCB7IERpYWdBUEkgfSBmcm9tICcuL2RpYWcnO1xudmFyIEFQSV9OQU1FID0gJ3RyYWNlJztcbi8qKlxuICogU2luZ2xldG9uIG9iamVjdCB3aGljaCByZXByZXNlbnRzIHRoZSBlbnRyeSBwb2ludCB0byB0aGUgT3BlblRlbGVtZXRyeSBUcmFjaW5nIEFQSVxuICovXG52YXIgVHJhY2VBUEkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIEVtcHR5IHByaXZhdGUgY29uc3RydWN0b3IgcHJldmVudHMgZW5kIHVzZXJzIGZyb20gY29uc3RydWN0aW5nIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBBUEkgKi9cbiAgICBmdW5jdGlvbiBUcmFjZUFQSSgpIHtcbiAgICAgICAgdGhpcy5fcHJveHlUcmFjZXJQcm92aWRlciA9IG5ldyBQcm94eVRyYWNlclByb3ZpZGVyKCk7XG4gICAgICAgIHRoaXMud3JhcFNwYW5Db250ZXh0ID0gd3JhcFNwYW5Db250ZXh0O1xuICAgICAgICB0aGlzLmlzU3BhbkNvbnRleHRWYWxpZCA9IGlzU3BhbkNvbnRleHRWYWxpZDtcbiAgICAgICAgdGhpcy5kZWxldGVTcGFuID0gZGVsZXRlU3BhbjtcbiAgICAgICAgdGhpcy5nZXRTcGFuID0gZ2V0U3BhbjtcbiAgICAgICAgdGhpcy5nZXRBY3RpdmVTcGFuID0gZ2V0QWN0aXZlU3BhbjtcbiAgICAgICAgdGhpcy5nZXRTcGFuQ29udGV4dCA9IGdldFNwYW5Db250ZXh0O1xuICAgICAgICB0aGlzLnNldFNwYW4gPSBzZXRTcGFuO1xuICAgICAgICB0aGlzLnNldFNwYW5Db250ZXh0ID0gc2V0U3BhbkNvbnRleHQ7XG4gICAgfVxuICAgIC8qKiBHZXQgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiB0aGUgVHJhY2UgQVBJICovXG4gICAgVHJhY2VBUEkuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IFRyYWNlQVBJKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjdXJyZW50IGdsb2JhbCB0cmFjZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSB0cmFjZXIgcHJvdmlkZXIgd2FzIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLCBlbHNlIGZhbHNlXG4gICAgICovXG4gICAgVHJhY2VBUEkucHJvdG90eXBlLnNldEdsb2JhbFRyYWNlclByb3ZpZGVyID0gZnVuY3Rpb24gKHByb3ZpZGVyKSB7XG4gICAgICAgIHZhciBzdWNjZXNzID0gcmVnaXN0ZXJHbG9iYWwoQVBJX05BTUUsIHRoaXMuX3Byb3h5VHJhY2VyUHJvdmlkZXIsIERpYWdBUEkuaW5zdGFuY2UoKSk7XG4gICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm94eVRyYWNlclByb3ZpZGVyLnNldERlbGVnYXRlKHByb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGdsb2JhbCB0cmFjZXIgcHJvdmlkZXIuXG4gICAgICovXG4gICAgVHJhY2VBUEkucHJvdG90eXBlLmdldFRyYWNlclByb3ZpZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZ2V0R2xvYmFsKEFQSV9OQU1FKSB8fCB0aGlzLl9wcm94eVRyYWNlclByb3ZpZGVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHRyYWNlciBmcm9tIHRoZSBnbG9iYWwgdHJhY2VyIHByb3ZpZGVyLlxuICAgICAqL1xuICAgIFRyYWNlQVBJLnByb3RvdHlwZS5nZXRUcmFjZXIgPSBmdW5jdGlvbiAobmFtZSwgdmVyc2lvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUcmFjZXJQcm92aWRlcigpLmdldFRyYWNlcihuYW1lLCB2ZXJzaW9uKTtcbiAgICB9O1xuICAgIC8qKiBSZW1vdmUgdGhlIGdsb2JhbCB0cmFjZXIgcHJvdmlkZXIgKi9cbiAgICBUcmFjZUFQSS5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdW5yZWdpc3Rlckdsb2JhbChBUElfTkFNRSwgRGlhZ0FQSS5pbnN0YW5jZSgpKTtcbiAgICAgICAgdGhpcy5fcHJveHlUcmFjZXJQcm92aWRlciA9IG5ldyBQcm94eVRyYWNlclByb3ZpZGVyKCk7XG4gICAgfTtcbiAgICByZXR1cm4gVHJhY2VBUEk7XG59KCkpO1xuZXhwb3J0IHsgVHJhY2VBUEkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNlLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBTcGxpdCBtb2R1bGUtbGV2ZWwgdmFyaWFibGUgZGVmaW5pdGlvbiBpbnRvIHNlcGFyYXRlIGZpbGVzIHRvIGFsbG93XG4vLyB0cmVlLXNoYWtpbmcgb24gZWFjaCBhcGkgaW5zdGFuY2UuXG5pbXBvcnQgeyBUcmFjZUFQSSB9IGZyb20gJy4vYXBpL3RyYWNlJztcbi8qKiBFbnRyeXBvaW50IGZvciB0cmFjZSBBUEkgKi9cbmV4cG9ydCB2YXIgdHJhY2UgPSBUcmFjZUFQSS5nZXRJbnN0YW5jZSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhY2UtYXBpLmpzLm1hcCIsInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHtcbiAgZm9yICh2YXIgbmFtZTE0IGluIGFsbClcbiAgICBfX2RlZlByb3AodGFyZ2V0LCBuYW1lMTQsIHsgZ2V0OiBhbGxbbmFtZTE0XSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbn07XG5cbi8vIHN0cmVhbXMvaW5kZXgudHNcbmltcG9ydCB7XG4gIGZvcm1hdEFzc2lzdGFudFN0cmVhbVBhcnQgYXMgZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydDIsXG4gIGZvcm1hdERhdGFTdHJlYW1QYXJ0IGFzIGZvcm1hdERhdGFTdHJlYW1QYXJ0NixcbiAgcGFyc2VBc3Npc3RhbnRTdHJlYW1QYXJ0LFxuICBwYXJzZURhdGFTdHJlYW1QYXJ0LFxuICBwcm9jZXNzRGF0YVN0cmVhbSxcbiAgcHJvY2Vzc1RleHRTdHJlYW1cbn0gZnJvbSBcIkBhaS1zZGsvdWktdXRpbHNcIjtcbmltcG9ydCB7IGdlbmVyYXRlSWQgYXMgZ2VuZXJhdGVJZDIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBjb3JlL2luZGV4LnRzXG5pbXBvcnQgeyBqc29uU2NoZW1hIH0gZnJvbSBcIkBhaS1zZGsvdWktdXRpbHNcIjtcblxuLy8gY29yZS9kYXRhLXN0cmVhbS9jcmVhdGUtZGF0YS1zdHJlYW0udHNcbmltcG9ydCB7IGZvcm1hdERhdGFTdHJlYW1QYXJ0IH0gZnJvbSBcIkBhaS1zZGsvdWktdXRpbHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZURhdGFTdHJlYW0oe1xuICBleGVjdXRlLFxuICBvbkVycm9yID0gKCkgPT4gXCJBbiBlcnJvciBvY2N1cnJlZC5cIlxuICAvLyBtYXNrIGVycm9yIG1lc3NhZ2VzIGZvciBzYWZldHkgYnkgZGVmYXVsdFxufSkge1xuICBsZXQgY29udHJvbGxlcjtcbiAgY29uc3Qgb25nb2luZ1N0cmVhbVByb21pc2VzID0gW107XG4gIGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgc3RhcnQoY29udHJvbGxlckFyZykge1xuICAgICAgY29udHJvbGxlciA9IGNvbnRyb2xsZXJBcmc7XG4gICAgfVxuICB9KTtcbiAgZnVuY3Rpb24gc2FmZUVucXVldWUoZGF0YSkge1xuICAgIHRyeSB7XG4gICAgICBjb250cm9sbGVyLmVucXVldWUoZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBleGVjdXRlKHtcbiAgICAgIHdyaXRlRGF0YShkYXRhKSB7XG4gICAgICAgIHNhZmVFbnF1ZXVlKGZvcm1hdERhdGFTdHJlYW1QYXJ0KFwiZGF0YVwiLCBbZGF0YV0pKTtcbiAgICAgIH0sXG4gICAgICB3cml0ZU1lc3NhZ2VBbm5vdGF0aW9uKGFubm90YXRpb24pIHtcbiAgICAgICAgc2FmZUVucXVldWUoZm9ybWF0RGF0YVN0cmVhbVBhcnQoXCJtZXNzYWdlX2Fubm90YXRpb25zXCIsIFthbm5vdGF0aW9uXSkpO1xuICAgICAgfSxcbiAgICAgIG1lcmdlKHN0cmVhbUFyZykge1xuICAgICAgICBvbmdvaW5nU3RyZWFtUHJvbWlzZXMucHVzaChcbiAgICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gc3RyZWFtQXJnLmdldFJlYWRlcigpO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIHNhZmVFbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSgpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgc2FmZUVucXVldWUoZm9ybWF0RGF0YVN0cmVhbVBhcnQoXCJlcnJvclwiLCBvbkVycm9yKGVycm9yKSkpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgb25FcnJvclxuICAgIH0pO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIG9uZ29pbmdTdHJlYW1Qcm9taXNlcy5wdXNoKFxuICAgICAgICByZXN1bHQuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgc2FmZUVucXVldWUoZm9ybWF0RGF0YVN0cmVhbVBhcnQoXCJlcnJvclwiLCBvbkVycm9yKGVycm9yKSkpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgc2FmZUVucXVldWUoZm9ybWF0RGF0YVN0cmVhbVBhcnQoXCJlcnJvclwiLCBvbkVycm9yKGVycm9yKSkpO1xuICB9XG4gIGNvbnN0IHdhaXRGb3JTdHJlYW1zID0gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcbiAgICB3aGlsZSAob25nb2luZ1N0cmVhbVByb21pc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGF3YWl0IG9uZ29pbmdTdHJlYW1Qcm9taXNlcy5zaGlmdCgpO1xuICAgIH1cbiAgICByZXNvbHZlKCk7XG4gIH0pO1xuICB3YWl0Rm9yU3RyZWFtcy5maW5hbGx5KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHN0cmVhbTtcbn1cblxuLy8gY29yZS91dGlsL3ByZXBhcmUtcmVzcG9uc2UtaGVhZGVycy50c1xuZnVuY3Rpb24gcHJlcGFyZVJlc3BvbnNlSGVhZGVycyhoZWFkZXJzLCB7XG4gIGNvbnRlbnRUeXBlLFxuICBkYXRhU3RyZWFtVmVyc2lvblxufSkge1xuICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBuZXcgSGVhZGVycyhoZWFkZXJzICE9IG51bGwgPyBoZWFkZXJzIDoge30pO1xuICBpZiAoIXJlc3BvbnNlSGVhZGVycy5oYXMoXCJDb250ZW50LVR5cGVcIikpIHtcbiAgICByZXNwb25zZUhlYWRlcnMuc2V0KFwiQ29udGVudC1UeXBlXCIsIGNvbnRlbnRUeXBlKTtcbiAgfVxuICBpZiAoZGF0YVN0cmVhbVZlcnNpb24gIT09IHZvaWQgMCkge1xuICAgIHJlc3BvbnNlSGVhZGVycy5zZXQoXCJYLVZlcmNlbC1BSS1EYXRhLVN0cmVhbVwiLCBkYXRhU3RyZWFtVmVyc2lvbik7XG4gIH1cbiAgcmV0dXJuIHJlc3BvbnNlSGVhZGVycztcbn1cblxuLy8gY29yZS9kYXRhLXN0cmVhbS9jcmVhdGUtZGF0YS1zdHJlYW0tcmVzcG9uc2UudHNcbmZ1bmN0aW9uIGNyZWF0ZURhdGFTdHJlYW1SZXNwb25zZSh7XG4gIHN0YXR1cyxcbiAgc3RhdHVzVGV4dCxcbiAgaGVhZGVycyxcbiAgZXhlY3V0ZSxcbiAgb25FcnJvclxufSkge1xuICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgIGNyZWF0ZURhdGFTdHJlYW0oeyBleGVjdXRlLCBvbkVycm9yIH0pLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKSxcbiAgICB7XG4gICAgICBzdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0LFxuICAgICAgaGVhZGVyczogcHJlcGFyZVJlc3BvbnNlSGVhZGVycyhoZWFkZXJzLCB7XG4gICAgICAgIGNvbnRlbnRUeXBlOiBcInRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgICAgZGF0YVN0cmVhbVZlcnNpb246IFwidjFcIlxuICAgICAgfSlcbiAgICB9XG4gICk7XG59XG5cbi8vIGNvcmUvdXRpbC9wcmVwYXJlLW91dGdvaW5nLWh0dHAtaGVhZGVycy50c1xuZnVuY3Rpb24gcHJlcGFyZU91dGdvaW5nSHR0cEhlYWRlcnMoaGVhZGVycywge1xuICBjb250ZW50VHlwZSxcbiAgZGF0YVN0cmVhbVZlcnNpb25cbn0pIHtcbiAgY29uc3Qgb3V0Z29pbmdIZWFkZXJzID0ge307XG4gIGlmIChoZWFkZXJzICE9IG51bGwpIHtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhoZWFkZXJzKSkge1xuICAgICAgb3V0Z29pbmdIZWFkZXJzW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKG91dGdvaW5nSGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9PSBudWxsKSB7XG4gICAgb3V0Z29pbmdIZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID0gY29udGVudFR5cGU7XG4gIH1cbiAgaWYgKGRhdGFTdHJlYW1WZXJzaW9uICE9PSB2b2lkIDApIHtcbiAgICBvdXRnb2luZ0hlYWRlcnNbXCJYLVZlcmNlbC1BSS1EYXRhLVN0cmVhbVwiXSA9IGRhdGFTdHJlYW1WZXJzaW9uO1xuICB9XG4gIHJldHVybiBvdXRnb2luZ0hlYWRlcnM7XG59XG5cbi8vIGNvcmUvdXRpbC93cml0ZS10by1zZXJ2ZXItcmVzcG9uc2UudHNcbmZ1bmN0aW9uIHdyaXRlVG9TZXJ2ZXJSZXNwb25zZSh7XG4gIHJlc3BvbnNlLFxuICBzdGF0dXMsXG4gIHN0YXR1c1RleHQsXG4gIGhlYWRlcnMsXG4gIHN0cmVhbVxufSkge1xuICByZXNwb25zZS53cml0ZUhlYWQoc3RhdHVzICE9IG51bGwgPyBzdGF0dXMgOiAyMDAsIHN0YXR1c1RleHQsIGhlYWRlcnMpO1xuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIGNvbnN0IHJlYWQgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChkb25lKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICByZXNwb25zZS53cml0ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH0gZmluYWxseSB7XG4gICAgICByZXNwb25zZS5lbmQoKTtcbiAgICB9XG4gIH07XG4gIHJlYWQoKTtcbn1cblxuLy8gY29yZS9kYXRhLXN0cmVhbS9waXBlLWRhdGEtc3RyZWFtLXRvLXJlc3BvbnNlLnRzXG5mdW5jdGlvbiBwaXBlRGF0YVN0cmVhbVRvUmVzcG9uc2UocmVzcG9uc2UsIHtcbiAgc3RhdHVzLFxuICBzdGF0dXNUZXh0LFxuICBoZWFkZXJzLFxuICBleGVjdXRlLFxuICBvbkVycm9yXG59KSB7XG4gIHdyaXRlVG9TZXJ2ZXJSZXNwb25zZSh7XG4gICAgcmVzcG9uc2UsXG4gICAgc3RhdHVzLFxuICAgIHN0YXR1c1RleHQsXG4gICAgaGVhZGVyczogcHJlcGFyZU91dGdvaW5nSHR0cEhlYWRlcnMoaGVhZGVycywge1xuICAgICAgY29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgZGF0YVN0cmVhbVZlcnNpb246IFwidjFcIlxuICAgIH0pLFxuICAgIHN0cmVhbTogY3JlYXRlRGF0YVN0cmVhbSh7IGV4ZWN1dGUsIG9uRXJyb3IgfSkucGlwZVRocm91Z2goXG4gICAgICBuZXcgVGV4dEVuY29kZXJTdHJlYW0oKVxuICAgIClcbiAgfSk7XG59XG5cbi8vIGVycm9ycy9pbnZhbGlkLWFyZ3VtZW50LWVycm9yLnRzXG5pbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBuYW1lID0gXCJBSV9JbnZhbGlkQXJndW1lbnRFcnJvclwiO1xudmFyIG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG52YXIgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xudmFyIF9hO1xudmFyIEludmFsaWRBcmd1bWVudEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHBhcmFtZXRlcixcbiAgICB2YWx1ZSxcbiAgICBtZXNzYWdlXG4gIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lLFxuICAgICAgbWVzc2FnZTogYEludmFsaWQgYXJndW1lbnQgZm9yIHBhcmFtZXRlciAke3BhcmFtZXRlcn06ICR7bWVzc2FnZX1gXG4gICAgfSk7XG4gICAgdGhpc1tfYV0gPSB0cnVlO1xuICAgIHRoaXMucGFyYW1ldGVyID0gcGFyYW1ldGVyO1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufTtcbl9hID0gc3ltYm9sO1xuXG4vLyB1dGlsL3JldHJ5LXdpdGgtZXhwb25lbnRpYWwtYmFja29mZi50c1xuaW1wb3J0IHsgQVBJQ2FsbEVycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmltcG9ydCB7IGdldEVycm9yTWVzc2FnZSwgaXNBYm9ydEVycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gdXRpbC9kZWxheS50c1xuYXN5bmMgZnVuY3Rpb24gZGVsYXkoZGVsYXlJbk1zKSB7XG4gIHJldHVybiBkZWxheUluTXMgPT0gbnVsbCA/IFByb21pc2UucmVzb2x2ZSgpIDogbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXlJbk1zKSk7XG59XG5cbi8vIHV0aWwvcmV0cnktZXJyb3IudHNcbmltcG9ydCB7IEFJU0RLRXJyb3IgYXMgQUlTREtFcnJvcjIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xudmFyIG5hbWUyID0gXCJBSV9SZXRyeUVycm9yXCI7XG52YXIgbWFya2VyMiA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMn1gO1xudmFyIHN5bWJvbDIgPSBTeW1ib2wuZm9yKG1hcmtlcjIpO1xudmFyIF9hMjtcbnZhciBSZXRyeUVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yMiB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlLFxuICAgIHJlYXNvbixcbiAgICBlcnJvcnNcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTIsIG1lc3NhZ2UgfSk7XG4gICAgdGhpc1tfYTJdID0gdHJ1ZTtcbiAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICB0aGlzLmxhc3RFcnJvciA9IGVycm9yc1tlcnJvcnMubGVuZ3RoIC0gMV07XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvcjIuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIyKTtcbiAgfVxufTtcbl9hMiA9IHN5bWJvbDI7XG5cbi8vIHV0aWwvcmV0cnktd2l0aC1leHBvbmVudGlhbC1iYWNrb2ZmLnRzXG52YXIgcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmID0gKHtcbiAgbWF4UmV0cmllcyA9IDIsXG4gIGluaXRpYWxEZWxheUluTXMgPSAyZTMsXG4gIGJhY2tvZmZGYWN0b3IgPSAyXG59ID0ge30pID0+IGFzeW5jIChmKSA9PiBfcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmKGYsIHtcbiAgbWF4UmV0cmllcyxcbiAgZGVsYXlJbk1zOiBpbml0aWFsRGVsYXlJbk1zLFxuICBiYWNrb2ZmRmFjdG9yXG59KTtcbmFzeW5jIGZ1bmN0aW9uIF9yZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmYoZiwge1xuICBtYXhSZXRyaWVzLFxuICBkZWxheUluTXMsXG4gIGJhY2tvZmZGYWN0b3Jcbn0sIGVycm9ycyA9IFtdKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IGYoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGlmIChtYXhSZXRyaWVzID09PSAwKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZ2V0RXJyb3JNZXNzYWdlKGVycm9yKTtcbiAgICBjb25zdCBuZXdFcnJvcnMgPSBbLi4uZXJyb3JzLCBlcnJvcl07XG4gICAgY29uc3QgdHJ5TnVtYmVyID0gbmV3RXJyb3JzLmxlbmd0aDtcbiAgICBpZiAodHJ5TnVtYmVyID4gbWF4UmV0cmllcykge1xuICAgICAgdGhyb3cgbmV3IFJldHJ5RXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBgRmFpbGVkIGFmdGVyICR7dHJ5TnVtYmVyfSBhdHRlbXB0cy4gTGFzdCBlcnJvcjogJHtlcnJvck1lc3NhZ2V9YCxcbiAgICAgICAgcmVhc29uOiBcIm1heFJldHJpZXNFeGNlZWRlZFwiLFxuICAgICAgICBlcnJvcnM6IG5ld0Vycm9yc1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIEFQSUNhbGxFcnJvci5pc0luc3RhbmNlKGVycm9yKSAmJiBlcnJvci5pc1JldHJ5YWJsZSA9PT0gdHJ1ZSAmJiB0cnlOdW1iZXIgPD0gbWF4UmV0cmllcykge1xuICAgICAgYXdhaXQgZGVsYXkoZGVsYXlJbk1zKTtcbiAgICAgIHJldHVybiBfcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmKFxuICAgICAgICBmLFxuICAgICAgICB7IG1heFJldHJpZXMsIGRlbGF5SW5NczogYmFja29mZkZhY3RvciAqIGRlbGF5SW5NcywgYmFja29mZkZhY3RvciB9LFxuICAgICAgICBuZXdFcnJvcnNcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0cnlOdW1iZXIgPT09IDEpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgUmV0cnlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgRmFpbGVkIGFmdGVyICR7dHJ5TnVtYmVyfSBhdHRlbXB0cyB3aXRoIG5vbi1yZXRyeWFibGUgZXJyb3I6ICcke2Vycm9yTWVzc2FnZX0nYCxcbiAgICAgIHJlYXNvbjogXCJlcnJvck5vdFJldHJ5YWJsZVwiLFxuICAgICAgZXJyb3JzOiBuZXdFcnJvcnNcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBjb3JlL3Byb21wdC9wcmVwYXJlLXJldHJpZXMudHNcbmZ1bmN0aW9uIHByZXBhcmVSZXRyaWVzKHtcbiAgbWF4UmV0cmllc1xufSkge1xuICBpZiAobWF4UmV0cmllcyAhPSBudWxsKSB7XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG1heFJldHJpZXMpKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwibWF4UmV0cmllc1wiLFxuICAgICAgICB2YWx1ZTogbWF4UmV0cmllcyxcbiAgICAgICAgbWVzc2FnZTogXCJtYXhSZXRyaWVzIG11c3QgYmUgYW4gaW50ZWdlclwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKG1heFJldHJpZXMgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwibWF4UmV0cmllc1wiLFxuICAgICAgICB2YWx1ZTogbWF4UmV0cmllcyxcbiAgICAgICAgbWVzc2FnZTogXCJtYXhSZXRyaWVzIG11c3QgYmUgPj0gMFwiXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgY29uc3QgbWF4UmV0cmllc1Jlc3VsdCA9IG1heFJldHJpZXMgIT0gbnVsbCA/IG1heFJldHJpZXMgOiAyO1xuICByZXR1cm4ge1xuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNSZXN1bHQsXG4gICAgcmV0cnk6IHJldHJ5V2l0aEV4cG9uZW50aWFsQmFja29mZih7IG1heFJldHJpZXM6IG1heFJldHJpZXNSZXN1bHQgfSlcbiAgfTtcbn1cblxuLy8gY29yZS90ZWxlbWV0cnkvYXNzZW1ibGUtb3BlcmF0aW9uLW5hbWUudHNcbmZ1bmN0aW9uIGFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gIG9wZXJhdGlvbklkLFxuICB0ZWxlbWV0cnlcbn0pIHtcbiAgcmV0dXJuIHtcbiAgICAvLyBzdGFuZGFyZGl6ZWQgb3BlcmF0aW9uIGFuZCByZXNvdXJjZSBuYW1lOlxuICAgIFwib3BlcmF0aW9uLm5hbWVcIjogYCR7b3BlcmF0aW9uSWR9JHsodGVsZW1ldHJ5ID09IG51bGwgPyB2b2lkIDAgOiB0ZWxlbWV0cnkuZnVuY3Rpb25JZCkgIT0gbnVsbCA/IGAgJHt0ZWxlbWV0cnkuZnVuY3Rpb25JZH1gIDogXCJcIn1gLFxuICAgIFwicmVzb3VyY2UubmFtZVwiOiB0ZWxlbWV0cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHRlbGVtZXRyeS5mdW5jdGlvbklkLFxuICAgIC8vIGRldGFpbGVkLCBBSSBTREsgc3BlY2lmaWMgZGF0YTpcbiAgICBcImFpLm9wZXJhdGlvbklkXCI6IG9wZXJhdGlvbklkLFxuICAgIFwiYWkudGVsZW1ldHJ5LmZ1bmN0aW9uSWRcIjogdGVsZW1ldHJ5ID09IG51bGwgPyB2b2lkIDAgOiB0ZWxlbWV0cnkuZnVuY3Rpb25JZFxuICB9O1xufVxuXG4vLyBjb3JlL3RlbGVtZXRyeS9nZXQtYmFzZS10ZWxlbWV0cnktYXR0cmlidXRlcy50c1xuZnVuY3Rpb24gZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICBtb2RlbCxcbiAgc2V0dGluZ3MsXG4gIHRlbGVtZXRyeSxcbiAgaGVhZGVyc1xufSkge1xuICB2YXIgX2ExNDtcbiAgcmV0dXJuIHtcbiAgICBcImFpLm1vZGVsLnByb3ZpZGVyXCI6IG1vZGVsLnByb3ZpZGVyLFxuICAgIFwiYWkubW9kZWwuaWRcIjogbW9kZWwubW9kZWxJZCxcbiAgICAvLyBzZXR0aW5nczpcbiAgICAuLi5PYmplY3QuZW50cmllcyhzZXR0aW5ncykucmVkdWNlKChhdHRyaWJ1dGVzLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGF0dHJpYnV0ZXNbYGFpLnNldHRpbmdzLiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9LCB7fSksXG4gICAgLy8gYWRkIG1ldGFkYXRhIGFzIGF0dHJpYnV0ZXM6XG4gICAgLi4uT2JqZWN0LmVudHJpZXMoKF9hMTQgPSB0ZWxlbWV0cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHRlbGVtZXRyeS5tZXRhZGF0YSkgIT0gbnVsbCA/IF9hMTQgOiB7fSkucmVkdWNlKFxuICAgICAgKGF0dHJpYnV0ZXMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBhdHRyaWJ1dGVzW2BhaS50ZWxlbWV0cnkubWV0YWRhdGEuJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgICB9LFxuICAgICAge31cbiAgICApLFxuICAgIC8vIHJlcXVlc3QgaGVhZGVyc1xuICAgIC4uLk9iamVjdC5lbnRyaWVzKGhlYWRlcnMgIT0gbnVsbCA/IGhlYWRlcnMgOiB7fSkucmVkdWNlKChhdHRyaWJ1dGVzLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGF0dHJpYnV0ZXNbYGFpLnJlcXVlc3QuaGVhZGVycy4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfSwge30pXG4gIH07XG59XG5cbi8vIGNvcmUvdGVsZW1ldHJ5L2dldC10cmFjZXIudHNcbmltcG9ydCB7IHRyYWNlIH0gZnJvbSBcIkBvcGVudGVsZW1ldHJ5L2FwaVwiO1xuXG4vLyBjb3JlL3RlbGVtZXRyeS9ub29wLXRyYWNlci50c1xudmFyIG5vb3BUcmFjZXIgPSB7XG4gIHN0YXJ0U3BhbigpIHtcbiAgICByZXR1cm4gbm9vcFNwYW47XG4gIH0sXG4gIHN0YXJ0QWN0aXZlU3BhbihuYW1lMTQsIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICBpZiAodHlwZW9mIGFyZzEgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIGFyZzEobm9vcFNwYW4pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFyZzIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIGFyZzIobm9vcFNwYW4pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFyZzMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIGFyZzMobm9vcFNwYW4pO1xuICAgIH1cbiAgfVxufTtcbnZhciBub29wU3BhbiA9IHtcbiAgc3BhbkNvbnRleHQoKSB7XG4gICAgcmV0dXJuIG5vb3BTcGFuQ29udGV4dDtcbiAgfSxcbiAgc2V0QXR0cmlidXRlKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBzZXRBdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBhZGRFdmVudCgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgYWRkTGluaygpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgYWRkTGlua3MoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIHNldFN0YXR1cygpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgdXBkYXRlTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgZW5kKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBpc1JlY29yZGluZygpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHJlY29yZEV4Y2VwdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcbnZhciBub29wU3BhbkNvbnRleHQgPSB7XG4gIHRyYWNlSWQ6IFwiXCIsXG4gIHNwYW5JZDogXCJcIixcbiAgdHJhY2VGbGFnczogMFxufTtcblxuLy8gY29yZS90ZWxlbWV0cnkvZ2V0LXRyYWNlci50c1xuZnVuY3Rpb24gZ2V0VHJhY2VyKHtcbiAgaXNFbmFibGVkID0gZmFsc2UsXG4gIHRyYWNlclxufSA9IHt9KSB7XG4gIGlmICghaXNFbmFibGVkKSB7XG4gICAgcmV0dXJuIG5vb3BUcmFjZXI7XG4gIH1cbiAgaWYgKHRyYWNlcikge1xuICAgIHJldHVybiB0cmFjZXI7XG4gIH1cbiAgcmV0dXJuIHRyYWNlLmdldFRyYWNlcihcImFpXCIpO1xufVxuXG4vLyBjb3JlL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbi50c1xuaW1wb3J0IHsgU3BhblN0YXR1c0NvZGUgfSBmcm9tIFwiQG9wZW50ZWxlbWV0cnkvYXBpXCI7XG5mdW5jdGlvbiByZWNvcmRTcGFuKHtcbiAgbmFtZTogbmFtZTE0LFxuICB0cmFjZXIsXG4gIGF0dHJpYnV0ZXMsXG4gIGZuLFxuICBlbmRXaGVuRG9uZSA9IHRydWVcbn0pIHtcbiAgcmV0dXJuIHRyYWNlci5zdGFydEFjdGl2ZVNwYW4obmFtZTE0LCB7IGF0dHJpYnV0ZXMgfSwgYXN5bmMgKHNwYW4pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm4oc3Bhbik7XG4gICAgICBpZiAoZW5kV2hlbkRvbmUpIHtcbiAgICAgICAgc3Bhbi5lbmQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgc3Bhbi5yZWNvcmRFeGNlcHRpb24oe1xuICAgICAgICAgICAgbmFtZTogZXJyb3IubmFtZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICBzdGFjazogZXJyb3Iuc3RhY2tcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzcGFuLnNldFN0YXR1cyh7XG4gICAgICAgICAgICBjb2RlOiBTcGFuU3RhdHVzQ29kZS5FUlJPUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzcGFuLnNldFN0YXR1cyh7IGNvZGU6IFNwYW5TdGF0dXNDb2RlLkVSUk9SIH0pO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzcGFuLmVuZCgpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gY29yZS90ZWxlbWV0cnkvc2VsZWN0LXRlbGVtZXRyeS1hdHRyaWJ1dGVzLnRzXG5mdW5jdGlvbiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgdGVsZW1ldHJ5LFxuICBhdHRyaWJ1dGVzXG59KSB7XG4gIGlmICgodGVsZW1ldHJ5ID09IG51bGwgPyB2b2lkIDAgOiB0ZWxlbWV0cnkuaXNFbmFibGVkKSAhPT0gdHJ1ZSkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICByZXR1cm4gT2JqZWN0LmVudHJpZXMoYXR0cmlidXRlcykucmVkdWNlKChhdHRyaWJ1dGVzMiwgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBhdHRyaWJ1dGVzMjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBcImlucHV0XCIgaW4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLmlucHV0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGlmICgodGVsZW1ldHJ5ID09IG51bGwgPyB2b2lkIDAgOiB0ZWxlbWV0cnkucmVjb3JkSW5wdXRzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXMyO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUuaW5wdXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHZvaWQgMCA/IGF0dHJpYnV0ZXMyIDogeyAuLi5hdHRyaWJ1dGVzMiwgW2tleV06IHJlc3VsdCB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIFwib3V0cHV0XCIgaW4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLm91dHB1dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBpZiAoKHRlbGVtZXRyeSA9PSBudWxsID8gdm9pZCAwIDogdGVsZW1ldHJ5LnJlY29yZE91dHB1dHMpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlczI7XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZS5vdXRwdXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHZvaWQgMCA/IGF0dHJpYnV0ZXMyIDogeyAuLi5hdHRyaWJ1dGVzMiwgW2tleV06IHJlc3VsdCB9O1xuICAgIH1cbiAgICByZXR1cm4geyAuLi5hdHRyaWJ1dGVzMiwgW2tleV06IHZhbHVlIH07XG4gIH0sIHt9KTtcbn1cblxuLy8gY29yZS9lbWJlZC9lbWJlZC50c1xuYXN5bmMgZnVuY3Rpb24gZW1iZWQoe1xuICBtb2RlbCxcbiAgdmFsdWUsXG4gIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzLFxuICBleHBlcmltZW50YWxfdGVsZW1ldHJ5OiB0ZWxlbWV0cnlcbn0pIHtcbiAgY29uc3QgeyBtYXhSZXRyaWVzLCByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoeyBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnIH0pO1xuICBjb25zdCBiYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyA9IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICBtb2RlbCxcbiAgICB0ZWxlbWV0cnksXG4gICAgaGVhZGVycyxcbiAgICBzZXR0aW5nczogeyBtYXhSZXRyaWVzIH1cbiAgfSk7XG4gIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcih0ZWxlbWV0cnkpO1xuICByZXR1cm4gcmVjb3JkU3Bhbih7XG4gICAgbmFtZTogXCJhaS5lbWJlZFwiLFxuICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgdGVsZW1ldHJ5LFxuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoeyBvcGVyYXRpb25JZDogXCJhaS5lbWJlZFwiLCB0ZWxlbWV0cnkgfSksXG4gICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICBcImFpLnZhbHVlXCI6IHsgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSB9XG4gICAgICB9XG4gICAgfSksXG4gICAgdHJhY2VyLFxuICAgIGZuOiBhc3luYyAoc3BhbikgPT4ge1xuICAgICAgY29uc3QgeyBlbWJlZGRpbmcsIHVzYWdlLCByYXdSZXNwb25zZSB9ID0gYXdhaXQgcmV0cnkoXG4gICAgICAgICgpID0+IChcbiAgICAgICAgICAvLyBuZXN0ZWQgc3BhbnMgdG8gYWxpZ24gd2l0aCB0aGUgZW1iZWRNYW55IHRlbGVtZXRyeSBkYXRhOlxuICAgICAgICAgIHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgbmFtZTogXCJhaS5lbWJlZC5kb0VtYmVkXCIsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiBcImFpLmVtYmVkLmRvRW1iZWRcIixcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAgICAgICBcImFpLnZhbHVlc1wiOiB7IGlucHV0OiAoKSA9PiBbSlNPTi5zdHJpbmdpZnkodmFsdWUpXSB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgZm46IGFzeW5jIChkb0VtYmVkU3BhbikgPT4ge1xuICAgICAgICAgICAgICB2YXIgX2ExNDtcbiAgICAgICAgICAgICAgY29uc3QgbW9kZWxSZXNwb25zZSA9IGF3YWl0IG1vZGVsLmRvRW1iZWQoe1xuICAgICAgICAgICAgICAgIHZhbHVlczogW3ZhbHVlXSxcbiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBjb25zdCBlbWJlZGRpbmcyID0gbW9kZWxSZXNwb25zZS5lbWJlZGRpbmdzWzBdO1xuICAgICAgICAgICAgICBjb25zdCB1c2FnZTIgPSAoX2ExNCA9IG1vZGVsUmVzcG9uc2UudXNhZ2UpICE9IG51bGwgPyBfYTE0IDogeyB0b2tlbnM6IE5hTiB9O1xuICAgICAgICAgICAgICBkb0VtYmVkU3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICBcImFpLmVtYmVkZGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gbW9kZWxSZXNwb25zZS5lbWJlZGRpbmdzLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgIChlbWJlZGRpbmczKSA9PiBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmczKVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS50b2tlbnNcIjogdXNhZ2UyLnRva2Vuc1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZW1iZWRkaW5nOiBlbWJlZGRpbmcyLFxuICAgICAgICAgICAgICAgIHVzYWdlOiB1c2FnZTIsXG4gICAgICAgICAgICAgICAgcmF3UmVzcG9uc2U6IG1vZGVsUmVzcG9uc2UucmF3UmVzcG9uc2VcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgXCJhaS5lbWJlZGRpbmdcIjogeyBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KGVtYmVkZGluZykgfSxcbiAgICAgICAgICAgIFwiYWkudXNhZ2UudG9rZW5zXCI6IHVzYWdlLnRva2Vuc1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICByZXR1cm4gbmV3IERlZmF1bHRFbWJlZFJlc3VsdCh7IHZhbHVlLCBlbWJlZGRpbmcsIHVzYWdlLCByYXdSZXNwb25zZSB9KTtcbiAgICB9XG4gIH0pO1xufVxudmFyIERlZmF1bHRFbWJlZFJlc3VsdCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMudmFsdWUgPSBvcHRpb25zLnZhbHVlO1xuICAgIHRoaXMuZW1iZWRkaW5nID0gb3B0aW9ucy5lbWJlZGRpbmc7XG4gICAgdGhpcy51c2FnZSA9IG9wdGlvbnMudXNhZ2U7XG4gICAgdGhpcy5yYXdSZXNwb25zZSA9IG9wdGlvbnMucmF3UmVzcG9uc2U7XG4gIH1cbn07XG5cbi8vIGNvcmUvdXRpbC9zcGxpdC1hcnJheS50c1xuZnVuY3Rpb24gc3BsaXRBcnJheShhcnJheSwgY2h1bmtTaXplKSB7XG4gIGlmIChjaHVua1NpemUgPD0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImNodW5rU2l6ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwXCIpO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSArPSBjaHVua1NpemUpIHtcbiAgICByZXN1bHQucHVzaChhcnJheS5zbGljZShpLCBpICsgY2h1bmtTaXplKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gY29yZS9lbWJlZC9lbWJlZC1tYW55LnRzXG5hc3luYyBmdW5jdGlvbiBlbWJlZE1hbnkoe1xuICBtb2RlbCxcbiAgdmFsdWVzLFxuICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICBhYm9ydFNpZ25hbCxcbiAgaGVhZGVycyxcbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeTogdGVsZW1ldHJ5XG59KSB7XG4gIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHsgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyB9KTtcbiAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnMsXG4gICAgc2V0dGluZ3M6IHsgbWF4UmV0cmllcyB9XG4gIH0pO1xuICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIodGVsZW1ldHJ5KTtcbiAgcmV0dXJuIHJlY29yZFNwYW4oe1xuICAgIG5hbWU6IFwiYWkuZW1iZWRNYW55XCIsXG4gICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICB0ZWxlbWV0cnksXG4gICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7IG9wZXJhdGlvbklkOiBcImFpLmVtYmVkTWFueVwiLCB0ZWxlbWV0cnkgfSksXG4gICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgIFwiYWkudmFsdWVzXCI6IHtcbiAgICAgICAgICBpbnB1dDogKCkgPT4gdmFsdWVzLm1hcCgodmFsdWUpID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIHRyYWNlcixcbiAgICBmbjogYXN5bmMgKHNwYW4pID0+IHtcbiAgICAgIGNvbnN0IG1heEVtYmVkZGluZ3NQZXJDYWxsID0gbW9kZWwubWF4RW1iZWRkaW5nc1BlckNhbGw7XG4gICAgICBpZiAobWF4RW1iZWRkaW5nc1BlckNhbGwgPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB7IGVtYmVkZGluZ3M6IGVtYmVkZGluZ3MyLCB1c2FnZSB9ID0gYXdhaXQgcmV0cnkoKCkgPT4ge1xuICAgICAgICAgIHJldHVybiByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgIG5hbWU6IFwiYWkuZW1iZWRNYW55LmRvRW1iZWRcIixcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6IFwiYWkuZW1iZWRNYW55LmRvRW1iZWRcIixcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAgICAgICBcImFpLnZhbHVlc1wiOiB7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gdmFsdWVzLm1hcCgodmFsdWUpID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgZm46IGFzeW5jIChkb0VtYmVkU3BhbikgPT4ge1xuICAgICAgICAgICAgICB2YXIgX2ExNDtcbiAgICAgICAgICAgICAgY29uc3QgbW9kZWxSZXNwb25zZSA9IGF3YWl0IG1vZGVsLmRvRW1iZWQoe1xuICAgICAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBjb25zdCBlbWJlZGRpbmdzMyA9IG1vZGVsUmVzcG9uc2UuZW1iZWRkaW5ncztcbiAgICAgICAgICAgICAgY29uc3QgdXNhZ2UyID0gKF9hMTQgPSBtb2RlbFJlc3BvbnNlLnVzYWdlKSAhPSBudWxsID8gX2ExNCA6IHsgdG9rZW5zOiBOYU4gfTtcbiAgICAgICAgICAgICAgZG9FbWJlZFNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJhaS5lbWJlZGRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IGVtYmVkZGluZ3MzLm1hcCgoZW1iZWRkaW5nKSA9PiBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcImFpLnVzYWdlLnRva2Vuc1wiOiB1c2FnZTIudG9rZW5zXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgZW1iZWRkaW5nczogZW1iZWRkaW5nczMsIHVzYWdlOiB1c2FnZTIgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgXCJhaS5lbWJlZGRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IGVtYmVkZGluZ3MyLm1hcCgoZW1iZWRkaW5nKSA9PiBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpKVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBcImFpLnVzYWdlLnRva2Vuc1wiOiB1c2FnZS50b2tlbnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRFbWJlZE1hbnlSZXN1bHQoeyB2YWx1ZXMsIGVtYmVkZGluZ3M6IGVtYmVkZGluZ3MyLCB1c2FnZSB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlQ2h1bmtzID0gc3BsaXRBcnJheSh2YWx1ZXMsIG1heEVtYmVkZGluZ3NQZXJDYWxsKTtcbiAgICAgIGNvbnN0IGVtYmVkZGluZ3MgPSBbXTtcbiAgICAgIGxldCB0b2tlbnMgPSAwO1xuICAgICAgZm9yIChjb25zdCBjaHVuayBvZiB2YWx1ZUNodW5rcykge1xuICAgICAgICBjb25zdCB7IGVtYmVkZGluZ3M6IHJlc3BvbnNlRW1iZWRkaW5ncywgdXNhZ2UgfSA9IGF3YWl0IHJldHJ5KCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICBuYW1lOiBcImFpLmVtYmVkTWFueS5kb0VtYmVkXCIsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiBcImFpLmVtYmVkTWFueS5kb0VtYmVkXCIsXG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnlcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgICAgICAgXCJhaS52YWx1ZXNcIjoge1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IGNodW5rLm1hcCgodmFsdWUpID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgZm46IGFzeW5jIChkb0VtYmVkU3BhbikgPT4ge1xuICAgICAgICAgICAgICB2YXIgX2ExNDtcbiAgICAgICAgICAgICAgY29uc3QgbW9kZWxSZXNwb25zZSA9IGF3YWl0IG1vZGVsLmRvRW1iZWQoe1xuICAgICAgICAgICAgICAgIHZhbHVlczogY2h1bmssXG4gICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc3QgZW1iZWRkaW5nczIgPSBtb2RlbFJlc3BvbnNlLmVtYmVkZGluZ3M7XG4gICAgICAgICAgICAgIGNvbnN0IHVzYWdlMiA9IChfYTE0ID0gbW9kZWxSZXNwb25zZS51c2FnZSkgIT0gbnVsbCA/IF9hMTQgOiB7IHRva2VuczogTmFOIH07XG4gICAgICAgICAgICAgIGRvRW1iZWRTcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiYWkuZW1iZWRkaW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBlbWJlZGRpbmdzMi5tYXAoKGVtYmVkZGluZykgPT4gSlNPTi5zdHJpbmdpZnkoZW1iZWRkaW5nKSlcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS50b2tlbnNcIjogdXNhZ2UyLnRva2Vuc1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiB7IGVtYmVkZGluZ3M6IGVtYmVkZGluZ3MyLCB1c2FnZTogdXNhZ2UyIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbWJlZGRpbmdzLnB1c2goLi4ucmVzcG9uc2VFbWJlZGRpbmdzKTtcbiAgICAgICAgdG9rZW5zICs9IHVzYWdlLnRva2VucztcbiAgICAgIH1cbiAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIFwiYWkuZW1iZWRkaW5nc1wiOiB7XG4gICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gZW1iZWRkaW5ncy5tYXAoKGVtYmVkZGluZykgPT4gSlNPTi5zdHJpbmdpZnkoZW1iZWRkaW5nKSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImFpLnVzYWdlLnRva2Vuc1wiOiB0b2tlbnNcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0RW1iZWRNYW55UmVzdWx0KHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICBlbWJlZGRpbmdzLFxuICAgICAgICB1c2FnZTogeyB0b2tlbnMgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbnZhciBEZWZhdWx0RW1iZWRNYW55UmVzdWx0ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy52YWx1ZXMgPSBvcHRpb25zLnZhbHVlcztcbiAgICB0aGlzLmVtYmVkZGluZ3MgPSBvcHRpb25zLmVtYmVkZGluZ3M7XG4gICAgdGhpcy51c2FnZSA9IG9wdGlvbnMudXNhZ2U7XG4gIH1cbn07XG5cbi8vIGNvcmUvZ2VuZXJhdGUtaW1hZ2UvZ2VuZXJhdGUtaW1hZ2UudHNcbmltcG9ydCB7XG4gIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXksXG4gIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjRcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlSW1hZ2Uoe1xuICBtb2RlbCxcbiAgcHJvbXB0LFxuICBuID0gMSxcbiAgc2l6ZSxcbiAgYXNwZWN0UmF0aW8sXG4gIHNlZWQsXG4gIHByb3ZpZGVyT3B0aW9ucyxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnNcbn0pIHtcbiAgdmFyIF9hMTQ7XG4gIGNvbnN0IHsgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHsgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyB9KTtcbiAgY29uc3QgbWF4SW1hZ2VzUGVyQ2FsbCA9IChfYTE0ID0gbW9kZWwubWF4SW1hZ2VzUGVyQ2FsbCkgIT0gbnVsbCA/IF9hMTQgOiAxO1xuICBjb25zdCBjYWxsQ291bnQgPSBNYXRoLmNlaWwobiAvIG1heEltYWdlc1BlckNhbGwpO1xuICBjb25zdCBjYWxsSW1hZ2VDb3VudHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBjYWxsQ291bnQgfSwgKF8sIGkpID0+IHtcbiAgICBpZiAoaSA8IGNhbGxDb3VudCAtIDEpIHtcbiAgICAgIHJldHVybiBtYXhJbWFnZXNQZXJDYWxsO1xuICAgIH1cbiAgICBjb25zdCByZW1haW5kZXIgPSBuICUgbWF4SW1hZ2VzUGVyQ2FsbDtcbiAgICByZXR1cm4gcmVtYWluZGVyID09PSAwID8gbWF4SW1hZ2VzUGVyQ2FsbCA6IHJlbWFpbmRlcjtcbiAgfSk7XG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBjYWxsSW1hZ2VDb3VudHMubWFwKFxuICAgICAgYXN5bmMgKGNhbGxJbWFnZUNvdW50KSA9PiByZXRyeShcbiAgICAgICAgKCkgPT4gbW9kZWwuZG9HZW5lcmF0ZSh7XG4gICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgIG46IGNhbGxJbWFnZUNvdW50LFxuICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgc2l6ZSxcbiAgICAgICAgICBhc3BlY3RSYXRpbyxcbiAgICAgICAgICBzZWVkLFxuICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJPcHRpb25zICE9IG51bGwgPyBwcm92aWRlck9wdGlvbnMgOiB7fVxuICAgICAgICB9KVxuICAgICAgKVxuICAgIClcbiAgKTtcbiAgY29uc3QgaW1hZ2VzID0gW107XG4gIGNvbnN0IHdhcm5pbmdzID0gW107XG4gIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICBpbWFnZXMucHVzaChcbiAgICAgIC4uLnJlc3VsdC5pbWFnZXMubWFwKChpbWFnZSkgPT4gbmV3IERlZmF1bHRHZW5lcmF0ZWRJbWFnZSh7IGltYWdlIH0pKVxuICAgICk7XG4gICAgd2FybmluZ3MucHVzaCguLi5yZXN1bHQud2FybmluZ3MpO1xuICB9XG4gIHJldHVybiBuZXcgRGVmYXVsdEdlbmVyYXRlSW1hZ2VSZXN1bHQoeyBpbWFnZXMsIHdhcm5pbmdzIH0pO1xufVxudmFyIERlZmF1bHRHZW5lcmF0ZUltYWdlUmVzdWx0ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5pbWFnZXMgPSBvcHRpb25zLmltYWdlcztcbiAgICB0aGlzLndhcm5pbmdzID0gb3B0aW9ucy53YXJuaW5ncztcbiAgfVxuICBnZXQgaW1hZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VzWzBdO1xuICB9XG59O1xudmFyIERlZmF1bHRHZW5lcmF0ZWRJbWFnZSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoeyBpbWFnZSB9KSB7XG4gICAgY29uc3QgaXNVaW50OEFycmF5ID0gaW1hZ2UgaW5zdGFuY2VvZiBVaW50OEFycmF5O1xuICAgIHRoaXMuYmFzZTY0RGF0YSA9IGlzVWludDhBcnJheSA/IHZvaWQgMCA6IGltYWdlO1xuICAgIHRoaXMudWludDhBcnJheURhdGEgPSBpc1VpbnQ4QXJyYXkgPyBpbWFnZSA6IHZvaWQgMDtcbiAgfVxuICAvLyBsYXp5IGNvbnZlcnNpb24gd2l0aCBjYWNoaW5nIHRvIGF2b2lkIHVubmVjZXNzYXJ5IGNvbnZlcnNpb24gb3ZlcmhlYWQ6XG4gIGdldCBiYXNlNjQoKSB7XG4gICAgaWYgKHRoaXMuYmFzZTY0RGF0YSA9PSBudWxsKSB7XG4gICAgICB0aGlzLmJhc2U2NERhdGEgPSBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0KHRoaXMudWludDhBcnJheURhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5iYXNlNjREYXRhO1xuICB9XG4gIC8vIGxhenkgY29udmVyc2lvbiB3aXRoIGNhY2hpbmcgdG8gYXZvaWQgdW5uZWNlc3NhcnkgY29udmVyc2lvbiBvdmVyaGVhZDpcbiAgZ2V0IHVpbnQ4QXJyYXkoKSB7XG4gICAgaWYgKHRoaXMudWludDhBcnJheURhdGEgPT0gbnVsbCkge1xuICAgICAgdGhpcy51aW50OEFycmF5RGF0YSA9IGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkodGhpcy5iYXNlNjREYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudWludDhBcnJheURhdGE7XG4gIH1cbn07XG5cbi8vIGNvcmUvZ2VuZXJhdGUtb2JqZWN0L2dlbmVyYXRlLW9iamVjdC50c1xuaW1wb3J0IHsgY3JlYXRlSWRHZW5lcmF0b3IsIHNhZmVQYXJzZUpTT04gfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBlcnJvcnMvbm8tb2JqZWN0LWdlbmVyYXRlZC1lcnJvci50c1xuaW1wb3J0IHsgQUlTREtFcnJvciBhcyBBSVNES0Vycm9yMyB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG52YXIgbmFtZTMgPSBcIkFJX05vT2JqZWN0R2VuZXJhdGVkRXJyb3JcIjtcbnZhciBtYXJrZXIzID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUzfWA7XG52YXIgc3ltYm9sMyA9IFN5bWJvbC5mb3IobWFya2VyMyk7XG52YXIgX2EzO1xudmFyIE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3IzIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSBcIk5vIG9iamVjdCBnZW5lcmF0ZWQuXCIsXG4gICAgY2F1c2UsXG4gICAgdGV4dDogdGV4dDIsXG4gICAgcmVzcG9uc2UsXG4gICAgdXNhZ2VcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTMsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuICAgIHRoaXNbX2EzXSA9IHRydWU7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDI7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMudXNhZ2UgPSB1c2FnZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yMy5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjMpO1xuICB9XG59O1xuX2EzID0gc3ltYm9sMztcblxuLy8gdXRpbC9kb3dubG9hZC1lcnJvci50c1xuaW1wb3J0IHsgQUlTREtFcnJvciBhcyBBSVNES0Vycm9yNCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG52YXIgbmFtZTQgPSBcIkFJX0Rvd25sb2FkRXJyb3JcIjtcbnZhciBtYXJrZXI0ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU0fWA7XG52YXIgc3ltYm9sNCA9IFN5bWJvbC5mb3IobWFya2VyNCk7XG52YXIgX2E0O1xudmFyIERvd25sb2FkRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3I0IHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHVybCxcbiAgICBzdGF0dXNDb2RlLFxuICAgIHN0YXR1c1RleHQsXG4gICAgY2F1c2UsXG4gICAgbWVzc2FnZSA9IGNhdXNlID09IG51bGwgPyBgRmFpbGVkIHRvIGRvd25sb2FkICR7dXJsfTogJHtzdGF0dXNDb2RlfSAke3N0YXR1c1RleHR9YCA6IGBGYWlsZWQgdG8gZG93bmxvYWQgJHt1cmx9OiAke2NhdXNlfWBcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTQsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuICAgIHRoaXNbX2E0XSA9IHRydWU7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLnN0YXR1c1RleHQgPSBzdGF0dXNUZXh0O1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3I0Lmhhc01hcmtlcihlcnJvciwgbWFya2VyNCk7XG4gIH1cbn07XG5fYTQgPSBzeW1ib2w0O1xuXG4vLyB1dGlsL2Rvd25sb2FkLnRzXG5hc3luYyBmdW5jdGlvbiBkb3dubG9hZCh7XG4gIHVybCxcbiAgZmV0Y2hJbXBsZW1lbnRhdGlvbiA9IGZldGNoXG59KSB7XG4gIHZhciBfYTE0O1xuICBjb25zdCB1cmxUZXh0ID0gdXJsLnRvU3RyaW5nKCk7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaEltcGxlbWVudGF0aW9uKHVybFRleHQpO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBEb3dubG9hZEVycm9yKHtcbiAgICAgICAgdXJsOiB1cmxUZXh0LFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHRcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogbmV3IFVpbnQ4QXJyYXkoYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSksXG4gICAgICBtaW1lVHlwZTogKF9hMTQgPSByZXNwb25zZS5oZWFkZXJzLmdldChcImNvbnRlbnQtdHlwZVwiKSkgIT0gbnVsbCA/IF9hMTQgOiB2b2lkIDBcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChEb3dubG9hZEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IERvd25sb2FkRXJyb3IoeyB1cmw6IHVybFRleHQsIGNhdXNlOiBlcnJvciB9KTtcbiAgfVxufVxuXG4vLyBjb3JlL3V0aWwvZGV0ZWN0LWltYWdlLW1pbWV0eXBlLnRzXG52YXIgbWltZVR5cGVTaWduYXR1cmVzID0gW1xuICB7IG1pbWVUeXBlOiBcImltYWdlL2dpZlwiLCBieXRlczogWzcxLCA3MywgNzBdIH0sXG4gIHsgbWltZVR5cGU6IFwiaW1hZ2UvcG5nXCIsIGJ5dGVzOiBbMTM3LCA4MCwgNzgsIDcxXSB9LFxuICB7IG1pbWVUeXBlOiBcImltYWdlL2pwZWdcIiwgYnl0ZXM6IFsyNTUsIDIxNl0gfSxcbiAgeyBtaW1lVHlwZTogXCJpbWFnZS93ZWJwXCIsIGJ5dGVzOiBbODIsIDczLCA3MCwgNzBdIH1cbl07XG5mdW5jdGlvbiBkZXRlY3RJbWFnZU1pbWVUeXBlKGltYWdlKSB7XG4gIGZvciAoY29uc3QgeyBieXRlcywgbWltZVR5cGUgfSBvZiBtaW1lVHlwZVNpZ25hdHVyZXMpIHtcbiAgICBpZiAoaW1hZ2UubGVuZ3RoID49IGJ5dGVzLmxlbmd0aCAmJiBieXRlcy5ldmVyeSgoYnl0ZSwgaW5kZXgpID0+IGltYWdlW2luZGV4XSA9PT0gYnl0ZSkpIHtcbiAgICAgIHJldHVybiBtaW1lVHlwZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cblxuLy8gY29yZS9wcm9tcHQvZGF0YS1jb250ZW50LnRzXG5pbXBvcnQge1xuICBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5IGFzIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkyLFxuICBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0IGFzIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQyXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5cbi8vIGNvcmUvcHJvbXB0L2ludmFsaWQtZGF0YS1jb250ZW50LWVycm9yLnRzXG5pbXBvcnQgeyBBSVNES0Vycm9yIGFzIEFJU0RLRXJyb3I1IH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBuYW1lNSA9IFwiQUlfSW52YWxpZERhdGFDb250ZW50RXJyb3JcIjtcbnZhciBtYXJrZXI1ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU1fWA7XG52YXIgc3ltYm9sNSA9IFN5bWJvbC5mb3IobWFya2VyNSk7XG52YXIgX2E1O1xudmFyIEludmFsaWREYXRhQ29udGVudEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yNSB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjb250ZW50LFxuICAgIGNhdXNlLFxuICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkYXRhIGNvbnRlbnQuIEV4cGVjdGVkIGEgYmFzZTY0IHN0cmluZywgVWludDhBcnJheSwgQXJyYXlCdWZmZXIsIG9yIEJ1ZmZlciwgYnV0IGdvdCAke3R5cGVvZiBjb250ZW50fS5gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU1LCBtZXNzYWdlLCBjYXVzZSB9KTtcbiAgICB0aGlzW19hNV0gPSB0cnVlO1xuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvcjUuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI1KTtcbiAgfVxufTtcbl9hNSA9IHN5bWJvbDU7XG5cbi8vIGNvcmUvcHJvbXB0L2RhdGEtY29udGVudC50c1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbnZhciBkYXRhQ29udGVudFNjaGVtYSA9IHoudW5pb24oW1xuICB6LnN0cmluZygpLFxuICB6Lmluc3RhbmNlb2YoVWludDhBcnJheSksXG4gIHouaW5zdGFuY2VvZihBcnJheUJ1ZmZlciksXG4gIHouY3VzdG9tKFxuICAgIC8vIEJ1ZmZlciBtaWdodCBub3QgYmUgYXZhaWxhYmxlIGluIHNvbWUgZW52aXJvbm1lbnRzIHN1Y2ggYXMgQ2xvdWRGbGFyZTpcbiAgICAodmFsdWUpID0+IHtcbiAgICAgIHZhciBfYTE0LCBfYjtcbiAgICAgIHJldHVybiAoX2IgPSAoX2ExNCA9IGdsb2JhbFRoaXMuQnVmZmVyKSA9PSBudWxsID8gdm9pZCAwIDogX2ExNC5pc0J1ZmZlcih2YWx1ZSkpICE9IG51bGwgPyBfYiA6IGZhbHNlO1xuICAgIH0sXG4gICAgeyBtZXNzYWdlOiBcIk11c3QgYmUgYSBCdWZmZXJcIiB9XG4gIClcbl0pO1xuZnVuY3Rpb24gY29udmVydERhdGFDb250ZW50VG9CYXNlNjRTdHJpbmcoY29udGVudCkge1xuICBpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAoY29udGVudCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQyKG5ldyBVaW50OEFycmF5KGNvbnRlbnQpKTtcbiAgfVxuICByZXR1cm4gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NDIoY29udGVudCk7XG59XG5mdW5jdGlvbiBjb252ZXJ0RGF0YUNvbnRlbnRUb1VpbnQ4QXJyYXkoY29udGVudCkge1xuICBpZiAoY29udGVudCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkyKGNvbnRlbnQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZERhdGFDb250ZW50RXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgZGF0YSBjb250ZW50LiBDb250ZW50IHN0cmluZyBpcyBub3QgYSBiYXNlNjQtZW5jb2RlZCBtZWRpYS5cIixcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgY2F1c2U6IGVycm9yXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShjb250ZW50KTtcbiAgfVxuICB0aHJvdyBuZXcgSW52YWxpZERhdGFDb250ZW50RXJyb3IoeyBjb250ZW50IH0pO1xufVxuZnVuY3Rpb24gY29udmVydFVpbnQ4QXJyYXlUb1RleHQodWludDhBcnJheSkge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUodWludDhBcnJheSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgZGVjb2RpbmcgVWludDhBcnJheSB0byB0ZXh0XCIpO1xuICB9XG59XG5cbi8vIGNvcmUvcHJvbXB0L2ludmFsaWQtbWVzc2FnZS1yb2xlLWVycm9yLnRzXG5pbXBvcnQgeyBBSVNES0Vycm9yIGFzIEFJU0RLRXJyb3I2IH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBuYW1lNiA9IFwiQUlfSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3JcIjtcbnZhciBtYXJrZXI2ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU2fWA7XG52YXIgc3ltYm9sNiA9IFN5bWJvbC5mb3IobWFya2VyNik7XG52YXIgX2E2O1xudmFyIEludmFsaWRNZXNzYWdlUm9sZUVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yNiB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICByb2xlLFxuICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBtZXNzYWdlIHJvbGU6ICcke3JvbGV9Jy4gTXVzdCBiZSBvbmUgb2Y6IFwic3lzdGVtXCIsIFwidXNlclwiLCBcImFzc2lzdGFudFwiLCBcInRvb2xcIi5gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU2LCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2E2XSA9IHRydWU7XG4gICAgdGhpcy5yb2xlID0gcm9sZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yNi5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjYpO1xuICB9XG59O1xuX2E2ID0gc3ltYm9sNjtcblxuLy8gY29yZS9wcm9tcHQvc3BsaXQtZGF0YS11cmwudHNcbmZ1bmN0aW9uIHNwbGl0RGF0YVVybChkYXRhVXJsKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgW2hlYWRlciwgYmFzZTY0Q29udGVudF0gPSBkYXRhVXJsLnNwbGl0KFwiLFwiKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWltZVR5cGU6IGhlYWRlci5zcGxpdChcIjtcIilbMF0uc3BsaXQoXCI6XCIpWzFdLFxuICAgICAgYmFzZTY0Q29udGVudFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1pbWVUeXBlOiB2b2lkIDAsXG4gICAgICBiYXNlNjRDb250ZW50OiB2b2lkIDBcbiAgICB9O1xuICB9XG59XG5cbi8vIGNvcmUvcHJvbXB0L2NvbnZlcnQtdG8tbGFuZ3VhZ2UtbW9kZWwtcHJvbXB0LnRzXG5hc3luYyBmdW5jdGlvbiBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgcHJvbXB0LFxuICBtb2RlbFN1cHBvcnRzSW1hZ2VVcmxzID0gdHJ1ZSxcbiAgbW9kZWxTdXBwb3J0c1VybCA9ICgpID0+IGZhbHNlLFxuICBkb3dubG9hZEltcGxlbWVudGF0aW9uID0gZG93bmxvYWRcbn0pIHtcbiAgY29uc3QgZG93bmxvYWRlZEFzc2V0cyA9IGF3YWl0IGRvd25sb2FkQXNzZXRzKFxuICAgIHByb21wdC5tZXNzYWdlcyxcbiAgICBkb3dubG9hZEltcGxlbWVudGF0aW9uLFxuICAgIG1vZGVsU3VwcG9ydHNJbWFnZVVybHMsXG4gICAgbW9kZWxTdXBwb3J0c1VybFxuICApO1xuICByZXR1cm4gW1xuICAgIC4uLnByb21wdC5zeXN0ZW0gIT0gbnVsbCA/IFt7IHJvbGU6IFwic3lzdGVtXCIsIGNvbnRlbnQ6IHByb21wdC5zeXN0ZW0gfV0gOiBbXSxcbiAgICAuLi5wcm9tcHQubWVzc2FnZXMubWFwKFxuICAgICAgKG1lc3NhZ2UpID0+IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxNZXNzYWdlKG1lc3NhZ2UsIGRvd25sb2FkZWRBc3NldHMpXG4gICAgKVxuICBdO1xufVxuZnVuY3Rpb24gY29udmVydFRvTGFuZ3VhZ2VNb2RlbE1lc3NhZ2UobWVzc2FnZSwgZG93bmxvYWRlZEFzc2V0cykge1xuICBjb25zdCByb2xlID0gbWVzc2FnZS5yb2xlO1xuICBzd2l0Y2ggKHJvbGUpIHtcbiAgICBjYXNlIFwic3lzdGVtXCI6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6IFwic3lzdGVtXCIsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogbWVzc2FnZS5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YVxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSBcInVzZXJcIjoge1xuICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICBjb250ZW50OiBbeyB0eXBlOiBcInRleHRcIiwgdGV4dDogbWVzc2FnZS5jb250ZW50IH1dLFxuICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IG1lc3NhZ2UuZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQubWFwKChwYXJ0KSA9PiBjb252ZXJ0UGFydFRvTGFuZ3VhZ2VNb2RlbFBhcnQocGFydCwgZG93bmxvYWRlZEFzc2V0cykpLmZpbHRlcigocGFydCkgPT4gcGFydC50eXBlICE9PSBcInRleHRcIiB8fCBwYXJ0LnRleHQgIT09IFwiXCIpLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBtZXNzYWdlLmV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIFwiYXNzaXN0YW50XCI6IHtcbiAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICBjb250ZW50OiBbeyB0eXBlOiBcInRleHRcIiwgdGV4dDogbWVzc2FnZS5jb250ZW50IH1dLFxuICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IG1lc3NhZ2UuZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudC5maWx0ZXIoXG4gICAgICAgICAgLy8gcmVtb3ZlIGVtcHR5IHRleHQgcGFydHM6XG4gICAgICAgICAgKHBhcnQpID0+IHBhcnQudHlwZSAhPT0gXCJ0ZXh0XCIgfHwgcGFydC50ZXh0ICE9PSBcIlwiXG4gICAgICAgICkubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YSwgLi4ucmVzdCB9ID0gcGFydDtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhXG4gICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IG1lc3NhZ2UuZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGFcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgXCJ0b29sXCI6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6IFwidG9vbFwiLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQubWFwKChwYXJ0KSA9PiAoe1xuICAgICAgICAgIHR5cGU6IFwidG9vbC1yZXN1bHRcIixcbiAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgcmVzdWx0OiBwYXJ0LnJlc3VsdCxcbiAgICAgICAgICBjb250ZW50OiBwYXJ0LmV4cGVyaW1lbnRhbF9jb250ZW50LFxuICAgICAgICAgIGlzRXJyb3I6IHBhcnQuaXNFcnJvcixcbiAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LmV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhXG4gICAgICAgIH0pKSxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogbWVzc2FnZS5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YVxuICAgICAgfTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IHJvbGU7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3IoeyByb2xlOiBfZXhoYXVzdGl2ZUNoZWNrIH0pO1xuICAgIH1cbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRBc3NldHMobWVzc2FnZXMsIGRvd25sb2FkSW1wbGVtZW50YXRpb24sIG1vZGVsU3VwcG9ydHNJbWFnZVVybHMsIG1vZGVsU3VwcG9ydHNVcmwpIHtcbiAgY29uc3QgdXJscyA9IG1lc3NhZ2VzLmZpbHRlcigobWVzc2FnZSkgPT4gbWVzc2FnZS5yb2xlID09PSBcInVzZXJcIikubWFwKChtZXNzYWdlKSA9PiBtZXNzYWdlLmNvbnRlbnQpLmZpbHRlcihcbiAgICAoY29udGVudCkgPT4gQXJyYXkuaXNBcnJheShjb250ZW50KVxuICApLmZsYXQoKS5maWx0ZXIoXG4gICAgKHBhcnQpID0+IHBhcnQudHlwZSA9PT0gXCJpbWFnZVwiIHx8IHBhcnQudHlwZSA9PT0gXCJmaWxlXCJcbiAgKS5maWx0ZXIoXG4gICAgKHBhcnQpID0+ICEocGFydC50eXBlID09PSBcImltYWdlXCIgJiYgbW9kZWxTdXBwb3J0c0ltYWdlVXJscyA9PT0gdHJ1ZSlcbiAgKS5tYXAoKHBhcnQpID0+IHBhcnQudHlwZSA9PT0gXCJpbWFnZVwiID8gcGFydC5pbWFnZSA6IHBhcnQuZGF0YSkubWFwKFxuICAgIChwYXJ0KSA9PiAoXG4gICAgICAvLyBzdXBwb3J0IHN0cmluZyB1cmxzOlxuICAgICAgdHlwZW9mIHBhcnQgPT09IFwic3RyaW5nXCIgJiYgKHBhcnQuc3RhcnRzV2l0aChcImh0dHA6XCIpIHx8IHBhcnQuc3RhcnRzV2l0aChcImh0dHBzOlwiKSkgPyBuZXcgVVJMKHBhcnQpIDogcGFydFxuICAgIClcbiAgKS5maWx0ZXIoKGltYWdlKSA9PiBpbWFnZSBpbnN0YW5jZW9mIFVSTCkuZmlsdGVyKCh1cmwpID0+ICFtb2RlbFN1cHBvcnRzVXJsKHVybCkpO1xuICBjb25zdCBkb3dubG9hZGVkSW1hZ2VzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgdXJscy5tYXAoYXN5bmMgKHVybCkgPT4gKHtcbiAgICAgIHVybCxcbiAgICAgIGRhdGE6IGF3YWl0IGRvd25sb2FkSW1wbGVtZW50YXRpb24oeyB1cmwgfSlcbiAgICB9KSlcbiAgKTtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBkb3dubG9hZGVkSW1hZ2VzLm1hcCgoeyB1cmwsIGRhdGEgfSkgPT4gW3VybC50b1N0cmluZygpLCBkYXRhXSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRQYXJ0VG9MYW5ndWFnZU1vZGVsUGFydChwYXJ0LCBkb3dubG9hZGVkQXNzZXRzKSB7XG4gIHZhciBfYTE0O1xuICBpZiAocGFydC50eXBlID09PSBcInRleHRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQuZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGFcbiAgICB9O1xuICB9XG4gIGxldCBtaW1lVHlwZSA9IHBhcnQubWltZVR5cGU7XG4gIGxldCBkYXRhO1xuICBsZXQgY29udGVudDtcbiAgbGV0IG5vcm1hbGl6ZWREYXRhO1xuICBjb25zdCB0eXBlID0gcGFydC50eXBlO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgIGRhdGEgPSBwYXJ0LmltYWdlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImZpbGVcIjpcbiAgICAgIGRhdGEgPSBwYXJ0LmRhdGE7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBwYXJ0IHR5cGU6ICR7dHlwZX1gKTtcbiAgfVxuICB0cnkge1xuICAgIGNvbnRlbnQgPSB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiA/IG5ldyBVUkwoZGF0YSkgOiBkYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnRlbnQgPSBkYXRhO1xuICB9XG4gIGlmIChjb250ZW50IGluc3RhbmNlb2YgVVJMKSB7XG4gICAgaWYgKGNvbnRlbnQucHJvdG9jb2wgPT09IFwiZGF0YTpcIikge1xuICAgICAgY29uc3QgeyBtaW1lVHlwZTogZGF0YVVybE1pbWVUeXBlLCBiYXNlNjRDb250ZW50IH0gPSBzcGxpdERhdGFVcmwoXG4gICAgICAgIGNvbnRlbnQudG9TdHJpbmcoKVxuICAgICAgKTtcbiAgICAgIGlmIChkYXRhVXJsTWltZVR5cGUgPT0gbnVsbCB8fCBiYXNlNjRDb250ZW50ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGRhdGEgVVJMIGZvcm1hdCBpbiBwYXJ0ICR7dHlwZX1gKTtcbiAgICAgIH1cbiAgICAgIG1pbWVUeXBlID0gZGF0YVVybE1pbWVUeXBlO1xuICAgICAgbm9ybWFsaXplZERhdGEgPSBjb252ZXJ0RGF0YUNvbnRlbnRUb1VpbnQ4QXJyYXkoYmFzZTY0Q29udGVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRvd25sb2FkZWRGaWxlID0gZG93bmxvYWRlZEFzc2V0c1tjb250ZW50LnRvU3RyaW5nKCldO1xuICAgICAgaWYgKGRvd25sb2FkZWRGaWxlKSB7XG4gICAgICAgIG5vcm1hbGl6ZWREYXRhID0gZG93bmxvYWRlZEZpbGUuZGF0YTtcbiAgICAgICAgbWltZVR5cGUgIT0gbnVsbCA/IG1pbWVUeXBlIDogbWltZVR5cGUgPSBkb3dubG9hZGVkRmlsZS5taW1lVHlwZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vcm1hbGl6ZWREYXRhID0gY29udGVudDtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbm9ybWFsaXplZERhdGEgPSBjb252ZXJ0RGF0YUNvbnRlbnRUb1VpbnQ4QXJyYXkoY29udGVudCk7XG4gIH1cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcImltYWdlXCI6IHtcbiAgICAgIGlmIChub3JtYWxpemVkRGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgbWltZVR5cGUgPSAoX2ExNCA9IGRldGVjdEltYWdlTWltZVR5cGUobm9ybWFsaXplZERhdGEpKSAhPSBudWxsID8gX2ExNCA6IG1pbWVUeXBlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJpbWFnZVwiLFxuICAgICAgICBpbWFnZTogbm9ybWFsaXplZERhdGEsXG4gICAgICAgIG1pbWVUeXBlLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LmV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIFwiZmlsZVwiOiB7XG4gICAgICBpZiAobWltZVR5cGUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pbWUgdHlwZSBpcyBtaXNzaW5nIGZvciBmaWxlIHBhcnRgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICBkYXRhOiBub3JtYWxpemVkRGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBjb252ZXJ0RGF0YUNvbnRlbnRUb0Jhc2U2NFN0cmluZyhub3JtYWxpemVkRGF0YSkgOiBub3JtYWxpemVkRGF0YSxcbiAgICAgICAgbWltZVR5cGUsXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQuZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGFcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbi8vIGNvcmUvcHJvbXB0L3ByZXBhcmUtY2FsbC1zZXR0aW5ncy50c1xuZnVuY3Rpb24gcHJlcGFyZUNhbGxTZXR0aW5ncyh7XG4gIG1heFRva2VucyxcbiAgdGVtcGVyYXR1cmUsXG4gIHRvcFAsXG4gIHRvcEssXG4gIHByZXNlbmNlUGVuYWx0eSxcbiAgZnJlcXVlbmN5UGVuYWx0eSxcbiAgc3RvcFNlcXVlbmNlcyxcbiAgc2VlZFxufSkge1xuICBpZiAobWF4VG9rZW5zICE9IG51bGwpIHtcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIobWF4VG9rZW5zKSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiBcIm1heFRva2Vuc1wiLFxuICAgICAgICB2YWx1ZTogbWF4VG9rZW5zLFxuICAgICAgICBtZXNzYWdlOiBcIm1heFRva2VucyBtdXN0IGJlIGFuIGludGVnZXJcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChtYXhUb2tlbnMgPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwibWF4VG9rZW5zXCIsXG4gICAgICAgIHZhbHVlOiBtYXhUb2tlbnMsXG4gICAgICAgIG1lc3NhZ2U6IFwibWF4VG9rZW5zIG11c3QgYmUgPj0gMVwiXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKHRlbXBlcmF0dXJlICE9IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIHRlbXBlcmF0dXJlICE9PSBcIm51bWJlclwiKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwidGVtcGVyYXR1cmVcIixcbiAgICAgICAgdmFsdWU6IHRlbXBlcmF0dXJlLFxuICAgICAgICBtZXNzYWdlOiBcInRlbXBlcmF0dXJlIG11c3QgYmUgYSBudW1iZXJcIlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmICh0b3BQICE9IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIHRvcFAgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJ0b3BQXCIsXG4gICAgICAgIHZhbHVlOiB0b3BQLFxuICAgICAgICBtZXNzYWdlOiBcInRvcFAgbXVzdCBiZSBhIG51bWJlclwiXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKHRvcEsgIT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgdG9wSyAhPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiBcInRvcEtcIixcbiAgICAgICAgdmFsdWU6IHRvcEssXG4gICAgICAgIG1lc3NhZ2U6IFwidG9wSyBtdXN0IGJlIGEgbnVtYmVyXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBpZiAocHJlc2VuY2VQZW5hbHR5ICE9IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIHByZXNlbmNlUGVuYWx0eSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiBcInByZXNlbmNlUGVuYWx0eVwiLFxuICAgICAgICB2YWx1ZTogcHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICBtZXNzYWdlOiBcInByZXNlbmNlUGVuYWx0eSBtdXN0IGJlIGEgbnVtYmVyXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBpZiAoZnJlcXVlbmN5UGVuYWx0eSAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiBmcmVxdWVuY3lQZW5hbHR5ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwiZnJlcXVlbmN5UGVuYWx0eVwiLFxuICAgICAgICB2YWx1ZTogZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgbWVzc2FnZTogXCJmcmVxdWVuY3lQZW5hbHR5IG11c3QgYmUgYSBudW1iZXJcIlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChzZWVkICE9IG51bGwpIHtcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoc2VlZCkpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJzZWVkXCIsXG4gICAgICAgIHZhbHVlOiBzZWVkLFxuICAgICAgICBtZXNzYWdlOiBcInNlZWQgbXVzdCBiZSBhbiBpbnRlZ2VyXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIG1heFRva2VucyxcbiAgICB0ZW1wZXJhdHVyZTogdGVtcGVyYXR1cmUgIT0gbnVsbCA/IHRlbXBlcmF0dXJlIDogMCxcbiAgICB0b3BQLFxuICAgIHRvcEssXG4gICAgcHJlc2VuY2VQZW5hbHR5LFxuICAgIGZyZXF1ZW5jeVBlbmFsdHksXG4gICAgc3RvcFNlcXVlbmNlczogc3RvcFNlcXVlbmNlcyAhPSBudWxsICYmIHN0b3BTZXF1ZW5jZXMubGVuZ3RoID4gMCA/IHN0b3BTZXF1ZW5jZXMgOiB2b2lkIDAsXG4gICAgc2VlZFxuICB9O1xufVxuXG4vLyBjb3JlL3Byb21wdC9zdGFuZGFyZGl6ZS1wcm9tcHQudHNcbmltcG9ydCB7IEludmFsaWRQcm9tcHRFcnJvciB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgeyBzYWZlVmFsaWRhdGVUeXBlcyB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgeyB6IGFzIHo3IH0gZnJvbSBcInpvZFwiO1xuXG4vLyBjb3JlL3Byb21wdC9tZXNzYWdlLnRzXG5pbXBvcnQgeyB6IGFzIHo2IH0gZnJvbSBcInpvZFwiO1xuXG4vLyBjb3JlL3R5cGVzL3Byb3ZpZGVyLW1ldGFkYXRhLnRzXG5pbXBvcnQgeyB6IGFzIHozIH0gZnJvbSBcInpvZFwiO1xuXG4vLyBjb3JlL3R5cGVzL2pzb24tdmFsdWUudHNcbmltcG9ydCB7IHogYXMgejIgfSBmcm9tIFwiem9kXCI7XG52YXIganNvblZhbHVlU2NoZW1hID0gejIubGF6eShcbiAgKCkgPT4gejIudW5pb24oW1xuICAgIHoyLm51bGwoKSxcbiAgICB6Mi5zdHJpbmcoKSxcbiAgICB6Mi5udW1iZXIoKSxcbiAgICB6Mi5ib29sZWFuKCksXG4gICAgejIucmVjb3JkKHoyLnN0cmluZygpLCBqc29uVmFsdWVTY2hlbWEpLFxuICAgIHoyLmFycmF5KGpzb25WYWx1ZVNjaGVtYSlcbiAgXSlcbik7XG5cbi8vIGNvcmUvdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEudHNcbnZhciBwcm92aWRlck1ldGFkYXRhU2NoZW1hID0gejMucmVjb3JkKFxuICB6My5zdHJpbmcoKSxcbiAgejMucmVjb3JkKHozLnN0cmluZygpLCBqc29uVmFsdWVTY2hlbWEpXG4pO1xuXG4vLyBjb3JlL3Byb21wdC9jb250ZW50LXBhcnQudHNcbmltcG9ydCB7IHogYXMgejUgfSBmcm9tIFwiem9kXCI7XG5cbi8vIGNvcmUvcHJvbXB0L3Rvb2wtcmVzdWx0LWNvbnRlbnQudHNcbmltcG9ydCB7IHogYXMgejQgfSBmcm9tIFwiem9kXCI7XG52YXIgdG9vbFJlc3VsdENvbnRlbnRTY2hlbWEgPSB6NC5hcnJheShcbiAgejQudW5pb24oW1xuICAgIHo0Lm9iamVjdCh7IHR5cGU6IHo0LmxpdGVyYWwoXCJ0ZXh0XCIpLCB0ZXh0OiB6NC5zdHJpbmcoKSB9KSxcbiAgICB6NC5vYmplY3Qoe1xuICAgICAgdHlwZTogejQubGl0ZXJhbChcImltYWdlXCIpLFxuICAgICAgZGF0YTogejQuc3RyaW5nKCksXG4gICAgICBtaW1lVHlwZTogejQuc3RyaW5nKCkub3B0aW9uYWwoKVxuICAgIH0pXG4gIF0pXG4pO1xuXG4vLyBjb3JlL3Byb21wdC9jb250ZW50LXBhcnQudHNcbnZhciB0ZXh0UGFydFNjaGVtYSA9IHo1Lm9iamVjdCh7XG4gIHR5cGU6IHo1LmxpdGVyYWwoXCJ0ZXh0XCIpLFxuICB0ZXh0OiB6NS5zdHJpbmcoKSxcbiAgZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKVxufSk7XG52YXIgaW1hZ2VQYXJ0U2NoZW1hID0gejUub2JqZWN0KHtcbiAgdHlwZTogejUubGl0ZXJhbChcImltYWdlXCIpLFxuICBpbWFnZTogejUudW5pb24oW2RhdGFDb250ZW50U2NoZW1hLCB6NS5pbnN0YW5jZW9mKFVSTCldKSxcbiAgbWltZVR5cGU6IHo1LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKClcbn0pO1xudmFyIGZpbGVQYXJ0U2NoZW1hID0gejUub2JqZWN0KHtcbiAgdHlwZTogejUubGl0ZXJhbChcImZpbGVcIiksXG4gIGRhdGE6IHo1LnVuaW9uKFtkYXRhQ29udGVudFNjaGVtYSwgejUuaW5zdGFuY2VvZihVUkwpXSksXG4gIG1pbWVUeXBlOiB6NS5zdHJpbmcoKSxcbiAgZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKVxufSk7XG52YXIgdG9vbENhbGxQYXJ0U2NoZW1hID0gejUub2JqZWN0KHtcbiAgdHlwZTogejUubGl0ZXJhbChcInRvb2wtY2FsbFwiKSxcbiAgdG9vbENhbGxJZDogejUuc3RyaW5nKCksXG4gIHRvb2xOYW1lOiB6NS5zdHJpbmcoKSxcbiAgYXJnczogejUudW5rbm93bigpXG59KTtcbnZhciB0b29sUmVzdWx0UGFydFNjaGVtYSA9IHo1Lm9iamVjdCh7XG4gIHR5cGU6IHo1LmxpdGVyYWwoXCJ0b29sLXJlc3VsdFwiKSxcbiAgdG9vbENhbGxJZDogejUuc3RyaW5nKCksXG4gIHRvb2xOYW1lOiB6NS5zdHJpbmcoKSxcbiAgcmVzdWx0OiB6NS51bmtub3duKCksXG4gIGNvbnRlbnQ6IHRvb2xSZXN1bHRDb250ZW50U2NoZW1hLm9wdGlvbmFsKCksXG4gIGlzRXJyb3I6IHo1LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpXG59KTtcblxuLy8gY29yZS9wcm9tcHQvbWVzc2FnZS50c1xudmFyIGNvcmVTeXN0ZW1NZXNzYWdlU2NoZW1hID0gejYub2JqZWN0KHtcbiAgcm9sZTogejYubGl0ZXJhbChcInN5c3RlbVwiKSxcbiAgY29udGVudDogejYuc3RyaW5nKCksXG4gIGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKClcbn0pO1xudmFyIGNvcmVVc2VyTWVzc2FnZVNjaGVtYSA9IHo2Lm9iamVjdCh7XG4gIHJvbGU6IHo2LmxpdGVyYWwoXCJ1c2VyXCIpLFxuICBjb250ZW50OiB6Ni51bmlvbihbXG4gICAgejYuc3RyaW5nKCksXG4gICAgejYuYXJyYXkoejYudW5pb24oW3RleHRQYXJ0U2NoZW1hLCBpbWFnZVBhcnRTY2hlbWEsIGZpbGVQYXJ0U2NoZW1hXSkpXG4gIF0pLFxuICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpXG59KTtcbnZhciBjb3JlQXNzaXN0YW50TWVzc2FnZVNjaGVtYSA9IHo2Lm9iamVjdCh7XG4gIHJvbGU6IHo2LmxpdGVyYWwoXCJhc3Npc3RhbnRcIiksXG4gIGNvbnRlbnQ6IHo2LnVuaW9uKFtcbiAgICB6Ni5zdHJpbmcoKSxcbiAgICB6Ni5hcnJheSh6Ni51bmlvbihbdGV4dFBhcnRTY2hlbWEsIHRvb2xDYWxsUGFydFNjaGVtYV0pKVxuICBdKSxcbiAgZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKVxufSk7XG52YXIgY29yZVRvb2xNZXNzYWdlU2NoZW1hID0gejYub2JqZWN0KHtcbiAgcm9sZTogejYubGl0ZXJhbChcInRvb2xcIiksXG4gIGNvbnRlbnQ6IHo2LmFycmF5KHRvb2xSZXN1bHRQYXJ0U2NoZW1hKSxcbiAgZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKVxufSk7XG52YXIgY29yZU1lc3NhZ2VTY2hlbWEgPSB6Ni51bmlvbihbXG4gIGNvcmVTeXN0ZW1NZXNzYWdlU2NoZW1hLFxuICBjb3JlVXNlck1lc3NhZ2VTY2hlbWEsXG4gIGNvcmVBc3Npc3RhbnRNZXNzYWdlU2NoZW1hLFxuICBjb3JlVG9vbE1lc3NhZ2VTY2hlbWFcbl0pO1xuXG4vLyBjb3JlL3Byb21wdC9kZXRlY3QtcHJvbXB0LXR5cGUudHNcbmZ1bmN0aW9uIGRldGVjdFByb21wdFR5cGUocHJvbXB0KSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShwcm9tcHQpKSB7XG4gICAgcmV0dXJuIFwib3RoZXJcIjtcbiAgfVxuICBpZiAocHJvbXB0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBcIm1lc3NhZ2VzXCI7XG4gIH1cbiAgY29uc3QgY2hhcmFjdGVyaXN0aWNzID0gcHJvbXB0Lm1hcChkZXRlY3RTaW5nbGVNZXNzYWdlQ2hhcmFjdGVyaXN0aWNzKTtcbiAgaWYgKGNoYXJhY3RlcmlzdGljcy5zb21lKChjKSA9PiBjID09PSBcImhhcy11aS1zcGVjaWZpYy1wYXJ0c1wiKSkge1xuICAgIHJldHVybiBcInVpLW1lc3NhZ2VzXCI7XG4gIH0gZWxzZSBpZiAoY2hhcmFjdGVyaXN0aWNzLmV2ZXJ5KFxuICAgIChjKSA9PiBjID09PSBcImhhcy1jb3JlLXNwZWNpZmljLXBhcnRzXCIgfHwgYyA9PT0gXCJtZXNzYWdlXCJcbiAgKSkge1xuICAgIHJldHVybiBcIm1lc3NhZ2VzXCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFwib3RoZXJcIjtcbiAgfVxufVxuZnVuY3Rpb24gZGV0ZWN0U2luZ2xlTWVzc2FnZUNoYXJhY3RlcmlzdGljcyhtZXNzYWdlKSB7XG4gIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJvYmplY3RcIiAmJiBtZXNzYWdlICE9PSBudWxsICYmIChtZXNzYWdlLnJvbGUgPT09IFwiZnVuY3Rpb25cIiB8fCAvLyBVSS1vbmx5IHJvbGVcbiAgbWVzc2FnZS5yb2xlID09PSBcImRhdGFcIiB8fCAvLyBVSS1vbmx5IHJvbGVcbiAgXCJ0b29sSW52b2NhdGlvbnNcIiBpbiBtZXNzYWdlIHx8IC8vIFVJLXNwZWNpZmljIGZpZWxkXG4gIFwiZXhwZXJpbWVudGFsX2F0dGFjaG1lbnRzXCIgaW4gbWVzc2FnZSkpIHtcbiAgICByZXR1cm4gXCJoYXMtdWktc3BlY2lmaWMtcGFydHNcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJvYmplY3RcIiAmJiBtZXNzYWdlICE9PSBudWxsICYmIFwiY29udGVudFwiIGluIG1lc3NhZ2UgJiYgKEFycmF5LmlzQXJyYXkobWVzc2FnZS5jb250ZW50KSB8fCAvLyBDb3JlIG1lc3NhZ2VzIGNhbiBoYXZlIGFycmF5IGNvbnRlbnRcbiAgXCJleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YVwiIGluIG1lc3NhZ2UpKSB7XG4gICAgcmV0dXJuIFwiaGFzLWNvcmUtc3BlY2lmaWMtcGFydHNcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJvYmplY3RcIiAmJiBtZXNzYWdlICE9PSBudWxsICYmIFwicm9sZVwiIGluIG1lc3NhZ2UgJiYgXCJjb250ZW50XCIgaW4gbWVzc2FnZSAmJiB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiICYmIFtcInN5c3RlbVwiLCBcInVzZXJcIiwgXCJhc3Npc3RhbnRcIiwgXCJ0b29sXCJdLmluY2x1ZGVzKG1lc3NhZ2Uucm9sZSkpIHtcbiAgICByZXR1cm4gXCJtZXNzYWdlXCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFwib3RoZXJcIjtcbiAgfVxufVxuXG4vLyBjb3JlL3Byb21wdC9hdHRhY2htZW50cy10by1wYXJ0cy50c1xuZnVuY3Rpb24gYXR0YWNobWVudHNUb1BhcnRzKGF0dGFjaG1lbnRzKSB7XG4gIHZhciBfYTE0LCBfYiwgX2M7XG4gIGNvbnN0IHBhcnRzID0gW107XG4gIGZvciAoY29uc3QgYXR0YWNobWVudCBvZiBhdHRhY2htZW50cykge1xuICAgIGxldCB1cmw7XG4gICAgdHJ5IHtcbiAgICAgIHVybCA9IG5ldyBVUkwoYXR0YWNobWVudC51cmwpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgVVJMOiAke2F0dGFjaG1lbnQudXJsfWApO1xuICAgIH1cbiAgICBzd2l0Y2ggKHVybC5wcm90b2NvbCkge1xuICAgICAgY2FzZSBcImh0dHA6XCI6XG4gICAgICBjYXNlIFwiaHR0cHM6XCI6IHtcbiAgICAgICAgaWYgKChfYTE0ID0gYXR0YWNobWVudC5jb250ZW50VHlwZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTQuc3RhcnRzV2l0aChcImltYWdlL1wiKSkge1xuICAgICAgICAgIHBhcnRzLnB1c2goeyB0eXBlOiBcImltYWdlXCIsIGltYWdlOiB1cmwgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFhdHRhY2htZW50LmNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIFwiSWYgdGhlIGF0dGFjaG1lbnQgaXMgbm90IGFuIGltYWdlLCBpdCBtdXN0IHNwZWNpZnkgYSBjb250ZW50IHR5cGVcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgICAgICAgIGRhdGE6IHVybCxcbiAgICAgICAgICAgIG1pbWVUeXBlOiBhdHRhY2htZW50LmNvbnRlbnRUeXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiZGF0YTpcIjoge1xuICAgICAgICBsZXQgaGVhZGVyO1xuICAgICAgICBsZXQgYmFzZTY0Q29udGVudDtcbiAgICAgICAgbGV0IG1pbWVUeXBlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIFtoZWFkZXIsIGJhc2U2NENvbnRlbnRdID0gYXR0YWNobWVudC51cmwuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgIG1pbWVUeXBlID0gaGVhZGVyLnNwbGl0KFwiO1wiKVswXS5zcGxpdChcIjpcIilbMV07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBwcm9jZXNzaW5nIGRhdGEgVVJMOiAke2F0dGFjaG1lbnQudXJsfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaW1lVHlwZSA9PSBudWxsIHx8IGJhc2U2NENvbnRlbnQgPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBkYXRhIFVSTCBmb3JtYXQ6ICR7YXR0YWNobWVudC51cmx9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChfYiA9IGF0dGFjaG1lbnQuY29udGVudFR5cGUpID09IG51bGwgPyB2b2lkIDAgOiBfYi5zdGFydHNXaXRoKFwiaW1hZ2UvXCIpKSB7XG4gICAgICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBcImltYWdlXCIsXG4gICAgICAgICAgICBpbWFnZTogY29udmVydERhdGFDb250ZW50VG9VaW50OEFycmF5KGJhc2U2NENvbnRlbnQpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoKF9jID0gYXR0YWNobWVudC5jb250ZW50VHlwZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnN0YXJ0c1dpdGgoXCJ0ZXh0L1wiKSkge1xuICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICB0ZXh0OiBjb252ZXJ0VWludDhBcnJheVRvVGV4dChcbiAgICAgICAgICAgICAgY29udmVydERhdGFDb250ZW50VG9VaW50OEFycmF5KGJhc2U2NENvbnRlbnQpXG4gICAgICAgICAgICApXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFhdHRhY2htZW50LmNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIFwiSWYgdGhlIGF0dGFjaG1lbnQgaXMgbm90IGFuIGltYWdlIG9yIHRleHQsIGl0IG11c3Qgc3BlY2lmeSBhIGNvbnRlbnQgdHlwZVwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICAgICAgZGF0YTogYmFzZTY0Q29udGVudCxcbiAgICAgICAgICAgIG1pbWVUeXBlOiBhdHRhY2htZW50LmNvbnRlbnRUeXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgVVJMIHByb3RvY29sOiAke3VybC5wcm90b2NvbH1gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBjb3JlL3Byb21wdC9tZXNzYWdlLWNvbnZlcnNpb24tZXJyb3IudHNcbmltcG9ydCB7IEFJU0RLRXJyb3IgYXMgQUlTREtFcnJvcjcgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xudmFyIG5hbWU3ID0gXCJBSV9NZXNzYWdlQ29udmVyc2lvbkVycm9yXCI7XG52YXIgbWFya2VyNyA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lN31gO1xudmFyIHN5bWJvbDcgPSBTeW1ib2wuZm9yKG1hcmtlcjcpO1xudmFyIF9hNztcbnZhciBNZXNzYWdlQ29udmVyc2lvbkVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yNyB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBvcmlnaW5hbE1lc3NhZ2UsXG4gICAgbWVzc2FnZVxuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lNywgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hN10gPSB0cnVlO1xuICAgIHRoaXMub3JpZ2luYWxNZXNzYWdlID0gb3JpZ2luYWxNZXNzYWdlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3I3Lmhhc01hcmtlcihlcnJvciwgbWFya2VyNyk7XG4gIH1cbn07XG5fYTcgPSBzeW1ib2w3O1xuXG4vLyBjb3JlL3Byb21wdC9jb252ZXJ0LXRvLWNvcmUtbWVzc2FnZXMudHNcbmZ1bmN0aW9uIGNvbnZlcnRUb0NvcmVNZXNzYWdlcyhtZXNzYWdlcywgb3B0aW9ucykge1xuICB2YXIgX2ExNDtcbiAgY29uc3QgdG9vbHMgPSAoX2ExNCA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMudG9vbHMpICE9IG51bGwgPyBfYTE0IDoge307XG4gIGNvbnN0IGNvcmVNZXNzYWdlcyA9IFtdO1xuICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICBjb25zdCB7IHJvbGUsIGNvbnRlbnQsIHRvb2xJbnZvY2F0aW9ucywgZXhwZXJpbWVudGFsX2F0dGFjaG1lbnRzIH0gPSBtZXNzYWdlO1xuICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgY2FzZSBcInN5c3RlbVwiOiB7XG4gICAgICAgIGNvcmVNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICByb2xlOiBcInN5c3RlbVwiLFxuICAgICAgICAgIGNvbnRlbnRcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcInVzZXJcIjoge1xuICAgICAgICBjb3JlTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgY29udGVudDogZXhwZXJpbWVudGFsX2F0dGFjaG1lbnRzID8gW1xuICAgICAgICAgICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogY29udGVudCB9LFxuICAgICAgICAgICAgLi4uYXR0YWNobWVudHNUb1BhcnRzKGV4cGVyaW1lbnRhbF9hdHRhY2htZW50cylcbiAgICAgICAgICBdIDogY29udGVudFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiYXNzaXN0YW50XCI6IHtcbiAgICAgICAgaWYgKHRvb2xJbnZvY2F0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgICAgY29yZU1lc3NhZ2VzLnB1c2goeyByb2xlOiBcImFzc2lzdGFudFwiLCBjb250ZW50IH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvcmVNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IGNvbnRlbnQgfSxcbiAgICAgICAgICAgIC4uLnRvb2xJbnZvY2F0aW9ucy5tYXAoXG4gICAgICAgICAgICAgICh7IHRvb2xDYWxsSWQsIHRvb2xOYW1lLCBhcmdzIH0pID0+ICh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGxcIixcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIGFyZ3NcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgICAgICBjb3JlTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogXCJ0b29sXCIsXG4gICAgICAgICAgY29udGVudDogdG9vbEludm9jYXRpb25zLm1hcCgodG9vbEludm9jYXRpb24pID0+IHtcbiAgICAgICAgICAgIGlmICghKFwicmVzdWx0XCIgaW4gdG9vbEludm9jYXRpb24pKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXNzYWdlQ29udmVyc2lvbkVycm9yKHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbE1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUb29sSW52b2NhdGlvbiBtdXN0IGhhdmUgYSByZXN1bHQ6IFwiICsgSlNPTi5zdHJpbmdpZnkodG9vbEludm9jYXRpb24pXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB0b29sQ2FsbElkLCB0b29sTmFtZSwgcmVzdWx0IH0gPSB0b29sSW52b2NhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHRvb2wyID0gdG9vbHNbdG9vbE5hbWVdO1xuICAgICAgICAgICAgcmV0dXJuICh0b29sMiA9PSBudWxsID8gdm9pZCAwIDogdG9vbDIuZXhwZXJpbWVudGFsX3RvVG9vbFJlc3VsdENvbnRlbnQpICE9IG51bGwgPyB7XG4gICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1yZXN1bHRcIixcbiAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgIHJlc3VsdDogdG9vbDIuZXhwZXJpbWVudGFsX3RvVG9vbFJlc3VsdENvbnRlbnQocmVzdWx0KSxcbiAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRlbnQ6IHRvb2wyLmV4cGVyaW1lbnRhbF90b1Rvb2xSZXN1bHRDb250ZW50KHJlc3VsdClcbiAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1yZXN1bHRcIixcbiAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiZGF0YVwiOiB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gcm9sZTtcbiAgICAgICAgdGhyb3cgbmV3IE1lc3NhZ2VDb252ZXJzaW9uRXJyb3Ioe1xuICAgICAgICAgIG9yaWdpbmFsTWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICBtZXNzYWdlOiBgVW5zdXBwb3J0ZWQgcm9sZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb3JlTWVzc2FnZXM7XG59XG5cbi8vIGNvcmUvcHJvbXB0L3N0YW5kYXJkaXplLXByb21wdC50c1xuZnVuY3Rpb24gc3RhbmRhcmRpemVQcm9tcHQoe1xuICBwcm9tcHQsXG4gIHRvb2xzXG59KSB7XG4gIGlmIChwcm9tcHQucHJvbXB0ID09IG51bGwgJiYgcHJvbXB0Lm1lc3NhZ2VzID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6IFwicHJvbXB0IG9yIG1lc3NhZ2VzIG11c3QgYmUgZGVmaW5lZFwiXG4gICAgfSk7XG4gIH1cbiAgaWYgKHByb21wdC5wcm9tcHQgIT0gbnVsbCAmJiBwcm9tcHQubWVzc2FnZXMgIT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkUHJvbXB0RXJyb3Ioe1xuICAgICAgcHJvbXB0LFxuICAgICAgbWVzc2FnZTogXCJwcm9tcHQgYW5kIG1lc3NhZ2VzIGNhbm5vdCBiZSBkZWZpbmVkIGF0IHRoZSBzYW1lIHRpbWVcIlxuICAgIH0pO1xuICB9XG4gIGlmIChwcm9tcHQuc3lzdGVtICE9IG51bGwgJiYgdHlwZW9mIHByb21wdC5zeXN0ZW0gIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6IFwic3lzdGVtIG11c3QgYmUgYSBzdHJpbmdcIlxuICAgIH0pO1xuICB9XG4gIGlmIChwcm9tcHQucHJvbXB0ICE9IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIHByb21wdC5wcm9tcHQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkUHJvbXB0RXJyb3Ioe1xuICAgICAgICBwcm9tcHQsXG4gICAgICAgIG1lc3NhZ2U6IFwicHJvbXB0IG11c3QgYmUgYSBzdHJpbmdcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInByb21wdFwiLFxuICAgICAgc3lzdGVtOiBwcm9tcHQuc3lzdGVtLFxuICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgIGNvbnRlbnQ6IHByb21wdC5wcm9tcHRcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH07XG4gIH1cbiAgaWYgKHByb21wdC5tZXNzYWdlcyAhPSBudWxsKSB7XG4gICAgY29uc3QgcHJvbXB0VHlwZSA9IGRldGVjdFByb21wdFR5cGUocHJvbXB0Lm1lc3NhZ2VzKTtcbiAgICBpZiAocHJvbXB0VHlwZSA9PT0gXCJvdGhlclwiKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgICAgcHJvbXB0LFxuICAgICAgICBtZXNzYWdlOiBcIm1lc3NhZ2VzIG11c3QgYmUgYW4gYXJyYXkgb2YgQ29yZU1lc3NhZ2Ugb3IgVUlNZXNzYWdlXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBtZXNzYWdlcyA9IHByb21wdFR5cGUgPT09IFwidWktbWVzc2FnZXNcIiA/IGNvbnZlcnRUb0NvcmVNZXNzYWdlcyhwcm9tcHQubWVzc2FnZXMsIHtcbiAgICAgIHRvb2xzXG4gICAgfSkgOiBwcm9tcHQubWVzc2FnZXM7XG4gICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IHNhZmVWYWxpZGF0ZVR5cGVzKHtcbiAgICAgIHZhbHVlOiBtZXNzYWdlcyxcbiAgICAgIHNjaGVtYTogejcuYXJyYXkoY29yZU1lc3NhZ2VTY2hlbWEpXG4gICAgfSk7XG4gICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkUHJvbXB0RXJyb3Ioe1xuICAgICAgICBwcm9tcHQsXG4gICAgICAgIG1lc3NhZ2U6IFwibWVzc2FnZXMgbXVzdCBiZSBhbiBhcnJheSBvZiBDb3JlTWVzc2FnZSBvciBVSU1lc3NhZ2VcIixcbiAgICAgICAgY2F1c2U6IHZhbGlkYXRpb25SZXN1bHQuZXJyb3JcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJtZXNzYWdlc1wiLFxuICAgICAgbWVzc2FnZXMsXG4gICAgICBzeXN0ZW06IHByb21wdC5zeXN0ZW1cbiAgICB9O1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcInVucmVhY2hhYmxlXCIpO1xufVxuXG4vLyBjb3JlL3R5cGVzL3VzYWdlLnRzXG5mdW5jdGlvbiBjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2Uoe1xuICBwcm9tcHRUb2tlbnMsXG4gIGNvbXBsZXRpb25Ub2tlbnNcbn0pIHtcbiAgcmV0dXJuIHtcbiAgICBwcm9tcHRUb2tlbnMsXG4gICAgY29tcGxldGlvblRva2VucyxcbiAgICB0b3RhbFRva2VuczogcHJvbXB0VG9rZW5zICsgY29tcGxldGlvblRva2Vuc1xuICB9O1xufVxuZnVuY3Rpb24gYWRkTGFuZ3VhZ2VNb2RlbFVzYWdlKHVzYWdlMSwgdXNhZ2UyKSB7XG4gIHJldHVybiB7XG4gICAgcHJvbXB0VG9rZW5zOiB1c2FnZTEucHJvbXB0VG9rZW5zICsgdXNhZ2UyLnByb21wdFRva2VucyxcbiAgICBjb21wbGV0aW9uVG9rZW5zOiB1c2FnZTEuY29tcGxldGlvblRva2VucyArIHVzYWdlMi5jb21wbGV0aW9uVG9rZW5zLFxuICAgIHRvdGFsVG9rZW5zOiB1c2FnZTEudG90YWxUb2tlbnMgKyB1c2FnZTIudG90YWxUb2tlbnNcbiAgfTtcbn1cblxuLy8gY29yZS9nZW5lcmF0ZS1vYmplY3QvaW5qZWN0LWpzb24taW5zdHJ1Y3Rpb24udHNcbnZhciBERUZBVUxUX1NDSEVNQV9QUkVGSVggPSBcIkpTT04gc2NoZW1hOlwiO1xudmFyIERFRkFVTFRfU0NIRU1BX1NVRkZJWCA9IFwiWW91IE1VU1QgYW5zd2VyIHdpdGggYSBKU09OIG9iamVjdCB0aGF0IG1hdGNoZXMgdGhlIEpTT04gc2NoZW1hIGFib3ZlLlwiO1xudmFyIERFRkFVTFRfR0VORVJJQ19TVUZGSVggPSBcIllvdSBNVVNUIGFuc3dlciB3aXRoIEpTT04uXCI7XG5mdW5jdGlvbiBpbmplY3RKc29uSW5zdHJ1Y3Rpb24oe1xuICBwcm9tcHQsXG4gIHNjaGVtYSxcbiAgc2NoZW1hUHJlZml4ID0gc2NoZW1hICE9IG51bGwgPyBERUZBVUxUX1NDSEVNQV9QUkVGSVggOiB2b2lkIDAsXG4gIHNjaGVtYVN1ZmZpeCA9IHNjaGVtYSAhPSBudWxsID8gREVGQVVMVF9TQ0hFTUFfU1VGRklYIDogREVGQVVMVF9HRU5FUklDX1NVRkZJWFxufSkge1xuICByZXR1cm4gW1xuICAgIHByb21wdCAhPSBudWxsICYmIHByb21wdC5sZW5ndGggPiAwID8gcHJvbXB0IDogdm9pZCAwLFxuICAgIHByb21wdCAhPSBudWxsICYmIHByb21wdC5sZW5ndGggPiAwID8gXCJcIiA6IHZvaWQgMCxcbiAgICAvLyBhZGQgYSBuZXdsaW5lIGlmIHByb21wdCBpcyBub3QgbnVsbFxuICAgIHNjaGVtYVByZWZpeCxcbiAgICBzY2hlbWEgIT0gbnVsbCA/IEpTT04uc3RyaW5naWZ5KHNjaGVtYSkgOiB2b2lkIDAsXG4gICAgc2NoZW1hU3VmZml4XG4gIF0uZmlsdGVyKChsaW5lKSA9PiBsaW5lICE9IG51bGwpLmpvaW4oXCJcXG5cIik7XG59XG5cbi8vIGNvcmUvZ2VuZXJhdGUtb2JqZWN0L291dHB1dC1zdHJhdGVneS50c1xuaW1wb3J0IHtcbiAgaXNKU09OQXJyYXksXG4gIGlzSlNPTk9iamVjdCxcbiAgVHlwZVZhbGlkYXRpb25FcnJvcixcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3Jcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmltcG9ydCB7IHNhZmVWYWxpZGF0ZVR5cGVzIGFzIHNhZmVWYWxpZGF0ZVR5cGVzMiB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgeyBhc1NjaGVtYSB9IGZyb20gXCJAYWktc2RrL3VpLXV0aWxzXCI7XG5cbi8vIGNvcmUvdXRpbC9hc3luYy1pdGVyYWJsZS1zdHJlYW0udHNcbmZ1bmN0aW9uIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oc291cmNlKSB7XG4gIGNvbnN0IHN0cmVhbSA9IHNvdXJjZS5waXBlVGhyb3VnaChuZXcgVHJhbnNmb3JtU3RyZWFtKCkpO1xuICBzdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gKCkgPT4ge1xuICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICByZXR1cm4ge1xuICAgICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgcmV0dXJuIGRvbmUgPyB7IGRvbmU6IHRydWUsIHZhbHVlOiB2b2lkIDAgfSA6IHsgZG9uZTogZmFsc2UsIHZhbHVlIH07XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIHN0cmVhbTtcbn1cblxuLy8gY29yZS9nZW5lcmF0ZS1vYmplY3Qvb3V0cHV0LXN0cmF0ZWd5LnRzXG52YXIgbm9TY2hlbWFPdXRwdXRTdHJhdGVneSA9IHtcbiAgdHlwZTogXCJuby1zY2hlbWFcIixcbiAganNvblNjaGVtYTogdm9pZCAwLFxuICB2YWxpZGF0ZVBhcnRpYWxSZXN1bHQoeyB2YWx1ZSwgdGV4dERlbHRhIH0pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogeyBwYXJ0aWFsOiB2YWx1ZSwgdGV4dERlbHRhIH0gfTtcbiAgfSxcbiAgdmFsaWRhdGVGaW5hbFJlc3VsdCh2YWx1ZSwgY29udGV4dCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdm9pZCAwID8ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogbmV3IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBcIk5vIG9iamVjdCBnZW5lcmF0ZWQ6IHJlc3BvbnNlIGRpZCBub3QgbWF0Y2ggc2NoZW1hLlwiLFxuICAgICAgICB0ZXh0OiBjb250ZXh0LnRleHQsXG4gICAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgICB1c2FnZTogY29udGV4dC51c2FnZVxuICAgICAgfSlcbiAgICB9IDogeyBzdWNjZXNzOiB0cnVlLCB2YWx1ZSB9O1xuICB9LFxuICBjcmVhdGVFbGVtZW50U3RyZWFtKCkge1xuICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcih7XG4gICAgICBmdW5jdGlvbmFsaXR5OiBcImVsZW1lbnQgc3RyZWFtcyBpbiBuby1zY2hlbWEgbW9kZVwiXG4gICAgfSk7XG4gIH1cbn07XG52YXIgb2JqZWN0T3V0cHV0U3RyYXRlZ3kgPSAoc2NoZW1hKSA9PiAoe1xuICB0eXBlOiBcIm9iamVjdFwiLFxuICBqc29uU2NoZW1hOiBzY2hlbWEuanNvblNjaGVtYSxcbiAgdmFsaWRhdGVQYXJ0aWFsUmVzdWx0KHsgdmFsdWUsIHRleHREZWx0YSB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB2YWx1ZToge1xuICAgICAgICAvLyBOb3RlOiBjdXJyZW50bHkgbm8gdmFsaWRhdGlvbiBvZiBwYXJ0aWFsIHJlc3VsdHM6XG4gICAgICAgIHBhcnRpYWw6IHZhbHVlLFxuICAgICAgICB0ZXh0RGVsdGFcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICB2YWxpZGF0ZUZpbmFsUmVzdWx0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHNhZmVWYWxpZGF0ZVR5cGVzMih7IHZhbHVlLCBzY2hlbWEgfSk7XG4gIH0sXG4gIGNyZWF0ZUVsZW1lbnRTdHJlYW0oKSB7XG4gICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yKHtcbiAgICAgIGZ1bmN0aW9uYWxpdHk6IFwiZWxlbWVudCBzdHJlYW1zIGluIG9iamVjdCBtb2RlXCJcbiAgICB9KTtcbiAgfVxufSk7XG52YXIgYXJyYXlPdXRwdXRTdHJhdGVneSA9IChzY2hlbWEpID0+IHtcbiAgY29uc3QgeyAkc2NoZW1hLCAuLi5pdGVtU2NoZW1hIH0gPSBzY2hlbWEuanNvblNjaGVtYTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcImVudW1cIixcbiAgICAvLyB3cmFwIGluIG9iamVjdCB0aGF0IGNvbnRhaW5zIGFycmF5IG9mIGVsZW1lbnRzLCBzaW5jZSBtb3N0IExMTXMgd2lsbCBub3RcbiAgICAvLyBiZSBhYmxlIHRvIGdlbmVyYXRlIGFuIGFycmF5IGRpcmVjdGx5OlxuICAgIC8vIHBvc3NpYmxlIGZ1dHVyZSBvcHRpbWl6YXRpb246IHVzZSBhcnJheXMgZGlyZWN0bHkgd2hlbiBtb2RlbCBzdXBwb3J0cyBncmFtbWFyLWd1aWRlZCBnZW5lcmF0aW9uXG4gICAganNvblNjaGVtYToge1xuICAgICAgJHNjaGVtYTogXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA3L3NjaGVtYSNcIixcbiAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIGVsZW1lbnRzOiB7IHR5cGU6IFwiYXJyYXlcIiwgaXRlbXM6IGl0ZW1TY2hlbWEgfVxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVkOiBbXCJlbGVtZW50c1wiXSxcbiAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZVxuICAgIH0sXG4gICAgdmFsaWRhdGVQYXJ0aWFsUmVzdWx0KHsgdmFsdWUsIGxhdGVzdE9iamVjdCwgaXNGaXJzdERlbHRhLCBpc0ZpbmFsRGVsdGEgfSkge1xuICAgICAgdmFyIF9hMTQ7XG4gICAgICBpZiAoIWlzSlNPTk9iamVjdCh2YWx1ZSkgfHwgIWlzSlNPTkFycmF5KHZhbHVlLmVsZW1lbnRzKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNhdXNlOiBcInZhbHVlIG11c3QgYmUgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYW4gYXJyYXkgb2YgZWxlbWVudHNcIlxuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCBpbnB1dEFycmF5ID0gdmFsdWUuZWxlbWVudHM7XG4gICAgICBjb25zdCByZXN1bHRBcnJheSA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBpbnB1dEFycmF5W2ldO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBzYWZlVmFsaWRhdGVUeXBlczIoeyB2YWx1ZTogZWxlbWVudCwgc2NoZW1hIH0pO1xuICAgICAgICBpZiAoaSA9PT0gaW5wdXRBcnJheS5sZW5ndGggLSAxICYmICFpc0ZpbmFsRGVsdGEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRBcnJheS5wdXNoKHJlc3VsdC52YWx1ZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBwdWJsaXNoZWRFbGVtZW50Q291bnQgPSAoX2ExNCA9IGxhdGVzdE9iamVjdCA9PSBudWxsID8gdm9pZCAwIDogbGF0ZXN0T2JqZWN0Lmxlbmd0aCkgIT0gbnVsbCA/IF9hMTQgOiAwO1xuICAgICAgbGV0IHRleHREZWx0YSA9IFwiXCI7XG4gICAgICBpZiAoaXNGaXJzdERlbHRhKSB7XG4gICAgICAgIHRleHREZWx0YSArPSBcIltcIjtcbiAgICAgIH1cbiAgICAgIGlmIChwdWJsaXNoZWRFbGVtZW50Q291bnQgPiAwKSB7XG4gICAgICAgIHRleHREZWx0YSArPSBcIixcIjtcbiAgICAgIH1cbiAgICAgIHRleHREZWx0YSArPSByZXN1bHRBcnJheS5zbGljZShwdWJsaXNoZWRFbGVtZW50Q291bnQpLm1hcCgoZWxlbWVudCkgPT4gSlNPTi5zdHJpbmdpZnkoZWxlbWVudCkpLmpvaW4oXCIsXCIpO1xuICAgICAgaWYgKGlzRmluYWxEZWx0YSkge1xuICAgICAgICB0ZXh0RGVsdGEgKz0gXCJdXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHBhcnRpYWw6IHJlc3VsdEFycmF5LFxuICAgICAgICAgIHRleHREZWx0YVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG4gICAgdmFsaWRhdGVGaW5hbFJlc3VsdCh2YWx1ZSkge1xuICAgICAgaWYgKCFpc0pTT05PYmplY3QodmFsdWUpIHx8ICFpc0pTT05BcnJheSh2YWx1ZS5lbGVtZW50cykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBjYXVzZTogXCJ2YWx1ZSBtdXN0IGJlIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGFuIGFycmF5IG9mIGVsZW1lbnRzXCJcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgaW5wdXRBcnJheSA9IHZhbHVlLmVsZW1lbnRzO1xuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGlucHV0QXJyYXkpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gc2FmZVZhbGlkYXRlVHlwZXMyKHsgdmFsdWU6IGVsZW1lbnQsIHNjaGVtYSB9KTtcbiAgICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiBpbnB1dEFycmF5IH07XG4gICAgfSxcbiAgICBjcmVhdGVFbGVtZW50U3RyZWFtKG9yaWdpbmFsU3RyZWFtKSB7XG4gICAgICBsZXQgcHVibGlzaGVkRWxlbWVudHMgPSAwO1xuICAgICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICAgIG9yaWdpbmFsU3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgICAgY29uc3QgYXJyYXkgPSBjaHVuay5vYmplY3Q7XG4gICAgICAgICAgICAgICAgICBmb3IgKDsgcHVibGlzaGVkRWxlbWVudHMgPCBhcnJheS5sZW5ndGg7IHB1Ymxpc2hlZEVsZW1lbnRzKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGFycmF5W3B1Ymxpc2hlZEVsZW1lbnRzXSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcInRleHQtZGVsdGFcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZmluaXNoXCI6XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoY2h1bmsuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IGNodW5rO1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgVW5zdXBwb3J0ZWQgY2h1bmsgdHlwZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWBcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH07XG59O1xudmFyIGVudW1PdXRwdXRTdHJhdGVneSA9IChlbnVtVmFsdWVzKSA9PiB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJlbnVtXCIsXG4gICAgLy8gd3JhcCBpbiBvYmplY3QgdGhhdCBjb250YWlucyByZXN1bHQsIHNpbmNlIG1vc3QgTExNcyB3aWxsIG5vdFxuICAgIC8vIGJlIGFibGUgdG8gZ2VuZXJhdGUgYW4gZW51bSB2YWx1ZSBkaXJlY3RseTpcbiAgICAvLyBwb3NzaWJsZSBmdXR1cmUgb3B0aW1pemF0aW9uOiB1c2UgZW51bXMgZGlyZWN0bHkgd2hlbiBtb2RlbCBzdXBwb3J0cyB0b3AtbGV2ZWwgZW51bXNcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAkc2NoZW1hOiBcImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hI1wiLFxuICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgcmVzdWx0OiB7IHR5cGU6IFwic3RyaW5nXCIsIGVudW06IGVudW1WYWx1ZXMgfVxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVkOiBbXCJyZXN1bHRcIl0sXG4gICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2VcbiAgICB9LFxuICAgIHZhbGlkYXRlRmluYWxSZXN1bHQodmFsdWUpIHtcbiAgICAgIGlmICghaXNKU09OT2JqZWN0KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUucmVzdWx0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgY2F1c2U6ICd2YWx1ZSBtdXN0IGJlIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgc3RyaW5nIGluIHRoZSBcInJlc3VsdFwiIHByb3BlcnR5LidcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUucmVzdWx0O1xuICAgICAgcmV0dXJuIGVudW1WYWx1ZXMuaW5jbHVkZXMocmVzdWx0KSA/IHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHJlc3VsdCB9IDoge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBjYXVzZTogXCJ2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIGluIHRoZSBlbnVtXCJcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSxcbiAgICB2YWxpZGF0ZVBhcnRpYWxSZXN1bHQoKSB7XG4gICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3Ioe1xuICAgICAgICBmdW5jdGlvbmFsaXR5OiBcInBhcnRpYWwgcmVzdWx0cyBpbiBlbnVtIG1vZGVcIlxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjcmVhdGVFbGVtZW50U3RyZWFtKCkge1xuICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yKHtcbiAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJlbGVtZW50IHN0cmVhbXMgaW4gZW51bSBtb2RlXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG5mdW5jdGlvbiBnZXRPdXRwdXRTdHJhdGVneSh7XG4gIG91dHB1dCxcbiAgc2NoZW1hLFxuICBlbnVtVmFsdWVzXG59KSB7XG4gIHN3aXRjaCAob3V0cHV0KSB7XG4gICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgcmV0dXJuIG9iamVjdE91dHB1dFN0cmF0ZWd5KGFzU2NoZW1hKHNjaGVtYSkpO1xuICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgcmV0dXJuIGFycmF5T3V0cHV0U3RyYXRlZ3koYXNTY2hlbWEoc2NoZW1hKSk7XG4gICAgY2FzZSBcImVudW1cIjpcbiAgICAgIHJldHVybiBlbnVtT3V0cHV0U3RyYXRlZ3koZW51bVZhbHVlcyk7XG4gICAgY2FzZSBcIm5vLXNjaGVtYVwiOlxuICAgICAgcmV0dXJuIG5vU2NoZW1hT3V0cHV0U3RyYXRlZ3k7XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IG91dHB1dDtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgb3V0cHV0OiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgfVxuICB9XG59XG5cbi8vIGNvcmUvZ2VuZXJhdGUtb2JqZWN0L3ZhbGlkYXRlLW9iamVjdC1nZW5lcmF0aW9uLWlucHV0LnRzXG5mdW5jdGlvbiB2YWxpZGF0ZU9iamVjdEdlbmVyYXRpb25JbnB1dCh7XG4gIG91dHB1dCxcbiAgbW9kZSxcbiAgc2NoZW1hLFxuICBzY2hlbWFOYW1lLFxuICBzY2hlbWFEZXNjcmlwdGlvbixcbiAgZW51bVZhbHVlc1xufSkge1xuICBpZiAob3V0cHV0ICE9IG51bGwgJiYgb3V0cHV0ICE9PSBcIm9iamVjdFwiICYmIG91dHB1dCAhPT0gXCJhcnJheVwiICYmIG91dHB1dCAhPT0gXCJlbnVtXCIgJiYgb3V0cHV0ICE9PSBcIm5vLXNjaGVtYVwiKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIHBhcmFtZXRlcjogXCJvdXRwdXRcIixcbiAgICAgIHZhbHVlOiBvdXRwdXQsXG4gICAgICBtZXNzYWdlOiBcIkludmFsaWQgb3V0cHV0IHR5cGUuXCJcbiAgICB9KTtcbiAgfVxuICBpZiAob3V0cHV0ID09PSBcIm5vLXNjaGVtYVwiKSB7XG4gICAgaWYgKG1vZGUgPT09IFwiYXV0b1wiIHx8IG1vZGUgPT09IFwidG9vbFwiKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwibW9kZVwiLFxuICAgICAgICB2YWx1ZTogbW9kZSxcbiAgICAgICAgbWVzc2FnZTogJ01vZGUgbXVzdCBiZSBcImpzb25cIiBmb3Igbm8tc2NoZW1hIG91dHB1dC4nXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHNjaGVtYSAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwic2NoZW1hXCIsXG4gICAgICAgIHZhbHVlOiBzY2hlbWEsXG4gICAgICAgIG1lc3NhZ2U6IFwiU2NoZW1hIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIG5vLXNjaGVtYSBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiBcInNjaGVtYURlc2NyaXB0aW9uXCIsXG4gICAgICAgIHZhbHVlOiBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICAgICAgbWVzc2FnZTogXCJTY2hlbWEgZGVzY3JpcHRpb24gaXMgbm90IHN1cHBvcnRlZCBmb3Igbm8tc2NoZW1hIG91dHB1dC5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzY2hlbWFOYW1lICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJzY2hlbWFOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBzY2hlbWFOYW1lLFxuICAgICAgICBtZXNzYWdlOiBcIlNjaGVtYSBuYW1lIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIG5vLXNjaGVtYSBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZW51bVZhbHVlcyAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwiZW51bVZhbHVlc1wiLFxuICAgICAgICB2YWx1ZTogZW51bVZhbHVlcyxcbiAgICAgICAgbWVzc2FnZTogXCJFbnVtIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCBmb3Igbm8tc2NoZW1hIG91dHB1dC5cIlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChvdXRwdXQgPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoc2NoZW1hID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJzY2hlbWFcIixcbiAgICAgICAgdmFsdWU6IHNjaGVtYSxcbiAgICAgICAgbWVzc2FnZTogXCJTY2hlbWEgaXMgcmVxdWlyZWQgZm9yIG9iamVjdCBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZW51bVZhbHVlcyAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwiZW51bVZhbHVlc1wiLFxuICAgICAgICB2YWx1ZTogZW51bVZhbHVlcyxcbiAgICAgICAgbWVzc2FnZTogXCJFbnVtIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCBmb3Igb2JqZWN0IG91dHB1dC5cIlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChvdXRwdXQgPT09IFwiYXJyYXlcIikge1xuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiBcInNjaGVtYVwiLFxuICAgICAgICB2YWx1ZTogc2NoZW1hLFxuICAgICAgICBtZXNzYWdlOiBcIkVsZW1lbnQgc2NoZW1hIGlzIHJlcXVpcmVkIGZvciBhcnJheSBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZW51bVZhbHVlcyAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwiZW51bVZhbHVlc1wiLFxuICAgICAgICB2YWx1ZTogZW51bVZhbHVlcyxcbiAgICAgICAgbWVzc2FnZTogXCJFbnVtIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgYXJyYXkgb3V0cHV0LlwiXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKG91dHB1dCA9PT0gXCJlbnVtXCIpIHtcbiAgICBpZiAoc2NoZW1hICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJzY2hlbWFcIixcbiAgICAgICAgdmFsdWU6IHNjaGVtYSxcbiAgICAgICAgbWVzc2FnZTogXCJTY2hlbWEgaXMgbm90IHN1cHBvcnRlZCBmb3IgZW51bSBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiBcInNjaGVtYURlc2NyaXB0aW9uXCIsXG4gICAgICAgIHZhbHVlOiBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICAgICAgbWVzc2FnZTogXCJTY2hlbWEgZGVzY3JpcHRpb24gaXMgbm90IHN1cHBvcnRlZCBmb3IgZW51bSBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hTmFtZSAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwic2NoZW1hTmFtZVwiLFxuICAgICAgICB2YWx1ZTogc2NoZW1hTmFtZSxcbiAgICAgICAgbWVzc2FnZTogXCJTY2hlbWEgbmFtZSBpcyBub3Qgc3VwcG9ydGVkIGZvciBlbnVtIG91dHB1dC5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChlbnVtVmFsdWVzID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJlbnVtVmFsdWVzXCIsXG4gICAgICAgIHZhbHVlOiBlbnVtVmFsdWVzLFxuICAgICAgICBtZXNzYWdlOiBcIkVudW0gdmFsdWVzIGFyZSByZXF1aXJlZCBmb3IgZW51bSBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGVudW1WYWx1ZXMpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgICBwYXJhbWV0ZXI6IFwiZW51bVZhbHVlc1wiLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiRW51bSB2YWx1ZXMgbXVzdCBiZSBzdHJpbmdzLlwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBjb3JlL2dlbmVyYXRlLW9iamVjdC9nZW5lcmF0ZS1vYmplY3QudHNcbnZhciBvcmlnaW5hbEdlbmVyYXRlSWQgPSBjcmVhdGVJZEdlbmVyYXRvcih7IHByZWZpeDogXCJhaW9ialwiLCBzaXplOiAyNCB9KTtcbmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlT2JqZWN0KHtcbiAgbW9kZWwsXG4gIGVudW06IGVudW1WYWx1ZXMsXG4gIC8vIHJlbmFtZSBiYyBlbnVtIGlzIHJlc2VydmVkIGJ5IHR5cGVzY3JpcHRcbiAgc2NoZW1hOiBpbnB1dFNjaGVtYSxcbiAgc2NoZW1hTmFtZSxcbiAgc2NoZW1hRGVzY3JpcHRpb24sXG4gIG1vZGUsXG4gIG91dHB1dCA9IFwib2JqZWN0XCIsXG4gIHN5c3RlbSxcbiAgcHJvbXB0LFxuICBtZXNzYWdlcyxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG4gIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk6IHRlbGVtZXRyeSxcbiAgZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGEsXG4gIF9pbnRlcm5hbDoge1xuICAgIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQzID0gb3JpZ2luYWxHZW5lcmF0ZUlkLFxuICAgIGN1cnJlbnREYXRlID0gKCkgPT4gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKClcbiAgfSA9IHt9LFxuICAuLi5zZXR0aW5nc1xufSkge1xuICB2YWxpZGF0ZU9iamVjdEdlbmVyYXRpb25JbnB1dCh7XG4gICAgb3V0cHV0LFxuICAgIG1vZGUsXG4gICAgc2NoZW1hOiBpbnB1dFNjaGVtYSxcbiAgICBzY2hlbWFOYW1lLFxuICAgIHNjaGVtYURlc2NyaXB0aW9uLFxuICAgIGVudW1WYWx1ZXNcbiAgfSk7XG4gIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHsgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyB9KTtcbiAgY29uc3Qgb3V0cHV0U3RyYXRlZ3kgPSBnZXRPdXRwdXRTdHJhdGVneSh7XG4gICAgb3V0cHV0LFxuICAgIHNjaGVtYTogaW5wdXRTY2hlbWEsXG4gICAgZW51bVZhbHVlc1xuICB9KTtcbiAgaWYgKG91dHB1dFN0cmF0ZWd5LnR5cGUgPT09IFwibm8tc2NoZW1hXCIgJiYgbW9kZSA9PT0gdm9pZCAwKSB7XG4gICAgbW9kZSA9IFwianNvblwiO1xuICB9XG4gIGNvbnN0IGJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzID0gZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgIG1vZGVsLFxuICAgIHRlbGVtZXRyeSxcbiAgICBoZWFkZXJzLFxuICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzLCBtYXhSZXRyaWVzIH1cbiAgfSk7XG4gIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcih0ZWxlbWV0cnkpO1xuICByZXR1cm4gcmVjb3JkU3Bhbih7XG4gICAgbmFtZTogXCJhaS5nZW5lcmF0ZU9iamVjdFwiLFxuICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgdGVsZW1ldHJ5LFxuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgIG9wZXJhdGlvbklkOiBcImFpLmdlbmVyYXRlT2JqZWN0XCIsXG4gICAgICAgICAgdGVsZW1ldHJ5XG4gICAgICAgIH0pLFxuICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgLy8gc3BlY2lmaWMgc2V0dGluZ3MgdGhhdCBvbmx5IG1ha2Ugc2Vuc2Ugb24gdGhlIG91dGVyIGxldmVsOlxuICAgICAgICBcImFpLnByb21wdFwiOiB7XG4gICAgICAgICAgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHsgc3lzdGVtLCBwcm9tcHQsIG1lc3NhZ2VzIH0pXG4gICAgICAgIH0sXG4gICAgICAgIFwiYWkuc2NoZW1hXCI6IG91dHB1dFN0cmF0ZWd5Lmpzb25TY2hlbWEgIT0gbnVsbCA/IHsgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KG91dHB1dFN0cmF0ZWd5Lmpzb25TY2hlbWEpIH0gOiB2b2lkIDAsXG4gICAgICAgIFwiYWkuc2NoZW1hLm5hbWVcIjogc2NoZW1hTmFtZSxcbiAgICAgICAgXCJhaS5zY2hlbWEuZGVzY3JpcHRpb25cIjogc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgICAgIFwiYWkuc2V0dGluZ3Mub3V0cHV0XCI6IG91dHB1dFN0cmF0ZWd5LnR5cGUsXG4gICAgICAgIFwiYWkuc2V0dGluZ3MubW9kZVwiOiBtb2RlXG4gICAgICB9XG4gICAgfSksXG4gICAgdHJhY2VyLFxuICAgIGZuOiBhc3luYyAoc3BhbikgPT4ge1xuICAgICAgdmFyIF9hMTQsIF9iO1xuICAgICAgaWYgKG1vZGUgPT09IFwiYXV0b1wiIHx8IG1vZGUgPT0gbnVsbCkge1xuICAgICAgICBtb2RlID0gbW9kZWwuZGVmYXVsdE9iamVjdEdlbmVyYXRpb25Nb2RlO1xuICAgICAgfVxuICAgICAgbGV0IHJlc3VsdDtcbiAgICAgIGxldCBmaW5pc2hSZWFzb247XG4gICAgICBsZXQgdXNhZ2U7XG4gICAgICBsZXQgd2FybmluZ3M7XG4gICAgICBsZXQgcmF3UmVzcG9uc2U7XG4gICAgICBsZXQgcmVzcG9uc2U7XG4gICAgICBsZXQgcmVxdWVzdDtcbiAgICAgIGxldCBsb2dwcm9icztcbiAgICAgIGxldCByZXN1bHRQcm92aWRlck1ldGFkYXRhO1xuICAgICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgIGNhc2UgXCJqc29uXCI6IHtcbiAgICAgICAgICBjb25zdCBzdGFuZGFyZGl6ZWRQcm9tcHQgPSBzdGFuZGFyZGl6ZVByb21wdCh7XG4gICAgICAgICAgICBwcm9tcHQ6IHtcbiAgICAgICAgICAgICAgc3lzdGVtOiBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hID09IG51bGwgPyBpbmplY3RKc29uSW5zdHJ1Y3Rpb24oeyBwcm9tcHQ6IHN5c3RlbSB9KSA6IG1vZGVsLnN1cHBvcnRzU3RydWN0dXJlZE91dHB1dHMgPyBzeXN0ZW0gOiBpbmplY3RKc29uSW5zdHJ1Y3Rpb24oe1xuICAgICAgICAgICAgICAgIHByb21wdDogc3lzdGVtLFxuICAgICAgICAgICAgICAgIHNjaGVtYTogb3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgICAgICBtZXNzYWdlc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvb2xzOiB2b2lkIDBcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBwcm9tcHRNZXNzYWdlcyA9IGF3YWl0IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQoe1xuICAgICAgICAgICAgcHJvbXB0OiBzdGFuZGFyZGl6ZWRQcm9tcHQsXG4gICAgICAgICAgICBtb2RlbFN1cHBvcnRzSW1hZ2VVcmxzOiBtb2RlbC5zdXBwb3J0c0ltYWdlVXJscyxcbiAgICAgICAgICAgIG1vZGVsU3VwcG9ydHNVcmw6IG1vZGVsLnN1cHBvcnRzVXJsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgZ2VuZXJhdGVSZXN1bHQgPSBhd2FpdCByZXRyeShcbiAgICAgICAgICAgICgpID0+IHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgICBuYW1lOiBcImFpLmdlbmVyYXRlT2JqZWN0LmRvR2VuZXJhdGVcIixcbiAgICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiBcImFpLmdlbmVyYXRlT2JqZWN0LmRvR2VuZXJhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5XG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgXCJhaS5wcm9tcHQuZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IHN0YW5kYXJkaXplZFByb21wdC50eXBlXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCJhaS5wcm9tcHQubWVzc2FnZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkocHJvbXB0TWVzc2FnZXMpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCJhaS5zZXR0aW5ncy5tb2RlXCI6IG1vZGUsXG4gICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5zeXN0ZW1cIjogbW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0Lm1vZGVsXCI6IG1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LmZyZXF1ZW5jeV9wZW5hbHR5XCI6IHNldHRpbmdzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0Lm1heF90b2tlbnNcIjogc2V0dGluZ3MubWF4VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5wcmVzZW5jZV9wZW5hbHR5XCI6IHNldHRpbmdzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QudGVtcGVyYXR1cmVcIjogc2V0dGluZ3MudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LnRvcF9rXCI6IHNldHRpbmdzLnRvcEssXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LnRvcF9wXCI6IHNldHRpbmdzLnRvcFBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICAgIGZuOiBhc3luYyAoc3BhbjIpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2ExNSwgX2IyLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgbW9kZWwuZG9HZW5lcmF0ZSh7XG4gICAgICAgICAgICAgICAgICBtb2RlOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0LWpzb25cIixcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBzY2hlbWFOYW1lLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogc2NoZW1hRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAuLi5wcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKSxcbiAgICAgICAgICAgICAgICAgIGlucHV0Rm9ybWF0OiBzdGFuZGFyZGl6ZWRQcm9tcHQudHlwZSxcbiAgICAgICAgICAgICAgICAgIHByb21wdDogcHJvbXB0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgaWQ6IChfYjIgPSAoX2ExNSA9IHJlc3VsdDIucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfYTE1LmlkKSAhPSBudWxsID8gX2IyIDogZ2VuZXJhdGVJZDMoKSxcbiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogKF9kID0gKF9jID0gcmVzdWx0Mi5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnRpbWVzdGFtcCkgIT0gbnVsbCA/IF9kIDogY3VycmVudERhdGUoKSxcbiAgICAgICAgICAgICAgICAgIG1vZGVsSWQ6IChfZiA9IChfZSA9IHJlc3VsdDIucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfZS5tb2RlbElkKSAhPSBudWxsID8gX2YgOiBtb2RlbC5tb2RlbElkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Mi50ZXh0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJObyBvYmplY3QgZ2VuZXJhdGVkOiB0aGUgbW9kZWwgZGlkIG5vdCByZXR1cm4gYSByZXNwb25zZS5cIixcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IGNhbGN1bGF0ZUxhbmd1YWdlTW9kZWxVc2FnZShyZXN1bHQyLnVzYWdlKVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNwYW4yLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5maW5pc2hSZWFzb25cIjogcmVzdWx0Mi5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5vYmplY3RcIjogeyBvdXRwdXQ6ICgpID0+IHJlc3VsdDIudGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UuaWRcIjogcmVzcG9uc2VEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UubW9kZWxcIjogcmVzcG9uc2VEYXRhLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS50aW1lc3RhbXBcIjogcmVzcG9uc2VEYXRhLnRpbWVzdGFtcC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkudXNhZ2UucHJvbXB0VG9rZW5zXCI6IHJlc3VsdDIudXNhZ2UucHJvbXB0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkudXNhZ2UuY29tcGxldGlvblRva2Vuc1wiOiByZXN1bHQyLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlc3BvbnNlLmZpbmlzaF9yZWFzb25zXCI6IFtyZXN1bHQyLmZpbmlzaFJlYXNvbl0sXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UuaWRcIjogcmVzcG9uc2VEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlc3BvbnNlLm1vZGVsXCI6IHJlc3BvbnNlRGF0YS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnVzYWdlLnByb21wdF90b2tlbnNcIjogcmVzdWx0Mi51c2FnZS5wcm9tcHRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkudXNhZ2UuY29tcGxldGlvbl90b2tlbnNcIjogcmVzdWx0Mi51c2FnZS5jb21wbGV0aW9uVG9rZW5zXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5yZXN1bHQyLCBvYmplY3RUZXh0OiByZXN1bHQyLnRleHQsIHJlc3BvbnNlRGF0YSB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzdWx0ID0gZ2VuZXJhdGVSZXN1bHQub2JqZWN0VGV4dDtcbiAgICAgICAgICBmaW5pc2hSZWFzb24gPSBnZW5lcmF0ZVJlc3VsdC5maW5pc2hSZWFzb247XG4gICAgICAgICAgdXNhZ2UgPSBnZW5lcmF0ZVJlc3VsdC51c2FnZTtcbiAgICAgICAgICB3YXJuaW5ncyA9IGdlbmVyYXRlUmVzdWx0Lndhcm5pbmdzO1xuICAgICAgICAgIHJhd1Jlc3BvbnNlID0gZ2VuZXJhdGVSZXN1bHQucmF3UmVzcG9uc2U7XG4gICAgICAgICAgbG9ncHJvYnMgPSBnZW5lcmF0ZVJlc3VsdC5sb2dwcm9icztcbiAgICAgICAgICByZXN1bHRQcm92aWRlck1ldGFkYXRhID0gZ2VuZXJhdGVSZXN1bHQucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICByZXF1ZXN0ID0gKF9hMTQgPSBnZW5lcmF0ZVJlc3VsdC5yZXF1ZXN0KSAhPSBudWxsID8gX2ExNCA6IHt9O1xuICAgICAgICAgIHJlc3BvbnNlID0gZ2VuZXJhdGVSZXN1bHQucmVzcG9uc2VEYXRhO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ0b29sXCI6IHtcbiAgICAgICAgICBjb25zdCBzdGFuZGFyZGl6ZWRQcm9tcHQgPSBzdGFuZGFyZGl6ZVByb21wdCh7XG4gICAgICAgICAgICBwcm9tcHQ6IHsgc3lzdGVtLCBwcm9tcHQsIG1lc3NhZ2VzIH0sXG4gICAgICAgICAgICB0b29sczogdm9pZCAwXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcHJvbXB0TWVzc2FnZXMgPSBhd2FpdCBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgICAgICAgICAgIHByb21wdDogc3RhbmRhcmRpemVkUHJvbXB0LFxuICAgICAgICAgICAgbW9kZWxTdXBwb3J0c0ltYWdlVXJsczogbW9kZWwuc3VwcG9ydHNJbWFnZVVybHMsXG4gICAgICAgICAgICBtb2RlbFN1cHBvcnRzVXJsOiBtb2RlbC5zdXBwb3J0c1VybFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IGlucHV0Rm9ybWF0ID0gc3RhbmRhcmRpemVkUHJvbXB0LnR5cGU7XG4gICAgICAgICAgY29uc3QgZ2VuZXJhdGVSZXN1bHQgPSBhd2FpdCByZXRyeShcbiAgICAgICAgICAgICgpID0+IHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgICBuYW1lOiBcImFpLmdlbmVyYXRlT2JqZWN0LmRvR2VuZXJhdGVcIixcbiAgICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiBcImFpLmdlbmVyYXRlT2JqZWN0LmRvR2VuZXJhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5XG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgXCJhaS5wcm9tcHQuZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IGlucHV0Rm9ybWF0XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCJhaS5wcm9tcHQubWVzc2FnZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkocHJvbXB0TWVzc2FnZXMpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCJhaS5zZXR0aW5ncy5tb2RlXCI6IG1vZGUsXG4gICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5zeXN0ZW1cIjogbW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0Lm1vZGVsXCI6IG1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LmZyZXF1ZW5jeV9wZW5hbHR5XCI6IHNldHRpbmdzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0Lm1heF90b2tlbnNcIjogc2V0dGluZ3MubWF4VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5wcmVzZW5jZV9wZW5hbHR5XCI6IHNldHRpbmdzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QudGVtcGVyYXR1cmVcIjogc2V0dGluZ3MudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LnRvcF9rXCI6IHNldHRpbmdzLnRvcEssXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LnRvcF9wXCI6IHNldHRpbmdzLnRvcFBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICAgIGZuOiBhc3luYyAoc3BhbjIpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2ExNSwgX2IyLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBtb2RlbC5kb0dlbmVyYXRlKHtcbiAgICAgICAgICAgICAgICAgIG1vZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3QtdG9vbFwiLFxuICAgICAgICAgICAgICAgICAgICB0b29sOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNjaGVtYU5hbWUgIT0gbnVsbCA/IHNjaGVtYU5hbWUgOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogc2NoZW1hRGVzY3JpcHRpb24gIT0gbnVsbCA/IHNjaGVtYURlc2NyaXB0aW9uIDogXCJSZXNwb25kIHdpdGggYSBKU09OIG9iamVjdC5cIixcbiAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAuLi5wcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKSxcbiAgICAgICAgICAgICAgICAgIGlucHV0Rm9ybWF0LFxuICAgICAgICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHRNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmplY3RUZXh0ID0gKF9iMiA9IChfYTE1ID0gcmVzdWx0Mi50b29sQ2FsbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYTE1WzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLmFyZ3M7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgaWQ6IChfZCA9IChfYyA9IHJlc3VsdDIucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfYy5pZCkgIT0gbnVsbCA/IF9kIDogZ2VuZXJhdGVJZDMoKSxcbiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogKF9mID0gKF9lID0gcmVzdWx0Mi5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLnRpbWVzdGFtcCkgIT0gbnVsbCA/IF9mIDogY3VycmVudERhdGUoKSxcbiAgICAgICAgICAgICAgICAgIG1vZGVsSWQ6IChfaCA9IChfZyA9IHJlc3VsdDIucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfZy5tb2RlbElkKSAhPSBudWxsID8gX2ggOiBtb2RlbC5tb2RlbElkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0VGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm9PYmplY3RHZW5lcmF0ZWRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTm8gb2JqZWN0IGdlbmVyYXRlZDogdGhlIHRvb2wgd2FzIG5vdCBjYWxsZWQuXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZURhdGEsXG4gICAgICAgICAgICAgICAgICAgIHVzYWdlOiBjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2UocmVzdWx0Mi51c2FnZSlcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzcGFuMi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UuZmluaXNoUmVhc29uXCI6IHJlc3VsdDIuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2Uub2JqZWN0XCI6IHsgb3V0cHV0OiAoKSA9PiBvYmplY3RUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5pZFwiOiByZXNwb25zZURhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5tb2RlbFwiOiByZXNwb25zZURhdGEubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLnRpbWVzdGFtcFwiOiByZXNwb25zZURhdGEudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS5wcm9tcHRUb2tlbnNcIjogcmVzdWx0Mi51c2FnZS5wcm9tcHRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS5jb21wbGV0aW9uVG9rZW5zXCI6IHJlc3VsdDIudXNhZ2UuY29tcGxldGlvblRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UuZmluaXNoX3JlYXNvbnNcIjogW3Jlc3VsdDIuZmluaXNoUmVhc29uXSxcbiAgICAgICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXNwb25zZS5pZFwiOiByZXNwb25zZURhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UubW9kZWxcIjogcmVzcG9uc2VEYXRhLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkudXNhZ2UuaW5wdXRfdG9rZW5zXCI6IHJlc3VsdDIudXNhZ2UucHJvbXB0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnVzYWdlLm91dHB1dF90b2tlbnNcIjogcmVzdWx0Mi51c2FnZS5jb21wbGV0aW9uVG9rZW5zXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5yZXN1bHQyLCBvYmplY3RUZXh0LCByZXNwb25zZURhdGEgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc3VsdCA9IGdlbmVyYXRlUmVzdWx0Lm9iamVjdFRleHQ7XG4gICAgICAgICAgZmluaXNoUmVhc29uID0gZ2VuZXJhdGVSZXN1bHQuZmluaXNoUmVhc29uO1xuICAgICAgICAgIHVzYWdlID0gZ2VuZXJhdGVSZXN1bHQudXNhZ2U7XG4gICAgICAgICAgd2FybmluZ3MgPSBnZW5lcmF0ZVJlc3VsdC53YXJuaW5ncztcbiAgICAgICAgICByYXdSZXNwb25zZSA9IGdlbmVyYXRlUmVzdWx0LnJhd1Jlc3BvbnNlO1xuICAgICAgICAgIGxvZ3Byb2JzID0gZ2VuZXJhdGVSZXN1bHQubG9ncHJvYnM7XG4gICAgICAgICAgcmVzdWx0UHJvdmlkZXJNZXRhZGF0YSA9IGdlbmVyYXRlUmVzdWx0LnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgcmVxdWVzdCA9IChfYiA9IGdlbmVyYXRlUmVzdWx0LnJlcXVlc3QpICE9IG51bGwgPyBfYiA6IHt9O1xuICAgICAgICAgIHJlc3BvbnNlID0gZ2VuZXJhdGVSZXN1bHQucmVzcG9uc2VEYXRhO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2Ugdm9pZCAwOiB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgXCJNb2RlbCBkb2VzIG5vdCBoYXZlIGEgZGVmYXVsdCBvYmplY3QgZ2VuZXJhdGlvbiBtb2RlLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IG1vZGU7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBtb2RlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gc2FmZVBhcnNlSlNPTih7IHRleHQ6IHJlc3VsdCB9KTtcbiAgICAgIGlmICghcGFyc2VSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICB0aHJvdyBuZXcgTm9PYmplY3RHZW5lcmF0ZWRFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogXCJObyBvYmplY3QgZ2VuZXJhdGVkOiBjb3VsZCBub3QgcGFyc2UgdGhlIHJlc3BvbnNlLlwiLFxuICAgICAgICAgIGNhdXNlOiBwYXJzZVJlc3VsdC5lcnJvcixcbiAgICAgICAgICB0ZXh0OiByZXN1bHQsXG4gICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgdXNhZ2U6IGNhbGN1bGF0ZUxhbmd1YWdlTW9kZWxVc2FnZSh1c2FnZSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gb3V0cHV0U3RyYXRlZ3kudmFsaWRhdGVGaW5hbFJlc3VsdChcbiAgICAgICAgcGFyc2VSZXN1bHQudmFsdWUsXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXh0OiByZXN1bHQsXG4gICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgdXNhZ2U6IGNhbGN1bGF0ZUxhbmd1YWdlTW9kZWxVc2FnZSh1c2FnZSlcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk5vIG9iamVjdCBnZW5lcmF0ZWQ6IHJlc3BvbnNlIGRpZCBub3QgbWF0Y2ggc2NoZW1hLlwiLFxuICAgICAgICAgIGNhdXNlOiB2YWxpZGF0aW9uUmVzdWx0LmVycm9yLFxuICAgICAgICAgIHRleHQ6IHJlc3VsdCxcbiAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICB1c2FnZTogY2FsY3VsYXRlTGFuZ3VhZ2VNb2RlbFVzYWdlKHVzYWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIFwiYWkucmVzcG9uc2UuZmluaXNoUmVhc29uXCI6IGZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgIFwiYWkucmVzcG9uc2Uub2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeSh2YWxpZGF0aW9uUmVzdWx0LnZhbHVlKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiYWkudXNhZ2UucHJvbXB0VG9rZW5zXCI6IHVzYWdlLnByb21wdFRva2VucyxcbiAgICAgICAgICAgIFwiYWkudXNhZ2UuY29tcGxldGlvblRva2Vuc1wiOiB1c2FnZS5jb21wbGV0aW9uVG9rZW5zXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHJldHVybiBuZXcgRGVmYXVsdEdlbmVyYXRlT2JqZWN0UmVzdWx0KHtcbiAgICAgICAgb2JqZWN0OiB2YWxpZGF0aW9uUmVzdWx0LnZhbHVlLFxuICAgICAgICBmaW5pc2hSZWFzb24sXG4gICAgICAgIHVzYWdlOiBjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2UodXNhZ2UpLFxuICAgICAgICB3YXJuaW5ncyxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAuLi5yZXNwb25zZSxcbiAgICAgICAgICBoZWFkZXJzOiByYXdSZXNwb25zZSA9PSBudWxsID8gdm9pZCAwIDogcmF3UmVzcG9uc2UuaGVhZGVyc1xuICAgICAgICB9LFxuICAgICAgICBsb2dwcm9icyxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcmVzdWx0UHJvdmlkZXJNZXRhZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbnZhciBEZWZhdWx0R2VuZXJhdGVPYmplY3RSZXN1bHQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9iamVjdCA9IG9wdGlvbnMub2JqZWN0O1xuICAgIHRoaXMuZmluaXNoUmVhc29uID0gb3B0aW9ucy5maW5pc2hSZWFzb247XG4gICAgdGhpcy51c2FnZSA9IG9wdGlvbnMudXNhZ2U7XG4gICAgdGhpcy53YXJuaW5ncyA9IG9wdGlvbnMud2FybmluZ3M7XG4gICAgdGhpcy5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YSA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YTtcbiAgICB0aGlzLnJlc3BvbnNlID0gb3B0aW9ucy5yZXNwb25zZTtcbiAgICB0aGlzLnJlcXVlc3QgPSBvcHRpb25zLnJlcXVlc3Q7XG4gICAgdGhpcy5sb2dwcm9icyA9IG9wdGlvbnMubG9ncHJvYnM7XG4gIH1cbiAgdG9Kc29uUmVzcG9uc2UoaW5pdCkge1xuICAgIHZhciBfYTE0O1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5vYmplY3QpLCB7XG4gICAgICBzdGF0dXM6IChfYTE0ID0gaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5zdGF0dXMpICE9IG51bGwgPyBfYTE0IDogMjAwLFxuICAgICAgaGVhZGVyczogcHJlcGFyZVJlc3BvbnNlSGVhZGVycyhpbml0ID09IG51bGwgPyB2b2lkIDAgOiBpbml0LmhlYWRlcnMsIHtcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG59O1xuXG4vLyBjb3JlL2dlbmVyYXRlLW9iamVjdC9zdHJlYW0tb2JqZWN0LnRzXG5pbXBvcnQgeyBjcmVhdGVJZEdlbmVyYXRvciBhcyBjcmVhdGVJZEdlbmVyYXRvcjIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuaW1wb3J0IHtcbiAgaXNEZWVwRXF1YWxEYXRhLFxuICBwYXJzZVBhcnRpYWxKc29uXG59IGZyb20gXCJAYWktc2RrL3VpLXV0aWxzXCI7XG5cbi8vIHV0aWwvZGVsYXllZC1wcm9taXNlLnRzXG52YXIgRGVsYXllZFByb21pc2UgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3RhdHVzID0geyB0eXBlOiBcInBlbmRpbmdcIiB9O1xuICAgIHRoaXMuX3Jlc29sdmUgPSB2b2lkIDA7XG4gICAgdGhpcy5fcmVqZWN0ID0gdm9pZCAwO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICBpZiAodGhpcy5wcm9taXNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9taXNlO1xuICAgIH1cbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5zdGF0dXMudHlwZSA9PT0gXCJyZXNvbHZlZFwiKSB7XG4gICAgICAgIHJlc29sdmUodGhpcy5zdGF0dXMudmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXR1cy50eXBlID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgcmVqZWN0KHRoaXMuc3RhdHVzLmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgdGhpcy5fcmVqZWN0ID0gcmVqZWN0O1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnByb21pc2U7XG4gIH1cbiAgcmVzb2x2ZSh2YWx1ZSkge1xuICAgIHZhciBfYTE0O1xuICAgIHRoaXMuc3RhdHVzID0geyB0eXBlOiBcInJlc29sdmVkXCIsIHZhbHVlIH07XG4gICAgaWYgKHRoaXMucHJvbWlzZSkge1xuICAgICAgKF9hMTQgPSB0aGlzLl9yZXNvbHZlKSA9PSBudWxsID8gdm9pZCAwIDogX2ExNC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmVqZWN0KGVycm9yKSB7XG4gICAgdmFyIF9hMTQ7XG4gICAgdGhpcy5zdGF0dXMgPSB7IHR5cGU6IFwicmVqZWN0ZWRcIiwgZXJyb3IgfTtcbiAgICBpZiAodGhpcy5wcm9taXNlKSB7XG4gICAgICAoX2ExNCA9IHRoaXMuX3JlamVjdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTQuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgfVxuICB9XG59O1xuXG4vLyB1dGlsL2NyZWF0ZS1yZXNvbHZhYmxlLXByb21pc2UudHNcbmZ1bmN0aW9uIGNyZWF0ZVJlc29sdmFibGVQcm9taXNlKCkge1xuICBsZXQgcmVzb2x2ZTtcbiAgbGV0IHJlamVjdDtcbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgIHJlc29sdmUgPSByZXM7XG4gICAgcmVqZWN0ID0gcmVqO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBwcm9taXNlLFxuICAgIHJlc29sdmUsXG4gICAgcmVqZWN0XG4gIH07XG59XG5cbi8vIGNvcmUvdXRpbC9jcmVhdGUtc3RpdGNoYWJsZS1zdHJlYW0udHNcbmZ1bmN0aW9uIGNyZWF0ZVN0aXRjaGFibGVTdHJlYW0oKSB7XG4gIGxldCBpbm5lclN0cmVhbVJlYWRlcnMgPSBbXTtcbiAgbGV0IGNvbnRyb2xsZXIgPSBudWxsO1xuICBsZXQgaXNDbG9zZWQgPSBmYWxzZTtcbiAgbGV0IHdhaXRGb3JOZXdTdHJlYW0gPSBjcmVhdGVSZXNvbHZhYmxlUHJvbWlzZSgpO1xuICBjb25zdCBwcm9jZXNzUHVsbCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoaXNDbG9zZWQgJiYgaW5uZXJTdHJlYW1SZWFkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5uZXJTdHJlYW1SZWFkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgd2FpdEZvck5ld1N0cmVhbSA9IGNyZWF0ZVJlc29sdmFibGVQcm9taXNlKCk7XG4gICAgICBhd2FpdCB3YWl0Rm9yTmV3U3RyZWFtLnByb21pc2U7XG4gICAgICByZXR1cm4gcHJvY2Vzc1B1bGwoKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGlubmVyU3RyZWFtUmVhZGVyc1swXS5yZWFkKCk7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICBpbm5lclN0cmVhbVJlYWRlcnMuc2hpZnQoKTtcbiAgICAgICAgaWYgKGlubmVyU3RyZWFtUmVhZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgYXdhaXQgcHJvY2Vzc1B1bGwoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Nsb3NlZCkge1xuICAgICAgICAgIGNvbnRyb2xsZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogY29udHJvbGxlci5lcnJvcihlcnJvcik7XG4gICAgICBpbm5lclN0cmVhbVJlYWRlcnMuc2hpZnQoKTtcbiAgICAgIGlmIChpc0Nsb3NlZCAmJiBpbm5lclN0cmVhbVJlYWRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRyb2xsZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiB7XG4gICAgc3RyZWFtOiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgc3RhcnQoY29udHJvbGxlclBhcmFtKSB7XG4gICAgICAgIGNvbnRyb2xsZXIgPSBjb250cm9sbGVyUGFyYW07XG4gICAgICB9LFxuICAgICAgcHVsbDogcHJvY2Vzc1B1bGwsXG4gICAgICBhc3luYyBjYW5jZWwoKSB7XG4gICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIGlubmVyU3RyZWFtUmVhZGVycykge1xuICAgICAgICAgIGF3YWl0IHJlYWRlci5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICBpbm5lclN0cmVhbVJlYWRlcnMgPSBbXTtcbiAgICAgICAgaXNDbG9zZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pLFxuICAgIGFkZFN0cmVhbTogKGlubmVyU3RyZWFtKSA9PiB7XG4gICAgICBpZiAoaXNDbG9zZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGFkZCBpbm5lciBzdHJlYW06IG91dGVyIHN0cmVhbSBpcyBjbG9zZWRcIik7XG4gICAgICB9XG4gICAgICBpbm5lclN0cmVhbVJlYWRlcnMucHVzaChpbm5lclN0cmVhbS5nZXRSZWFkZXIoKSk7XG4gICAgICB3YWl0Rm9yTmV3U3RyZWFtLnJlc29sdmUoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdyYWNlZnVsbHkgY2xvc2UgdGhlIG91dGVyIHN0cmVhbS4gVGhpcyB3aWxsIGxldCB0aGUgaW5uZXIgc3RyZWFtc1xuICAgICAqIGZpbmlzaCBwcm9jZXNzaW5nIGFuZCB0aGVuIGNsb3NlIHRoZSBvdXRlciBzdHJlYW0uXG4gICAgICovXG4gICAgY2xvc2U6ICgpID0+IHtcbiAgICAgIGlzQ2xvc2VkID0gdHJ1ZTtcbiAgICAgIHdhaXRGb3JOZXdTdHJlYW0ucmVzb2x2ZSgpO1xuICAgICAgaWYgKGlubmVyU3RyZWFtUmVhZGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICogSW1tZWRpYXRlbHkgY2xvc2UgdGhlIG91dGVyIHN0cmVhbS4gVGhpcyB3aWxsIGNhbmNlbCBhbGwgaW5uZXIgc3RyZWFtc1xuICAgICAqIGFuZCBjbG9zZSB0aGUgb3V0ZXIgc3RyZWFtLlxuICAgICAqL1xuICAgIHRlcm1pbmF0ZTogKCkgPT4ge1xuICAgICAgaXNDbG9zZWQgPSB0cnVlO1xuICAgICAgd2FpdEZvck5ld1N0cmVhbS5yZXNvbHZlKCk7XG4gICAgICBpbm5lclN0cmVhbVJlYWRlcnMuZm9yRWFjaCgocmVhZGVyKSA9PiByZWFkZXIuY2FuY2VsKCkpO1xuICAgICAgaW5uZXJTdHJlYW1SZWFkZXJzID0gW107XG4gICAgICBjb250cm9sbGVyID09IG51bGwgPyB2b2lkIDAgOiBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBjb3JlL3V0aWwvbm93LnRzXG5mdW5jdGlvbiBub3coKSB7XG4gIHZhciBfYTE0LCBfYjtcbiAgcmV0dXJuIChfYiA9IChfYTE0ID0gZ2xvYmFsVGhpcyA9PSBudWxsID8gdm9pZCAwIDogZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTQubm93KCkpICE9IG51bGwgPyBfYiA6IERhdGUubm93KCk7XG59XG5cbi8vIGNvcmUvZ2VuZXJhdGUtb2JqZWN0L3N0cmVhbS1vYmplY3QudHNcbnZhciBvcmlnaW5hbEdlbmVyYXRlSWQyID0gY3JlYXRlSWRHZW5lcmF0b3IyKHsgcHJlZml4OiBcImFpb2JqXCIsIHNpemU6IDI0IH0pO1xuZnVuY3Rpb24gc3RyZWFtT2JqZWN0KHtcbiAgbW9kZWwsXG4gIHNjaGVtYTogaW5wdXRTY2hlbWEsXG4gIHNjaGVtYU5hbWUsXG4gIHNjaGVtYURlc2NyaXB0aW9uLFxuICBtb2RlLFxuICBvdXRwdXQgPSBcIm9iamVjdFwiLFxuICBzeXN0ZW0sXG4gIHByb21wdCxcbiAgbWVzc2FnZXMsXG4gIG1heFJldHJpZXMsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzLFxuICBleHBlcmltZW50YWxfdGVsZW1ldHJ5OiB0ZWxlbWV0cnksXG4gIGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhLFxuICBvbkZpbmlzaCxcbiAgX2ludGVybmFsOiB7XG4gICAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDMgPSBvcmlnaW5hbEdlbmVyYXRlSWQyLFxuICAgIGN1cnJlbnREYXRlID0gKCkgPT4gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgbm93OiBub3cyID0gbm93XG4gIH0gPSB7fSxcbiAgLi4uc2V0dGluZ3Ncbn0pIHtcbiAgdmFsaWRhdGVPYmplY3RHZW5lcmF0aW9uSW5wdXQoe1xuICAgIG91dHB1dCxcbiAgICBtb2RlLFxuICAgIHNjaGVtYTogaW5wdXRTY2hlbWEsXG4gICAgc2NoZW1hTmFtZSxcbiAgICBzY2hlbWFEZXNjcmlwdGlvblxuICB9KTtcbiAgY29uc3Qgb3V0cHV0U3RyYXRlZ3kgPSBnZXRPdXRwdXRTdHJhdGVneSh7IG91dHB1dCwgc2NoZW1hOiBpbnB1dFNjaGVtYSB9KTtcbiAgaWYgKG91dHB1dFN0cmF0ZWd5LnR5cGUgPT09IFwibm8tc2NoZW1hXCIgJiYgbW9kZSA9PT0gdm9pZCAwKSB7XG4gICAgbW9kZSA9IFwianNvblwiO1xuICB9XG4gIHJldHVybiBuZXcgRGVmYXVsdFN0cmVhbU9iamVjdFJlc3VsdCh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnMsXG4gICAgc2V0dGluZ3MsXG4gICAgbWF4UmV0cmllcyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBvdXRwdXRTdHJhdGVneSxcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICAgIHNjaGVtYU5hbWUsXG4gICAgc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgaW5wdXRQcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhLFxuICAgIG1vZGUsXG4gICAgb25GaW5pc2gsXG4gICAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDMsXG4gICAgY3VycmVudERhdGUsXG4gICAgbm93OiBub3cyXG4gIH0pO1xufVxudmFyIERlZmF1bHRTdHJlYW1PYmplY3RSZXN1bHQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtb2RlbCxcbiAgICBoZWFkZXJzLFxuICAgIHRlbGVtZXRyeSxcbiAgICBzZXR0aW5ncyxcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIG91dHB1dFN0cmF0ZWd5LFxuICAgIHN5c3RlbSxcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZXMsXG4gICAgc2NoZW1hTmFtZSxcbiAgICBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICBpbnB1dFByb3ZpZGVyTWV0YWRhdGEsXG4gICAgbW9kZSxcbiAgICBvbkZpbmlzaCxcbiAgICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMyxcbiAgICBjdXJyZW50RGF0ZSxcbiAgICBub3c6IG5vdzJcbiAgfSkge1xuICAgIHRoaXMub2JqZWN0UHJvbWlzZSA9IG5ldyBEZWxheWVkUHJvbWlzZSgpO1xuICAgIHRoaXMudXNhZ2VQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy5wcm92aWRlck1ldGFkYXRhUHJvbWlzZSA9IG5ldyBEZWxheWVkUHJvbWlzZSgpO1xuICAgIHRoaXMud2FybmluZ3NQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy5yZXF1ZXN0UHJvbWlzZSA9IG5ldyBEZWxheWVkUHJvbWlzZSgpO1xuICAgIHRoaXMucmVzcG9uc2VQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy5zdGl0Y2hhYmxlU3RyZWFtID0gY3JlYXRlU3RpdGNoYWJsZVN0cmVhbSgpO1xuICAgIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmdcbiAgICB9KTtcbiAgICBjb25zdCBiYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyA9IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgIG1vZGVsLFxuICAgICAgdGVsZW1ldHJ5LFxuICAgICAgaGVhZGVycyxcbiAgICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzLCBtYXhSZXRyaWVzIH1cbiAgICB9KTtcbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIodGVsZW1ldHJ5KTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZWNvcmRTcGFuKHtcbiAgICAgIG5hbWU6IFwiYWkuc3RyZWFtT2JqZWN0XCIsXG4gICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgIG9wZXJhdGlvbklkOiBcImFpLnN0cmVhbU9iamVjdFwiLFxuICAgICAgICAgICAgdGVsZW1ldHJ5XG4gICAgICAgICAgfSksXG4gICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgLy8gc3BlY2lmaWMgc2V0dGluZ3MgdGhhdCBvbmx5IG1ha2Ugc2Vuc2Ugb24gdGhlIG91dGVyIGxldmVsOlxuICAgICAgICAgIFwiYWkucHJvbXB0XCI6IHtcbiAgICAgICAgICAgIGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeSh7IHN5c3RlbSwgcHJvbXB0LCBtZXNzYWdlcyB9KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJhaS5zY2hlbWFcIjogb3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYSAhPSBudWxsID8geyBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkob3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYSkgfSA6IHZvaWQgMCxcbiAgICAgICAgICBcImFpLnNjaGVtYS5uYW1lXCI6IHNjaGVtYU5hbWUsXG4gICAgICAgICAgXCJhaS5zY2hlbWEuZGVzY3JpcHRpb25cIjogc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgICAgICAgXCJhaS5zZXR0aW5ncy5vdXRwdXRcIjogb3V0cHV0U3RyYXRlZ3kudHlwZSxcbiAgICAgICAgICBcImFpLnNldHRpbmdzLm1vZGVcIjogbW9kZVxuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIHRyYWNlcixcbiAgICAgIGVuZFdoZW5Eb25lOiBmYWxzZSxcbiAgICAgIGZuOiBhc3luYyAocm9vdFNwYW4pID0+IHtcbiAgICAgICAgaWYgKG1vZGUgPT09IFwiYXV0b1wiIHx8IG1vZGUgPT0gbnVsbCkge1xuICAgICAgICAgIG1vZGUgPSBtb2RlbC5kZWZhdWx0T2JqZWN0R2VuZXJhdGlvbk1vZGU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNhbGxPcHRpb25zO1xuICAgICAgICBsZXQgdHJhbnNmb3JtZXI7XG4gICAgICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgICAgIGNhc2UgXCJqc29uXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YW5kYXJkaXplZFByb21wdCA9IHN0YW5kYXJkaXplUHJvbXB0KHtcbiAgICAgICAgICAgICAgcHJvbXB0OiB7XG4gICAgICAgICAgICAgICAgc3lzdGVtOiBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hID09IG51bGwgPyBpbmplY3RKc29uSW5zdHJ1Y3Rpb24oeyBwcm9tcHQ6IHN5c3RlbSB9KSA6IG1vZGVsLnN1cHBvcnRzU3RydWN0dXJlZE91dHB1dHMgPyBzeXN0ZW0gOiBpbmplY3RKc29uSW5zdHJ1Y3Rpb24oe1xuICAgICAgICAgICAgICAgICAgcHJvbXB0OiBzeXN0ZW0sXG4gICAgICAgICAgICAgICAgICBzY2hlbWE6IG91dHB1dFN0cmF0ZWd5Lmpzb25TY2hlbWFcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBwcm9tcHQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXNcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdG9vbHM6IHZvaWQgMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYWxsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgbW9kZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0LWpzb25cIixcbiAgICAgICAgICAgICAgICBzY2hlbWE6IG91dHB1dFN0cmF0ZWd5Lmpzb25TY2hlbWEsXG4gICAgICAgICAgICAgICAgbmFtZTogc2NoZW1hTmFtZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogc2NoZW1hRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLi4ucHJlcGFyZUNhbGxTZXR0aW5ncyhzZXR0aW5ncyksXG4gICAgICAgICAgICAgIGlucHV0Rm9ybWF0OiBzdGFuZGFyZGl6ZWRQcm9tcHQudHlwZSxcbiAgICAgICAgICAgICAgcHJvbXB0OiBhd2FpdCBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgICAgICAgICAgICAgICBwcm9tcHQ6IHN0YW5kYXJkaXplZFByb21wdCxcbiAgICAgICAgICAgICAgICBtb2RlbFN1cHBvcnRzSW1hZ2VVcmxzOiBtb2RlbC5zdXBwb3J0c0ltYWdlVXJscyxcbiAgICAgICAgICAgICAgICBtb2RlbFN1cHBvcnRzVXJsOiBtb2RlbC5zdXBwb3J0c1VybFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogaW5wdXRQcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyID0ge1xuICAgICAgICAgICAgICB0cmFuc2Zvcm06IChjaHVuaywgY29udHJvbGxlcikgPT4ge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInRleHQtZGVsdGFcIjpcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rLnRleHREZWx0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInJlc3BvbnNlLW1ldGFkYXRhXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZmluaXNoXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJ0b29sXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YW5kYXJkaXplZFByb21wdCA9IHN0YW5kYXJkaXplUHJvbXB0KHtcbiAgICAgICAgICAgICAgcHJvbXB0OiB7IHN5c3RlbSwgcHJvbXB0LCBtZXNzYWdlcyB9LFxuICAgICAgICAgICAgICB0b29sczogdm9pZCAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhbGxPcHRpb25zID0ge1xuICAgICAgICAgICAgICBtb2RlOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3QtdG9vbFwiLFxuICAgICAgICAgICAgICAgIHRvb2w6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHNjaGVtYU5hbWUgIT0gbnVsbCA/IHNjaGVtYU5hbWUgOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzY2hlbWFEZXNjcmlwdGlvbiAhPSBudWxsID8gc2NoZW1hRGVzY3JpcHRpb24gOiBcIlJlc3BvbmQgd2l0aCBhIEpTT04gb2JqZWN0LlwiLFxuICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogb3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLi4ucHJlcGFyZUNhbGxTZXR0aW5ncyhzZXR0aW5ncyksXG4gICAgICAgICAgICAgIGlucHV0Rm9ybWF0OiBzdGFuZGFyZGl6ZWRQcm9tcHQudHlwZSxcbiAgICAgICAgICAgICAgcHJvbXB0OiBhd2FpdCBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgICAgICAgICAgICAgICBwcm9tcHQ6IHN0YW5kYXJkaXplZFByb21wdCxcbiAgICAgICAgICAgICAgICBtb2RlbFN1cHBvcnRzSW1hZ2VVcmxzOiBtb2RlbC5zdXBwb3J0c0ltYWdlVXJscyxcbiAgICAgICAgICAgICAgICBtb2RlbFN1cHBvcnRzVXJsOiBtb2RlbC5zdXBwb3J0c1VybFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogaW5wdXRQcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyID0ge1xuICAgICAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGNodW5rLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0b29sLWNhbGwtZGVsdGFcIjpcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rLmFyZ3NUZXh0RGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZXNwb25zZS1tZXRhZGF0YVwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbmlzaFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIHZvaWQgMDoge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBcIk1vZGVsIGRvZXMgbm90IGhhdmUgYSBkZWZhdWx0IG9iamVjdCBnZW5lcmF0aW9uIG1vZGUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSBtb2RlO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBtb2RlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICByZXN1bHQ6IHsgc3RyZWFtLCB3YXJuaW5ncywgcmF3UmVzcG9uc2UsIHJlcXVlc3QgfSxcbiAgICAgICAgICBkb1N0cmVhbVNwYW4sXG4gICAgICAgICAgc3RhcnRUaW1lc3RhbXBNc1xuICAgICAgICB9ID0gYXdhaXQgcmV0cnkoXG4gICAgICAgICAgKCkgPT4gcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICBuYW1lOiBcImFpLnN0cmVhbU9iamVjdC5kb1N0cmVhbVwiLFxuICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogXCJhaS5zdHJlYW1PYmplY3QuZG9TdHJlYW1cIixcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgIFwiYWkucHJvbXB0LmZvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gY2FsbE9wdGlvbnMuaW5wdXRGb3JtYXRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiYWkucHJvbXB0Lm1lc3NhZ2VzXCI6IHtcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShjYWxsT3B0aW9ucy5wcm9tcHQpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImFpLnNldHRpbmdzLm1vZGVcIjogbW9kZSxcbiAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgXCJnZW5fYWkuc3lzdGVtXCI6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QubW9kZWxcIjogbW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LmZyZXF1ZW5jeV9wZW5hbHR5XCI6IHNldHRpbmdzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5tYXhfdG9rZW5zXCI6IHNldHRpbmdzLm1heFRva2VucyxcbiAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LnByZXNlbmNlX3BlbmFsdHlcIjogc2V0dGluZ3MucHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QudGVtcGVyYXR1cmVcIjogc2V0dGluZ3MudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC50b3Bfa1wiOiBzZXR0aW5ncy50b3BLLFxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QudG9wX3BcIjogc2V0dGluZ3MudG9wUFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgIGVuZFdoZW5Eb25lOiBmYWxzZSxcbiAgICAgICAgICAgIGZuOiBhc3luYyAoZG9TdHJlYW1TcGFuMikgPT4gKHtcbiAgICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXBNczogbm93MigpLFxuICAgICAgICAgICAgICBkb1N0cmVhbVNwYW46IGRvU3RyZWFtU3BhbjIsXG4gICAgICAgICAgICAgIHJlc3VsdDogYXdhaXQgbW9kZWwuZG9TdHJlYW0oY2FsbE9wdGlvbnMpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIHNlbGYucmVxdWVzdFByb21pc2UucmVzb2x2ZShyZXF1ZXN0ICE9IG51bGwgPyByZXF1ZXN0IDoge30pO1xuICAgICAgICBsZXQgdXNhZ2U7XG4gICAgICAgIGxldCBmaW5pc2hSZWFzb247XG4gICAgICAgIGxldCBwcm92aWRlck1ldGFkYXRhO1xuICAgICAgICBsZXQgb2JqZWN0MjtcbiAgICAgICAgbGV0IGVycm9yO1xuICAgICAgICBsZXQgYWNjdW11bGF0ZWRUZXh0ID0gXCJcIjtcbiAgICAgICAgbGV0IHRleHREZWx0YSA9IFwiXCI7XG4gICAgICAgIGxldCByZXNwb25zZSA9IHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVJZDMoKSxcbiAgICAgICAgICB0aW1lc3RhbXA6IGN1cnJlbnREYXRlKCksXG4gICAgICAgICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZFxuICAgICAgICB9O1xuICAgICAgICBsZXQgbGF0ZXN0T2JqZWN0SnNvbiA9IHZvaWQgMDtcbiAgICAgICAgbGV0IGxhdGVzdE9iamVjdCA9IHZvaWQgMDtcbiAgICAgICAgbGV0IGlzRmlyc3RDaHVuayA9IHRydWU7XG4gICAgICAgIGxldCBpc0ZpcnN0RGVsdGEgPSB0cnVlO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZFN0cmVhbSA9IHN0cmVhbS5waXBlVGhyb3VnaChuZXcgVHJhbnNmb3JtU3RyZWFtKHRyYW5zZm9ybWVyKSkucGlwZVRocm91Z2goXG4gICAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgICAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgdmFyIF9hMTQsIF9iLCBfYztcbiAgICAgICAgICAgICAgaWYgKGlzRmlyc3RDaHVuaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1zVG9GaXJzdENodW5rID0gbm93MigpIC0gc3RhcnRUaW1lc3RhbXBNcztcbiAgICAgICAgICAgICAgICBpc0ZpcnN0Q2h1bmsgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uYWRkRXZlbnQoXCJhaS5zdHJlYW0uZmlyc3RDaHVua1wiLCB7XG4gICAgICAgICAgICAgICAgICBcImFpLnN0cmVhbS5tc1RvRmlyc3RDaHVua1wiOiBtc1RvRmlyc3RDaHVua1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgIFwiYWkuc3RyZWFtLm1zVG9GaXJzdENodW5rXCI6IG1zVG9GaXJzdENodW5rXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaHVuayA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVkVGV4dCArPSBjaHVuaztcbiAgICAgICAgICAgICAgICB0ZXh0RGVsdGEgKz0gY2h1bms7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogY3VycmVudE9iamVjdEpzb24sIHN0YXRlOiBwYXJzZVN0YXRlIH0gPSBwYXJzZVBhcnRpYWxKc29uKGFjY3VtdWxhdGVkVGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRPYmplY3RKc29uICE9PSB2b2lkIDAgJiYgIWlzRGVlcEVxdWFsRGF0YShsYXRlc3RPYmplY3RKc29uLCBjdXJyZW50T2JqZWN0SnNvbikpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSBvdXRwdXRTdHJhdGVneS52YWxpZGF0ZVBhcnRpYWxSZXN1bHQoe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3VycmVudE9iamVjdEpzb24sXG4gICAgICAgICAgICAgICAgICAgIHRleHREZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgbGF0ZXN0T2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICBpc0ZpcnN0RGVsdGEsXG4gICAgICAgICAgICAgICAgICAgIGlzRmluYWxEZWx0YTogcGFyc2VTdGF0ZSA9PT0gXCJzdWNjZXNzZnVsLXBhcnNlXCJcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb25SZXN1bHQuc3VjY2VzcyAmJiAhaXNEZWVwRXF1YWxEYXRhKFxuICAgICAgICAgICAgICAgICAgICBsYXRlc3RPYmplY3QsXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQudmFsdWUucGFydGlhbFxuICAgICAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgICAgICBsYXRlc3RPYmplY3RKc29uID0gY3VycmVudE9iamVjdEpzb247XG4gICAgICAgICAgICAgICAgICAgIGxhdGVzdE9iamVjdCA9IHZhbGlkYXRpb25SZXN1bHQudmFsdWUucGFydGlhbDtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgIG9iamVjdDogbGF0ZXN0T2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dC1kZWx0YVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRleHREZWx0YTogdmFsaWRhdGlvblJlc3VsdC52YWx1ZS50ZXh0RGVsdGFcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRleHREZWx0YSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlzRmlyc3REZWx0YSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3dpdGNoIChjaHVuay50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlc3BvbnNlLW1ldGFkYXRhXCI6IHtcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogKF9hMTQgPSBjaHVuay5pZCkgIT0gbnVsbCA/IF9hMTQgOiByZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiAoX2IgPSBjaHVuay50aW1lc3RhbXApICE9IG51bGwgPyBfYiA6IHJlc3BvbnNlLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxJZDogKF9jID0gY2h1bmsubW9kZWxJZCkgIT0gbnVsbCA/IF9jIDogcmVzcG9uc2UubW9kZWxJZFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFwiZmluaXNoXCI6IHtcbiAgICAgICAgICAgICAgICAgIGlmICh0ZXh0RGVsdGEgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJ0ZXh0LWRlbHRhXCIsIHRleHREZWx0YSB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IGNodW5rLmZpbmlzaFJlYXNvbjtcbiAgICAgICAgICAgICAgICAgIHVzYWdlID0gY2FsY3VsYXRlTGFuZ3VhZ2VNb2RlbFVzYWdlKGNodW5rLnVzYWdlKTtcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGEgPSBjaHVuay5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgLi4uY2h1bmssIHVzYWdlLCByZXNwb25zZSB9KTtcbiAgICAgICAgICAgICAgICAgIHNlbGYudXNhZ2VQcm9taXNlLnJlc29sdmUodXNhZ2UpO1xuICAgICAgICAgICAgICAgICAgc2VsZi5wcm92aWRlck1ldGFkYXRhUHJvbWlzZS5yZXNvbHZlKHByb3ZpZGVyTWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgICAgc2VsZi5yZXNwb25zZVByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByYXdSZXNwb25zZSA9PSBudWxsID8gdm9pZCAwIDogcmF3UmVzcG9uc2UuaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gb3V0cHV0U3RyYXRlZ3kudmFsaWRhdGVGaW5hbFJlc3VsdChcbiAgICAgICAgICAgICAgICAgICAgbGF0ZXN0T2JqZWN0SnNvbixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGFjY3VtdWxhdGVkVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICB1c2FnZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb25SZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QyID0gdmFsaWRhdGlvblJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vYmplY3RQcm9taXNlLnJlc29sdmUob2JqZWN0Mik7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlcnJvciA9IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vIG9iamVjdCBnZW5lcmF0ZWQ6IHJlc3BvbnNlIGRpZCBub3QgbWF0Y2ggc2NoZW1hLlwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNhdXNlOiB2YWxpZGF0aW9uUmVzdWx0LmVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGFjY3VtdWxhdGVkVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICB1c2FnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vYmplY3RQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGludm9rZSBvbkZpbmlzaCBjYWxsYmFjayBhbmQgcmVzb2x2ZSB0b29sUmVzdWx0cyBwcm9taXNlIHdoZW4gdGhlIHN0cmVhbSBpcyBhYm91dCB0byBjbG9zZTpcbiAgICAgICAgICAgIGFzeW5jIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFVzYWdlID0gdXNhZ2UgIT0gbnVsbCA/IHVzYWdlIDoge1xuICAgICAgICAgICAgICAgICAgcHJvbXB0VG9rZW5zOiBOYU4sXG4gICAgICAgICAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiBOYU4sXG4gICAgICAgICAgICAgICAgICB0b3RhbFRva2VuczogTmFOXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLmZpbmlzaFJlYXNvblwiOiBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5vYmplY3RcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvYmplY3QyKVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5pZFwiOiByZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLm1vZGVsXCI6IHJlc3BvbnNlLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS50aW1lc3RhbXBcIjogcmVzcG9uc2UudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS5wcm9tcHRUb2tlbnNcIjogZmluYWxVc2FnZS5wcm9tcHRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS5jb21wbGV0aW9uVG9rZW5zXCI6IGZpbmFsVXNhZ2UuY29tcGxldGlvblRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UuZmluaXNoX3JlYXNvbnNcIjogW2ZpbmlzaFJlYXNvbl0sXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UuaWRcIjogcmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UubW9kZWxcIjogcmVzcG9uc2UubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICBcImdlbl9haS51c2FnZS5pbnB1dF90b2tlbnNcIjogZmluYWxVc2FnZS5wcm9tcHRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkudXNhZ2Uub3V0cHV0X3Rva2Vuc1wiOiBmaW5hbFVzYWdlLmNvbXBsZXRpb25Ub2tlbnNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5lbmQoKTtcbiAgICAgICAgICAgICAgICByb290U3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgIFwiYWkudXNhZ2UucHJvbXB0VG9rZW5zXCI6IGZpbmFsVXNhZ2UucHJvbXB0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkudXNhZ2UuY29tcGxldGlvblRva2Vuc1wiOiBmaW5hbFVzYWdlLmNvbXBsZXRpb25Ub2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5vYmplY3RcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvYmplY3QyKVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGF3YWl0IChvbkZpbmlzaCA9PSBudWxsID8gdm9pZCAwIDogb25GaW5pc2goe1xuICAgICAgICAgICAgICAgICAgdXNhZ2U6IGZpbmFsVXNhZ2UsXG4gICAgICAgICAgICAgICAgICBvYmplY3Q6IG9iamVjdDIsXG4gICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByYXdSZXNwb25zZSA9PSBudWxsID8gdm9pZCAwIDogcmF3UmVzcG9uc2UuaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHdhcm5pbmdzLFxuICAgICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IyKTtcbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICByb290U3Bhbi5lbmQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIHNlbGYuc3RpdGNoYWJsZVN0cmVhbS5hZGRTdHJlYW0odHJhbnNmb3JtZWRTdHJlYW0pO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgc2VsZi5zdGl0Y2hhYmxlU3RyZWFtLmFkZFN0cmVhbShcbiAgICAgICAgbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgc2VsZi5zdGl0Y2hhYmxlU3RyZWFtLmNsb3NlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5vdXRwdXRTdHJhdGVneSA9IG91dHB1dFN0cmF0ZWd5O1xuICB9XG4gIGdldCBvYmplY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0UHJvbWlzZS52YWx1ZTtcbiAgfVxuICBnZXQgdXNhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNhZ2VQcm9taXNlLnZhbHVlO1xuICB9XG4gIGdldCBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm92aWRlck1ldGFkYXRhUHJvbWlzZS52YWx1ZTtcbiAgfVxuICBnZXQgd2FybmluZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMud2FybmluZ3NQcm9taXNlLnZhbHVlO1xuICB9XG4gIGdldCByZXF1ZXN0KCkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3RQcm9taXNlLnZhbHVlO1xuICB9XG4gIGdldCByZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZVByb21pc2UudmFsdWU7XG4gIH1cbiAgZ2V0IHBhcnRpYWxPYmplY3RTdHJlYW0oKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLnN0aXRjaGFibGVTdHJlYW0uc3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rLm9iamVjdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0ZXh0LWRlbHRhXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJmaW5pc2hcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lcnJvcihjaHVuay5lcnJvcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gY2h1bms7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjaHVuayB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKTtcbiAgfVxuICBnZXQgZWxlbWVudFN0cmVhbSgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXRwdXRTdHJhdGVneS5jcmVhdGVFbGVtZW50U3RyZWFtKFxuICAgICAgdGhpcy5zdGl0Y2hhYmxlU3RyZWFtLnN0cmVhbVxuICAgICk7XG4gIH1cbiAgZ2V0IHRleHRTdHJlYW0oKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLnN0aXRjaGFibGVTdHJlYW0uc3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwidGV4dC1kZWx0YVwiOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuay50ZXh0RGVsdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJmaW5pc2hcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lcnJvcihjaHVuay5lcnJvcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gY2h1bms7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjaHVuayB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKTtcbiAgfVxuICBnZXQgZnVsbFN0cmVhbSgpIHtcbiAgICByZXR1cm4gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbSh0aGlzLnN0aXRjaGFibGVTdHJlYW0uc3RyZWFtKTtcbiAgfVxuICBwaXBlVGV4dFN0cmVhbVRvUmVzcG9uc2UocmVzcG9uc2UsIGluaXQpIHtcbiAgICB3cml0ZVRvU2VydmVyUmVzcG9uc2Uoe1xuICAgICAgcmVzcG9uc2UsXG4gICAgICBzdGF0dXM6IGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5zdGF0dXNUZXh0LFxuICAgICAgaGVhZGVyczogcHJlcGFyZU91dGdvaW5nSHR0cEhlYWRlcnMoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5oZWFkZXJzLCB7XG4gICAgICAgIGNvbnRlbnRUeXBlOiBcInRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIlxuICAgICAgfSksXG4gICAgICBzdHJlYW06IHRoaXMudGV4dFN0cmVhbS5waXBlVGhyb3VnaChuZXcgVGV4dEVuY29kZXJTdHJlYW0oKSlcbiAgICB9KTtcbiAgfVxuICB0b1RleHRTdHJlYW1SZXNwb25zZShpbml0KSB7XG4gICAgdmFyIF9hMTQ7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLnRleHRTdHJlYW0ucGlwZVRocm91Z2gobmV3IFRleHRFbmNvZGVyU3RyZWFtKCkpLCB7XG4gICAgICBzdGF0dXM6IChfYTE0ID0gaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5zdGF0dXMpICE9IG51bGwgPyBfYTE0IDogMjAwLFxuICAgICAgaGVhZGVyczogcHJlcGFyZVJlc3BvbnNlSGVhZGVycyhpbml0ID09IG51bGwgPyB2b2lkIDAgOiBpbml0LmhlYWRlcnMsIHtcbiAgICAgICAgY29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG59O1xuXG4vLyBjb3JlL2dlbmVyYXRlLXRleHQvZ2VuZXJhdGUtdGV4dC50c1xuaW1wb3J0IHsgY3JlYXRlSWRHZW5lcmF0b3IgYXMgY3JlYXRlSWRHZW5lcmF0b3IzIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gZXJyb3JzL25vLW91dHB1dC1zcGVjaWZpZWQtZXJyb3IudHNcbmltcG9ydCB7IEFJU0RLRXJyb3IgYXMgQUlTREtFcnJvcjggfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xudmFyIG5hbWU4ID0gXCJBSV9Ob091dHB1dFNwZWNpZmllZEVycm9yXCI7XG52YXIgbWFya2VyOCA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lOH1gO1xudmFyIHN5bWJvbDggPSBTeW1ib2wuZm9yKG1hcmtlcjgpO1xudmFyIF9hODtcbnZhciBOb091dHB1dFNwZWNpZmllZEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yOCB7XG4gIC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgPSBcIk5vIG91dHB1dCBzcGVjaWZpZWQuXCIgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lOCwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hOF0gPSB0cnVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3I4Lmhhc01hcmtlcihlcnJvciwgbWFya2VyOCk7XG4gIH1cbn07XG5fYTggPSBzeW1ib2w4O1xuXG4vLyBlcnJvcnMvdG9vbC1leGVjdXRpb24tZXJyb3IudHNcbmltcG9ydCB7IEFJU0RLRXJyb3IgYXMgQUlTREtFcnJvcjksIGdldEVycm9yTWVzc2FnZSBhcyBnZXRFcnJvck1lc3NhZ2UyIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBuYW1lOSA9IFwiQUlfVG9vbEV4ZWN1dGlvbkVycm9yXCI7XG52YXIgbWFya2VyOSA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lOX1gO1xudmFyIHN5bWJvbDkgPSBTeW1ib2wuZm9yKG1hcmtlcjkpO1xudmFyIF9hOTtcbnZhciBUb29sRXhlY3V0aW9uRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3I5IHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHRvb2xBcmdzLFxuICAgIHRvb2xOYW1lLFxuICAgIHRvb2xDYWxsSWQsXG4gICAgY2F1c2UsXG4gICAgbWVzc2FnZSA9IGBFcnJvciBleGVjdXRpbmcgdG9vbCAke3Rvb2xOYW1lfTogJHtnZXRFcnJvck1lc3NhZ2UyKGNhdXNlKX1gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU5LCBtZXNzYWdlLCBjYXVzZSB9KTtcbiAgICB0aGlzW19hOV0gPSB0cnVlO1xuICAgIHRoaXMudG9vbEFyZ3MgPSB0b29sQXJncztcbiAgICB0aGlzLnRvb2xOYW1lID0gdG9vbE5hbWU7XG4gICAgdGhpcy50b29sQ2FsbElkID0gdG9vbENhbGxJZDtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yOS5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjkpO1xuICB9XG59O1xuX2E5ID0gc3ltYm9sOTtcblxuLy8gY29yZS9wcm9tcHQvcHJlcGFyZS10b29scy1hbmQtdG9vbC1jaG9pY2UudHNcbmltcG9ydCB7IGFzU2NoZW1hIGFzIGFzU2NoZW1hMiB9IGZyb20gXCJAYWktc2RrL3VpLXV0aWxzXCI7XG5cbi8vIGNvcmUvdXRpbC9pcy1ub24tZW1wdHktb2JqZWN0LnRzXG5mdW5jdGlvbiBpc05vbkVtcHR5T2JqZWN0KG9iamVjdDIpIHtcbiAgcmV0dXJuIG9iamVjdDIgIT0gbnVsbCAmJiBPYmplY3Qua2V5cyhvYmplY3QyKS5sZW5ndGggPiAwO1xufVxuXG4vLyBjb3JlL3Byb21wdC9wcmVwYXJlLXRvb2xzLWFuZC10b29sLWNob2ljZS50c1xuZnVuY3Rpb24gcHJlcGFyZVRvb2xzQW5kVG9vbENob2ljZSh7XG4gIHRvb2xzLFxuICB0b29sQ2hvaWNlLFxuICBhY3RpdmVUb29sc1xufSkge1xuICBpZiAoIWlzTm9uRW1wdHlPYmplY3QodG9vbHMpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvb2xzOiB2b2lkIDAsXG4gICAgICB0b29sQ2hvaWNlOiB2b2lkIDBcbiAgICB9O1xuICB9XG4gIGNvbnN0IGZpbHRlcmVkVG9vbHMgPSBhY3RpdmVUb29scyAhPSBudWxsID8gT2JqZWN0LmVudHJpZXModG9vbHMpLmZpbHRlcihcbiAgICAoW25hbWUxNF0pID0+IGFjdGl2ZVRvb2xzLmluY2x1ZGVzKG5hbWUxNClcbiAgKSA6IE9iamVjdC5lbnRyaWVzKHRvb2xzKTtcbiAgcmV0dXJuIHtcbiAgICB0b29sczogZmlsdGVyZWRUb29scy5tYXAoKFtuYW1lMTQsIHRvb2wyXSkgPT4ge1xuICAgICAgY29uc3QgdG9vbFR5cGUgPSB0b29sMi50eXBlO1xuICAgICAgc3dpdGNoICh0b29sVHlwZSkge1xuICAgICAgICBjYXNlIHZvaWQgMDpcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgIG5hbWU6IG5hbWUxNCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0b29sMi5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IGFzU2NoZW1hMih0b29sMi5wYXJhbWV0ZXJzKS5qc29uU2NoZW1hXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBcInByb3ZpZGVyLWRlZmluZWRcIjpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJwcm92aWRlci1kZWZpbmVkXCIsXG4gICAgICAgICAgICBuYW1lOiBuYW1lMTQsXG4gICAgICAgICAgICBpZDogdG9vbDIuaWQsXG4gICAgICAgICAgICBhcmdzOiB0b29sMi5hcmdzXG4gICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IHRvb2xUeXBlO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgdG9vbCB0eXBlOiAke2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIHRvb2xDaG9pY2U6IHRvb2xDaG9pY2UgPT0gbnVsbCA/IHsgdHlwZTogXCJhdXRvXCIgfSA6IHR5cGVvZiB0b29sQ2hvaWNlID09PSBcInN0cmluZ1wiID8geyB0eXBlOiB0b29sQ2hvaWNlIH0gOiB7IHR5cGU6IFwidG9vbFwiLCB0b29sTmFtZTogdG9vbENob2ljZS50b29sTmFtZSB9XG4gIH07XG59XG5cbi8vIGNvcmUvdXRpbC9zcGxpdC1vbi1sYXN0LXdoaXRlc3BhY2UudHNcbnZhciBsYXN0V2hpdGVzcGFjZVJlZ2V4cCA9IC9eKFtcXHNcXFNdKj8pKFxccyspKFxcUyopJC87XG5mdW5jdGlvbiBzcGxpdE9uTGFzdFdoaXRlc3BhY2UodGV4dDIpIHtcbiAgY29uc3QgbWF0Y2ggPSB0ZXh0Mi5tYXRjaChsYXN0V2hpdGVzcGFjZVJlZ2V4cCk7XG4gIHJldHVybiBtYXRjaCA/IHsgcHJlZml4OiBtYXRjaFsxXSwgd2hpdGVzcGFjZTogbWF0Y2hbMl0sIHN1ZmZpeDogbWF0Y2hbM10gfSA6IHZvaWQgMDtcbn1cblxuLy8gY29yZS91dGlsL3JlbW92ZS10ZXh0LWFmdGVyLWxhc3Qtd2hpdGVzcGFjZS50c1xuZnVuY3Rpb24gcmVtb3ZlVGV4dEFmdGVyTGFzdFdoaXRlc3BhY2UodGV4dDIpIHtcbiAgY29uc3QgbWF0Y2ggPSBzcGxpdE9uTGFzdFdoaXRlc3BhY2UodGV4dDIpO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaC5wcmVmaXggKyBtYXRjaC53aGl0ZXNwYWNlIDogdGV4dDI7XG59XG5cbi8vIGNvcmUvZ2VuZXJhdGUtdGV4dC9wYXJzZS10b29sLWNhbGwudHNcbmltcG9ydCB7IHNhZmVQYXJzZUpTT04gYXMgc2FmZVBhcnNlSlNPTjIsIHNhZmVWYWxpZGF0ZVR5cGVzIGFzIHNhZmVWYWxpZGF0ZVR5cGVzMyB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgeyBhc1NjaGVtYSBhcyBhc1NjaGVtYTMgfSBmcm9tIFwiQGFpLXNkay91aS11dGlsc1wiO1xuXG4vLyBlcnJvcnMvaW52YWxpZC10b29sLWFyZ3VtZW50cy1lcnJvci50c1xuaW1wb3J0IHsgQUlTREtFcnJvciBhcyBBSVNES0Vycm9yMTAsIGdldEVycm9yTWVzc2FnZSBhcyBnZXRFcnJvck1lc3NhZ2UzIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBuYW1lMTAgPSBcIkFJX0ludmFsaWRUb29sQXJndW1lbnRzRXJyb3JcIjtcbnZhciBtYXJrZXIxMCA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMTB9YDtcbnZhciBzeW1ib2wxMCA9IFN5bWJvbC5mb3IobWFya2VyMTApO1xudmFyIF9hMTA7XG52YXIgSW52YWxpZFRvb2xBcmd1bWVudHNFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvcjEwIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHRvb2xBcmdzLFxuICAgIHRvb2xOYW1lLFxuICAgIGNhdXNlLFxuICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBhcmd1bWVudHMgZm9yIHRvb2wgJHt0b29sTmFtZX06ICR7Z2V0RXJyb3JNZXNzYWdlMyhcbiAgICAgIGNhdXNlXG4gICAgKX1gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUxMCwgbWVzc2FnZSwgY2F1c2UgfSk7XG4gICAgdGhpc1tfYTEwXSA9IHRydWU7XG4gICAgdGhpcy50b29sQXJncyA9IHRvb2xBcmdzO1xuICAgIHRoaXMudG9vbE5hbWUgPSB0b29sTmFtZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yMTAuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxMCk7XG4gIH1cbn07XG5fYTEwID0gc3ltYm9sMTA7XG5cbi8vIGVycm9ycy9uby1zdWNoLXRvb2wtZXJyb3IudHNcbmltcG9ydCB7IEFJU0RLRXJyb3IgYXMgQUlTREtFcnJvcjExIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBuYW1lMTEgPSBcIkFJX05vU3VjaFRvb2xFcnJvclwiO1xudmFyIG1hcmtlcjExID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUxMX1gO1xudmFyIHN5bWJvbDExID0gU3ltYm9sLmZvcihtYXJrZXIxMSk7XG52YXIgX2ExMTtcbnZhciBOb1N1Y2hUb29sRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3IxMSB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICB0b29sTmFtZSxcbiAgICBhdmFpbGFibGVUb29scyA9IHZvaWQgMCxcbiAgICBtZXNzYWdlID0gYE1vZGVsIHRyaWVkIHRvIGNhbGwgdW5hdmFpbGFibGUgdG9vbCAnJHt0b29sTmFtZX0nLiAke2F2YWlsYWJsZVRvb2xzID09PSB2b2lkIDAgPyBcIk5vIHRvb2xzIGFyZSBhdmFpbGFibGUuXCIgOiBgQXZhaWxhYmxlIHRvb2xzOiAke2F2YWlsYWJsZVRvb2xzLmpvaW4oXCIsIFwiKX0uYH1gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUxMSwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hMTFdID0gdHJ1ZTtcbiAgICB0aGlzLnRvb2xOYW1lID0gdG9vbE5hbWU7XG4gICAgdGhpcy5hdmFpbGFibGVUb29scyA9IGF2YWlsYWJsZVRvb2xzO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IxMS5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjExKTtcbiAgfVxufTtcbl9hMTEgPSBzeW1ib2wxMTtcblxuLy8gZXJyb3JzL3Rvb2wtY2FsbC1yZXBhaXItZXJyb3IudHNcbmltcG9ydCB7IEFJU0RLRXJyb3IgYXMgQUlTREtFcnJvcjEyLCBnZXRFcnJvck1lc3NhZ2UgYXMgZ2V0RXJyb3JNZXNzYWdlNCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG52YXIgbmFtZTEyID0gXCJBSV9Ub29sQ2FsbFJlcGFpckVycm9yXCI7XG52YXIgbWFya2VyMTIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTEyfWA7XG52YXIgc3ltYm9sMTIgPSBTeW1ib2wuZm9yKG1hcmtlcjEyKTtcbnZhciBfYTEyO1xudmFyIFRvb2xDYWxsUmVwYWlyRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3IxMiB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjYXVzZSxcbiAgICBvcmlnaW5hbEVycm9yLFxuICAgIG1lc3NhZ2UgPSBgRXJyb3IgcmVwYWlyaW5nIHRvb2wgY2FsbDogJHtnZXRFcnJvck1lc3NhZ2U0KGNhdXNlKX1gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUxMiwgbWVzc2FnZSwgY2F1c2UgfSk7XG4gICAgdGhpc1tfYTEyXSA9IHRydWU7XG4gICAgdGhpcy5vcmlnaW5hbEVycm9yID0gb3JpZ2luYWxFcnJvcjtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yMTIuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxMik7XG4gIH1cbn07XG5fYTEyID0gc3ltYm9sMTI7XG5cbi8vIGNvcmUvZ2VuZXJhdGUtdGV4dC9wYXJzZS10b29sLWNhbGwudHNcbmFzeW5jIGZ1bmN0aW9uIHBhcnNlVG9vbENhbGwoe1xuICB0b29sQ2FsbCxcbiAgdG9vbHMsXG4gIHJlcGFpclRvb2xDYWxsLFxuICBzeXN0ZW0sXG4gIG1lc3NhZ2VzXG59KSB7XG4gIGlmICh0b29scyA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IE5vU3VjaFRvb2xFcnJvcih7IHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSB9KTtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBkb1BhcnNlVG9vbENhbGwoeyB0b29sQ2FsbCwgdG9vbHMgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKHJlcGFpclRvb2xDYWxsID09IG51bGwgfHwgIShOb1N1Y2hUb29sRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgfHwgSW52YWxpZFRvb2xBcmd1bWVudHNFcnJvci5pc0luc3RhbmNlKGVycm9yKSkpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBsZXQgcmVwYWlyZWRUb29sQ2FsbCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIHJlcGFpcmVkVG9vbENhbGwgPSBhd2FpdCByZXBhaXJUb29sQ2FsbCh7XG4gICAgICAgIHRvb2xDYWxsLFxuICAgICAgICB0b29scyxcbiAgICAgICAgcGFyYW1ldGVyU2NoZW1hOiAoeyB0b29sTmFtZSB9KSA9PiBhc1NjaGVtYTModG9vbHNbdG9vbE5hbWVdLnBhcmFtZXRlcnMpLmpzb25TY2hlbWEsXG4gICAgICAgIHN5c3RlbSxcbiAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIGVycm9yXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChyZXBhaXJFcnJvcikge1xuICAgICAgdGhyb3cgbmV3IFRvb2xDYWxsUmVwYWlyRXJyb3Ioe1xuICAgICAgICBjYXVzZTogcmVwYWlyRXJyb3IsXG4gICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJlcGFpcmVkVG9vbENhbGwgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCBkb1BhcnNlVG9vbENhbGwoeyB0b29sQ2FsbDogcmVwYWlyZWRUb29sQ2FsbCwgdG9vbHMgfSk7XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGRvUGFyc2VUb29sQ2FsbCh7XG4gIHRvb2xDYWxsLFxuICB0b29sc1xufSkge1xuICBjb25zdCB0b29sTmFtZSA9IHRvb2xDYWxsLnRvb2xOYW1lO1xuICBjb25zdCB0b29sMiA9IHRvb2xzW3Rvb2xOYW1lXTtcbiAgaWYgKHRvb2wyID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTm9TdWNoVG9vbEVycm9yKHtcbiAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICAgIGF2YWlsYWJsZVRvb2xzOiBPYmplY3Qua2V5cyh0b29scylcbiAgICB9KTtcbiAgfVxuICBjb25zdCBzY2hlbWEgPSBhc1NjaGVtYTModG9vbDIucGFyYW1ldGVycyk7XG4gIGNvbnN0IHBhcnNlUmVzdWx0ID0gdG9vbENhbGwuYXJncy50cmltKCkgPT09IFwiXCIgPyBzYWZlVmFsaWRhdGVUeXBlczMoeyB2YWx1ZToge30sIHNjaGVtYSB9KSA6IHNhZmVQYXJzZUpTT04yKHsgdGV4dDogdG9vbENhbGwuYXJncywgc2NoZW1hIH0pO1xuICBpZiAocGFyc2VSZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFRvb2xBcmd1bWVudHNFcnJvcih7XG4gICAgICB0b29sTmFtZSxcbiAgICAgIHRvb2xBcmdzOiB0b29sQ2FsbC5hcmdzLFxuICAgICAgY2F1c2U6IHBhcnNlUmVzdWx0LmVycm9yXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcInRvb2wtY2FsbFwiLFxuICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgdG9vbE5hbWUsXG4gICAgYXJnczogcGFyc2VSZXN1bHQudmFsdWVcbiAgfTtcbn1cblxuLy8gY29yZS9nZW5lcmF0ZS10ZXh0L3RvLXJlc3BvbnNlLW1lc3NhZ2VzLnRzXG5mdW5jdGlvbiB0b1Jlc3BvbnNlTWVzc2FnZXMoe1xuICB0ZXh0OiB0ZXh0MiA9IFwiXCIsXG4gIHRvb2xzLFxuICB0b29sQ2FsbHMsXG4gIHRvb2xSZXN1bHRzXG59KSB7XG4gIGNvbnN0IHJlc3BvbnNlTWVzc2FnZXMgPSBbXTtcbiAgcmVzcG9uc2VNZXNzYWdlcy5wdXNoKHtcbiAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgIGNvbnRlbnQ6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiB0ZXh0MiB9LCAuLi50b29sQ2FsbHNdXG4gIH0pO1xuICBpZiAodG9vbFJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgIHJlc3BvbnNlTWVzc2FnZXMucHVzaCh7XG4gICAgICByb2xlOiBcInRvb2xcIixcbiAgICAgIGNvbnRlbnQ6IHRvb2xSZXN1bHRzLm1hcCgodG9vbFJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zdCB0b29sMiA9IHRvb2xzW3Rvb2xSZXN1bHQudG9vbE5hbWVdO1xuICAgICAgICByZXR1cm4gKHRvb2wyID09IG51bGwgPyB2b2lkIDAgOiB0b29sMi5leHBlcmltZW50YWxfdG9Ub29sUmVzdWx0Q29udGVudCkgIT0gbnVsbCA/IHtcbiAgICAgICAgICB0eXBlOiBcInRvb2wtcmVzdWx0XCIsXG4gICAgICAgICAgdG9vbENhbGxJZDogdG9vbFJlc3VsdC50b29sQ2FsbElkLFxuICAgICAgICAgIHRvb2xOYW1lOiB0b29sUmVzdWx0LnRvb2xOYW1lLFxuICAgICAgICAgIHJlc3VsdDogdG9vbDIuZXhwZXJpbWVudGFsX3RvVG9vbFJlc3VsdENvbnRlbnQodG9vbFJlc3VsdC5yZXN1bHQpLFxuICAgICAgICAgIGV4cGVyaW1lbnRhbF9jb250ZW50OiB0b29sMi5leHBlcmltZW50YWxfdG9Ub29sUmVzdWx0Q29udGVudChcbiAgICAgICAgICAgIHRvb2xSZXN1bHQucmVzdWx0XG4gICAgICAgICAgKVxuICAgICAgICB9IDoge1xuICAgICAgICAgIHR5cGU6IFwidG9vbC1yZXN1bHRcIixcbiAgICAgICAgICB0b29sQ2FsbElkOiB0b29sUmVzdWx0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgdG9vbE5hbWU6IHRvb2xSZXN1bHQudG9vbE5hbWUsXG4gICAgICAgICAgcmVzdWx0OiB0b29sUmVzdWx0LnJlc3VsdFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzcG9uc2VNZXNzYWdlcztcbn1cblxuLy8gY29yZS9nZW5lcmF0ZS10ZXh0L2dlbmVyYXRlLXRleHQudHNcbnZhciBvcmlnaW5hbEdlbmVyYXRlSWQzID0gY3JlYXRlSWRHZW5lcmF0b3IzKHsgcHJlZml4OiBcImFpdHh0XCIsIHNpemU6IDI0IH0pO1xuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVUZXh0KHtcbiAgbW9kZWwsXG4gIHRvb2xzLFxuICB0b29sQ2hvaWNlLFxuICBzeXN0ZW0sXG4gIHByb21wdCxcbiAgbWVzc2FnZXMsXG4gIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzLFxuICBtYXhTdGVwcyA9IDEsXG4gIGV4cGVyaW1lbnRhbF9vdXRwdXQ6IG91dHB1dCxcbiAgZXhwZXJpbWVudGFsX2NvbnRpbnVlU3RlcHM6IGNvbnRpbnVlU3RlcHMgPSBmYWxzZSxcbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeTogdGVsZW1ldHJ5LFxuICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YSxcbiAgZXhwZXJpbWVudGFsX2FjdGl2ZVRvb2xzOiBhY3RpdmVUb29scyxcbiAgZXhwZXJpbWVudGFsX3JlcGFpclRvb2xDYWxsOiByZXBhaXJUb29sQ2FsbCxcbiAgX2ludGVybmFsOiB7XG4gICAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDMgPSBvcmlnaW5hbEdlbmVyYXRlSWQzLFxuICAgIGN1cnJlbnREYXRlID0gKCkgPT4gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKClcbiAgfSA9IHt9LFxuICBvblN0ZXBGaW5pc2gsXG4gIC4uLnNldHRpbmdzXG59KSB7XG4gIHZhciBfYTE0O1xuICBpZiAobWF4U3RlcHMgPCAxKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIHBhcmFtZXRlcjogXCJtYXhTdGVwc1wiLFxuICAgICAgdmFsdWU6IG1heFN0ZXBzLFxuICAgICAgbWVzc2FnZTogXCJtYXhTdGVwcyBtdXN0IGJlIGF0IGxlYXN0IDFcIlxuICAgIH0pO1xuICB9XG4gIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHsgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyB9KTtcbiAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnMsXG4gICAgc2V0dGluZ3M6IHsgLi4uc2V0dGluZ3MsIG1heFJldHJpZXMgfVxuICB9KTtcbiAgY29uc3QgaW5pdGlhbFByb21wdCA9IHN0YW5kYXJkaXplUHJvbXB0KHtcbiAgICBwcm9tcHQ6IHtcbiAgICAgIHN5c3RlbTogKF9hMTQgPSBvdXRwdXQgPT0gbnVsbCA/IHZvaWQgMCA6IG91dHB1dC5pbmplY3RJbnRvU3lzdGVtUHJvbXB0KHsgc3lzdGVtLCBtb2RlbCB9KSkgIT0gbnVsbCA/IF9hMTQgOiBzeXN0ZW0sXG4gICAgICBwcm9tcHQsXG4gICAgICBtZXNzYWdlc1xuICAgIH0sXG4gICAgdG9vbHNcbiAgfSk7XG4gIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcih0ZWxlbWV0cnkpO1xuICByZXR1cm4gcmVjb3JkU3Bhbih7XG4gICAgbmFtZTogXCJhaS5nZW5lcmF0ZVRleHRcIixcbiAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgIHRlbGVtZXRyeSxcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICBvcGVyYXRpb25JZDogXCJhaS5nZW5lcmF0ZVRleHRcIixcbiAgICAgICAgICB0ZWxlbWV0cnlcbiAgICAgICAgfSksXG4gICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgIFwiYWkucHJvbXB0XCI6IHtcbiAgICAgICAgICBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkoeyBzeXN0ZW0sIHByb21wdCwgbWVzc2FnZXMgfSlcbiAgICAgICAgfSxcbiAgICAgICAgXCJhaS5zZXR0aW5ncy5tYXhTdGVwc1wiOiBtYXhTdGVwc1xuICAgICAgfVxuICAgIH0pLFxuICAgIHRyYWNlcixcbiAgICBmbjogYXN5bmMgKHNwYW4pID0+IHtcbiAgICAgIHZhciBfYTE1LCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICBjb25zdCBtb2RlID0ge1xuICAgICAgICB0eXBlOiBcInJlZ3VsYXJcIixcbiAgICAgICAgLi4ucHJlcGFyZVRvb2xzQW5kVG9vbENob2ljZSh7IHRvb2xzLCB0b29sQ2hvaWNlLCBhY3RpdmVUb29scyB9KVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGNhbGxTZXR0aW5ncyA9IHByZXBhcmVDYWxsU2V0dGluZ3Moc2V0dGluZ3MpO1xuICAgICAgbGV0IGN1cnJlbnRNb2RlbFJlc3BvbnNlO1xuICAgICAgbGV0IGN1cnJlbnRUb29sQ2FsbHMgPSBbXTtcbiAgICAgIGxldCBjdXJyZW50VG9vbFJlc3VsdHMgPSBbXTtcbiAgICAgIGxldCBzdGVwQ291bnQgPSAwO1xuICAgICAgY29uc3QgcmVzcG9uc2VNZXNzYWdlcyA9IFtdO1xuICAgICAgbGV0IHRleHQyID0gXCJcIjtcbiAgICAgIGNvbnN0IHN0ZXBzID0gW107XG4gICAgICBsZXQgdXNhZ2UgPSB7XG4gICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IDAsXG4gICAgICAgIHByb21wdFRva2VuczogMCxcbiAgICAgICAgdG90YWxUb2tlbnM6IDBcbiAgICAgIH07XG4gICAgICBsZXQgc3RlcFR5cGUgPSBcImluaXRpYWxcIjtcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgcHJvbXB0Rm9ybWF0ID0gc3RlcENvdW50ID09PSAwID8gaW5pdGlhbFByb21wdC50eXBlIDogXCJtZXNzYWdlc1wiO1xuICAgICAgICBjb25zdCBzdGVwSW5wdXRNZXNzYWdlcyA9IFtcbiAgICAgICAgICAuLi5pbml0aWFsUHJvbXB0Lm1lc3NhZ2VzLFxuICAgICAgICAgIC4uLnJlc3BvbnNlTWVzc2FnZXNcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgcHJvbXB0TWVzc2FnZXMgPSBhd2FpdCBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgICAgICAgICBwcm9tcHQ6IHtcbiAgICAgICAgICAgIHR5cGU6IHByb21wdEZvcm1hdCxcbiAgICAgICAgICAgIHN5c3RlbTogaW5pdGlhbFByb21wdC5zeXN0ZW0sXG4gICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXNcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1vZGVsU3VwcG9ydHNJbWFnZVVybHM6IG1vZGVsLnN1cHBvcnRzSW1hZ2VVcmxzLFxuICAgICAgICAgIG1vZGVsU3VwcG9ydHNVcmw6IG1vZGVsLnN1cHBvcnRzVXJsXG4gICAgICAgIH0pO1xuICAgICAgICBjdXJyZW50TW9kZWxSZXNwb25zZSA9IGF3YWl0IHJldHJ5KFxuICAgICAgICAgICgpID0+IHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgbmFtZTogXCJhaS5nZW5lcmF0ZVRleHQuZG9HZW5lcmF0ZVwiLFxuICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogXCJhaS5nZW5lcmF0ZVRleHQuZG9HZW5lcmF0ZVwiLFxuICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgXCJhaS5wcm9tcHQuZm9ybWF0XCI6IHsgaW5wdXQ6ICgpID0+IHByb21wdEZvcm1hdCB9LFxuICAgICAgICAgICAgICAgIFwiYWkucHJvbXB0Lm1lc3NhZ2VzXCI6IHtcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShwcm9tcHRNZXNzYWdlcylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiYWkucHJvbXB0LnRvb2xzXCI6IHtcbiAgICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdGhlIGxhbmd1YWdlIG1vZGVsIGxldmVsIHRvb2xzOlxuICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hMTY7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2ExNiA9IG1vZGUudG9vbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYTE2Lm1hcCgodG9vbDIpID0+IEpTT04uc3RyaW5naWZ5KHRvb2wyKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImFpLnByb21wdC50b29sQ2hvaWNlXCI6IHtcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBtb2RlLnRvb2xDaG9pY2UgIT0gbnVsbCA/IEpTT04uc3RyaW5naWZ5KG1vZGUudG9vbENob2ljZSkgOiB2b2lkIDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICBcImdlbl9haS5zeXN0ZW1cIjogbW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5tb2RlbFwiOiBtb2RlbC5tb2RlbElkLFxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QuZnJlcXVlbmN5X3BlbmFsdHlcIjogc2V0dGluZ3MuZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0Lm1heF90b2tlbnNcIjogc2V0dGluZ3MubWF4VG9rZW5zLFxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QucHJlc2VuY2VfcGVuYWx0eVwiOiBzZXR0aW5ncy5wcmVzZW5jZVBlbmFsdHksXG4gICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5zdG9wX3NlcXVlbmNlc1wiOiBzZXR0aW5ncy5zdG9wU2VxdWVuY2VzLFxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QudGVtcGVyYXR1cmVcIjogc2V0dGluZ3MudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC50b3Bfa1wiOiBzZXR0aW5ncy50b3BLLFxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QudG9wX3BcIjogc2V0dGluZ3MudG9wUFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgIGZuOiBhc3luYyAoc3BhbjIpID0+IHtcbiAgICAgICAgICAgICAgdmFyIF9hMTYsIF9iMiwgX2MyLCBfZDIsIF9lMiwgX2YyO1xuICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5kb0dlbmVyYXRlKHtcbiAgICAgICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgICAgIC4uLmNhbGxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICBpbnB1dEZvcm1hdDogcHJvbXB0Rm9ybWF0LFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRm9ybWF0OiBvdXRwdXQgPT0gbnVsbCA/IHZvaWQgMCA6IG91dHB1dC5yZXNwb25zZUZvcm1hdCh7IG1vZGVsIH0pLFxuICAgICAgICAgICAgICAgIHByb21wdDogcHJvbXB0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IChfYjIgPSAoX2ExNiA9IHJlc3VsdC5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTYuaWQpICE9IG51bGwgPyBfYjIgOiBnZW5lcmF0ZUlkMygpLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogKF9kMiA9IChfYzIgPSByZXN1bHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfYzIudGltZXN0YW1wKSAhPSBudWxsID8gX2QyIDogY3VycmVudERhdGUoKSxcbiAgICAgICAgICAgICAgICBtb2RlbElkOiAoX2YyID0gKF9lMiA9IHJlc3VsdC5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lMi5tb2RlbElkKSAhPSBudWxsID8gX2YyIDogbW9kZWwubW9kZWxJZFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBzcGFuMi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLmZpbmlzaFJlYXNvblwiOiByZXN1bHQuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLnRleHRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gcmVzdWx0LnRleHRcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS50b29sQ2FsbHNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkocmVzdWx0LnRvb2xDYWxscylcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5pZFwiOiByZXNwb25zZURhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UubW9kZWxcIjogcmVzcG9uc2VEYXRhLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UudGltZXN0YW1wXCI6IHJlc3BvbnNlRGF0YS50aW1lc3RhbXAudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS5wcm9tcHRUb2tlbnNcIjogcmVzdWx0LnVzYWdlLnByb21wdFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS5jb21wbGV0aW9uVG9rZW5zXCI6IHJlc3VsdC51c2FnZS5jb21wbGV0aW9uVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlc3BvbnNlLmZpbmlzaF9yZWFzb25zXCI6IFtyZXN1bHQuZmluaXNoUmVhc29uXSxcbiAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UuaWRcIjogcmVzcG9uc2VEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXNwb25zZS5tb2RlbFwiOiByZXNwb25zZURhdGEubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkudXNhZ2UuaW5wdXRfdG9rZW5zXCI6IHJlc3VsdC51c2FnZS5wcm9tcHRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnVzYWdlLm91dHB1dF90b2tlbnNcIjogcmVzdWx0LnVzYWdlLmNvbXBsZXRpb25Ub2tlbnNcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5yZXN1bHQsIHJlc3BvbnNlOiByZXNwb25zZURhdGEgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBjdXJyZW50VG9vbENhbGxzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgKChfYTE1ID0gY3VycmVudE1vZGVsUmVzcG9uc2UudG9vbENhbGxzKSAhPSBudWxsID8gX2ExNSA6IFtdKS5tYXAoXG4gICAgICAgICAgICAodG9vbENhbGwpID0+IHBhcnNlVG9vbENhbGwoe1xuICAgICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICAgIHJlcGFpclRvb2xDYWxsLFxuICAgICAgICAgICAgICBzeXN0ZW0sXG4gICAgICAgICAgICAgIG1lc3NhZ2VzOiBzdGVwSW5wdXRNZXNzYWdlc1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICAgIGN1cnJlbnRUb29sUmVzdWx0cyA9IHRvb2xzID09IG51bGwgPyBbXSA6IGF3YWl0IGV4ZWN1dGVUb29scyh7XG4gICAgICAgICAgdG9vbENhbGxzOiBjdXJyZW50VG9vbENhbGxzLFxuICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgIGFib3J0U2lnbmFsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjdXJyZW50VXNhZ2UgPSBjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2UoXG4gICAgICAgICAgY3VycmVudE1vZGVsUmVzcG9uc2UudXNhZ2VcbiAgICAgICAgKTtcbiAgICAgICAgdXNhZ2UgPSBhZGRMYW5ndWFnZU1vZGVsVXNhZ2UodXNhZ2UsIGN1cnJlbnRVc2FnZSk7XG4gICAgICAgIGxldCBuZXh0U3RlcFR5cGUgPSBcImRvbmVcIjtcbiAgICAgICAgaWYgKCsrc3RlcENvdW50IDwgbWF4U3RlcHMpIHtcbiAgICAgICAgICBpZiAoY29udGludWVTdGVwcyAmJiBjdXJyZW50TW9kZWxSZXNwb25zZS5maW5pc2hSZWFzb24gPT09IFwibGVuZ3RoXCIgJiYgLy8gb25seSB1c2UgY29udGludWUgd2hlbiB0aGVyZSBhcmUgbm8gdG9vbCBjYWxsczpcbiAgICAgICAgICBjdXJyZW50VG9vbENhbGxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgbmV4dFN0ZXBUeXBlID0gXCJjb250aW51ZVwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAvLyB0aGVyZSBhcmUgdG9vbCBjYWxsczpcbiAgICAgICAgICAgIGN1cnJlbnRUb29sQ2FsbHMubGVuZ3RoID4gMCAmJiAvLyBhbGwgY3VycmVudCB0b29sIGNhbGxzIGhhdmUgcmVzdWx0czpcbiAgICAgICAgICAgIGN1cnJlbnRUb29sUmVzdWx0cy5sZW5ndGggPT09IGN1cnJlbnRUb29sQ2FsbHMubGVuZ3RoXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBuZXh0U3RlcFR5cGUgPSBcInRvb2wtcmVzdWx0XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IChfYiA9IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnRleHQpICE9IG51bGwgPyBfYiA6IFwiXCI7XG4gICAgICAgIGNvbnN0IHN0ZXBUZXh0TGVhZGluZ1doaXRlc3BhY2VUcmltbWVkID0gc3RlcFR5cGUgPT09IFwiY29udGludWVcIiAmJiAvLyBvbmx5IGZvciBjb250aW51ZSBzdGVwc1xuICAgICAgICB0ZXh0Mi50cmltRW5kKCkgIT09IHRleHQyID8gb3JpZ2luYWxUZXh0LnRyaW1TdGFydCgpIDogb3JpZ2luYWxUZXh0O1xuICAgICAgICBjb25zdCBzdGVwVGV4dCA9IG5leHRTdGVwVHlwZSA9PT0gXCJjb250aW51ZVwiID8gcmVtb3ZlVGV4dEFmdGVyTGFzdFdoaXRlc3BhY2Uoc3RlcFRleHRMZWFkaW5nV2hpdGVzcGFjZVRyaW1tZWQpIDogc3RlcFRleHRMZWFkaW5nV2hpdGVzcGFjZVRyaW1tZWQ7XG4gICAgICAgIHRleHQyID0gbmV4dFN0ZXBUeXBlID09PSBcImNvbnRpbnVlXCIgfHwgc3RlcFR5cGUgPT09IFwiY29udGludWVcIiA/IHRleHQyICsgc3RlcFRleHQgOiBzdGVwVGV4dDtcbiAgICAgICAgaWYgKHN0ZXBUeXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgICBjb25zdCBsYXN0TWVzc2FnZSA9IHJlc3BvbnNlTWVzc2FnZXNbcmVzcG9uc2VNZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICBpZiAodHlwZW9mIGxhc3RNZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGxhc3RNZXNzYWdlLmNvbnRlbnQgKz0gc3RlcFRleHQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxhc3RNZXNzYWdlLmNvbnRlbnQucHVzaCh7XG4gICAgICAgICAgICAgIHRleHQ6IHN0ZXBUZXh0LFxuICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXMucHVzaChcbiAgICAgICAgICAgIC4uLnRvUmVzcG9uc2VNZXNzYWdlcyh7XG4gICAgICAgICAgICAgIHRleHQ6IHRleHQyLFxuICAgICAgICAgICAgICB0b29sczogdG9vbHMgIT0gbnVsbCA/IHRvb2xzIDoge30sXG4gICAgICAgICAgICAgIHRvb2xDYWxsczogY3VycmVudFRvb2xDYWxscyxcbiAgICAgICAgICAgICAgdG9vbFJlc3VsdHM6IGN1cnJlbnRUb29sUmVzdWx0c1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdGVwUmVzdWx0ID0ge1xuICAgICAgICAgIHN0ZXBUeXBlLFxuICAgICAgICAgIHRleHQ6IHN0ZXBUZXh0LFxuICAgICAgICAgIHRvb2xDYWxsczogY3VycmVudFRvb2xDYWxscyxcbiAgICAgICAgICB0b29sUmVzdWx0czogY3VycmVudFRvb2xSZXN1bHRzLFxuICAgICAgICAgIGZpbmlzaFJlYXNvbjogY3VycmVudE1vZGVsUmVzcG9uc2UuZmluaXNoUmVhc29uLFxuICAgICAgICAgIHVzYWdlOiBjdXJyZW50VXNhZ2UsXG4gICAgICAgICAgd2FybmluZ3M6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLndhcm5pbmdzLFxuICAgICAgICAgIGxvZ3Byb2JzOiBjdXJyZW50TW9kZWxSZXNwb25zZS5sb2dwcm9icyxcbiAgICAgICAgICByZXF1ZXN0OiAoX2MgPSBjdXJyZW50TW9kZWxSZXNwb25zZS5yZXF1ZXN0KSAhPSBudWxsID8gX2MgOiB7fSxcbiAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgLi4uY3VycmVudE1vZGVsUmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgICBoZWFkZXJzOiAoX2QgPSBjdXJyZW50TW9kZWxSZXNwb25zZS5yYXdSZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmhlYWRlcnMsXG4gICAgICAgICAgICAvLyBkZWVwIGNsb25lIG1zZ3MgdG8gYXZvaWQgbXV0YXRpbmcgcGFzdCBtZXNzYWdlcyBpbiBtdWx0aS1zdGVwOlxuICAgICAgICAgICAgbWVzc2FnZXM6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2VNZXNzYWdlcykpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogY3VycmVudE1vZGVsUmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICBpc0NvbnRpbnVlZDogbmV4dFN0ZXBUeXBlID09PSBcImNvbnRpbnVlXCJcbiAgICAgICAgfTtcbiAgICAgICAgc3RlcHMucHVzaChjdXJyZW50U3RlcFJlc3VsdCk7XG4gICAgICAgIGF3YWl0IChvblN0ZXBGaW5pc2ggPT0gbnVsbCA/IHZvaWQgMCA6IG9uU3RlcEZpbmlzaChjdXJyZW50U3RlcFJlc3VsdCkpO1xuICAgICAgICBzdGVwVHlwZSA9IG5leHRTdGVwVHlwZTtcbiAgICAgIH0gd2hpbGUgKHN0ZXBUeXBlICE9PSBcImRvbmVcIik7XG4gICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICBcImFpLnJlc3BvbnNlLmZpbmlzaFJlYXNvblwiOiBjdXJyZW50TW9kZWxSZXNwb25zZS5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICBcImFpLnJlc3BvbnNlLnRleHRcIjoge1xuICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnRleHRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImFpLnJlc3BvbnNlLnRvb2xDYWxsc1wiOiB7XG4gICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkoY3VycmVudE1vZGVsUmVzcG9uc2UudG9vbENhbGxzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiYWkudXNhZ2UucHJvbXB0VG9rZW5zXCI6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnVzYWdlLnByb21wdFRva2VucyxcbiAgICAgICAgICAgIFwiYWkudXNhZ2UuY29tcGxldGlvblRva2Vuc1wiOiBjdXJyZW50TW9kZWxSZXNwb25zZS51c2FnZS5jb21wbGV0aW9uVG9rZW5zXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHJldHVybiBuZXcgRGVmYXVsdEdlbmVyYXRlVGV4dFJlc3VsdCh7XG4gICAgICAgIHRleHQ6IHRleHQyLFxuICAgICAgICBvdXRwdXRSZXNvbHZlcjogKCkgPT4ge1xuICAgICAgICAgIGlmIChvdXRwdXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vT3V0cHV0U3BlY2lmaWVkRXJyb3IoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG91dHB1dC5wYXJzZU91dHB1dChcbiAgICAgICAgICAgIHsgdGV4dDogdGV4dDIgfSxcbiAgICAgICAgICAgIHsgcmVzcG9uc2U6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnJlc3BvbnNlLCB1c2FnZSB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgdG9vbENhbGxzOiBjdXJyZW50VG9vbENhbGxzLFxuICAgICAgICB0b29sUmVzdWx0czogY3VycmVudFRvb2xSZXN1bHRzLFxuICAgICAgICBmaW5pc2hSZWFzb246IGN1cnJlbnRNb2RlbFJlc3BvbnNlLmZpbmlzaFJlYXNvbixcbiAgICAgICAgdXNhZ2UsXG4gICAgICAgIHdhcm5pbmdzOiBjdXJyZW50TW9kZWxSZXNwb25zZS53YXJuaW5ncyxcbiAgICAgICAgcmVxdWVzdDogKF9lID0gY3VycmVudE1vZGVsUmVzcG9uc2UucmVxdWVzdCkgIT0gbnVsbCA/IF9lIDoge30sXG4gICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgLi4uY3VycmVudE1vZGVsUmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgaGVhZGVyczogKF9mID0gY3VycmVudE1vZGVsUmVzcG9uc2UucmF3UmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfZi5oZWFkZXJzLFxuICAgICAgICAgIG1lc3NhZ2VzOiByZXNwb25zZU1lc3NhZ2VzXG4gICAgICAgIH0sXG4gICAgICAgIGxvZ3Byb2JzOiBjdXJyZW50TW9kZWxSZXNwb25zZS5sb2dwcm9icyxcbiAgICAgICAgc3RlcHMsXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5hc3luYyBmdW5jdGlvbiBleGVjdXRlVG9vbHMoe1xuICB0b29sQ2FsbHMsXG4gIHRvb2xzLFxuICB0cmFjZXIsXG4gIHRlbGVtZXRyeSxcbiAgbWVzc2FnZXMsXG4gIGFib3J0U2lnbmFsXG59KSB7XG4gIGNvbnN0IHRvb2xSZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgdG9vbENhbGxzLm1hcChhc3luYyAoeyB0b29sQ2FsbElkLCB0b29sTmFtZSwgYXJncyB9KSA9PiB7XG4gICAgICBjb25zdCB0b29sMiA9IHRvb2xzW3Rvb2xOYW1lXTtcbiAgICAgIGlmICgodG9vbDIgPT0gbnVsbCA/IHZvaWQgMCA6IHRvb2wyLmV4ZWN1dGUpID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlY29yZFNwYW4oe1xuICAgICAgICBuYW1lOiBcImFpLnRvb2xDYWxsXCIsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICBvcGVyYXRpb25JZDogXCJhaS50b29sQ2FsbFwiLFxuICAgICAgICAgICAgICB0ZWxlbWV0cnlcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXCJhaS50b29sQ2FsbC5uYW1lXCI6IHRvb2xOYW1lLFxuICAgICAgICAgICAgXCJhaS50b29sQ2FsbC5pZFwiOiB0b29sQ2FsbElkLFxuICAgICAgICAgICAgXCJhaS50b29sQ2FsbC5hcmdzXCI6IHtcbiAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShhcmdzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIHRyYWNlcixcbiAgICAgICAgZm46IGFzeW5jIChzcGFuKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCB0b29sMi5leGVjdXRlKGFyZ3MsIHtcbiAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgICAgIGFib3J0U2lnbmFsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJhaS50b29sQ2FsbC5yZXN1bHRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkocmVzdWx0MilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0MjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRvb2xFeGVjdXRpb25FcnJvcih7XG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICB0b29sQXJnczogYXJncyxcbiAgICAgICAgICAgICAgY2F1c2U6IGVycm9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJ0b29sLXJlc3VsdFwiLFxuICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgYXJncyxcbiAgICAgICAgcmVzdWx0XG4gICAgICB9O1xuICAgIH0pXG4gICk7XG4gIHJldHVybiB0b29sUmVzdWx0cy5maWx0ZXIoXG4gICAgKHJlc3VsdCkgPT4gcmVzdWx0ICE9IG51bGxcbiAgKTtcbn1cbnZhciBEZWZhdWx0R2VuZXJhdGVUZXh0UmVzdWx0ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy50ZXh0ID0gb3B0aW9ucy50ZXh0O1xuICAgIHRoaXMudG9vbENhbGxzID0gb3B0aW9ucy50b29sQ2FsbHM7XG4gICAgdGhpcy50b29sUmVzdWx0cyA9IG9wdGlvbnMudG9vbFJlc3VsdHM7XG4gICAgdGhpcy5maW5pc2hSZWFzb24gPSBvcHRpb25zLmZpbmlzaFJlYXNvbjtcbiAgICB0aGlzLnVzYWdlID0gb3B0aW9ucy51c2FnZTtcbiAgICB0aGlzLndhcm5pbmdzID0gb3B0aW9ucy53YXJuaW5ncztcbiAgICB0aGlzLnJlcXVlc3QgPSBvcHRpb25zLnJlcXVlc3Q7XG4gICAgdGhpcy5yZXNwb25zZSA9IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgdGhpcy5zdGVwcyA9IG9wdGlvbnMuc3RlcHM7XG4gICAgdGhpcy5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YSA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YTtcbiAgICB0aGlzLmxvZ3Byb2JzID0gb3B0aW9ucy5sb2dwcm9icztcbiAgICB0aGlzLm91dHB1dFJlc29sdmVyID0gb3B0aW9ucy5vdXRwdXRSZXNvbHZlcjtcbiAgfVxuICBnZXQgZXhwZXJpbWVudGFsX291dHB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXRwdXRSZXNvbHZlcigpO1xuICB9XG59O1xuXG4vLyBjb3JlL2dlbmVyYXRlLXRleHQvb3V0cHV0LnRzXG52YXIgb3V0cHV0X2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KG91dHB1dF9leHBvcnRzLCB7XG4gIG9iamVjdDogKCkgPT4gb2JqZWN0LFxuICB0ZXh0OiAoKSA9PiB0ZXh0XG59KTtcbmltcG9ydCB7IHNhZmVQYXJzZUpTT04gYXMgc2FmZVBhcnNlSlNPTjMsIHNhZmVWYWxpZGF0ZVR5cGVzIGFzIHNhZmVWYWxpZGF0ZVR5cGVzNCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQge1xuICBhc1NjaGVtYSBhcyBhc1NjaGVtYTQsXG4gIHBhcnNlUGFydGlhbEpzb24gYXMgcGFyc2VQYXJ0aWFsSnNvbjJcbn0gZnJvbSBcIkBhaS1zZGsvdWktdXRpbHNcIjtcblxuLy8gZXJyb3JzL2luZGV4LnRzXG5pbXBvcnQge1xuICBBSVNES0Vycm9yIGFzIEFJU0RLRXJyb3IxMyxcbiAgQVBJQ2FsbEVycm9yIGFzIEFQSUNhbGxFcnJvcjIsXG4gIEVtcHR5UmVzcG9uc2VCb2R5RXJyb3IsXG4gIEludmFsaWRQcm9tcHRFcnJvciBhcyBJbnZhbGlkUHJvbXB0RXJyb3IyLFxuICBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3IsXG4gIEpTT05QYXJzZUVycm9yLFxuICBMb2FkQVBJS2V5RXJyb3IsXG4gIE5vQ29udGVudEdlbmVyYXRlZEVycm9yLFxuICBOb1N1Y2hNb2RlbEVycm9yLFxuICBUeXBlVmFsaWRhdGlvbkVycm9yIGFzIFR5cGVWYWxpZGF0aW9uRXJyb3IyLFxuICBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciBhcyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjJcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcblxuLy8gY29yZS9nZW5lcmF0ZS10ZXh0L291dHB1dC50c1xudmFyIHRleHQgPSAoKSA9PiAoe1xuICB0eXBlOiBcInRleHRcIixcbiAgcmVzcG9uc2VGb3JtYXQ6ICgpID0+ICh7IHR5cGU6IFwidGV4dFwiIH0pLFxuICBpbmplY3RJbnRvU3lzdGVtUHJvbXB0KHsgc3lzdGVtIH0pIHtcbiAgICByZXR1cm4gc3lzdGVtO1xuICB9LFxuICBwYXJzZVBhcnRpYWwoeyB0ZXh0OiB0ZXh0MiB9KSB7XG4gICAgcmV0dXJuIHsgcGFydGlhbDogdGV4dDIgfTtcbiAgfSxcbiAgcGFyc2VPdXRwdXQoeyB0ZXh0OiB0ZXh0MiB9KSB7XG4gICAgcmV0dXJuIHRleHQyO1xuICB9XG59KTtcbnZhciBvYmplY3QgPSAoe1xuICBzY2hlbWE6IGlucHV0U2NoZW1hXG59KSA9PiB7XG4gIGNvbnN0IHNjaGVtYSA9IGFzU2NoZW1hNChpbnB1dFNjaGVtYSk7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJvYmplY3RcIixcbiAgICByZXNwb25zZUZvcm1hdDogKHsgbW9kZWwgfSkgPT4gKHtcbiAgICAgIHR5cGU6IFwianNvblwiLFxuICAgICAgc2NoZW1hOiBtb2RlbC5zdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzID8gc2NoZW1hLmpzb25TY2hlbWEgOiB2b2lkIDBcbiAgICB9KSxcbiAgICBpbmplY3RJbnRvU3lzdGVtUHJvbXB0KHsgc3lzdGVtLCBtb2RlbCB9KSB7XG4gICAgICByZXR1cm4gbW9kZWwuc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cyA/IHN5c3RlbSA6IGluamVjdEpzb25JbnN0cnVjdGlvbih7XG4gICAgICAgIHByb21wdDogc3lzdGVtLFxuICAgICAgICBzY2hlbWE6IHNjaGVtYS5qc29uU2NoZW1hXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHBhcnNlUGFydGlhbCh7IHRleHQ6IHRleHQyIH0pIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlUGFydGlhbEpzb24yKHRleHQyKTtcbiAgICAgIHN3aXRjaCAocmVzdWx0LnN0YXRlKSB7XG4gICAgICAgIGNhc2UgXCJmYWlsZWQtcGFyc2VcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZC1pbnB1dFwiOlxuICAgICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICAgIGNhc2UgXCJyZXBhaXJlZC1wYXJzZVwiOlxuICAgICAgICBjYXNlIFwic3VjY2Vzc2Z1bC1wYXJzZVwiOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBOb3RlOiBjdXJyZW50bHkgbm8gdmFsaWRhdGlvbiBvZiBwYXJ0aWFsIHJlc3VsdHM6XG4gICAgICAgICAgICBwYXJ0aWFsOiByZXN1bHQudmFsdWVcbiAgICAgICAgICB9O1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IHJlc3VsdC5zdGF0ZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHBhcnNlIHN0YXRlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHBhcnNlT3V0cHV0KHsgdGV4dDogdGV4dDIgfSwgY29udGV4dCkge1xuICAgICAgY29uc3QgcGFyc2VSZXN1bHQgPSBzYWZlUGFyc2VKU09OMyh7IHRleHQ6IHRleHQyIH0pO1xuICAgICAgaWYgKCFwYXJzZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk5vIG9iamVjdCBnZW5lcmF0ZWQ6IGNvdWxkIG5vdCBwYXJzZSB0aGUgcmVzcG9uc2UuXCIsXG4gICAgICAgICAgY2F1c2U6IHBhcnNlUmVzdWx0LmVycm9yLFxuICAgICAgICAgIHRleHQ6IHRleHQyLFxuICAgICAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgICAgIHVzYWdlOiBjb250ZXh0LnVzYWdlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IHNhZmVWYWxpZGF0ZVR5cGVzNCh7XG4gICAgICAgIHZhbHVlOiBwYXJzZVJlc3VsdC52YWx1ZSxcbiAgICAgICAgc2NoZW1hXG4gICAgICB9KTtcbiAgICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk5vIG9iamVjdCBnZW5lcmF0ZWQ6IHJlc3BvbnNlIGRpZCBub3QgbWF0Y2ggc2NoZW1hLlwiLFxuICAgICAgICAgIGNhdXNlOiB2YWxpZGF0aW9uUmVzdWx0LmVycm9yLFxuICAgICAgICAgIHRleHQ6IHRleHQyLFxuICAgICAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgICAgIHVzYWdlOiBjb250ZXh0LnVzYWdlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbGlkYXRpb25SZXN1bHQudmFsdWU7XG4gICAgfVxuICB9O1xufTtcblxuLy8gY29yZS9nZW5lcmF0ZS10ZXh0L3N0cmVhbS10ZXh0LnRzXG5pbXBvcnQgeyBjcmVhdGVJZEdlbmVyYXRvciBhcyBjcmVhdGVJZEdlbmVyYXRvcjQgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuaW1wb3J0IHsgZm9ybWF0RGF0YVN0cmVhbVBhcnQgYXMgZm9ybWF0RGF0YVN0cmVhbVBhcnQyIH0gZnJvbSBcIkBhaS1zZGsvdWktdXRpbHNcIjtcblxuLy8gY29yZS91dGlsL21lcmdlLXN0cmVhbXMudHNcbmZ1bmN0aW9uIG1lcmdlU3RyZWFtcyhzdHJlYW0xLCBzdHJlYW0yKSB7XG4gIGNvbnN0IHJlYWRlcjEgPSBzdHJlYW0xLmdldFJlYWRlcigpO1xuICBjb25zdCByZWFkZXIyID0gc3RyZWFtMi5nZXRSZWFkZXIoKTtcbiAgbGV0IGxhc3RSZWFkMSA9IHZvaWQgMDtcbiAgbGV0IGxhc3RSZWFkMiA9IHZvaWQgMDtcbiAgbGV0IHN0cmVhbTFEb25lID0gZmFsc2U7XG4gIGxldCBzdHJlYW0yRG9uZSA9IGZhbHNlO1xuICBhc3luYyBmdW5jdGlvbiByZWFkU3RyZWFtMShjb250cm9sbGVyKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChsYXN0UmVhZDEgPT0gbnVsbCkge1xuICAgICAgICBsYXN0UmVhZDEgPSByZWFkZXIxLnJlYWQoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxhc3RSZWFkMTtcbiAgICAgIGxhc3RSZWFkMSA9IHZvaWQgMDtcbiAgICAgIGlmICghcmVzdWx0LmRvbmUpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHJlc3VsdC52YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuICBhc3luYyBmdW5jdGlvbiByZWFkU3RyZWFtMihjb250cm9sbGVyKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChsYXN0UmVhZDIgPT0gbnVsbCkge1xuICAgICAgICBsYXN0UmVhZDIgPSByZWFkZXIyLnJlYWQoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxhc3RSZWFkMjtcbiAgICAgIGxhc3RSZWFkMiA9IHZvaWQgMDtcbiAgICAgIGlmICghcmVzdWx0LmRvbmUpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHJlc3VsdC52YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChzdHJlYW0xRG9uZSkge1xuICAgICAgICAgIGF3YWl0IHJlYWRTdHJlYW0yKGNvbnRyb2xsZXIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyZWFtMkRvbmUpIHtcbiAgICAgICAgICBhd2FpdCByZWFkU3RyZWFtMShjb250cm9sbGVyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RSZWFkMSA9PSBudWxsKSB7XG4gICAgICAgICAgbGFzdFJlYWQxID0gcmVhZGVyMS5yZWFkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RSZWFkMiA9PSBudWxsKSB7XG4gICAgICAgICAgbGFzdFJlYWQyID0gcmVhZGVyMi5yZWFkKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyByZXN1bHQsIHJlYWRlciB9ID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgICBsYXN0UmVhZDEudGhlbigocmVzdWx0MikgPT4gKHsgcmVzdWx0OiByZXN1bHQyLCByZWFkZXI6IHJlYWRlcjEgfSkpLFxuICAgICAgICAgIGxhc3RSZWFkMi50aGVuKChyZXN1bHQyKSA9PiAoeyByZXN1bHQ6IHJlc3VsdDIsIHJlYWRlcjogcmVhZGVyMiB9KSlcbiAgICAgICAgXSk7XG4gICAgICAgIGlmICghcmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVhZGVyID09PSByZWFkZXIxKSB7XG4gICAgICAgICAgbGFzdFJlYWQxID0gdm9pZCAwO1xuICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgYXdhaXQgcmVhZFN0cmVhbTIoY29udHJvbGxlcik7XG4gICAgICAgICAgICBzdHJlYW0xRG9uZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3RSZWFkMiA9IHZvaWQgMDtcbiAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgIHN0cmVhbTJEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGF3YWl0IHJlYWRTdHJlYW0xKGNvbnRyb2xsZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYW5jZWwoKSB7XG4gICAgICByZWFkZXIxLmNhbmNlbCgpO1xuICAgICAgcmVhZGVyMi5jYW5jZWwoKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBjb3JlL2dlbmVyYXRlLXRleHQvcnVuLXRvb2xzLXRyYW5zZm9ybWF0aW9uLnRzXG5pbXBvcnQgeyBnZW5lcmF0ZUlkIH0gZnJvbSBcIkBhaS1zZGsvdWktdXRpbHNcIjtcbmZ1bmN0aW9uIHJ1blRvb2xzVHJhbnNmb3JtYXRpb24oe1xuICB0b29scyxcbiAgZ2VuZXJhdG9yU3RyZWFtLFxuICB0b29sQ2FsbFN0cmVhbWluZyxcbiAgdHJhY2VyLFxuICB0ZWxlbWV0cnksXG4gIHN5c3RlbSxcbiAgbWVzc2FnZXMsXG4gIGFib3J0U2lnbmFsLFxuICByZXBhaXJUb29sQ2FsbFxufSkge1xuICBsZXQgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyID0gbnVsbDtcbiAgY29uc3QgdG9vbFJlc3VsdHNTdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgIHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgYWN0aXZlVG9vbENhbGxzID0ge307XG4gIGNvbnN0IG91dHN0YW5kaW5nVG9vbFJlc3VsdHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgY2FuQ2xvc2UgPSBmYWxzZTtcbiAgbGV0IGZpbmlzaENodW5rID0gdm9pZCAwO1xuICBmdW5jdGlvbiBhdHRlbXB0Q2xvc2UoKSB7XG4gICAgaWYgKGNhbkNsb3NlICYmIG91dHN0YW5kaW5nVG9vbFJlc3VsdHMuc2l6ZSA9PT0gMCkge1xuICAgICAgaWYgKGZpbmlzaENodW5rICE9IG51bGwpIHtcbiAgICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyLmVucXVldWUoZmluaXNoQ2h1bmspO1xuICAgICAgfVxuICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGZvcndhcmRTdHJlYW0gPSBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgIGNvbnN0IGNodW5rVHlwZSA9IGNodW5rLnR5cGU7XG4gICAgICBzd2l0Y2ggKGNodW5rVHlwZSkge1xuICAgICAgICBjYXNlIFwidGV4dC1kZWx0YVwiOlxuICAgICAgICBjYXNlIFwicmVzcG9uc2UtbWV0YWRhdGFcIjpcbiAgICAgICAgY2FzZSBcImVycm9yXCI6IHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ0b29sLWNhbGwtZGVsdGFcIjoge1xuICAgICAgICAgIGlmICh0b29sQ2FsbFN0cmVhbWluZykge1xuICAgICAgICAgICAgaWYgKCFhY3RpdmVUb29sQ2FsbHNbY2h1bmsudG9vbENhbGxJZF0pIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbC1zdHJlYW1pbmctc3RhcnRcIixcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYWN0aXZlVG9vbENhbGxzW2NodW5rLnRvb2xDYWxsSWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsLWRlbHRhXCIsXG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgYXJnc1RleHREZWx0YTogY2h1bmsuYXJnc1RleHREZWx0YVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ0b29sLWNhbGxcIjoge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0b29sQ2FsbCA9IGF3YWl0IHBhcnNlVG9vbENhbGwoe1xuICAgICAgICAgICAgICB0b29sQ2FsbDogY2h1bmssXG4gICAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgICByZXBhaXJUb29sQ2FsbCxcbiAgICAgICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgICAgICBtZXNzYWdlc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodG9vbENhbGwpO1xuICAgICAgICAgICAgY29uc3QgdG9vbDIgPSB0b29sc1t0b29sQ2FsbC50b29sTmFtZV07XG4gICAgICAgICAgICBpZiAodG9vbDIuZXhlY3V0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRvb2xFeGVjdXRpb25JZCA9IGdlbmVyYXRlSWQoKTtcbiAgICAgICAgICAgICAgb3V0c3RhbmRpbmdUb29sUmVzdWx0cy5hZGQodG9vbEV4ZWN1dGlvbklkKTtcbiAgICAgICAgICAgICAgcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJhaS50b29sQ2FsbFwiLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiBcImFpLnRvb2xDYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBcImFpLnRvb2xDYWxsLm5hbWVcIjogdG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIFwiYWkudG9vbENhbGwuaWRcIjogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgXCJhaS50b29sQ2FsbC5hcmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHRvb2xDYWxsLmFyZ3MpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICAgICAgZm46IGFzeW5jIChzcGFuKSA9PiB0b29sMi5leGVjdXRlKHRvb2xDYWxsLmFyZ3MsIHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsXG4gICAgICAgICAgICAgICAgfSkudGhlbihcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIC4uLnRvb2xDYWxsLFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1yZXN1bHRcIixcbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG91dHN0YW5kaW5nVG9vbFJlc3VsdHMuZGVsZXRlKHRvb2xFeGVjdXRpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGF0dGVtcHRDbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFpLnRvb2xDYWxsLnJlc3VsdFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlZCkge1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG5ldyBUb29sRXhlY3V0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xBcmdzOiB0b29sQ2FsbC5hcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2F1c2U6IGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG91dHN0YW5kaW5nVG9vbFJlc3VsdHMuZGVsZXRlKHRvb2xFeGVjdXRpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGF0dGVtcHRDbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmaW5pc2hcIjoge1xuICAgICAgICAgIGZpbmlzaENodW5rID0ge1xuICAgICAgICAgICAgdHlwZTogXCJmaW5pc2hcIixcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogY2h1bmsuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgbG9ncHJvYnM6IGNodW5rLmxvZ3Byb2JzLFxuICAgICAgICAgICAgdXNhZ2U6IGNhbGN1bGF0ZUxhbmd1YWdlTW9kZWxVc2FnZShjaHVuay51c2FnZSksXG4gICAgICAgICAgICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YVxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSBjaHVua1R5cGU7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmhhbmRsZWQgY2h1bmsgdHlwZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBmbHVzaCgpIHtcbiAgICAgIGNhbkNsb3NlID0gdHJ1ZTtcbiAgICAgIGF0dGVtcHRDbG9zZSgpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIGFzeW5jIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgIGdlbmVyYXRvclN0cmVhbS5waXBlVGhyb3VnaChmb3J3YXJkU3RyZWFtKS5waXBlVG8oXG4gICAgICAgICAgbmV3IFdyaXRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIHdyaXRlKGNodW5rKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvc2UoKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKSxcbiAgICAgICAgdG9vbFJlc3VsdHNTdHJlYW0ucGlwZVRvKFxuICAgICAgICAgIG5ldyBXcml0YWJsZVN0cmVhbSh7XG4gICAgICAgICAgICB3cml0ZShjaHVuaykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb3NlKCkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgXSk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gY29yZS9nZW5lcmF0ZS10ZXh0L3N0cmVhbS10ZXh0LnRzXG52YXIgb3JpZ2luYWxHZW5lcmF0ZUlkNCA9IGNyZWF0ZUlkR2VuZXJhdG9yNCh7IHByZWZpeDogXCJhaXR4dFwiLCBzaXplOiAyNCB9KTtcbmZ1bmN0aW9uIHN0cmVhbVRleHQoe1xuICBtb2RlbCxcbiAgdG9vbHMsXG4gIHRvb2xDaG9pY2UsXG4gIHN5c3RlbSxcbiAgcHJvbXB0LFxuICBtZXNzYWdlcyxcbiAgbWF4UmV0cmllcyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG4gIG1heFN0ZXBzID0gMSxcbiAgZXhwZXJpbWVudGFsX291dHB1dDogb3V0cHV0LFxuICBleHBlcmltZW50YWxfY29udGludWVTdGVwczogY29udGludWVTdGVwcyA9IGZhbHNlLFxuICBleHBlcmltZW50YWxfdGVsZW1ldHJ5OiB0ZWxlbWV0cnksXG4gIGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhLFxuICBleHBlcmltZW50YWxfdG9vbENhbGxTdHJlYW1pbmc6IHRvb2xDYWxsU3RyZWFtaW5nID0gZmFsc2UsXG4gIGV4cGVyaW1lbnRhbF9hY3RpdmVUb29sczogYWN0aXZlVG9vbHMsXG4gIGV4cGVyaW1lbnRhbF9yZXBhaXJUb29sQ2FsbDogcmVwYWlyVG9vbENhbGwsXG4gIGV4cGVyaW1lbnRhbF90cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgb25DaHVuayxcbiAgb25GaW5pc2gsXG4gIG9uU3RlcEZpbmlzaCxcbiAgX2ludGVybmFsOiB7XG4gICAgbm93OiBub3cyID0gbm93LFxuICAgIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQzID0gb3JpZ2luYWxHZW5lcmF0ZUlkNCxcbiAgICBjdXJyZW50RGF0ZSA9ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpXG4gIH0gPSB7fSxcbiAgLi4uc2V0dGluZ3Ncbn0pIHtcbiAgcmV0dXJuIG5ldyBEZWZhdWx0U3RyZWFtVGV4dFJlc3VsdCh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnMsXG4gICAgc2V0dGluZ3MsXG4gICAgbWF4UmV0cmllcyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICAgIHRvb2xzLFxuICAgIHRvb2xDaG9pY2UsXG4gICAgdG9vbENhbGxTdHJlYW1pbmcsXG4gICAgdHJhbnNmb3JtLFxuICAgIGFjdGl2ZVRvb2xzLFxuICAgIHJlcGFpclRvb2xDYWxsLFxuICAgIG1heFN0ZXBzLFxuICAgIG91dHB1dCxcbiAgICBjb250aW51ZVN0ZXBzLFxuICAgIHByb3ZpZGVyTWV0YWRhdGEsXG4gICAgb25DaHVuayxcbiAgICBvbkZpbmlzaCxcbiAgICBvblN0ZXBGaW5pc2gsXG4gICAgbm93OiBub3cyLFxuICAgIGN1cnJlbnREYXRlLFxuICAgIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQzXG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlT3V0cHV0VHJhbnNmb3JtU3RyZWFtKG91dHB1dCkge1xuICBpZiAoIW91dHB1dCkge1xuICAgIHJldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyBwYXJ0OiBjaHVuaywgcGFydGlhbE91dHB1dDogdm9pZCAwIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGxldCB0ZXh0MiA9IFwiXCI7XG4gIGxldCB0ZXh0Q2h1bmsgPSBcIlwiO1xuICBsZXQgbGFzdFB1Ymxpc2hlZEpzb24gPSBcIlwiO1xuICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICBpZiAoY2h1bmsudHlwZSAhPT0gXCJ0ZXh0LWRlbHRhXCIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICBwYXJ0OiBjaHVuayxcbiAgICAgICAgICBwYXJ0aWFsT3V0cHV0OiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRleHQyICs9IGNodW5rLnRleHREZWx0YTtcbiAgICAgIHRleHRDaHVuayArPSBjaHVuay50ZXh0RGVsdGE7XG4gICAgICBjb25zdCByZXN1bHQgPSBvdXRwdXQucGFyc2VQYXJ0aWFsKHsgdGV4dDogdGV4dDIgfSk7XG4gICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgY3VycmVudEpzb24gPSBKU09OLnN0cmluZ2lmeShyZXN1bHQucGFydGlhbCk7XG4gICAgICAgIGlmIChjdXJyZW50SnNvbiAhPT0gbGFzdFB1Ymxpc2hlZEpzb24pIHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgcGFydDoge1xuICAgICAgICAgICAgICB0eXBlOiBcInRleHQtZGVsdGFcIixcbiAgICAgICAgICAgICAgdGV4dERlbHRhOiB0ZXh0Q2h1bmtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJ0aWFsT3V0cHV0OiByZXN1bHQucGFydGlhbFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxhc3RQdWJsaXNoZWRKc29uID0gY3VycmVudEpzb247XG4gICAgICAgICAgdGV4dENodW5rID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgaWYgKHRleHRDaHVuay5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgcGFydDoge1xuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0LWRlbHRhXCIsXG4gICAgICAgICAgICB0ZXh0RGVsdGE6IHRleHRDaHVua1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcGFydGlhbE91dHB1dDogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG52YXIgRGVmYXVsdFN0cmVhbVRleHRSZXN1bHQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtb2RlbCxcbiAgICB0ZWxlbWV0cnksXG4gICAgaGVhZGVycyxcbiAgICBzZXR0aW5ncyxcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIHN5c3RlbSxcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZXMsXG4gICAgdG9vbHMsXG4gICAgdG9vbENob2ljZSxcbiAgICB0b29sQ2FsbFN0cmVhbWluZyxcbiAgICB0cmFuc2Zvcm0sXG4gICAgYWN0aXZlVG9vbHMsXG4gICAgcmVwYWlyVG9vbENhbGwsXG4gICAgbWF4U3RlcHMsXG4gICAgb3V0cHV0LFxuICAgIGNvbnRpbnVlU3RlcHMsXG4gICAgcHJvdmlkZXJNZXRhZGF0YSxcbiAgICBvbkNodW5rLFxuICAgIG9uRmluaXNoLFxuICAgIG9uU3RlcEZpbmlzaCxcbiAgICBub3c6IG5vdzIsXG4gICAgY3VycmVudERhdGUsXG4gICAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDNcbiAgfSkge1xuICAgIHRoaXMud2FybmluZ3NQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy51c2FnZVByb21pc2UgPSBuZXcgRGVsYXllZFByb21pc2UoKTtcbiAgICB0aGlzLmZpbmlzaFJlYXNvblByb21pc2UgPSBuZXcgRGVsYXllZFByb21pc2UoKTtcbiAgICB0aGlzLnByb3ZpZGVyTWV0YWRhdGFQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy50ZXh0UHJvbWlzZSA9IG5ldyBEZWxheWVkUHJvbWlzZSgpO1xuICAgIHRoaXMudG9vbENhbGxzUHJvbWlzZSA9IG5ldyBEZWxheWVkUHJvbWlzZSgpO1xuICAgIHRoaXMudG9vbFJlc3VsdHNQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy5yZXF1ZXN0UHJvbWlzZSA9IG5ldyBEZWxheWVkUHJvbWlzZSgpO1xuICAgIHRoaXMucmVzcG9uc2VQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy5zdGVwc1Byb21pc2UgPSBuZXcgRGVsYXllZFByb21pc2UoKTtcbiAgICB2YXIgX2ExNDtcbiAgICBpZiAobWF4U3RlcHMgPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwibWF4U3RlcHNcIixcbiAgICAgICAgdmFsdWU6IG1heFN0ZXBzLFxuICAgICAgICBtZXNzYWdlOiBcIm1heFN0ZXBzIG11c3QgYmUgYXQgbGVhc3QgMVwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5vdXRwdXQgPSBvdXRwdXQ7XG4gICAgbGV0IHJlY29yZGVkU3RlcFRleHQgPSBcIlwiO1xuICAgIGxldCByZWNvcmRlZENvbnRpbnVhdGlvblRleHQgPSBcIlwiO1xuICAgIGxldCByZWNvcmRlZEZ1bGxUZXh0ID0gXCJcIjtcbiAgICBjb25zdCByZWNvcmRlZFJlc3BvbnNlID0ge1xuICAgICAgaWQ6IGdlbmVyYXRlSWQzKCksXG4gICAgICB0aW1lc3RhbXA6IGN1cnJlbnREYXRlKCksXG4gICAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICAgICAgbWVzc2FnZXM6IFtdXG4gICAgfTtcbiAgICBsZXQgcmVjb3JkZWRUb29sQ2FsbHMgPSBbXTtcbiAgICBsZXQgcmVjb3JkZWRUb29sUmVzdWx0cyA9IFtdO1xuICAgIGxldCByZWNvcmRlZEZpbmlzaFJlYXNvbiA9IHZvaWQgMDtcbiAgICBsZXQgcmVjb3JkZWRVc2FnZSA9IHZvaWQgMDtcbiAgICBsZXQgc3RlcFR5cGUgPSBcImluaXRpYWxcIjtcbiAgICBjb25zdCByZWNvcmRlZFN0ZXBzID0gW107XG4gICAgbGV0IHJvb3RTcGFuO1xuICAgIGNvbnN0IGV2ZW50UHJvY2Vzc29yID0gbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgY29uc3QgeyBwYXJ0IH0gPSBjaHVuaztcbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gXCJ0ZXh0LWRlbHRhXCIgfHwgcGFydC50eXBlID09PSBcInRvb2wtY2FsbFwiIHx8IHBhcnQudHlwZSA9PT0gXCJ0b29sLXJlc3VsdFwiIHx8IHBhcnQudHlwZSA9PT0gXCJ0b29sLWNhbGwtc3RyZWFtaW5nLXN0YXJ0XCIgfHwgcGFydC50eXBlID09PSBcInRvb2wtY2FsbC1kZWx0YVwiKSB7XG4gICAgICAgICAgYXdhaXQgKG9uQ2h1bmsgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQ2h1bmsoeyBjaHVuazogcGFydCB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gXCJ0ZXh0LWRlbHRhXCIpIHtcbiAgICAgICAgICByZWNvcmRlZFN0ZXBUZXh0ICs9IHBhcnQudGV4dERlbHRhO1xuICAgICAgICAgIHJlY29yZGVkQ29udGludWF0aW9uVGV4dCArPSBwYXJ0LnRleHREZWx0YTtcbiAgICAgICAgICByZWNvcmRlZEZ1bGxUZXh0ICs9IHBhcnQudGV4dERlbHRhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09IFwidG9vbC1jYWxsXCIpIHtcbiAgICAgICAgICByZWNvcmRlZFRvb2xDYWxscy5wdXNoKHBhcnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09IFwidG9vbC1yZXN1bHRcIikge1xuICAgICAgICAgIHJlY29yZGVkVG9vbFJlc3VsdHMucHVzaChwYXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydC50eXBlID09PSBcInN0ZXAtZmluaXNoXCIpIHtcbiAgICAgICAgICBjb25zdCBzdGVwTWVzc2FnZXMgPSB0b1Jlc3BvbnNlTWVzc2FnZXMoe1xuICAgICAgICAgICAgdGV4dDogcmVjb3JkZWRDb250aW51YXRpb25UZXh0LFxuICAgICAgICAgICAgdG9vbHM6IHRvb2xzICE9IG51bGwgPyB0b29scyA6IHt9LFxuICAgICAgICAgICAgdG9vbENhbGxzOiByZWNvcmRlZFRvb2xDYWxscyxcbiAgICAgICAgICAgIHRvb2xSZXN1bHRzOiByZWNvcmRlZFRvb2xSZXN1bHRzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudFN0ZXAgPSByZWNvcmRlZFN0ZXBzLmxlbmd0aDtcbiAgICAgICAgICBsZXQgbmV4dFN0ZXBUeXBlID0gXCJkb25lXCI7XG4gICAgICAgICAgaWYgKGN1cnJlbnRTdGVwICsgMSA8IG1heFN0ZXBzKSB7XG4gICAgICAgICAgICBpZiAoY29udGludWVTdGVwcyAmJiBwYXJ0LmZpbmlzaFJlYXNvbiA9PT0gXCJsZW5ndGhcIiAmJiAvLyBvbmx5IHVzZSBjb250aW51ZSB3aGVuIHRoZXJlIGFyZSBubyB0b29sIGNhbGxzOlxuICAgICAgICAgICAgcmVjb3JkZWRUb29sQ2FsbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIG5leHRTdGVwVHlwZSA9IFwiY29udGludWVcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgIC8vIHRoZXJlIGFyZSB0b29sIGNhbGxzOlxuICAgICAgICAgICAgICByZWNvcmRlZFRvb2xDYWxscy5sZW5ndGggPiAwICYmIC8vIGFsbCBjdXJyZW50IHRvb2wgY2FsbHMgaGF2ZSByZXN1bHRzOlxuICAgICAgICAgICAgICByZWNvcmRlZFRvb2xSZXN1bHRzLmxlbmd0aCA9PT0gcmVjb3JkZWRUb29sQ2FsbHMubGVuZ3RoXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgbmV4dFN0ZXBUeXBlID0gXCJ0b29sLXJlc3VsdFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjdXJyZW50U3RlcFJlc3VsdCA9IHtcbiAgICAgICAgICAgIHN0ZXBUeXBlLFxuICAgICAgICAgICAgdGV4dDogcmVjb3JkZWRTdGVwVGV4dCxcbiAgICAgICAgICAgIHRvb2xDYWxsczogcmVjb3JkZWRUb29sQ2FsbHMsXG4gICAgICAgICAgICB0b29sUmVzdWx0czogcmVjb3JkZWRUb29sUmVzdWx0cyxcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogcGFydC5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICB1c2FnZTogcGFydC51c2FnZSxcbiAgICAgICAgICAgIHdhcm5pbmdzOiBwYXJ0Lndhcm5pbmdzLFxuICAgICAgICAgICAgbG9ncHJvYnM6IHBhcnQubG9ncHJvYnMsXG4gICAgICAgICAgICByZXF1ZXN0OiBwYXJ0LnJlcXVlc3QsXG4gICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICAuLi5wYXJ0LnJlc3BvbnNlLFxuICAgICAgICAgICAgICBtZXNzYWdlczogWy4uLnJlY29yZGVkUmVzcG9uc2UubWVzc2FnZXMsIC4uLnN0ZXBNZXNzYWdlc11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogcGFydC5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgIGlzQ29udGludWVkOiBwYXJ0LmlzQ29udGludWVkXG4gICAgICAgICAgfTtcbiAgICAgICAgICBhd2FpdCAob25TdGVwRmluaXNoID09IG51bGwgPyB2b2lkIDAgOiBvblN0ZXBGaW5pc2goY3VycmVudFN0ZXBSZXN1bHQpKTtcbiAgICAgICAgICByZWNvcmRlZFN0ZXBzLnB1c2goY3VycmVudFN0ZXBSZXN1bHQpO1xuICAgICAgICAgIHJlY29yZGVkVG9vbENhbGxzID0gW107XG4gICAgICAgICAgcmVjb3JkZWRUb29sUmVzdWx0cyA9IFtdO1xuICAgICAgICAgIHJlY29yZGVkU3RlcFRleHQgPSBcIlwiO1xuICAgICAgICAgIGlmIChuZXh0U3RlcFR5cGUgIT09IFwiZG9uZVwiKSB7XG4gICAgICAgICAgICBzdGVwVHlwZSA9IG5leHRTdGVwVHlwZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5leHRTdGVwVHlwZSAhPT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgICAgICByZWNvcmRlZFJlc3BvbnNlLm1lc3NhZ2VzLnB1c2goLi4uc3RlcE1lc3NhZ2VzKTtcbiAgICAgICAgICAgIHJlY29yZGVkQ29udGludWF0aW9uVGV4dCA9IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09IFwiZmluaXNoXCIpIHtcbiAgICAgICAgICByZWNvcmRlZFJlc3BvbnNlLmlkID0gcGFydC5yZXNwb25zZS5pZDtcbiAgICAgICAgICByZWNvcmRlZFJlc3BvbnNlLnRpbWVzdGFtcCA9IHBhcnQucmVzcG9uc2UudGltZXN0YW1wO1xuICAgICAgICAgIHJlY29yZGVkUmVzcG9uc2UubW9kZWxJZCA9IHBhcnQucmVzcG9uc2UubW9kZWxJZDtcbiAgICAgICAgICByZWNvcmRlZFJlc3BvbnNlLmhlYWRlcnMgPSBwYXJ0LnJlc3BvbnNlLmhlYWRlcnM7XG4gICAgICAgICAgcmVjb3JkZWRVc2FnZSA9IHBhcnQudXNhZ2U7XG4gICAgICAgICAgcmVjb3JkZWRGaW5pc2hSZWFzb24gPSBwYXJ0LmZpbmlzaFJlYXNvbjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgdmFyIF9hMTU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHJlY29yZGVkU3RlcHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGxhc3RTdGVwID0gcmVjb3JkZWRTdGVwc1tyZWNvcmRlZFN0ZXBzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIHNlbGYud2FybmluZ3NQcm9taXNlLnJlc29sdmUobGFzdFN0ZXAud2FybmluZ3MpO1xuICAgICAgICAgIHNlbGYucmVxdWVzdFByb21pc2UucmVzb2x2ZShsYXN0U3RlcC5yZXF1ZXN0KTtcbiAgICAgICAgICBzZWxmLnJlc3BvbnNlUHJvbWlzZS5yZXNvbHZlKGxhc3RTdGVwLnJlc3BvbnNlKTtcbiAgICAgICAgICBzZWxmLnRvb2xDYWxsc1Byb21pc2UucmVzb2x2ZShsYXN0U3RlcC50b29sQ2FsbHMpO1xuICAgICAgICAgIHNlbGYudG9vbFJlc3VsdHNQcm9taXNlLnJlc29sdmUobGFzdFN0ZXAudG9vbFJlc3VsdHMpO1xuICAgICAgICAgIHNlbGYucHJvdmlkZXJNZXRhZGF0YVByb21pc2UucmVzb2x2ZShcbiAgICAgICAgICAgIGxhc3RTdGVwLmV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBmaW5pc2hSZWFzb24gPSByZWNvcmRlZEZpbmlzaFJlYXNvbiAhPSBudWxsID8gcmVjb3JkZWRGaW5pc2hSZWFzb24gOiBcInVua25vd25cIjtcbiAgICAgICAgICBjb25zdCB1c2FnZSA9IHJlY29yZGVkVXNhZ2UgIT0gbnVsbCA/IHJlY29yZGVkVXNhZ2UgOiB7XG4gICAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiBOYU4sXG4gICAgICAgICAgICBwcm9tcHRUb2tlbnM6IE5hTixcbiAgICAgICAgICAgIHRvdGFsVG9rZW5zOiBOYU5cbiAgICAgICAgICB9O1xuICAgICAgICAgIHNlbGYuZmluaXNoUmVhc29uUHJvbWlzZS5yZXNvbHZlKGZpbmlzaFJlYXNvbik7XG4gICAgICAgICAgc2VsZi51c2FnZVByb21pc2UucmVzb2x2ZSh1c2FnZSk7XG4gICAgICAgICAgc2VsZi50ZXh0UHJvbWlzZS5yZXNvbHZlKHJlY29yZGVkRnVsbFRleHQpO1xuICAgICAgICAgIHNlbGYuc3RlcHNQcm9taXNlLnJlc29sdmUocmVjb3JkZWRTdGVwcyk7XG4gICAgICAgICAgYXdhaXQgKG9uRmluaXNoID09IG51bGwgPyB2b2lkIDAgOiBvbkZpbmlzaCh7XG4gICAgICAgICAgICBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgICBsb2dwcm9iczogdm9pZCAwLFxuICAgICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgICB0ZXh0OiByZWNvcmRlZEZ1bGxUZXh0LFxuICAgICAgICAgICAgdG9vbENhbGxzOiBsYXN0U3RlcC50b29sQ2FsbHMsXG4gICAgICAgICAgICB0b29sUmVzdWx0czogbGFzdFN0ZXAudG9vbFJlc3VsdHMsXG4gICAgICAgICAgICByZXF1ZXN0OiAoX2ExNSA9IGxhc3RTdGVwLnJlcXVlc3QpICE9IG51bGwgPyBfYTE1IDoge30sXG4gICAgICAgICAgICByZXNwb25zZTogbGFzdFN0ZXAucmVzcG9uc2UsXG4gICAgICAgICAgICB3YXJuaW5nczogbGFzdFN0ZXAud2FybmluZ3MsXG4gICAgICAgICAgICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogbGFzdFN0ZXAuZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICBzdGVwczogcmVjb3JkZWRTdGVwc1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgICByb290U3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UuZmluaXNoUmVhc29uXCI6IGZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLnRleHRcIjogeyBvdXRwdXQ6ICgpID0+IHJlY29yZGVkRnVsbFRleHQgfSxcbiAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLnRvb2xDYWxsc1wiOiB7XG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hMTY7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKF9hMTYgPSBsYXN0U3RlcC50b29sQ2FsbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYTE2Lmxlbmd0aCkgPyBKU09OLnN0cmluZ2lmeShsYXN0U3RlcC50b29sQ2FsbHMpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJhaS51c2FnZS5wcm9tcHRUb2tlbnNcIjogdXNhZ2UucHJvbXB0VG9rZW5zLFxuICAgICAgICAgICAgICAgIFwiYWkudXNhZ2UuY29tcGxldGlvblRva2Vuc1wiOiB1c2FnZS5jb21wbGV0aW9uVG9rZW5zXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICByb290U3Bhbi5lbmQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHN0aXRjaGFibGVTdHJlYW0gPSBjcmVhdGVTdGl0Y2hhYmxlU3RyZWFtKCk7XG4gICAgdGhpcy5hZGRTdHJlYW0gPSBzdGl0Y2hhYmxlU3RyZWFtLmFkZFN0cmVhbTtcbiAgICB0aGlzLmNsb3NlU3RyZWFtID0gc3RpdGNoYWJsZVN0cmVhbS5jbG9zZTtcbiAgICBsZXQgc3RyZWFtID0gc3RpdGNoYWJsZVN0cmVhbS5zdHJlYW07XG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgc3RyZWFtID0gc3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgICB0cmFuc2Zvcm0oe1xuICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgIHN0b3BTdHJlYW0oKSB7XG4gICAgICAgICAgICBzdGl0Y2hhYmxlU3RyZWFtLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuYmFzZVN0cmVhbSA9IHN0cmVhbS5waXBlVGhyb3VnaChjcmVhdGVPdXRwdXRUcmFuc2Zvcm1TdHJlYW0ob3V0cHV0KSkucGlwZVRocm91Z2goZXZlbnRQcm9jZXNzb3IpO1xuICAgIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmdcbiAgICB9KTtcbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIodGVsZW1ldHJ5KTtcbiAgICBjb25zdCBiYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyA9IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgIG1vZGVsLFxuICAgICAgdGVsZW1ldHJ5LFxuICAgICAgaGVhZGVycyxcbiAgICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzLCBtYXhSZXRyaWVzIH1cbiAgICB9KTtcbiAgICBjb25zdCBpbml0aWFsUHJvbXB0ID0gc3RhbmRhcmRpemVQcm9tcHQoe1xuICAgICAgcHJvbXB0OiB7XG4gICAgICAgIHN5c3RlbTogKF9hMTQgPSBvdXRwdXQgPT0gbnVsbCA/IHZvaWQgMCA6IG91dHB1dC5pbmplY3RJbnRvU3lzdGVtUHJvbXB0KHsgc3lzdGVtLCBtb2RlbCB9KSkgIT0gbnVsbCA/IF9hMTQgOiBzeXN0ZW0sXG4gICAgICAgIHByb21wdCxcbiAgICAgICAgbWVzc2FnZXNcbiAgICAgIH0sXG4gICAgICB0b29sc1xuICAgIH0pO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHJlY29yZFNwYW4oe1xuICAgICAgbmFtZTogXCJhaS5zdHJlYW1UZXh0XCIsXG4gICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHsgb3BlcmF0aW9uSWQ6IFwiYWkuc3RyZWFtVGV4dFwiLCB0ZWxlbWV0cnkgfSksXG4gICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgLy8gc3BlY2lmaWMgc2V0dGluZ3MgdGhhdCBvbmx5IG1ha2Ugc2Vuc2Ugb24gdGhlIG91dGVyIGxldmVsOlxuICAgICAgICAgIFwiYWkucHJvbXB0XCI6IHtcbiAgICAgICAgICAgIGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeSh7IHN5c3RlbSwgcHJvbXB0LCBtZXNzYWdlcyB9KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJhaS5zZXR0aW5ncy5tYXhTdGVwc1wiOiBtYXhTdGVwc1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIHRyYWNlcixcbiAgICAgIGVuZFdoZW5Eb25lOiBmYWxzZSxcbiAgICAgIGZuOiBhc3luYyAocm9vdFNwYW5BcmcpID0+IHtcbiAgICAgICAgcm9vdFNwYW4gPSByb290U3BhbkFyZztcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gc3RyZWFtU3RlcCh7XG4gICAgICAgICAgY3VycmVudFN0ZXAsXG4gICAgICAgICAgcmVzcG9uc2VNZXNzYWdlcyxcbiAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICBzdGVwVHlwZTogc3RlcFR5cGUyLFxuICAgICAgICAgIHByZXZpb3VzU3RlcFRleHQsXG4gICAgICAgICAgaGFzTGVhZGluZ1doaXRlc3BhY2VcbiAgICAgICAgfSkge1xuICAgICAgICAgIGNvbnN0IHByb21wdEZvcm1hdCA9IHJlc3BvbnNlTWVzc2FnZXMubGVuZ3RoID09PSAwID8gaW5pdGlhbFByb21wdC50eXBlIDogXCJtZXNzYWdlc1wiO1xuICAgICAgICAgIGNvbnN0IHN0ZXBJbnB1dE1lc3NhZ2VzID0gW1xuICAgICAgICAgICAgLi4uaW5pdGlhbFByb21wdC5tZXNzYWdlcyxcbiAgICAgICAgICAgIC4uLnJlc3BvbnNlTWVzc2FnZXNcbiAgICAgICAgICBdO1xuICAgICAgICAgIGNvbnN0IHByb21wdE1lc3NhZ2VzID0gYXdhaXQgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCh7XG4gICAgICAgICAgICBwcm9tcHQ6IHtcbiAgICAgICAgICAgICAgdHlwZTogcHJvbXB0Rm9ybWF0LFxuICAgICAgICAgICAgICBzeXN0ZW06IGluaXRpYWxQcm9tcHQuc3lzdGVtLFxuICAgICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb2RlbFN1cHBvcnRzSW1hZ2VVcmxzOiBtb2RlbC5zdXBwb3J0c0ltYWdlVXJscyxcbiAgICAgICAgICAgIG1vZGVsU3VwcG9ydHNVcmw6IG1vZGVsLnN1cHBvcnRzVXJsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgbW9kZSA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwicmVndWxhclwiLFxuICAgICAgICAgICAgLi4ucHJlcGFyZVRvb2xzQW5kVG9vbENob2ljZSh7IHRvb2xzLCB0b29sQ2hvaWNlLCBhY3RpdmVUb29scyB9KVxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcmVzdWx0OiB7IHN0cmVhbTogc3RyZWFtMiwgd2FybmluZ3MsIHJhd1Jlc3BvbnNlLCByZXF1ZXN0IH0sXG4gICAgICAgICAgICBkb1N0cmVhbVNwYW4sXG4gICAgICAgICAgICBzdGFydFRpbWVzdGFtcE1zXG4gICAgICAgICAgfSA9IGF3YWl0IHJldHJ5KFxuICAgICAgICAgICAgKCkgPT4gcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICAgIG5hbWU6IFwiYWkuc3RyZWFtVGV4dC5kb1N0cmVhbVwiLFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6IFwiYWkuc3RyZWFtVGV4dC5kb1N0cmVhbVwiLFxuICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnlcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICBcImFpLnByb21wdC5mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gcHJvbXB0Rm9ybWF0XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCJhaS5wcm9tcHQubWVzc2FnZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkocHJvbXB0TWVzc2FnZXMpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCJhaS5wcm9tcHQudG9vbHNcIjoge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHRoZSBsYW5ndWFnZSBtb2RlbCBsZXZlbCB0b29sczpcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgX2ExNTtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9hMTUgPSBtb2RlLnRvb2xzKSA9PSBudWxsID8gdm9pZCAwIDogX2ExNS5tYXAoKHRvb2wyKSA9PiBKU09OLnN0cmluZ2lmeSh0b29sMikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCJhaS5wcm9tcHQudG9vbENob2ljZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBtb2RlLnRvb2xDaG9pY2UgIT0gbnVsbCA/IEpTT04uc3RyaW5naWZ5KG1vZGUudG9vbENob2ljZSkgOiB2b2lkIDBcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5zeXN0ZW1cIjogbW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0Lm1vZGVsXCI6IG1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LmZyZXF1ZW5jeV9wZW5hbHR5XCI6IHNldHRpbmdzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0Lm1heF90b2tlbnNcIjogc2V0dGluZ3MubWF4VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5wcmVzZW5jZV9wZW5hbHR5XCI6IHNldHRpbmdzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3Quc3RvcF9zZXF1ZW5jZXNcIjogc2V0dGluZ3Muc3RvcFNlcXVlbmNlcyxcbiAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QudGVtcGVyYXR1cmVcIjogc2V0dGluZ3MudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LnRvcF9rXCI6IHNldHRpbmdzLnRvcEssXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LnRvcF9wXCI6IHNldHRpbmdzLnRvcFBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICAgIGVuZFdoZW5Eb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgZm46IGFzeW5jIChkb1N0cmVhbVNwYW4yKSA9PiAoe1xuICAgICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wTXM6IG5vdzIoKSxcbiAgICAgICAgICAgICAgICAvLyBnZXQgYmVmb3JlIHRoZSBjYWxsXG4gICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuOiBkb1N0cmVhbVNwYW4yLFxuICAgICAgICAgICAgICAgIHJlc3VsdDogYXdhaXQgbW9kZWwuZG9TdHJlYW0oe1xuICAgICAgICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgICAgICAgIC4uLnByZXBhcmVDYWxsU2V0dGluZ3Moc2V0dGluZ3MpLFxuICAgICAgICAgICAgICAgICAgaW5wdXRGb3JtYXQ6IHByb21wdEZvcm1hdCxcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRm9ybWF0OiBvdXRwdXQgPT0gbnVsbCA/IHZvaWQgMCA6IG91dHB1dC5yZXNwb25zZUZvcm1hdCh7IG1vZGVsIH0pLFxuICAgICAgICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHRNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkU3RyZWFtID0gcnVuVG9vbHNUcmFuc2Zvcm1hdGlvbih7XG4gICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgIGdlbmVyYXRvclN0cmVhbTogc3RyZWFtMixcbiAgICAgICAgICAgIHRvb2xDYWxsU3RyZWFtaW5nLFxuICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgcmVwYWlyVG9vbENhbGwsXG4gICAgICAgICAgICBhYm9ydFNpZ25hbFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHN0ZXBSZXF1ZXN0ID0gcmVxdWVzdCAhPSBudWxsID8gcmVxdWVzdCA6IHt9O1xuICAgICAgICAgIGNvbnN0IHN0ZXBUb29sQ2FsbHMgPSBbXTtcbiAgICAgICAgICBjb25zdCBzdGVwVG9vbFJlc3VsdHMgPSBbXTtcbiAgICAgICAgICBsZXQgc3RlcEZpbmlzaFJlYXNvbiA9IFwidW5rbm93blwiO1xuICAgICAgICAgIGxldCBzdGVwVXNhZ2UgPSB7XG4gICAgICAgICAgICBwcm9tcHRUb2tlbnM6IDAsXG4gICAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiAwLFxuICAgICAgICAgICAgdG90YWxUb2tlbnM6IDBcbiAgICAgICAgICB9O1xuICAgICAgICAgIGxldCBzdGVwUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICBsZXQgc3RlcEZpcnN0Q2h1bmsgPSB0cnVlO1xuICAgICAgICAgIGxldCBzdGVwVGV4dCA9IFwiXCI7XG4gICAgICAgICAgbGV0IGZ1bGxTdGVwVGV4dCA9IHN0ZXBUeXBlMiA9PT0gXCJjb250aW51ZVwiID8gcHJldmlvdXNTdGVwVGV4dCA6IFwiXCI7XG4gICAgICAgICAgbGV0IHN0ZXBMb2dQcm9icztcbiAgICAgICAgICBsZXQgc3RlcFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgaWQ6IGdlbmVyYXRlSWQzKCksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGN1cnJlbnREYXRlKCksXG4gICAgICAgICAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkXG4gICAgICAgICAgfTtcbiAgICAgICAgICBsZXQgY2h1bmtCdWZmZXIgPSBcIlwiO1xuICAgICAgICAgIGxldCBjaHVua1RleHRQdWJsaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgICBsZXQgaW5XaGl0ZXNwYWNlUHJlZml4ID0gdHJ1ZTtcbiAgICAgICAgICBsZXQgaGFzV2hpdGVzcGFjZVN1ZmZpeCA9IGZhbHNlO1xuICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIHB1Ymxpc2hUZXh0Q2h1bmsoe1xuICAgICAgICAgICAgY29udHJvbGxlcixcbiAgICAgICAgICAgIGNodW5rXG4gICAgICAgICAgfSkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgIHN0ZXBUZXh0ICs9IGNodW5rLnRleHREZWx0YTtcbiAgICAgICAgICAgIGZ1bGxTdGVwVGV4dCArPSBjaHVuay50ZXh0RGVsdGE7XG4gICAgICAgICAgICBjaHVua1RleHRQdWJsaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgaGFzV2hpdGVzcGFjZVN1ZmZpeCA9IGNodW5rLnRleHREZWx0YS50cmltRW5kKCkgIT09IGNodW5rLnRleHREZWx0YTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5hZGRTdHJlYW0oXG4gICAgICAgICAgICB0cmFuc2Zvcm1lZFN0cmVhbS5waXBlVGhyb3VnaChcbiAgICAgICAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgICAgICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgX2ExNSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgaWYgKHN0ZXBGaXJzdENodW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1zVG9GaXJzdENodW5rID0gbm93MigpIC0gc3RhcnRUaW1lc3RhbXBNcztcbiAgICAgICAgICAgICAgICAgICAgc3RlcEZpcnN0Q2h1bmsgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLmFkZEV2ZW50KFwiYWkuc3RyZWFtLmZpcnN0Q2h1bmtcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UubXNUb0ZpcnN0Q2h1bmtcIjogbXNUb0ZpcnN0Q2h1bmtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLm1zVG9GaXJzdENodW5rXCI6IG1zVG9GaXJzdENodW5rXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09IFwidGV4dC1kZWx0YVwiICYmIGNodW5rLnRleHREZWx0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmtUeXBlID0gY2h1bmsudHlwZTtcbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2h1bmtUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0ZXh0LWRlbHRhXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGludWVTdGVwcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpbW1lZENodW5rVGV4dCA9IGluV2hpdGVzcGFjZVByZWZpeCAmJiBoYXNMZWFkaW5nV2hpdGVzcGFjZSA/IGNodW5rLnRleHREZWx0YS50cmltU3RhcnQoKSA6IGNodW5rLnRleHREZWx0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmltbWVkQ2h1bmtUZXh0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGluV2hpdGVzcGFjZVByZWZpeCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtCdWZmZXIgKz0gdHJpbW1lZENodW5rVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0ID0gc3BsaXRPbkxhc3RXaGl0ZXNwYWNlKGNodW5rQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rQnVmZmVyID0gc3BsaXQuc3VmZml4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBwdWJsaXNoVGV4dENodW5rKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHQtZGVsdGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHREZWx0YTogc3BsaXQucHJlZml4ICsgc3BsaXQud2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHB1Ymxpc2hUZXh0Q2h1bmsoeyBjb250cm9sbGVyLCBjaHVuayB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRvb2wtY2FsbFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwVG9vbENhbGxzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0b29sLXJlc3VsdFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwVG9vbFJlc3VsdHMucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlc3BvbnNlLW1ldGFkYXRhXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hMTUgPSBjaHVuay5pZCkgIT0gbnVsbCA/IF9hMTUgOiBzdGVwUmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IChfYiA9IGNodW5rLnRpbWVzdGFtcCkgIT0gbnVsbCA/IF9iIDogc3RlcFJlc3BvbnNlLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsSWQ6IChfYyA9IGNodW5rLm1vZGVsSWQpICE9IG51bGwgPyBfYyA6IHN0ZXBSZXNwb25zZS5tb2RlbElkXG4gICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZmluaXNoXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwVXNhZ2UgPSBjaHVuay51c2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwRmluaXNoUmVhc29uID0gY2h1bmsuZmluaXNoUmVhc29uO1xuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBQcm92aWRlck1ldGFkYXRhID0gY2h1bmsuZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcExvZ1Byb2JzID0gY2h1bmsubG9ncHJvYnM7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNUb0ZpbmlzaCA9IG5vdzIoKSAtIHN0YXJ0VGltZXN0YW1wTXM7XG4gICAgICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLmFkZEV2ZW50KFwiYWkuc3RyZWFtLmZpbmlzaFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLm1zVG9GaW5pc2hcIjogbXNUb0ZpbmlzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UuYXZnQ29tcGxldGlvblRva2Vuc1BlclNlY29uZFwiOiAxZTMgKiBzdGVwVXNhZ2UuY29tcGxldGlvblRva2VucyAvIG1zVG9GaW5pc2hcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidG9vbC1jYWxsLXN0cmVhbWluZy1zdGFydFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidG9vbC1jYWxsLWRlbHRhXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwRmluaXNoUmVhc29uID0gXCJlcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2sgPSBjaHVua1R5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGNodW5rIHR5cGU6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBpbnZva2Ugb25GaW5pc2ggY2FsbGJhY2sgYW5kIHJlc29sdmUgdG9vbFJlc3VsdHMgcHJvbWlzZSB3aGVuIHRoZSBzdHJlYW0gaXMgYWJvdXQgdG8gY2xvc2U6XG4gICAgICAgICAgICAgICAgYXN5bmMgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc3RlcFRvb2xDYWxsc0pzb24gPSBzdGVwVG9vbENhbGxzLmxlbmd0aCA+IDAgPyBKU09OLnN0cmluZ2lmeShzdGVwVG9vbENhbGxzKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgIGxldCBuZXh0U3RlcFR5cGUgPSBcImRvbmVcIjtcbiAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RlcCArIDEgPCBtYXhTdGVwcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGludWVTdGVwcyAmJiBzdGVwRmluaXNoUmVhc29uID09PSBcImxlbmd0aFwiICYmIC8vIG9ubHkgdXNlIGNvbnRpbnVlIHdoZW4gdGhlcmUgYXJlIG5vIHRvb2wgY2FsbHM6XG4gICAgICAgICAgICAgICAgICAgIHN0ZXBUb29sQ2FsbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFN0ZXBUeXBlID0gXCJjb250aW51ZVwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZXJlIGFyZSB0b29sIGNhbGxzOlxuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBUb29sQ2FsbHMubGVuZ3RoID4gMCAmJiAvLyBhbGwgY3VycmVudCB0b29sIGNhbGxzIGhhdmUgcmVzdWx0czpcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwVG9vbFJlc3VsdHMubGVuZ3RoID09PSBzdGVwVG9vbENhbGxzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0U3RlcFR5cGUgPSBcInRvb2wtcmVzdWx0XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChjb250aW51ZVN0ZXBzICYmIGNodW5rQnVmZmVyLmxlbmd0aCA+IDAgJiYgKG5leHRTdGVwVHlwZSAhPT0gXCJjb250aW51ZVwiIHx8IC8vIHdoZW4gdGhlIG5leHQgc3RlcCBpcyBhIHJlZ3VsYXIgc3RlcCwgcHVibGlzaCB0aGUgYnVmZmVyXG4gICAgICAgICAgICAgICAgICBzdGVwVHlwZTIgPT09IFwiY29udGludWVcIiAmJiAhY2h1bmtUZXh0UHVibGlzaGVkKSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwdWJsaXNoVGV4dENodW5rKHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLFxuICAgICAgICAgICAgICAgICAgICAgIGNodW5rOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHQtZGVsdGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHREZWx0YTogY2h1bmtCdWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjaHVua0J1ZmZlciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5maW5pc2hSZWFzb25cIjogc3RlcEZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS50ZXh0XCI6IHsgb3V0cHV0OiAoKSA9PiBzdGVwVGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLnRvb2xDYWxsc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBzdGVwVG9vbENhbGxzSnNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLmlkXCI6IHN0ZXBSZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5tb2RlbFwiOiBzdGVwUmVzcG9uc2UubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS50aW1lc3RhbXBcIjogc3RlcFJlc3BvbnNlLnRpbWVzdGFtcC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImFpLnVzYWdlLnByb21wdFRva2Vuc1wiOiBzdGVwVXNhZ2UucHJvbXB0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImFpLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnNcIjogc3RlcFVzYWdlLmNvbXBsZXRpb25Ub2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UuZmluaXNoX3JlYXNvbnNcIjogW3N0ZXBGaW5pc2hSZWFzb25dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXNwb25zZS5pZFwiOiBzdGVwUmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlc3BvbnNlLm1vZGVsXCI6IHN0ZXBSZXNwb25zZS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImdlbl9haS51c2FnZS5pbnB1dF90b2tlbnNcIjogc3RlcFVzYWdlLnByb21wdFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkudXNhZ2Uub3V0cHV0X3Rva2Vuc1wiOiBzdGVwVXNhZ2UuY29tcGxldGlvblRva2Vuc1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLmVuZCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdGVwLWZpbmlzaFwiLFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hSZWFzb246IHN0ZXBGaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgIHVzYWdlOiBzdGVwVXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhOiBzdGVwUHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgbG9ncHJvYnM6IHN0ZXBMb2dQcm9icyxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogc3RlcFJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uc3RlcFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJhd1Jlc3BvbnNlID09IG51bGwgPyB2b2lkIDAgOiByYXdSZXNwb25zZS5oZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzLFxuICAgICAgICAgICAgICAgICAgICBpc0NvbnRpbnVlZDogbmV4dFN0ZXBUeXBlID09PSBcImNvbnRpbnVlXCJcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgY29uc3QgY29tYmluZWRVc2FnZSA9IGFkZExhbmd1YWdlTW9kZWxVc2FnZSh1c2FnZSwgc3RlcFVzYWdlKTtcbiAgICAgICAgICAgICAgICAgIGlmIChuZXh0U3RlcFR5cGUgPT09IFwiZG9uZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmaW5pc2hcIixcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hSZWFzb246IHN0ZXBGaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IGNvbWJpbmVkVXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGE6IHN0ZXBQcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgIGxvZ3Byb2JzOiBzdGVwTG9nUHJvYnMsXG4gICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnN0ZXBSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJhd1Jlc3BvbnNlID09IG51bGwgPyB2b2lkIDAgOiByYXdSZXNwb25zZS5oZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jbG9zZVN0cmVhbSgpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0ZXBUeXBlMiA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdE1lc3NhZ2UgPSByZXNwb25zZU1lc3NhZ2VzW3Jlc3BvbnNlTWVzc2FnZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsYXN0TWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZS5jb250ZW50ICs9IHN0ZXBUZXh0O1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZS5jb250ZW50LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBzdGVwVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZU1lc3NhZ2VzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50b1Jlc3BvbnNlTWVzc2FnZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBzdGVwVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHM6IHRvb2xzICE9IG51bGwgPyB0b29scyA6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbHM6IHN0ZXBUb29sQ2FsbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xSZXN1bHRzOiBzdGVwVG9vbFJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdHJlYW1TdGVwKHtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RlcDogY3VycmVudFN0ZXAgKyAxLFxuICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IGNvbWJpbmVkVXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFR5cGU6IG5leHRTdGVwVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1N0ZXBUZXh0OiBmdWxsU3RlcFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgaGFzTGVhZGluZ1doaXRlc3BhY2U6IGhhc1doaXRlc3BhY2VTdWZmaXhcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgc3RyZWFtU3RlcCh7XG4gICAgICAgICAgY3VycmVudFN0ZXA6IDAsXG4gICAgICAgICAgcmVzcG9uc2VNZXNzYWdlczogW10sXG4gICAgICAgICAgdXNhZ2U6IHtcbiAgICAgICAgICAgIHByb21wdFRva2VuczogMCxcbiAgICAgICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IDAsXG4gICAgICAgICAgICB0b3RhbFRva2VuczogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJldmlvdXNTdGVwVGV4dDogXCJcIixcbiAgICAgICAgICBzdGVwVHlwZTogXCJpbml0aWFsXCIsXG4gICAgICAgICAgaGFzTGVhZGluZ1doaXRlc3BhY2U6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgc2VsZi5hZGRTdHJlYW0oXG4gICAgICAgIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJlcnJvclwiLCBlcnJvciB9KTtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgc2VsZi5jbG9zZVN0cmVhbSgpO1xuICAgIH0pO1xuICB9XG4gIGdldCB3YXJuaW5ncygpIHtcbiAgICByZXR1cm4gdGhpcy53YXJuaW5nc1Byb21pc2UudmFsdWU7XG4gIH1cbiAgZ2V0IHVzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnVzYWdlUHJvbWlzZS52YWx1ZTtcbiAgfVxuICBnZXQgZmluaXNoUmVhc29uKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmlzaFJlYXNvblByb21pc2UudmFsdWU7XG4gIH1cbiAgZ2V0IGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLnByb3ZpZGVyTWV0YWRhdGFQcm9taXNlLnZhbHVlO1xuICB9XG4gIGdldCB0ZXh0KCkge1xuICAgIHJldHVybiB0aGlzLnRleHRQcm9taXNlLnZhbHVlO1xuICB9XG4gIGdldCB0b29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbENhbGxzUHJvbWlzZS52YWx1ZTtcbiAgfVxuICBnZXQgdG9vbFJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbFJlc3VsdHNQcm9taXNlLnZhbHVlO1xuICB9XG4gIGdldCByZXF1ZXN0KCkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3RQcm9taXNlLnZhbHVlO1xuICB9XG4gIGdldCByZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZVByb21pc2UudmFsdWU7XG4gIH1cbiAgZ2V0IHN0ZXBzKCkge1xuICAgIHJldHVybiB0aGlzLnN0ZXBzUHJvbWlzZS52YWx1ZTtcbiAgfVxuICAvKipcbiAgU3BsaXQgb3V0IGEgbmV3IHN0cmVhbSBmcm9tIHRoZSBvcmlnaW5hbCBzdHJlYW0uXG4gIFRoZSBvcmlnaW5hbCBzdHJlYW0gaXMgcmVwbGFjZWQgdG8gYWxsb3cgZm9yIGZ1cnRoZXIgc3BsaXR0aW5nLFxuICBzaW5jZSB3ZSBkbyBub3Qga25vdyBob3cgbWFueSB0aW1lcyB0aGUgc3RyZWFtIHdpbGwgYmUgc3BsaXQuXG4gIFxuICBOb3RlOiB0aGlzIGxlYWRzIHRvIGJ1ZmZlcmluZyB0aGUgc3RyZWFtIGNvbnRlbnQgb24gdGhlIHNlcnZlci5cbiAgSG93ZXZlciwgdGhlIExMTSByZXN1bHRzIGFyZSBleHBlY3RlZCB0byBiZSBzbWFsbCBlbm91Z2ggdG8gbm90IGNhdXNlIGlzc3Vlcy5cbiAgICAgKi9cbiAgdGVlU3RyZWFtKCkge1xuICAgIGNvbnN0IFtzdHJlYW0xLCBzdHJlYW0yXSA9IHRoaXMuYmFzZVN0cmVhbS50ZWUoKTtcbiAgICB0aGlzLmJhc2VTdHJlYW0gPSBzdHJlYW0yO1xuICAgIHJldHVybiBzdHJlYW0xO1xuICB9XG4gIGdldCB0ZXh0U3RyZWFtKCkge1xuICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgdGhpcy50ZWVTdHJlYW0oKS5waXBlVGhyb3VnaChcbiAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgICAgdHJhbnNmb3JtKHsgcGFydCB9LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBpZiAocGFydC50eXBlID09PSBcInRleHQtZGVsdGFcIikge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUocGFydC50ZXh0RGVsdGEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKHBhcnQuZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIClcbiAgICApO1xuICB9XG4gIGdldCBmdWxsU3RyZWFtKCkge1xuICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgdGhpcy50ZWVTdHJlYW0oKS5waXBlVGhyb3VnaChcbiAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgICAgdHJhbnNmb3JtKHsgcGFydCB9LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUocGFydCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgZ2V0IGV4cGVyaW1lbnRhbF9wYXJ0aWFsT3V0cHV0U3RyZWFtKCkge1xuICAgIGlmICh0aGlzLm91dHB1dCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9PdXRwdXRTcGVjaWZpZWRFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbShcbiAgICAgIHRoaXMudGVlU3RyZWFtKCkucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICAgIHRyYW5zZm9ybSh7IHBhcnRpYWxPdXRwdXQgfSwgY29udHJvbGxlcikge1xuICAgICAgICAgICAgaWYgKHBhcnRpYWxPdXRwdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUocGFydGlhbE91dHB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgdG9EYXRhU3RyZWFtSW50ZXJuYWwoe1xuICAgIGdldEVycm9yTWVzc2FnZTogZ2V0RXJyb3JNZXNzYWdlNSA9ICgpID0+IFwiQW4gZXJyb3Igb2NjdXJyZWQuXCIsXG4gICAgLy8gbWFzayBlcnJvciBtZXNzYWdlcyBmb3Igc2FmZXR5IGJ5IGRlZmF1bHRcbiAgICBzZW5kVXNhZ2UgPSB0cnVlXG4gIH0gPSB7fSkge1xuICAgIGxldCBhZ2dyZWdhdGVkUmVzcG9uc2UgPSBcIlwiO1xuICAgIGNvbnN0IGNhbGxiYWNrVHJhbnNmb3JtZXIgPSBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICBpZiAoY2h1bmsudHlwZSA9PT0gXCJ0ZXh0LWRlbHRhXCIpIHtcbiAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UgKz0gY2h1bmsudGV4dERlbHRhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgc3RyZWFtUGFydHNUcmFuc2Zvcm1lciA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgdHJhbnNmb3JtOiBhc3luYyAoY2h1bmssIGNvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgY29uc3QgY2h1bmtUeXBlID0gY2h1bmsudHlwZTtcbiAgICAgICAgc3dpdGNoIChjaHVua1R5cGUpIHtcbiAgICAgICAgICBjYXNlIFwidGV4dC1kZWx0YVwiOiB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZm9ybWF0RGF0YVN0cmVhbVBhcnQyKFwidGV4dFwiLCBjaHVuay50ZXh0RGVsdGEpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwidG9vbC1jYWxsLXN0cmVhbWluZy1zdGFydFwiOiB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgICAgIGZvcm1hdERhdGFTdHJlYW1QYXJ0MihcInRvb2xfY2FsbF9zdHJlYW1pbmdfc3RhcnRcIiwge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJ0b29sLWNhbGwtZGVsdGFcIjoge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICBmb3JtYXREYXRhU3RyZWFtUGFydDIoXCJ0b29sX2NhbGxfZGVsdGFcIiwge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgYXJnc1RleHREZWx0YTogY2h1bmsuYXJnc1RleHREZWx0YVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwidG9vbC1jYWxsXCI6IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgZm9ybWF0RGF0YVN0cmVhbVBhcnQyKFwidG9vbF9jYWxsXCIsIHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgICBhcmdzOiBjaHVuay5hcmdzXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJ0b29sLXJlc3VsdFwiOiB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgICAgIGZvcm1hdERhdGFTdHJlYW1QYXJ0MihcInRvb2xfcmVzdWx0XCIsIHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHJlc3VsdDogY2h1bmsucmVzdWx0XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJlcnJvclwiOiB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgICAgIGZvcm1hdERhdGFTdHJlYW1QYXJ0MihcImVycm9yXCIsIGdldEVycm9yTWVzc2FnZTUoY2h1bmsuZXJyb3IpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwic3RlcC1maW5pc2hcIjoge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICBmb3JtYXREYXRhU3RyZWFtUGFydDIoXCJmaW5pc2hfc3RlcFwiLCB7XG4gICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjaHVuay5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgdXNhZ2U6IHNlbmRVc2FnZSA/IHtcbiAgICAgICAgICAgICAgICAgIHByb21wdFRva2VuczogY2h1bmsudXNhZ2UucHJvbXB0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgY29tcGxldGlvblRva2VuczogY2h1bmsudXNhZ2UuY29tcGxldGlvblRva2Vuc1xuICAgICAgICAgICAgICAgIH0gOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgaXNDb250aW51ZWQ6IGNodW5rLmlzQ29udGludWVkXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJmaW5pc2hcIjoge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICBmb3JtYXREYXRhU3RyZWFtUGFydDIoXCJmaW5pc2hfbWVzc2FnZVwiLCB7XG4gICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjaHVuay5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgdXNhZ2U6IHNlbmRVc2FnZSA/IHtcbiAgICAgICAgICAgICAgICAgIHByb21wdFRva2VuczogY2h1bmsudXNhZ2UucHJvbXB0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgY29tcGxldGlvblRva2VuczogY2h1bmsudXNhZ2UuY29tcGxldGlvblRva2Vuc1xuICAgICAgICAgICAgICAgIH0gOiB2b2lkIDBcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrID0gY2h1bmtUeXBlO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGNodW5rIHR5cGU6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmZ1bGxTdHJlYW0ucGlwZVRocm91Z2goY2FsbGJhY2tUcmFuc2Zvcm1lcikucGlwZVRocm91Z2goc3RyZWFtUGFydHNUcmFuc2Zvcm1lcik7XG4gIH1cbiAgcGlwZURhdGFTdHJlYW1Ub1Jlc3BvbnNlKHJlc3BvbnNlLCB7XG4gICAgc3RhdHVzLFxuICAgIHN0YXR1c1RleHQsXG4gICAgaGVhZGVycyxcbiAgICBkYXRhLFxuICAgIGdldEVycm9yTWVzc2FnZTogZ2V0RXJyb3JNZXNzYWdlNSxcbiAgICBzZW5kVXNhZ2VcbiAgfSA9IHt9KSB7XG4gICAgd3JpdGVUb1NlcnZlclJlc3BvbnNlKHtcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IHByZXBhcmVPdXRnb2luZ0h0dHBIZWFkZXJzKGhlYWRlcnMsIHtcbiAgICAgICAgY29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICBkYXRhU3RyZWFtVmVyc2lvbjogXCJ2MVwiXG4gICAgICB9KSxcbiAgICAgIHN0cmVhbTogdGhpcy50b0RhdGFTdHJlYW0oeyBkYXRhLCBnZXRFcnJvck1lc3NhZ2U6IGdldEVycm9yTWVzc2FnZTUsIHNlbmRVc2FnZSB9KVxuICAgIH0pO1xuICB9XG4gIHBpcGVUZXh0U3RyZWFtVG9SZXNwb25zZShyZXNwb25zZSwgaW5pdCkge1xuICAgIHdyaXRlVG9TZXJ2ZXJSZXNwb25zZSh7XG4gICAgICByZXNwb25zZSxcbiAgICAgIHN0YXR1czogaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiBpbml0ID09IG51bGwgPyB2b2lkIDAgOiBpbml0LnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBwcmVwYXJlT3V0Z29pbmdIdHRwSGVhZGVycyhpbml0ID09IG51bGwgPyB2b2lkIDAgOiBpbml0LmhlYWRlcnMsIHtcbiAgICAgICAgY29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiXG4gICAgICB9KSxcbiAgICAgIHN0cmVhbTogdGhpcy50ZXh0U3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKVxuICAgIH0pO1xuICB9XG4gIC8vIFRPRE8gYnJlYWtpbmcgY2hhbmdlIDUuMDogcmVtb3ZlIHBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKVxuICB0b0RhdGFTdHJlYW0ob3B0aW9ucykge1xuICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMudG9EYXRhU3RyZWFtSW50ZXJuYWwoe1xuICAgICAgZ2V0RXJyb3JNZXNzYWdlOiBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmdldEVycm9yTWVzc2FnZSxcbiAgICAgIHNlbmRVc2FnZTogb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5zZW5kVXNhZ2VcbiAgICB9KS5waXBlVGhyb3VnaChuZXcgVGV4dEVuY29kZXJTdHJlYW0oKSk7XG4gICAgcmV0dXJuIChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmRhdGEpID8gbWVyZ2VTdHJlYW1zKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZGF0YS5zdHJlYW0sIHN0cmVhbSkgOiBzdHJlYW07XG4gIH1cbiAgbWVyZ2VJbnRvRGF0YVN0cmVhbSh3cml0ZXIpIHtcbiAgICB3cml0ZXIubWVyZ2UoXG4gICAgICB0aGlzLnRvRGF0YVN0cmVhbUludGVybmFsKHtcbiAgICAgICAgZ2V0RXJyb3JNZXNzYWdlOiB3cml0ZXIub25FcnJvclxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIHRvRGF0YVN0cmVhbVJlc3BvbnNlKHtcbiAgICBoZWFkZXJzLFxuICAgIHN0YXR1cyxcbiAgICBzdGF0dXNUZXh0LFxuICAgIGRhdGEsXG4gICAgZ2V0RXJyb3JNZXNzYWdlOiBnZXRFcnJvck1lc3NhZ2U1LFxuICAgIHNlbmRVc2FnZVxuICB9ID0ge30pIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgdGhpcy50b0RhdGFTdHJlYW0oeyBkYXRhLCBnZXRFcnJvck1lc3NhZ2U6IGdldEVycm9yTWVzc2FnZTUsIHNlbmRVc2FnZSB9KSxcbiAgICAgIHtcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiBwcmVwYXJlUmVzcG9uc2VIZWFkZXJzKGhlYWRlcnMsIHtcbiAgICAgICAgICBjb250ZW50VHlwZTogXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCIsXG4gICAgICAgICAgZGF0YVN0cmVhbVZlcnNpb246IFwidjFcIlxuICAgICAgICB9KVxuICAgICAgfVxuICAgICk7XG4gIH1cbiAgdG9UZXh0U3RyZWFtUmVzcG9uc2UoaW5pdCkge1xuICAgIHZhciBfYTE0O1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy50ZXh0U3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKSwge1xuICAgICAgc3RhdHVzOiAoX2ExNCA9IGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuc3RhdHVzKSAhPSBudWxsID8gX2ExNCA6IDIwMCxcbiAgICAgIGhlYWRlcnM6IHByZXBhcmVSZXNwb25zZUhlYWRlcnMoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5oZWFkZXJzLCB7XG4gICAgICAgIGNvbnRlbnRUeXBlOiBcInRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIlxuICAgICAgfSlcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gY29yZS9nZW5lcmF0ZS10ZXh0L3Ntb290aC1zdHJlYW0udHNcbmltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIGFzIEludmFsaWRBcmd1bWVudEVycm9yMiB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG52YXIgQ0hVTktJTkdfUkVHRVhQUyA9IHtcbiAgd29yZDogL1xccypcXFMrXFxzKy9tLFxuICBsaW5lOiAvW15cXG5dKlxcbi9tXG59O1xuZnVuY3Rpb24gc21vb3RoU3RyZWFtKHtcbiAgZGVsYXlJbk1zID0gMTAsXG4gIGNodW5raW5nID0gXCJ3b3JkXCIsXG4gIF9pbnRlcm5hbDogeyBkZWxheTogZGVsYXkyID0gZGVsYXkgfSA9IHt9XG59ID0ge30pIHtcbiAgY29uc3QgY2h1bmtpbmdSZWdleHAgPSB0eXBlb2YgY2h1bmtpbmcgPT09IFwic3RyaW5nXCIgPyBDSFVOS0lOR19SRUdFWFBTW2NodW5raW5nXSA6IGNodW5raW5nO1xuICBpZiAoY2h1bmtpbmdSZWdleHAgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcjIoe1xuICAgICAgYXJndW1lbnQ6IFwiY2h1bmtpbmdcIixcbiAgICAgIG1lc3NhZ2U6IGBDaHVua2luZyBtdXN0IGJlIFwid29yZFwiIG9yIFwibGluZVwiIG9yIGEgUmVnRXhwLiBSZWNlaXZlZDogJHtjaHVua2luZ31gXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuICgpID0+IHtcbiAgICBsZXQgYnVmZmVyID0gXCJcIjtcbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09IFwic3RlcC1maW5pc2hcIikge1xuICAgICAgICAgIGlmIChidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJ0ZXh0LWRlbHRhXCIsIHRleHREZWx0YTogYnVmZmVyIH0pO1xuICAgICAgICAgICAgYnVmZmVyID0gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNodW5rLnR5cGUgIT09IFwidGV4dC1kZWx0YVwiKSB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYnVmZmVyICs9IGNodW5rLnRleHREZWx0YTtcbiAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICB3aGlsZSAoKG1hdGNoID0gY2h1bmtpbmdSZWdleHAuZXhlYyhidWZmZXIpKSAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc3QgY2h1bmsyID0gbWF0Y2hbMF07XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJ0ZXh0LWRlbHRhXCIsIHRleHREZWx0YTogY2h1bmsyIH0pO1xuICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5zbGljZShjaHVuazIubGVuZ3RoKTtcbiAgICAgICAgICBhd2FpdCBkZWxheTIoZGVsYXlJbk1zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG4vLyBjb3JlL21pZGRsZXdhcmUvd3JhcC1sYW5ndWFnZS1tb2RlbC50c1xudmFyIGV4cGVyaW1lbnRhbF93cmFwTGFuZ3VhZ2VNb2RlbCA9ICh7XG4gIG1vZGVsLFxuICBtaWRkbGV3YXJlOiB7IHRyYW5zZm9ybVBhcmFtcywgd3JhcEdlbmVyYXRlLCB3cmFwU3RyZWFtIH0sXG4gIG1vZGVsSWQsXG4gIHByb3ZpZGVySWRcbn0pID0+IHtcbiAgYXN5bmMgZnVuY3Rpb24gZG9UcmFuc2Zvcm0oe1xuICAgIHBhcmFtcyxcbiAgICB0eXBlXG4gIH0pIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtUGFyYW1zID8gYXdhaXQgdHJhbnNmb3JtUGFyYW1zKHsgcGFyYW1zLCB0eXBlIH0pIDogcGFyYW1zO1xuICB9XG4gIHJldHVybiB7XG4gICAgc3BlY2lmaWNhdGlvblZlcnNpb246IFwidjFcIixcbiAgICBwcm92aWRlcjogcHJvdmlkZXJJZCAhPSBudWxsID8gcHJvdmlkZXJJZCA6IG1vZGVsLnByb3ZpZGVyLFxuICAgIG1vZGVsSWQ6IG1vZGVsSWQgIT0gbnVsbCA/IG1vZGVsSWQgOiBtb2RlbC5tb2RlbElkLFxuICAgIGRlZmF1bHRPYmplY3RHZW5lcmF0aW9uTW9kZTogbW9kZWwuZGVmYXVsdE9iamVjdEdlbmVyYXRpb25Nb2RlLFxuICAgIHN1cHBvcnRzSW1hZ2VVcmxzOiBtb2RlbC5zdXBwb3J0c0ltYWdlVXJscyxcbiAgICBzdXBwb3J0c1VybDogbW9kZWwuc3VwcG9ydHNVcmwsXG4gICAgc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0czogbW9kZWwuc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cyxcbiAgICBhc3luYyBkb0dlbmVyYXRlKHBhcmFtcykge1xuICAgICAgY29uc3QgdHJhbnNmb3JtZWRQYXJhbXMgPSBhd2FpdCBkb1RyYW5zZm9ybSh7IHBhcmFtcywgdHlwZTogXCJnZW5lcmF0ZVwiIH0pO1xuICAgICAgY29uc3QgZG9HZW5lcmF0ZSA9IGFzeW5jICgpID0+IG1vZGVsLmRvR2VuZXJhdGUodHJhbnNmb3JtZWRQYXJhbXMpO1xuICAgICAgcmV0dXJuIHdyYXBHZW5lcmF0ZSA/IHdyYXBHZW5lcmF0ZSh7IGRvR2VuZXJhdGUsIHBhcmFtczogdHJhbnNmb3JtZWRQYXJhbXMsIG1vZGVsIH0pIDogZG9HZW5lcmF0ZSgpO1xuICAgIH0sXG4gICAgYXN5bmMgZG9TdHJlYW0ocGFyYW1zKSB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZFBhcmFtcyA9IGF3YWl0IGRvVHJhbnNmb3JtKHsgcGFyYW1zLCB0eXBlOiBcInN0cmVhbVwiIH0pO1xuICAgICAgY29uc3QgZG9TdHJlYW0gPSBhc3luYyAoKSA9PiBtb2RlbC5kb1N0cmVhbSh0cmFuc2Zvcm1lZFBhcmFtcyk7XG4gICAgICByZXR1cm4gd3JhcFN0cmVhbSA/IHdyYXBTdHJlYW0oeyBkb1N0cmVhbSwgcGFyYW1zOiB0cmFuc2Zvcm1lZFBhcmFtcywgbW9kZWwgfSkgOiBkb1N0cmVhbSgpO1xuICAgIH1cbiAgfTtcbn07XG5cbi8vIGNvcmUvcmVnaXN0cnkvY3VzdG9tLXByb3ZpZGVyLnRzXG5pbXBvcnQgeyBOb1N1Y2hNb2RlbEVycm9yIGFzIE5vU3VjaE1vZGVsRXJyb3IyIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmZ1bmN0aW9uIGV4cGVyaW1lbnRhbF9jdXN0b21Qcm92aWRlcih7XG4gIGxhbmd1YWdlTW9kZWxzLFxuICB0ZXh0RW1iZWRkaW5nTW9kZWxzLFxuICBmYWxsYmFja1Byb3ZpZGVyXG59KSB7XG4gIHJldHVybiB7XG4gICAgbGFuZ3VhZ2VNb2RlbChtb2RlbElkKSB7XG4gICAgICBpZiAobGFuZ3VhZ2VNb2RlbHMgIT0gbnVsbCAmJiBtb2RlbElkIGluIGxhbmd1YWdlTW9kZWxzKSB7XG4gICAgICAgIHJldHVybiBsYW5ndWFnZU1vZGVsc1ttb2RlbElkXTtcbiAgICAgIH1cbiAgICAgIGlmIChmYWxsYmFja1Byb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFja1Byb3ZpZGVyLmxhbmd1YWdlTW9kZWwobW9kZWxJZCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcjIoeyBtb2RlbElkLCBtb2RlbFR5cGU6IFwibGFuZ3VhZ2VNb2RlbFwiIH0pO1xuICAgIH0sXG4gICAgdGV4dEVtYmVkZGluZ01vZGVsKG1vZGVsSWQpIHtcbiAgICAgIGlmICh0ZXh0RW1iZWRkaW5nTW9kZWxzICE9IG51bGwgJiYgbW9kZWxJZCBpbiB0ZXh0RW1iZWRkaW5nTW9kZWxzKSB7XG4gICAgICAgIHJldHVybiB0ZXh0RW1iZWRkaW5nTW9kZWxzW21vZGVsSWRdO1xuICAgICAgfVxuICAgICAgaWYgKGZhbGxiYWNrUHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrUHJvdmlkZXIudGV4dEVtYmVkZGluZ01vZGVsKG1vZGVsSWQpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3IyKHsgbW9kZWxJZCwgbW9kZWxUeXBlOiBcInRleHRFbWJlZGRpbmdNb2RlbFwiIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gY29yZS9yZWdpc3RyeS9uby1zdWNoLXByb3ZpZGVyLWVycm9yLnRzXG5pbXBvcnQgeyBBSVNES0Vycm9yIGFzIEFJU0RLRXJyb3IxNCwgTm9TdWNoTW9kZWxFcnJvciBhcyBOb1N1Y2hNb2RlbEVycm9yMyB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG52YXIgbmFtZTEzID0gXCJBSV9Ob1N1Y2hQcm92aWRlckVycm9yXCI7XG52YXIgbWFya2VyMTMgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTEzfWA7XG52YXIgc3ltYm9sMTMgPSBTeW1ib2wuZm9yKG1hcmtlcjEzKTtcbnZhciBfYTEzO1xudmFyIE5vU3VjaFByb3ZpZGVyRXJyb3IgPSBjbGFzcyBleHRlbmRzIE5vU3VjaE1vZGVsRXJyb3IzIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIG1vZGVsSWQsXG4gICAgbW9kZWxUeXBlLFxuICAgIHByb3ZpZGVySWQsXG4gICAgYXZhaWxhYmxlUHJvdmlkZXJzLFxuICAgIG1lc3NhZ2UgPSBgTm8gc3VjaCBwcm92aWRlcjogJHtwcm92aWRlcklkfSAoYXZhaWxhYmxlIHByb3ZpZGVyczogJHthdmFpbGFibGVQcm92aWRlcnMuam9pbigpfSlgXG4gIH0pIHtcbiAgICBzdXBlcih7IGVycm9yTmFtZTogbmFtZTEzLCBtb2RlbElkLCBtb2RlbFR5cGUsIG1lc3NhZ2UgfSk7XG4gICAgdGhpc1tfYTEzXSA9IHRydWU7XG4gICAgdGhpcy5wcm92aWRlcklkID0gcHJvdmlkZXJJZDtcbiAgICB0aGlzLmF2YWlsYWJsZVByb3ZpZGVycyA9IGF2YWlsYWJsZVByb3ZpZGVycztcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yMTQuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxMyk7XG4gIH1cbn07XG5fYTEzID0gc3ltYm9sMTM7XG5cbi8vIGNvcmUvcmVnaXN0cnkvcHJvdmlkZXItcmVnaXN0cnkudHNcbmltcG9ydCB7IE5vU3VjaE1vZGVsRXJyb3IgYXMgTm9TdWNoTW9kZWxFcnJvcjQgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuZnVuY3Rpb24gZXhwZXJpbWVudGFsX2NyZWF0ZVByb3ZpZGVyUmVnaXN0cnkocHJvdmlkZXJzKSB7XG4gIGNvbnN0IHJlZ2lzdHJ5ID0gbmV3IERlZmF1bHRQcm92aWRlclJlZ2lzdHJ5KCk7XG4gIGZvciAoY29uc3QgW2lkLCBwcm92aWRlcl0gb2YgT2JqZWN0LmVudHJpZXMocHJvdmlkZXJzKSkge1xuICAgIHJlZ2lzdHJ5LnJlZ2lzdGVyUHJvdmlkZXIoeyBpZCwgcHJvdmlkZXIgfSk7XG4gIH1cbiAgcmV0dXJuIHJlZ2lzdHJ5O1xufVxudmFyIERlZmF1bHRQcm92aWRlclJlZ2lzdHJ5ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnByb3ZpZGVycyA9IHt9O1xuICB9XG4gIHJlZ2lzdGVyUHJvdmlkZXIoeyBpZCwgcHJvdmlkZXIgfSkge1xuICAgIHRoaXMucHJvdmlkZXJzW2lkXSA9IHByb3ZpZGVyO1xuICB9XG4gIGdldFByb3ZpZGVyKGlkKSB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLnByb3ZpZGVyc1tpZF07XG4gICAgaWYgKHByb3ZpZGVyID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hQcm92aWRlckVycm9yKHtcbiAgICAgICAgbW9kZWxJZDogaWQsXG4gICAgICAgIG1vZGVsVHlwZTogXCJsYW5ndWFnZU1vZGVsXCIsXG4gICAgICAgIHByb3ZpZGVySWQ6IGlkLFxuICAgICAgICBhdmFpbGFibGVQcm92aWRlcnM6IE9iamVjdC5rZXlzKHRoaXMucHJvdmlkZXJzKVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwcm92aWRlcjtcbiAgfVxuICBzcGxpdElkKGlkLCBtb2RlbFR5cGUpIHtcbiAgICBjb25zdCBpbmRleCA9IGlkLmluZGV4T2YoXCI6XCIpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yNCh7XG4gICAgICAgIG1vZGVsSWQ6IGlkLFxuICAgICAgICBtb2RlbFR5cGUsXG4gICAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkICR7bW9kZWxUeXBlfSBpZCBmb3IgcmVnaXN0cnk6ICR7aWR9IChtdXN0IGJlIGluIHRoZSBmb3JtYXQgXCJwcm92aWRlcklkOm1vZGVsSWRcIilgXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFtpZC5zbGljZSgwLCBpbmRleCksIGlkLnNsaWNlKGluZGV4ICsgMSldO1xuICB9XG4gIGxhbmd1YWdlTW9kZWwoaWQpIHtcbiAgICB2YXIgX2ExNCwgX2I7XG4gICAgY29uc3QgW3Byb3ZpZGVySWQsIG1vZGVsSWRdID0gdGhpcy5zcGxpdElkKGlkLCBcImxhbmd1YWdlTW9kZWxcIik7XG4gICAgY29uc3QgbW9kZWwgPSAoX2IgPSAoX2ExNCA9IHRoaXMuZ2V0UHJvdmlkZXIocHJvdmlkZXJJZCkpLmxhbmd1YWdlTW9kZWwpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKF9hMTQsIG1vZGVsSWQpO1xuICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcjQoeyBtb2RlbElkOiBpZCwgbW9kZWxUeXBlOiBcImxhbmd1YWdlTW9kZWxcIiB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG4gIHRleHRFbWJlZGRpbmdNb2RlbChpZCkge1xuICAgIHZhciBfYTE0O1xuICAgIGNvbnN0IFtwcm92aWRlcklkLCBtb2RlbElkXSA9IHRoaXMuc3BsaXRJZChpZCwgXCJ0ZXh0RW1iZWRkaW5nTW9kZWxcIik7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKHByb3ZpZGVySWQpO1xuICAgIGNvbnN0IG1vZGVsID0gKF9hMTQgPSBwcm92aWRlci50ZXh0RW1iZWRkaW5nTW9kZWwpID09IG51bGwgPyB2b2lkIDAgOiBfYTE0LmNhbGwocHJvdmlkZXIsIG1vZGVsSWQpO1xuICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcjQoe1xuICAgICAgICBtb2RlbElkOiBpZCxcbiAgICAgICAgbW9kZWxUeXBlOiBcInRleHRFbWJlZGRpbmdNb2RlbFwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYHRleHRFbWJlZGRpbmdNb2RlbGAgaW5zdGVhZC5cbiAgICovXG4gIHRleHRFbWJlZGRpbmcoaWQpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0RW1iZWRkaW5nTW9kZWwoaWQpO1xuICB9XG59O1xuXG4vLyBjb3JlL3Rvb2wvdG9vbC50c1xuZnVuY3Rpb24gdG9vbCh0b29sMikge1xuICByZXR1cm4gdG9vbDI7XG59XG5cbi8vIGNvcmUvdXRpbC9jb3NpbmUtc2ltaWxhcml0eS50c1xuZnVuY3Rpb24gY29zaW5lU2ltaWxhcml0eSh2ZWN0b3IxLCB2ZWN0b3IyKSB7XG4gIGlmICh2ZWN0b3IxLmxlbmd0aCAhPT0gdmVjdG9yMi5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVmVjdG9ycyBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoICh2ZWN0b3IxOiAke3ZlY3RvcjEubGVuZ3RofSBlbGVtZW50cywgdmVjdG9yMjogJHt2ZWN0b3IyLmxlbmd0aH0gZWxlbWVudHMpYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGRvdFByb2R1Y3QodmVjdG9yMSwgdmVjdG9yMikgLyAobWFnbml0dWRlKHZlY3RvcjEpICogbWFnbml0dWRlKHZlY3RvcjIpKTtcbn1cbmZ1bmN0aW9uIGRvdFByb2R1Y3QodmVjdG9yMSwgdmVjdG9yMikge1xuICByZXR1cm4gdmVjdG9yMS5yZWR1Y2UoXG4gICAgKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgpID0+IGFjY3VtdWxhdG9yICsgdmFsdWUgKiB2ZWN0b3IyW2luZGV4XSxcbiAgICAwXG4gICk7XG59XG5mdW5jdGlvbiBtYWduaXR1ZGUodmVjdG9yKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoZG90UHJvZHVjdCh2ZWN0b3IsIHZlY3RvcikpO1xufVxuXG4vLyBjb3JlL3V0aWwvc2ltdWxhdGUtcmVhZGFibGUtc3RyZWFtLnRzXG5mdW5jdGlvbiBzaW11bGF0ZVJlYWRhYmxlU3RyZWFtKHtcbiAgY2h1bmtzLFxuICBpbml0aWFsRGVsYXlJbk1zID0gMCxcbiAgY2h1bmtEZWxheUluTXMgPSAwLFxuICBfaW50ZXJuYWxcbn0pIHtcbiAgdmFyIF9hMTQ7XG4gIGNvbnN0IGRlbGF5MiA9IChfYTE0ID0gX2ludGVybmFsID09IG51bGwgPyB2b2lkIDAgOiBfaW50ZXJuYWwuZGVsYXkpICE9IG51bGwgPyBfYTE0IDogZGVsYXk7XG4gIGxldCBpbmRleCA9IDA7XG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgaWYgKGluZGV4IDwgY2h1bmtzLmxlbmd0aCkge1xuICAgICAgICBhd2FpdCBkZWxheTIoaW5kZXggPT09IDAgPyBpbml0aWFsRGVsYXlJbk1zIDogY2h1bmtEZWxheUluTXMpO1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmtzW2luZGV4KytdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vLyBzdHJlYW1zL2Fzc2lzdGFudC1yZXNwb25zZS50c1xuaW1wb3J0IHtcbiAgZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydFxufSBmcm9tIFwiQGFpLXNkay91aS11dGlsc1wiO1xuZnVuY3Rpb24gQXNzaXN0YW50UmVzcG9uc2UoeyB0aHJlYWRJZCwgbWVzc2FnZUlkIH0sIHByb2Nlc3MyKSB7XG4gIGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgYXN5bmMgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgdmFyIF9hMTQ7XG4gICAgICBjb25zdCB0ZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgY29uc3Qgc2VuZE1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgdGV4dEVuY29kZXIuZW5jb2RlKFxuICAgICAgICAgICAgZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydChcImFzc2lzdGFudF9tZXNzYWdlXCIsIG1lc3NhZ2UpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHNlbmREYXRhTWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICB0ZXh0RW5jb2Rlci5lbmNvZGUoXG4gICAgICAgICAgICBmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0KFwiZGF0YV9tZXNzYWdlXCIsIG1lc3NhZ2UpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHNlbmRFcnJvciA9IChlcnJvck1lc3NhZ2UpID0+IHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgIHRleHRFbmNvZGVyLmVuY29kZShmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0KFwiZXJyb3JcIiwgZXJyb3JNZXNzYWdlKSlcbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBmb3J3YXJkU3RyZWFtID0gYXN5bmMgKHN0cmVhbTIpID0+IHtcbiAgICAgICAgdmFyIF9hMTUsIF9iO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdm9pZCAwO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHZhbHVlIG9mIHN0cmVhbTIpIHtcbiAgICAgICAgICBzd2l0Y2ggKHZhbHVlLmV2ZW50KSB7XG4gICAgICAgICAgICBjYXNlIFwidGhyZWFkLm1lc3NhZ2UuY3JlYXRlZFwiOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICB0ZXh0RW5jb2Rlci5lbmNvZGUoXG4gICAgICAgICAgICAgICAgICBmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0KFwiYXNzaXN0YW50X21lc3NhZ2VcIiwge1xuICAgICAgICAgICAgICAgICAgICBpZDogdmFsdWUuZGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IHsgdmFsdWU6IFwiXCIgfSB9XVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRocmVhZC5tZXNzYWdlLmRlbHRhXCI6IHtcbiAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IChfYTE1ID0gdmFsdWUuZGF0YS5kZWx0YS5jb250ZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2ExNVswXTtcbiAgICAgICAgICAgICAgaWYgKChjb250ZW50ID09IG51bGwgPyB2b2lkIDAgOiBjb250ZW50LnR5cGUpID09PSBcInRleHRcIiAmJiAoKF9iID0gY29udGVudC50ZXh0KSA9PSBudWxsID8gdm9pZCAwIDogX2IudmFsdWUpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgICAgICAgICB0ZXh0RW5jb2Rlci5lbmNvZGUoXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdEFzc2lzdGFudFN0cmVhbVBhcnQoXCJ0ZXh0XCIsIGNvbnRlbnQudGV4dC52YWx1ZSlcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRocmVhZC5ydW4uY29tcGxldGVkXCI6XG4gICAgICAgICAgICBjYXNlIFwidGhyZWFkLnJ1bi5yZXF1aXJlc19hY3Rpb25cIjoge1xuICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZS5kYXRhO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgIHRleHRFbmNvZGVyLmVuY29kZShcbiAgICAgICAgICBmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0KFwiYXNzaXN0YW50X2NvbnRyb2xfZGF0YVwiLCB7XG4gICAgICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgICAgIG1lc3NhZ2VJZFxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBwcm9jZXNzMih7XG4gICAgICAgICAgc2VuZE1lc3NhZ2UsXG4gICAgICAgICAgc2VuZERhdGFNZXNzYWdlLFxuICAgICAgICAgIGZvcndhcmRTdHJlYW1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBzZW5kRXJyb3IoKF9hMTQgPSBlcnJvci5tZXNzYWdlKSAhPSBudWxsID8gX2ExNCA6IGAke2Vycm9yfWApO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcHVsbChjb250cm9sbGVyKSB7XG4gICAgfSxcbiAgICBjYW5jZWwoKSB7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShzdHJlYW0sIHtcbiAgICBzdGF0dXM6IDIwMCxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIlxuICAgIH1cbiAgfSk7XG59XG5cbi8vIHN0cmVhbXMvbGFuZ2NoYWluLWFkYXB0ZXIudHNcbnZhciBsYW5nY2hhaW5fYWRhcHRlcl9leHBvcnRzID0ge307XG5fX2V4cG9ydChsYW5nY2hhaW5fYWRhcHRlcl9leHBvcnRzLCB7XG4gIG1lcmdlSW50b0RhdGFTdHJlYW06ICgpID0+IG1lcmdlSW50b0RhdGFTdHJlYW0sXG4gIHRvRGF0YVN0cmVhbTogKCkgPT4gdG9EYXRhU3RyZWFtLFxuICB0b0RhdGFTdHJlYW1SZXNwb25zZTogKCkgPT4gdG9EYXRhU3RyZWFtUmVzcG9uc2Vcbn0pO1xuaW1wb3J0IHsgZm9ybWF0RGF0YVN0cmVhbVBhcnQgYXMgZm9ybWF0RGF0YVN0cmVhbVBhcnQzIH0gZnJvbSBcIkBhaS1zZGsvdWktdXRpbHNcIjtcblxuLy8gc3RyZWFtcy9zdHJlYW0tY2FsbGJhY2tzLnRzXG5mdW5jdGlvbiBjcmVhdGVDYWxsYmFja3NUcmFuc2Zvcm1lcihjYWxsYmFja3MgPSB7fSkge1xuICBjb25zdCB0ZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICBsZXQgYWdncmVnYXRlZFJlc3BvbnNlID0gXCJcIjtcbiAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgIGFzeW5jIHN0YXJ0KCkge1xuICAgICAgaWYgKGNhbGxiYWNrcy5vblN0YXJ0KVxuICAgICAgICBhd2FpdCBjYWxsYmFja3Mub25TdGFydCgpO1xuICAgIH0sXG4gICAgYXN5bmMgdHJhbnNmb3JtKG1lc3NhZ2UsIGNvbnRyb2xsZXIpIHtcbiAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh0ZXh0RW5jb2Rlci5lbmNvZGUobWVzc2FnZSkpO1xuICAgICAgYWdncmVnYXRlZFJlc3BvbnNlICs9IG1lc3NhZ2U7XG4gICAgICBpZiAoY2FsbGJhY2tzLm9uVG9rZW4pXG4gICAgICAgIGF3YWl0IGNhbGxiYWNrcy5vblRva2VuKG1lc3NhZ2UpO1xuICAgICAgaWYgKGNhbGxiYWNrcy5vblRleHQgJiYgdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgYXdhaXQgY2FsbGJhY2tzLm9uVGV4dChtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGZsdXNoKCkge1xuICAgICAgaWYgKGNhbGxiYWNrcy5vbkNvbXBsZXRpb24pIHtcbiAgICAgICAgYXdhaXQgY2FsbGJhY2tzLm9uQ29tcGxldGlvbihhZ2dyZWdhdGVkUmVzcG9uc2UpO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrcy5vbkZpbmFsKSB7XG4gICAgICAgIGF3YWl0IGNhbGxiYWNrcy5vbkZpbmFsKGFnZ3JlZ2F0ZWRSZXNwb25zZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLy8gc3RyZWFtcy9sYW5nY2hhaW4tYWRhcHRlci50c1xuZnVuY3Rpb24gdG9EYXRhU3RyZWFtSW50ZXJuYWwoc3RyZWFtLCBjYWxsYmFja3MpIHtcbiAgcmV0dXJuIHN0cmVhbS5waXBlVGhyb3VnaChcbiAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgIHRyYW5zZm9ybTogYXN5bmMgKHZhbHVlLCBjb250cm9sbGVyKSA9PiB7XG4gICAgICAgIHZhciBfYTE0O1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiZXZlbnRcIiBpbiB2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZS5ldmVudCA9PT0gXCJvbl9jaGF0X21vZGVsX3N0cmVhbVwiKSB7XG4gICAgICAgICAgICBmb3J3YXJkQUlNZXNzYWdlQ2h1bmsoXG4gICAgICAgICAgICAgIChfYTE0ID0gdmFsdWUuZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTQuY2h1bmssXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3J3YXJkQUlNZXNzYWdlQ2h1bmsodmFsdWUsIGNvbnRyb2xsZXIpO1xuICAgICAgfVxuICAgIH0pXG4gICkucGlwZVRocm91Z2goY3JlYXRlQ2FsbGJhY2tzVHJhbnNmb3JtZXIoY2FsbGJhY2tzKSkucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpLnBpcGVUaHJvdWdoKFxuICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgdHJhbnNmb3JtOiBhc3luYyAoY2h1bmssIGNvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGZvcm1hdERhdGFTdHJlYW1QYXJ0MyhcInRleHRcIiwgY2h1bmspKTtcbiAgICAgIH1cbiAgICB9KVxuICApO1xufVxuZnVuY3Rpb24gdG9EYXRhU3RyZWFtKHN0cmVhbSwgY2FsbGJhY2tzKSB7XG4gIHJldHVybiB0b0RhdGFTdHJlYW1JbnRlcm5hbChzdHJlYW0sIGNhbGxiYWNrcykucGlwZVRocm91Z2goXG4gICAgbmV3IFRleHRFbmNvZGVyU3RyZWFtKClcbiAgKTtcbn1cbmZ1bmN0aW9uIHRvRGF0YVN0cmVhbVJlc3BvbnNlKHN0cmVhbSwgb3B0aW9ucykge1xuICB2YXIgX2ExNDtcbiAgY29uc3QgZGF0YVN0cmVhbSA9IHRvRGF0YVN0cmVhbUludGVybmFsKFxuICAgIHN0cmVhbSxcbiAgICBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmNhbGxiYWNrc1xuICApLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKTtcbiAgY29uc3QgZGF0YSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZGF0YTtcbiAgY29uc3QgaW5pdCA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW5pdDtcbiAgY29uc3QgcmVzcG9uc2VTdHJlYW0gPSBkYXRhID8gbWVyZ2VTdHJlYW1zKGRhdGEuc3RyZWFtLCBkYXRhU3RyZWFtKSA6IGRhdGFTdHJlYW07XG4gIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2VTdHJlYW0sIHtcbiAgICBzdGF0dXM6IChfYTE0ID0gaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5zdGF0dXMpICE9IG51bGwgPyBfYTE0IDogMjAwLFxuICAgIHN0YXR1c1RleHQ6IGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBwcmVwYXJlUmVzcG9uc2VIZWFkZXJzKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuaGVhZGVycywge1xuICAgICAgY29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgZGF0YVN0cmVhbVZlcnNpb246IFwidjFcIlxuICAgIH0pXG4gIH0pO1xufVxuZnVuY3Rpb24gbWVyZ2VJbnRvRGF0YVN0cmVhbShzdHJlYW0sIG9wdGlvbnMpIHtcbiAgb3B0aW9ucy5kYXRhU3RyZWFtLm1lcmdlKHRvRGF0YVN0cmVhbUludGVybmFsKHN0cmVhbSwgb3B0aW9ucy5jYWxsYmFja3MpKTtcbn1cbmZ1bmN0aW9uIGZvcndhcmRBSU1lc3NhZ2VDaHVuayhjaHVuaywgY29udHJvbGxlcikge1xuICBpZiAodHlwZW9mIGNodW5rLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmsuY29udGVudCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29udGVudCA9IGNodW5rLmNvbnRlbnQ7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGNvbnRlbnQpIHtcbiAgICAgIGlmIChpdGVtLnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShpdGVtLnRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBzdHJlYW1zL2xsYW1haW5kZXgtYWRhcHRlci50c1xudmFyIGxsYW1haW5kZXhfYWRhcHRlcl9leHBvcnRzID0ge307XG5fX2V4cG9ydChsbGFtYWluZGV4X2FkYXB0ZXJfZXhwb3J0cywge1xuICBtZXJnZUludG9EYXRhU3RyZWFtOiAoKSA9PiBtZXJnZUludG9EYXRhU3RyZWFtMixcbiAgdG9EYXRhU3RyZWFtOiAoKSA9PiB0b0RhdGFTdHJlYW0yLFxuICB0b0RhdGFTdHJlYW1SZXNwb25zZTogKCkgPT4gdG9EYXRhU3RyZWFtUmVzcG9uc2UyXG59KTtcbmltcG9ydCB7IGNvbnZlcnRBc3luY0l0ZXJhdG9yVG9SZWFkYWJsZVN0cmVhbSB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgeyBmb3JtYXREYXRhU3RyZWFtUGFydCBhcyBmb3JtYXREYXRhU3RyZWFtUGFydDQgfSBmcm9tIFwiQGFpLXNkay91aS11dGlsc1wiO1xuZnVuY3Rpb24gdG9EYXRhU3RyZWFtSW50ZXJuYWwyKHN0cmVhbSwgY2FsbGJhY2tzKSB7XG4gIGNvbnN0IHRyaW1TdGFydCA9IHRyaW1TdGFydE9mU3RyZWFtKCk7XG4gIHJldHVybiBjb252ZXJ0QXN5bmNJdGVyYXRvclRvUmVhZGFibGVTdHJlYW0oc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpKS5waXBlVGhyb3VnaChcbiAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgIGFzeW5jIHRyYW5zZm9ybShtZXNzYWdlLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh0cmltU3RhcnQobWVzc2FnZS5kZWx0YSkpO1xuICAgICAgfVxuICAgIH0pXG4gICkucGlwZVRocm91Z2goY3JlYXRlQ2FsbGJhY2tzVHJhbnNmb3JtZXIoY2FsbGJhY2tzKSkucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpLnBpcGVUaHJvdWdoKFxuICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgdHJhbnNmb3JtOiBhc3luYyAoY2h1bmssIGNvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGZvcm1hdERhdGFTdHJlYW1QYXJ0NChcInRleHRcIiwgY2h1bmspKTtcbiAgICAgIH1cbiAgICB9KVxuICApO1xufVxuZnVuY3Rpb24gdG9EYXRhU3RyZWFtMihzdHJlYW0sIGNhbGxiYWNrcykge1xuICByZXR1cm4gdG9EYXRhU3RyZWFtSW50ZXJuYWwyKHN0cmVhbSwgY2FsbGJhY2tzKS5waXBlVGhyb3VnaChcbiAgICBuZXcgVGV4dEVuY29kZXJTdHJlYW0oKVxuICApO1xufVxuZnVuY3Rpb24gdG9EYXRhU3RyZWFtUmVzcG9uc2UyKHN0cmVhbSwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTE0O1xuICBjb25zdCB7IGluaXQsIGRhdGEsIGNhbGxiYWNrcyB9ID0gb3B0aW9ucztcbiAgY29uc3QgZGF0YVN0cmVhbSA9IHRvRGF0YVN0cmVhbUludGVybmFsMihzdHJlYW0sIGNhbGxiYWNrcykucGlwZVRocm91Z2goXG4gICAgbmV3IFRleHRFbmNvZGVyU3RyZWFtKClcbiAgKTtcbiAgY29uc3QgcmVzcG9uc2VTdHJlYW0gPSBkYXRhID8gbWVyZ2VTdHJlYW1zKGRhdGEuc3RyZWFtLCBkYXRhU3RyZWFtKSA6IGRhdGFTdHJlYW07XG4gIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2VTdHJlYW0sIHtcbiAgICBzdGF0dXM6IChfYTE0ID0gaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5zdGF0dXMpICE9IG51bGwgPyBfYTE0IDogMjAwLFxuICAgIHN0YXR1c1RleHQ6IGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBwcmVwYXJlUmVzcG9uc2VIZWFkZXJzKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuaGVhZGVycywge1xuICAgICAgY29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgZGF0YVN0cmVhbVZlcnNpb246IFwidjFcIlxuICAgIH0pXG4gIH0pO1xufVxuZnVuY3Rpb24gbWVyZ2VJbnRvRGF0YVN0cmVhbTIoc3RyZWFtLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMuZGF0YVN0cmVhbS5tZXJnZSh0b0RhdGFTdHJlYW1JbnRlcm5hbDIoc3RyZWFtLCBvcHRpb25zLmNhbGxiYWNrcykpO1xufVxuZnVuY3Rpb24gdHJpbVN0YXJ0T2ZTdHJlYW0oKSB7XG4gIGxldCBpc1N0cmVhbVN0YXJ0ID0gdHJ1ZTtcbiAgcmV0dXJuICh0ZXh0MikgPT4ge1xuICAgIGlmIChpc1N0cmVhbVN0YXJ0KSB7XG4gICAgICB0ZXh0MiA9IHRleHQyLnRyaW1TdGFydCgpO1xuICAgICAgaWYgKHRleHQyKVxuICAgICAgICBpc1N0cmVhbVN0YXJ0ID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0MjtcbiAgfTtcbn1cblxuLy8gc3RyZWFtcy9zdHJlYW0tZGF0YS50c1xuaW1wb3J0IHsgZm9ybWF0RGF0YVN0cmVhbVBhcnQgYXMgZm9ybWF0RGF0YVN0cmVhbVBhcnQ1IH0gZnJvbSBcIkBhaS1zZGsvdWktdXRpbHNcIjtcblxuLy8gdXRpbC9jb25zdGFudHMudHNcbnZhciBIQU5HSU5HX1NUUkVBTV9XQVJOSU5HX1RJTUVfTVMgPSAxNSAqIDFlMztcblxuLy8gc3RyZWFtcy9zdHJlYW0tZGF0YS50c1xudmFyIFN0cmVhbURhdGEgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgIHRoaXMuY29udHJvbGxlciA9IG51bGw7XG4gICAgdGhpcy5pc0Nsb3NlZCA9IGZhbHNlO1xuICAgIHRoaXMud2FybmluZ1RpbWVvdXQgPSBudWxsO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgIHN0YXJ0OiBhc3luYyAoY29udHJvbGxlcikgPT4ge1xuICAgICAgICBzZWxmLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgIHNlbGYud2FybmluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgXCJUaGUgZGF0YSBzdHJlYW0gaXMgaGFuZ2luZy4gRGlkIHlvdSBmb3JnZXQgdG8gY2xvc2UgaXQgd2l0aCBgZGF0YS5jbG9zZSgpYD9cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LCBIQU5HSU5HX1NUUkVBTV9XQVJOSU5HX1RJTUVfTVMpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcHVsbDogKGNvbnRyb2xsZXIpID0+IHtcbiAgICAgIH0sXG4gICAgICBjYW5jZWw6IChyZWFzb24pID0+IHtcbiAgICAgICAgdGhpcy5pc0Nsb3NlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgY2xvc2UoKSB7XG4gICAgaWYgKHRoaXMuaXNDbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRhdGEgU3RyZWFtIGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkLlwiKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmNvbnRyb2xsZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0cmVhbSBjb250cm9sbGVyIGlzIG5vdCBpbml0aWFsaXplZC5cIik7XG4gICAgfVxuICAgIHRoaXMuY29udHJvbGxlci5jbG9zZSgpO1xuICAgIHRoaXMuaXNDbG9zZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLndhcm5pbmdUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy53YXJuaW5nVGltZW91dCk7XG4gICAgfVxuICB9XG4gIGFwcGVuZCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmlzQ2xvc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhIFN0cmVhbSBoYXMgYWxyZWFkeSBiZWVuIGNsb3NlZC5cIik7XG4gICAgfVxuICAgIGlmICghdGhpcy5jb250cm9sbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdHJlYW0gY29udHJvbGxlciBpcyBub3QgaW5pdGlhbGl6ZWQuXCIpO1xuICAgIH1cbiAgICB0aGlzLmNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgIHRoaXMuZW5jb2Rlci5lbmNvZGUoZm9ybWF0RGF0YVN0cmVhbVBhcnQ1KFwiZGF0YVwiLCBbdmFsdWVdKSlcbiAgICApO1xuICB9XG4gIGFwcGVuZE1lc3NhZ2VBbm5vdGF0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuaXNDbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRhdGEgU3RyZWFtIGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkLlwiKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmNvbnRyb2xsZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0cmVhbSBjb250cm9sbGVyIGlzIG5vdCBpbml0aWFsaXplZC5cIik7XG4gICAgfVxuICAgIHRoaXMuY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgdGhpcy5lbmNvZGVyLmVuY29kZShmb3JtYXREYXRhU3RyZWFtUGFydDUoXCJtZXNzYWdlX2Fubm90YXRpb25zXCIsIFt2YWx1ZV0pKVxuICAgICk7XG4gIH1cbn07XG5leHBvcnQge1xuICBBSVNES0Vycm9yMTMgYXMgQUlTREtFcnJvcixcbiAgQVBJQ2FsbEVycm9yMiBhcyBBUElDYWxsRXJyb3IsXG4gIEFzc2lzdGFudFJlc3BvbnNlLFxuICBEb3dubG9hZEVycm9yLFxuICBFbXB0eVJlc3BvbnNlQm9keUVycm9yLFxuICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgSW52YWxpZERhdGFDb250ZW50RXJyb3IsXG4gIEludmFsaWRNZXNzYWdlUm9sZUVycm9yLFxuICBJbnZhbGlkUHJvbXB0RXJyb3IyIGFzIEludmFsaWRQcm9tcHRFcnJvcixcbiAgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yLFxuICBJbnZhbGlkVG9vbEFyZ3VtZW50c0Vycm9yLFxuICBKU09OUGFyc2VFcnJvcixcbiAgbGFuZ2NoYWluX2FkYXB0ZXJfZXhwb3J0cyBhcyBMYW5nQ2hhaW5BZGFwdGVyLFxuICBsbGFtYWluZGV4X2FkYXB0ZXJfZXhwb3J0cyBhcyBMbGFtYUluZGV4QWRhcHRlcixcbiAgTG9hZEFQSUtleUVycm9yLFxuICBNZXNzYWdlQ29udmVyc2lvbkVycm9yLFxuICBOb0NvbnRlbnRHZW5lcmF0ZWRFcnJvcixcbiAgTm9PYmplY3RHZW5lcmF0ZWRFcnJvcixcbiAgTm9PdXRwdXRTcGVjaWZpZWRFcnJvcixcbiAgTm9TdWNoTW9kZWxFcnJvcixcbiAgTm9TdWNoUHJvdmlkZXJFcnJvcixcbiAgTm9TdWNoVG9vbEVycm9yLFxuICBvdXRwdXRfZXhwb3J0cyBhcyBPdXRwdXQsXG4gIFJldHJ5RXJyb3IsXG4gIFN0cmVhbURhdGEsXG4gIFRvb2xDYWxsUmVwYWlyRXJyb3IsXG4gIFRvb2xFeGVjdXRpb25FcnJvcixcbiAgVHlwZVZhbGlkYXRpb25FcnJvcjIgYXMgVHlwZVZhbGlkYXRpb25FcnJvcixcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IyIGFzIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yLFxuICBjb252ZXJ0VG9Db3JlTWVzc2FnZXMsXG4gIGNvc2luZVNpbWlsYXJpdHksXG4gIGNyZWF0ZURhdGFTdHJlYW0sXG4gIGNyZWF0ZURhdGFTdHJlYW1SZXNwb25zZSxcbiAgZW1iZWQsXG4gIGVtYmVkTWFueSxcbiAgZXhwZXJpbWVudGFsX2NyZWF0ZVByb3ZpZGVyUmVnaXN0cnksXG4gIGV4cGVyaW1lbnRhbF9jdXN0b21Qcm92aWRlcixcbiAgZ2VuZXJhdGVJbWFnZSBhcyBleHBlcmltZW50YWxfZ2VuZXJhdGVJbWFnZSxcbiAgZXhwZXJpbWVudGFsX3dyYXBMYW5ndWFnZU1vZGVsLFxuICBmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0MiBhcyBmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0LFxuICBmb3JtYXREYXRhU3RyZWFtUGFydDYgYXMgZm9ybWF0RGF0YVN0cmVhbVBhcnQsXG4gIGdlbmVyYXRlSWQyIGFzIGdlbmVyYXRlSWQsXG4gIGdlbmVyYXRlT2JqZWN0LFxuICBnZW5lcmF0ZVRleHQsXG4gIGpzb25TY2hlbWEsXG4gIHBhcnNlQXNzaXN0YW50U3RyZWFtUGFydCxcbiAgcGFyc2VEYXRhU3RyZWFtUGFydCxcbiAgcGlwZURhdGFTdHJlYW1Ub1Jlc3BvbnNlLFxuICBwcm9jZXNzRGF0YVN0cmVhbSxcbiAgcHJvY2Vzc1RleHRTdHJlYW0sXG4gIHNpbXVsYXRlUmVhZGFibGVTdHJlYW0sXG4gIHNtb290aFN0cmVhbSxcbiAgc3RyZWFtT2JqZWN0LFxuICBzdHJlYW1UZXh0LFxuICB0b29sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBvYmZ1c2NhdGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRyZXR1cm4gc3RyLmxlbmd0aCA+IDAgPyBzdHIucmVwbGFjZSgvXiguezN9KSguKikoLns0fSkkLywgXCIkMSoqKiokM1wiKSA6IFwiXCI7XG59XG4iLCIvLyBAdHMtaWdub3JlXG5leHBvcnQgY29uc3Qgc2FmZVN0b3JhZ2UgPSB3aW5kb3cuZWxlY3Ryb24/LnJlbW90ZT8uc2FmZVN0b3JhZ2UgPz8ge1xuXHRpc0VuY3J5cHRpb25BdmFpbGFibGU6ICgpID0+IGZhbHNlLFxuXHRlbmNyeXB0U3RyaW5nOiAodGV4dDogc3RyaW5nKSA9PiBCdWZmZXIuZnJvbSh0ZXh0KSxcblx0ZGVjcnlwdFN0cmluZzogKGJ1ZmZlcjogQnVmZmVyKSA9PiBidWZmZXIudG9TdHJpbmcoKSxcbn07XG4iLCJpbXBvcnQgdHlwZSB7XG5cdE9wZW5BSUNvbXBhdGlibGVDaGF0U2V0dGluZ3MsXG5cdE9wZW5BSUNvbXBhdGlibGVFbWJlZGRpbmdTZXR0aW5ncyxcbn0gZnJvbSBcIkBhaS1zZGsvb3BlbmFpLWNvbXBhdGlibGVcIjtcblxuaW1wb3J0IHR5cGUgeyBWZWN0b3JpemVGaWx0ZXIgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcblxuZXhwb3J0IGVudW0gQ2hhdE1vZGVscyB7XG5cdG8xUHJldmlldyA9IFwibzEtcHJldmlld1wiLFxuXHRjbGF1ZGUzNVNvbm5ldCA9IFwiY2xhdWRlLTMuNS1zb25uZXRcIixcblx0Y2xhdWRlMzVIYWlrdSA9IFwiY2xhdWRlLTMuNS1oYWlrdVwiLFxuXHRjbGF1ZGUzT3B1cyA9IFwiY2xhdWRlLTMtb3B1c1wiLFxuXHRsbGFtYTMzNzBiSW5zdHJ1Y3QgPSBcImxsYW1hLTMuMy03MGItaW5zdHJ1Y3RcIixcblx0bGxhbWEzMjNiSW5zdHJ1Y3QgPSBcImxsYW1hLTMuMi0zYi1pbnN0cnVjdFwiLFxuXHRsbGFtYTMyMWJJbnN0cnVjdCA9IFwibGxhbWEtMy4yLTFiLWluc3RydWN0XCIsXG5cdGhlcm1lczJQcm9NaXN0cmFsN2IgPSBcImhlcm1lcy0yLXByby1taXN0cmFsLTdiXCIsXG5cdGxsYW1hM0dyb3E3MGIgPSBcImxsYW1hMy1ncm9xLTcwYlwiLFxuXHRsbGFtYTMzNzBiVmVyc2F0aWxlID0gXCJsbGFtYS0zLjMtNzBiLXZlcnNhdGlsZVwiLFxuXHRsbGFtYTMzNzBiU3BlY2RlYyA9IFwibGxhbWEtMy4zLTcwYi1zcGVjZGVjXCIsXG5cdGxsYW1hMzFTb25hclNtYWxsMTI4a09ubGluZSA9IFwibGxhbWEtMy4xLXNvbmFyLXNtYWxsLTEyOGstb25saW5lXCIsXG5cdGxsYW1hMzFTb25hckxhcmdlMTI4a09ubGluZSA9IFwibGxhbWEtMy4xLXNvbmFyLWxhcmdlLTEyOGstb25saW5lXCIsXG5cdGxsYW1hMzFTb25hckh1Z2UxMjhrT25saW5lID0gXCJsbGFtYS0zLjEtc29uYXItaHVnZS0xMjhrLW9ubGluZVwiLFxuXHRtaXN0cmFsTGFyZ2UgPSBcIm1pc3RyYWwtbGFyZ2VcIixcblx0bWlzdHJhbFNtYWxsID0gXCJtaXN0cmFsLXNtYWxsXCIsXG5cdG1pc3RyYWxOZW1vID0gXCJtaXN0cmFsLW5lbW9cIixcblx0bm92YUxpdGUgPSBcIm5vdmEtbGl0ZVwiLFxuXHRub3ZhTWljcm8gPSBcIm5vdmEtbWljcm9cIixcblx0bm92YVBybyA9IFwibm92YS1wcm9cIixcblx0bXl0aG9tYXhMMjEzYiA9IFwibXl0aG9tYXgtbDItMTNiXCIsXG59XG5cbmV4cG9ydCB0eXBlIENoYXRNb2RlbElkID1cblx0fCAoa2V5b2YgdHlwZW9mIENoYXRNb2RlbHMpXG5cdHwgKHN0cmluZyAmIHt9KTtcblxuZXhwb3J0IGludGVyZmFjZSBSQUdPcHRpb25zIHtcblx0bmFtZXNwYWNlOiBzdHJpbmc7XG5cdHR5cGU6IHN0cmluZztcblx0ZmlsdGVycz86IFZlY3Rvcml6ZUZpbHRlcjtcblx0dG9wSz86IG51bWJlcjtcblx0c2NvcmVUaHJlc2hvbGQ/OiBudW1iZXI7XG5cdGluY2x1ZGVNZXRhZGF0YT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdFNldHRpbmdzIGV4dGVuZHMgT3BlbkFJQ29tcGF0aWJsZUNoYXRTZXR0aW5ncyB7XG5cdGNoYXRJZD86IHN0cmluZztcblx0dXNlUkFHPzogYm9vbGVhbjtcblx0cmFnT3B0aW9ucz86IFJBR09wdGlvbnM7XG5cdHNob3VsZFNhdmU/OiBib29sZWFuO1xuXHRidWRnZXRDb25zdHJhaW50PzogbnVtYmVyO1xufVxuXG5leHBvcnQgZW51bSBFbWJlZGRpbmdNb2RlbHMge1xuXHRiZ2VMYXJnZUVuVjE1ID0gXCJiZ2UtbGFyZ2UtZW4tdjEuNVwiLFxufVxuXG5leHBvcnQgdHlwZSBFbWJlZGRpbmdNb2RlbElkID0gKGtleW9mIHR5cGVvZiBFbWJlZGRpbmdNb2RlbHMpIHwgKHN0cmluZyAmIHt9KTtcblxuZXhwb3J0IGludGVyZmFjZSBFbWJlZGRpbmdTZXR0aW5ncyBleHRlbmRzIE9wZW5BSUNvbXBhdGlibGVFbWJlZGRpbmdTZXR0aW5ncyB7XG5cdGNoYXRJZD86IHN0cmluZztcbn1cbiIsImltcG9ydCB0eXBlIHsgQXNzaXN0YW50UGx1Z2luU2V0dGluZ3MsIFRlbXBsYXRlIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IENoYXRNb2RlbHMsIEVtYmVkZGluZ01vZGVscyB9IGZyb20gXCIuL3NlcnZpY2VzL2FpL3NldHRpbmdzXCI7XG5cbmV4cG9ydCBjb25zdCBQTFVHSU5fUFJFRklYID0gXCJvYnNpZGlhbi1hc3Npc3RhbnRcIjtcbmV4cG9ydCBjb25zdCBQTFVHSU5fTkFNRSA9IFwiT2JzaWRpYW4gQXNzaXN0YW50XCI7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0TW9kZWxJZCA9IENoYXRNb2RlbHMubGxhbWEzMzcwYlNwZWNkZWM7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0RW1iZWRkaW5nTW9kZWxJZCA9IEVtYmVkZGluZ01vZGVscy5iZ2VMYXJnZUVuVjE1O1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogQXNzaXN0YW50UGx1Z2luU2V0dGluZ3MgPSB7XG5cdGFzc2lzdGFudEFwaVVybDogXCJcIixcblx0YXNzaXN0YW50QXBpS2V5OiBcIlwiLFxuXHRhc3Npc3RhbnRBcGlLZXlTYXZlZDogZmFsc2UsXG5cdG1vZGVsSWQ6IGRlZmF1bHRNb2RlbElkLFxuXHRtYXhUb2tlbnM6IDI1Nixcblx0dGVtcGVyYXR1cmU6IDAuNixcblx0dG9wSzogMyxcblx0bWluU2ltaWxhcml0eVNjb3JlOiAwLjcsXG5cdGlnbm9yZWRGb2xkZXJzOiBbXSxcblx0c3luY0VuYWJsZWQ6IGZhbHNlLFxuXHRhdXRvU3luY0ludGVydmFsOiAzMCxcblx0Y3VzdG9tVGVtcGxhdGVzRm9sZGVyOiBcImFpL3RlbXBsYXRlc1wiLFxuXHRsb2dMZXZlbDogXCJlcnJvclwiLFxufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfVEVNUExBVEVTOiBSZWNvcmQ8c3RyaW5nLCBUZW1wbGF0ZT4gPSB7XG5cdGNvbnRpbnVlOiB7XG5cdFx0bmFtZTogXCJjb250aW51ZVwiLFxuXHRcdGRlc2NyaXB0aW9uOiBcIkNvbnRpbnVlIHdyaXRpbmcgZnJvbSB0aGUgY3VycmVudCB0ZXh0XCIsXG5cdFx0cHJvbXB0OlxuXHRcdFx0XCJDb250aW51ZSB0aGlzIHRleHQgbmF0dXJhbGx5LCBtYWludGFpbmluZyB0aGUgc2FtZSBzdHlsZSBhbmQgdG9uZS4gT25seSByZXR1cm4gdGhlIGNvbnRpbnVhdGlvbiwgbm8gZXhwbGFuYXRpb25zIG9yIG90aGVyIHRleHQ6XFxuXFxue3t0ZXh0fX1cIixcblx0fSxcblx0c3VtbWFyaXNlOiB7XG5cdFx0bmFtZTogXCJzdW1tYXJpc2VcIixcblx0XHRkZXNjcmlwdGlvbjogXCJTdW1tYXJpc2UgdGhlIHNlbGVjdGVkIHRleHRcIixcblx0XHRwcm9tcHQ6XG5cdFx0XHRcIlByb3ZpZGUgYSBjb25jaXNlIHN1bW1hcnkgb2YgdGhpcyB0ZXh0LiBSZXR1cm4gb25seSB0aGUgc3VtbWFyeSwgbm8gZXhwbGFuYXRpb25zIG9yIG90aGVyIHRleHQ6XFxuXFxue3t0ZXh0fX1cIixcblx0fSxcblx0ZXhwYW5kOiB7XG5cdFx0bmFtZTogXCJleHBhbmRcIixcblx0XHRkZXNjcmlwdGlvbjogXCJFeHBhbmQgb24gdGhlIHNlbGVjdGVkIHRleHRcIixcblx0XHRwcm9tcHQ6XG5cdFx0XHRcIkV4cGFuZCB0aGlzIHRleHQgd2l0aCBtb3JlIGRldGFpbHMgYW5kIGV4YW1wbGVzLiBSZXR1cm4gb25seSB0aGUgZXhwYW5kZWQgdGV4dCwgbm8gZXhwbGFuYXRpb25zIG9yIG90aGVyIHRleHQ6XFxuXFxue3t0ZXh0fX1cIixcblx0fSxcblx0cmV3cml0ZToge1xuXHRcdG5hbWU6IFwicmV3cml0ZVwiLFxuXHRcdGRlc2NyaXB0aW9uOiBcIlJld3JpdGUgdGhlIHNlbGVjdGVkIHRleHRcIixcblx0XHRwcm9tcHQ6XG5cdFx0XHRcIlJld3JpdGUgdGhpcyB0ZXh0IHRvIGltcHJvdmUgY2xhcml0eSBhbmQgZmxvdy4gUmV0dXJuIG9ubHkgdGhlIHJld3JpdHRlbiB0ZXh0LCBubyBleHBsYW5hdGlvbnMgb3Igb3RoZXIgdGV4dDpcXG5cXG57e3RleHR9fVwiLFxuXHR9LFxuXHRzaW1wbGlmeToge1xuXHRcdG5hbWU6IFwic2ltcGxpZnlcIixcblx0XHRkZXNjcmlwdGlvbjogXCJTaW1wbGlmeSB0aGUgc2VsZWN0ZWQgdGV4dFwiLFxuXHRcdHByb21wdDpcblx0XHRcdFwiU2ltcGxpZnkgdGhpcyB0ZXh0IHRvIG1ha2UgaXQgZWFzaWVyIHRvIHVuZGVyc3RhbmQuIFJldHVybiBvbmx5IHRoZSBzaW1wbGlmaWVkIHRleHQsIG5vIGV4cGxhbmF0aW9ucyBvciBvdGhlciB0ZXh0Olxcblxcbnt7dGV4dH19XCIsXG5cdH0sXG5cdFwic3VnZ2VzdC10YWdzXCI6IHtcblx0XHRuYW1lOiBcInN1Z2dlc3QtdGFnc1wiLFxuXHRcdGRlc2NyaXB0aW9uOiBcIlN1Z2dlc3QgdGFncyBmb3IgdGhlIHNlbGVjdGVkIHRleHRcIixcblx0XHRwcm9tcHQ6XG5cdFx0XHRcIlN1Z2dlc3QgdGFncyBmb3IgdGhpcyB0ZXh0LiBSZXR1cm4gb25seSB0aGUgdGFncywgbm8gZXhwbGFuYXRpb25zIG9yIG90aGVyIHRleHQ6XFxuXFxue3t0ZXh0fX1cIixcblx0fSxcblx0XCJnZW5lcmF0ZS10aXRsZVwiOiB7XG5cdFx0bmFtZTogXCJnZW5lcmF0ZS10aXRsZVwiLFxuXHRcdGRlc2NyaXB0aW9uOiBcIkdlbmVyYXRlIGEgdGl0bGUgZnJvbSB0aGUgY29udGVudFwiLFxuXHRcdHByb21wdDpcblx0XHRcdCdHZW5lcmF0ZSBhIGNsZWFyLCBjb25jaXNlIHRpdGxlIGZvciB0aGlzIHRleHQuIFJldHVybiBvbmx5IHRoZSB0aXRsZSwgbm8gcXVvdGVzIG9yIGV4dHJhIHRleHQuIChkbyBub3QgdXNlICogXCIgXFxcXCAvIDwgPiA6IHwgPyAuKTpcXG5cXG57e3RleHR9fScsXG5cdH0sXG5cdFwiZ2VuZXJhdGUtdGV4dFwiOiB7XG5cdFx0bmFtZTogXCJHZW5lcmF0ZSB0ZXh0XCIsXG5cdFx0ZGVzY3JpcHRpb246IFwiR2VuZXJhdGUgdGV4dCB3aXRoIGN1c3RvbSB2YXJpYWJsZXNcIixcblx0XHRwcm9tcHQ6XG5cdFx0XHRcIldyaXRlIGEge3tzdHlsZX19IHBhc3NhZ2UgYWJvdXQge3t0b3BpY319IHRoYXQgaXMge3tsZW5ndGh9fSBsb25nLlxcblxcblVzZSB0aGlzIGNvbnRleHQ6XFxue3t0ZXh0fX1cIixcblx0XHR2YXJpYWJsZXM6IFtcInN0eWxlXCIsIFwidG9waWNcIiwgXCJsZW5ndGhcIl0sXG5cdH0sXG5cdGJyYWluc3Rvcm06IHtcblx0XHRuYW1lOiBcImJyYWluc3Rvcm1cIixcblx0XHRkZXNjcmlwdGlvbjogXCJCcmFpbnN0b3JtIGlkZWFzIGZvciB0aGUgc2VsZWN0ZWQgdGV4dFwiLFxuXHRcdHByb21wdDpcblx0XHRcdFwiQnJhaW5zdG9ybSBpZGVhcyBmb3IgdGhpcyB0ZXh0LiBSZXR1cm4gb25seSB0aGUgaWRlYXMsIG5vIGV4cGxhbmF0aW9ucyBvciBvdGhlciB0ZXh0Olxcblxcbnt7dGV4dH19XCIsXG5cdH0sXG59O1xuIiwiaW1wb3J0IHR5cGUgeyBMb2dnZXJDb25maWcgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IFBMVUdJTl9OQU1FIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgdHlwZSBMb2dPdXRwdXQgPSB7XG5cdGxvZzogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZDtcblx0ZXJyb3I6IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XG5cdHdhcm46IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XG5cdGluZm86IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XG5cdGRlYnVnOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfTE9HR0VSX0NPTkZJRzogTG9nZ2VyQ29uZmlnID0ge1xuXHRsZXZlbDogXCJkZWJ1Z1wiLFxuXHR1c2VUaW1lc3RhbXA6IHRydWUsXG5cdG91dHB1dDogY29uc29sZSBhcyBMb2dPdXRwdXQsXG5cdHNlcnZpY2VOYW1lOiBQTFVHSU5fTkFNRSxcbn07XG5cbmNsYXNzIExvZ2dlckNvbmZpZ01hbmFnZXIge1xuXHRwcml2YXRlIGNvbmZpZzogTG9nZ2VyQ29uZmlnID0geyAuLi5ERUZBVUxUX0xPR0dFUl9DT05GSUcgfTtcblx0cHJpdmF0ZSBsaXN0ZW5lcnM6IFNldDwoY29uZmlnOiBMb2dnZXJDb25maWcpID0+IHZvaWQ+ID0gbmV3IFNldCgpO1xuXG5cdHNldENvbmZpZyhuZXdDb25maWc6IFBhcnRpYWw8TG9nZ2VyQ29uZmlnPikge1xuXHRcdHRoaXMuY29uZmlnID0geyAuLi50aGlzLmNvbmZpZywgLi4ubmV3Q29uZmlnIH07XG5cdFx0dGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcblx0fVxuXG5cdGdldENvbmZpZygpOiBMb2dnZXJDb25maWcge1xuXHRcdHJldHVybiB0aGlzLmNvbmZpZztcblx0fVxuXG5cdGFkZExpc3RlbmVyKGxpc3RlbmVyOiAoY29uZmlnOiBMb2dnZXJDb25maWcpID0+IHZvaWQpIHtcblx0XHR0aGlzLmxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuXHR9XG5cblx0cmVtb3ZlTGlzdGVuZXIobGlzdGVuZXI6IChjb25maWc6IExvZ2dlckNvbmZpZykgPT4gdm9pZCkge1xuXHRcdHRoaXMubGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG5cdH1cblxuXHRwcml2YXRlIG5vdGlmeUxpc3RlbmVycygpIHtcblx0XHRmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMubGlzdGVuZXJzKSB7XG5cdFx0XHRsaXN0ZW5lcih0aGlzLmNvbmZpZyk7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBsb2dnZXJDb25maWcgPSBuZXcgTG9nZ2VyQ29uZmlnTWFuYWdlcigpO1xuXG5leHBvcnQgY29uc3Qgc2V0R2xvYmFsTG9nZ2VyQ29uZmlnID0gKGNvbmZpZzogUGFydGlhbDxMb2dnZXJDb25maWc+KSA9PiB7XG5cdGxvZ2dlckNvbmZpZy5zZXRDb25maWcoY29uZmlnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRMb2dnZXJDb25maWcgPSAoKSA9PiBsb2dnZXJDb25maWcuZ2V0Q29uZmlnKCk7XG4iLCJpbXBvcnQgeyB0eXBlIEFwcCwgTm90aWNlLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmltcG9ydCB7IG9iZnVzY2F0ZSB9IGZyb20gXCIuL2xpYi9vYmZ1c2NhdGVcIjtcbmltcG9ydCB0eXBlIHsgQXNzaXN0YW50UGx1Z2luU2V0dGluZ3MsIExvZ0xldmVsVHlwZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBzYWZlU3RvcmFnZSB9IGZyb20gXCIuL2xpYi9zYWZlU3RvcmFnZVwiO1xuaW1wb3J0IHR5cGUgQXNzaXN0YW50UGx1Z2luIGZyb20gXCIuL21haW5cIjtcbmltcG9ydCB7IHNldEdsb2JhbExvZ2dlckNvbmZpZyB9IGZyb20gXCIuL2xpYi9sb2dnZXItY29uZmlnXCI7XG5pbXBvcnQgeyBDaGF0TW9kZWxzLCBFbWJlZGRpbmdNb2RlbHMgfSBmcm9tIFwiLi9zZXJ2aWNlcy9haS9zZXR0aW5nc1wiO1xuXG5leHBvcnQgY2xhc3MgQXNzaXN0YW50U2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cHJpdmF0ZSB0ZW1wb3JhcnlBc3Npc3RhbnRBcGlLZXkgPSBcIlwiO1xuXHRwcml2YXRlIHBsdWdpbjogQXNzaXN0YW50UGx1Z2luO1xuXHRwcml2YXRlIHNldHRpbmdzOiBBc3Npc3RhbnRQbHVnaW5TZXR0aW5ncztcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBBc3Npc3RhbnRQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdFx0dGhpcy5zZXR0aW5ncyA9IHBsdWdpbi5zZXR0aW5ncztcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlQXNzaXN0YW50U2V0dGluZ3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIkFzc2lzdGFudCBBUEkgVVJMXCIpXG5cdFx0XHQuc2V0RGVzYyhcIlRoZSBVUkwgb2YgeW91ciBhc3Npc3RhbnQgQVBJXCIpXG5cdFx0XHQuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdFx0dGV4dFxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIHlvdXIgQXNzaXN0YW50IEFQSSBVUkxcIilcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5zZXR0aW5ncy5hc3Npc3RhbnRBcGlVcmwpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5hc3Npc3RhbnRBcGlVcmwgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0KTtcblxuXHRcdHRoaXMuY3JlYXRlQXBpS2V5U2V0dGluZyhcblx0XHRcdGNvbnRhaW5lckVsLFxuXHRcdFx0XCJBUEkga2V5XCIsXG5cdFx0XHRcIlRoZSBBUEkga2V5IGZvciB5b3VyIGFzc2lzdGFudFwiLFxuXHRcdFx0XCJhc3Npc3RhbnRBcGlLZXlcIixcblx0XHRcdFwiYXNzaXN0YW50QXBpS2V5U2F2ZWRcIixcblx0XHRcdHRoaXMudGVtcG9yYXJ5QXNzaXN0YW50QXBpS2V5LFxuXHRcdFx0KHZhbHVlKSA9PiB7XG5cdFx0XHRcdHRoaXMudGVtcG9yYXJ5QXNzaXN0YW50QXBpS2V5ID0gdmFsdWU7XG5cdFx0XHR9LFxuXHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIGNyZWF0ZUFwaUtleVNldHRpbmcoXG5cdFx0Y29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxuXHRcdG5hbWU6IHN0cmluZyxcblx0XHRkZXNjOiBzdHJpbmcsXG5cdFx0a2V5RmllbGQ6IFwiYXNzaXN0YW50QXBpS2V5XCIsXG5cdFx0c2F2ZWRGaWVsZDogXCJhc3Npc3RhbnRBcGlLZXlTYXZlZFwiLFxuXHRcdHRlbXBvcmFyeUtleTogc3RyaW5nLFxuXHRcdHNldFRlbXBvcmFyeUtleTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQsXG5cdCk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3Nbc2F2ZWRGaWVsZF0pIHtcblx0XHRcdGNvbnN0IHNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdFx0LnNldE5hbWUobmFtZSlcblx0XHRcdFx0LnNldERlc2MoZGVzYylcblx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdFx0dGV4dFxuXHRcdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKGBFbnRlciB5b3VyICR7bmFtZX1gKVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4gc2V0VGVtcG9yYXJ5S2V5KHZhbHVlKSksXG5cdFx0XHRcdCk7XG5cblx0XHRcdHNldHRpbmcuYWRkQnV0dG9uKChidXR0b24pID0+IHtcblx0XHRcdFx0YnV0dG9uLnNldEJ1dHRvblRleHQoXCJTYXZlIEFQSSBLZXlcIikub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHRlbXBvcmFyeUtleSkge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0aWYgKHNhZmVTdG9yYWdlLmlzRW5jcnlwdGlvbkF2YWlsYWJsZSgpKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZW5jcnlwdGVkID0gc2FmZVN0b3JhZ2UuZW5jcnlwdFN0cmluZyh0ZW1wb3JhcnlLZXkpO1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzW2tleUZpZWxkXSA9XG5cdFx0XHRcdFx0XHRcdFx0XHRCdWZmZXIuZnJvbShlbmNyeXB0ZWQpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzW2tleUZpZWxkXSA9IHRlbXBvcmFyeUtleTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5nc1tzYXZlZEZpZWxkXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHNldFRlbXBvcmFyeUtleShcIlwiKTtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYCR7bmFtZX0gc2F2ZWQgc3VjY2Vzc2Z1bGx5YCk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShcIkZhaWxlZCB0byBzYXZlIEFQSSBrZXlcIik7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKFwiUGxlYXNlIGVudGVyIGFuIEFQSSBrZXlcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdC5zZXROYW1lKG5hbWUpXG5cdFx0XHRcdC5zZXREZXNjKGRlc2MpXG5cdFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGNvbnN0IGFwaUtleSA9IHRoaXMucGx1Z2luLnNldHRpbmdzW2tleUZpZWxkXTtcblx0XHRcdFx0XHRcdGlmIChzYWZlU3RvcmFnZS5pc0VuY3J5cHRpb25BdmFpbGFibGUoKSAmJiBhcGlLZXkpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZGVjcnlwdGVkID0gc2FmZVN0b3JhZ2UuZGVjcnlwdFN0cmluZyhcblx0XHRcdFx0XHRcdFx0XHRCdWZmZXIuZnJvbShhcGlLZXksIFwiYmFzZTY0XCIpLFxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKG9iZnVzY2F0ZShkZWNyeXB0ZWQpKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIob2JmdXNjYXRlKGFwaUtleSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKFwiKioqKioqKipcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRleHQuc2V0RGlzYWJsZWQodHJ1ZSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRzZXR0aW5nLmFkZEJ1dHRvbigoYnV0dG9uKSA9PiB7XG5cdFx0XHRcdGJ1dHRvbi5zZXRCdXR0b25UZXh0KFwiUmVtb3ZlIEFQSSBLZXlcIikub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Nba2V5RmllbGRdID0gXCJcIjtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5nc1tzYXZlZEZpZWxkXSA9IGZhbHNlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoYCR7bmFtZX0gcmVtb3ZlZGApO1xuXHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlTW9kZWxTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIlRleHQgbW9kZWxcIikuc2V0SGVhZGluZygpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIk1vZGVsIElEXCIpXG5cdFx0XHQuc2V0RGVzYyhcIlRoZSBJRCBvZiB0aGUgdGV4dCBtb2RlbCB0byB1c2VcIilcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+XG5cdFx0XHRcdGRyb3Bkb3duXG5cdFx0XHRcdFx0LmFkZE9wdGlvbnMoXG5cdFx0XHRcdFx0XHRPYmplY3QuZnJvbUVudHJpZXMoXG5cdFx0XHRcdFx0XHRcdE9iamVjdC5lbnRyaWVzKENoYXRNb2RlbHMpLm1hcCgoW18sIHZhbHVlXSkgPT4gW1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlLFxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlLnNwbGl0KFwiL1wiKS5wb3AoKT8ucmVwbGFjZSgvLS9nLCBcIiBcIikudG9VcHBlckNhc2UoKSA/P1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUsXG5cdFx0XHRcdFx0XHRcdF0pLFxuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMuc2V0dGluZ3MubW9kZWxJZClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLm1vZGVsSWQgPSB2YWx1ZSBhcyBrZXlvZiB0eXBlb2YgQ2hhdE1vZGVscztcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0KTtcblxuXHRcdHRoaXMuY3JlYXRlTnVtYmVyU2V0dGluZyhcblx0XHRcdGNvbnRhaW5lckVsLFxuXHRcdFx0XCJNYXggdG9rZW5zXCIsXG5cdFx0XHRcIlRoZSBtYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdG8gZ2VuZXJhdGVcIixcblx0XHRcdFwibWF4VG9rZW5zXCIsXG5cdFx0XHQxLFxuXHRcdFx0TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuXHRcdCk7XG5cblx0XHR0aGlzLmNyZWF0ZU51bWJlclNldHRpbmcoXG5cdFx0XHRjb250YWluZXJFbCxcblx0XHRcdFwiVGVtcGVyYXR1cmVcIixcblx0XHRcdFwiVGhlIHRlbXBlcmF0dXJlIG9mIHRoZSB0ZXh0IG1vZGVsXCIsXG5cdFx0XHRcInRlbXBlcmF0dXJlXCIsXG5cdFx0XHQwLFxuXHRcdFx0NSxcblx0XHRcdHRydWUsXG5cdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlUmFnU2V0dGluZ3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJSQUdcIikuc2V0SGVhZGluZygpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIlRleHQgZW1iZWRkaW5ncyBtb2RlbCBJRFwiKVxuXHRcdFx0LnNldERlc2MoXCJUaGUgSUQgb2YgdGhlIHRleHQgZW1iZWRkaW5ncyBtb2RlbCB0byB1c2VcIilcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+XG5cdFx0XHRcdGRyb3Bkb3duXG5cdFx0XHRcdFx0LmFkZE9wdGlvbnMoXG5cdFx0XHRcdFx0XHRPYmplY3QuZnJvbUVudHJpZXMoXG5cdFx0XHRcdFx0XHRcdE9iamVjdC5lbnRyaWVzKEVtYmVkZGluZ01vZGVscykubWFwKChbXywgdmFsdWVdKSA9PiBbXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUsXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUuc3BsaXQoXCIvXCIpLnBvcCgpPy5yZXBsYWNlKC8tL2csIFwiIFwiKS50b1VwcGVyQ2FzZSgpID8/XG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSxcblx0XHRcdFx0XHRcdFx0XSksXG5cdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdClcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5zZXR0aW5ncy50ZXh0RW1iZWRkaW5nc01vZGVsSWQpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy50ZXh0RW1iZWRkaW5nc01vZGVsSWQgPSB2YWx1ZSBhcyBrZXlvZiB0eXBlb2YgRW1iZWRkaW5nTW9kZWxzO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSksXG5cdFx0XHQpO1xuXG5cdFx0dGhpcy5jcmVhdGVOdW1iZXJTZXR0aW5nKFxuXHRcdFx0Y29udGFpbmVyRWwsXG5cdFx0XHRcIlRvcCBrXCIsXG5cdFx0XHRcIlRoZSBudW1iZXIgb2YgcmVzdWx0cyB0byByZXR1cm5cIixcblx0XHRcdFwidG9wS1wiLFxuXHRcdFx0MSxcblx0XHRcdE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcblx0XHQpO1xuXG5cdFx0dGhpcy5jcmVhdGVOdW1iZXJTZXR0aW5nKFxuXHRcdFx0Y29udGFpbmVyRWwsXG5cdFx0XHRcIk1pbiBzaW1pbGFyaXR5IHNjb3JlXCIsXG5cdFx0XHRcIlRoZSBtaW5pbXVtIHNpbWlsYXJpdHkgc2NvcmUgdG8gcmV0dXJuXCIsXG5cdFx0XHRcIm1pblNpbWlsYXJpdHlTY29yZVwiLFxuXHRcdFx0MCxcblx0XHRcdDEsXG5cdFx0XHR0cnVlLFxuXHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIGNyZWF0ZVN5bmNTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIlN5bmNcIikuc2V0SGVhZGluZygpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIklnbm9yZWQgZm9sZGVyc1wiKVxuXHRcdFx0LnNldERlc2MoXCJGb2xkZXJzIHRvIGlnbm9yZSB3aGVuIHN5bmNpbmcgbm90ZXMsIHNlcGFyYXRlZCBieSBjb21tYXNcIilcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgdGhlIGZvbGRlcnMgdG8gaWdub3JlXCIpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMuc2V0dGluZ3MuaWdub3JlZEZvbGRlcnMuam9pbihcIixcIikpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5pZ25vcmVkRm9sZGVycyA9IHZhbHVlLnNwbGl0KFwiLFwiKS5maWx0ZXIoQm9vbGVhbik7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KSxcblx0XHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiRW5hYmxlIGF1dG8gc3luY1wiKVxuXHRcdFx0LnNldERlc2MoXCJBdXRvbWF0aWNhbGx5IHN5bmMgbm90ZXMgYXQgcmVndWxhciBpbnRlcnZhbHNcIilcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMuc2V0dGluZ3Muc3luY0VuYWJsZWQpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3Muc3luY0VuYWJsZWQgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSksXG5cdFx0XHQpO1xuXG5cdFx0dGhpcy5jcmVhdGVOdW1iZXJTZXR0aW5nKFxuXHRcdFx0Y29udGFpbmVyRWwsXG5cdFx0XHRcIlN5bmMgaW50ZXJ2YWxcIixcblx0XHRcdFwiSG93IG9mdGVuIHRvIHN5bmMgKGluIG1pbnV0ZXMpXCIsXG5cdFx0XHRcImF1dG9TeW5jSW50ZXJ2YWxcIixcblx0XHRcdDEsXG5cdFx0XHROdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG5cdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlVGV4dEdlbmVyYXRvclNldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKFwiVGV4dCBHZW5lcmF0b3JcIikuc2V0SGVhZGluZygpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIkN1c3RvbSB0ZW1wbGF0ZXMgZm9sZGVyXCIpXG5cdFx0XHQuc2V0RGVzYyhcIlRoZSBmb2xkZXIgdG8gc3RvcmUgY3VzdG9tIHRlbXBsYXRlc1wiKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciB0aGUgZm9sZGVyIHRvIHN0b3JlIGN1c3RvbSB0ZW1wbGF0ZXNcIilcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5zZXR0aW5ncy5jdXN0b21UZW1wbGF0ZXNGb2xkZXIpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5jdXN0b21UZW1wbGF0ZXNGb2xkZXIgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlTG9nZ2VyU2V0dGluZ3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJMb2dnaW5nXCIpLnNldEhlYWRpbmcoKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJMb2cgTGV2ZWxcIilcblx0XHRcdC5zZXREZXNjKFwiU2V0IHRoZSBsb2dnaW5nIGxldmVsIGZvciB0aGUgcGx1Z2luXCIpXG5cdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PlxuXHRcdFx0XHRkcm9wZG93blxuXHRcdFx0XHRcdC5hZGRPcHRpb25zKHtcblx0XHRcdFx0XHRcdGVycm9yOiBcIkVycm9yXCIsXG5cdFx0XHRcdFx0XHR3YXJuOiBcIldhcm5pbmdcIixcblx0XHRcdFx0XHRcdGluZm86IFwiSW5mb1wiLFxuXHRcdFx0XHRcdFx0ZGVidWc6IFwiRGVidWdcIixcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzLmxvZ0xldmVsIHx8IFwiZXJyb3JcIilcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmxvZ0xldmVsID0gdmFsdWUgYXMgTG9nTGV2ZWxUeXBlO1xuXHRcdFx0XHRcdFx0c2V0R2xvYmFsTG9nZ2VyQ29uZmlnKHsgbGV2ZWw6IHZhbHVlIGFzIExvZ0xldmVsVHlwZSB9KTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlTnVtYmVyU2V0dGluZyhcblx0XHRjb250YWluZXJFbDogSFRNTEVsZW1lbnQsXG5cdFx0bmFtZTogc3RyaW5nLFxuXHRcdGRlc2M6IHN0cmluZyxcblx0XHRmaWVsZDoga2V5b2YgQXNzaXN0YW50UGx1Z2luU2V0dGluZ3MsXG5cdFx0bWluOiBudW1iZXIsXG5cdFx0bWF4OiBudW1iZXIsXG5cdFx0aXNGbG9hdCA9IGZhbHNlLFxuXHQpOiB2b2lkIHtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKG5hbWUpXG5cdFx0XHQuc2V0RGVzYyhkZXNjKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIobmFtZSlcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3NbZmllbGRdPy50b1N0cmluZygpID8/IFwiXCIpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgcGFyc2VkVmFsdWUgPSBpc0Zsb2F0XG5cdFx0XHRcdFx0XHRcdD8gTnVtYmVyLnBhcnNlRmxvYXQodmFsdWUpXG5cdFx0XHRcdFx0XHRcdDogTnVtYmVyLnBhcnNlSW50KHZhbHVlKTtcblx0XHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdFx0IU51bWJlci5pc05hTihwYXJzZWRWYWx1ZSkgJiZcblx0XHRcdFx0XHRcdFx0cGFyc2VkVmFsdWUgPj0gbWluICYmXG5cdFx0XHRcdFx0XHRcdHBhcnNlZFZhbHVlIDw9IG1heFxuXHRcdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRcdCh0aGlzLnBsdWdpbi5zZXR0aW5nc1tmaWVsZF0gYXMgbnVtYmVyKSA9IHBhcnNlZFZhbHVlO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoXG5cdFx0XHRcdFx0XHRcdFx0YEludmFsaWQgdmFsdWUgZm9yICR7bmFtZX0uIE11c3QgYmUgYmV0d2VlbiAke21pbn0gYW5kICR7bWF4fWAsXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSksXG5cdFx0XHQpO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHR0aGlzLmNyZWF0ZUFzc2lzdGFudFNldHRpbmdzKGNvbnRhaW5lckVsKTtcblx0XHR0aGlzLmNyZWF0ZU1vZGVsU2V0dGluZ3MoY29udGFpbmVyRWwpO1xuXHRcdHRoaXMuY3JlYXRlUmFnU2V0dGluZ3MoY29udGFpbmVyRWwpO1xuXHRcdHRoaXMuY3JlYXRlU3luY1NldHRpbmdzKGNvbnRhaW5lckVsKTtcblx0XHR0aGlzLmNyZWF0ZVRleHRHZW5lcmF0b3JTZXR0aW5ncyhjb250YWluZXJFbCk7XG5cdFx0dGhpcy5jcmVhdGVMb2dnZXJTZXR0aW5ncyhjb250YWluZXJFbCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IHR5cGUgQXBwLCBOb3RpY2UsIFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgdHlwZSB7IFN2ZWx0ZUNvbXBvbmVudCB9IGZyb20gXCJzdmVsdGVcIjtcbmltcG9ydCB7IGdlbmVyYXRlVGV4dCB9IGZyb20gXCJhaVwiO1xuXG5pbXBvcnQgdHlwZSB7XG5cdE1lc3NhZ2UsXG5cdFZlY3Rvcml6ZUZpbHRlcixcblx0QXNzaXN0YW50UGx1Z2luU2V0dGluZ3MsXG59IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBMb2dnZXIgfSBmcm9tIFwiLi4vbGliL2xvZ2dlclwiO1xuaW1wb3J0IHR5cGUgeyBTeW5jU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9zeW5jXCI7XG5pbXBvcnQgdHlwZSB7IEFzc2lzdGFudFByb3ZpZGVyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2FpXCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlQ2hhdCB7XG5cdHB1YmxpYyBtZXNzYWdlczogTWVzc2FnZVtdID0gW107XG5cdHB1YmxpYyBhcGlNZXNzYWdlczogTWVzc2FnZVtdID0gW107XG5cdHB1YmxpYyBjb21wb25lbnQ6IFN2ZWx0ZUNvbXBvbmVudCB8IG51bGwgPSBudWxsO1xuXHRwdWJsaWMgcmVhZG9ubHkgc3ZlbHRlQ29tcG9uZW50czogU3ZlbHRlQ29tcG9uZW50W10gPSBbXTtcblx0cHVibGljIGlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuXHRwdWJsaWMgY29udGVudEVsOiBIVE1MRWxlbWVudDtcblx0cHVibGljIGNoYXRJZDogc3RyaW5nO1xuXG5cdHByb3RlY3RlZCByZWFkb25seSBERUZBVUxUX1NZU1RFTV9NRVNTQUdFOiBNZXNzYWdlID0ge1xuXHRcdHJvbGU6IFwic3lzdGVtXCIsXG5cdFx0Y29udGVudDogYFlvdSBhcmUgYSBoZWxwZnVsIEFJIGFzc2lzdGFudCB0aGF0IGFuYWx5emVzIG5vdGVzIGFuZCBwcm92aWRlcyBpbnNpZ2h0cy4gQ29uc2lkZXIgdGhlIGNvbnRleHQgY2FyZWZ1bGx5IGJlZm9yZSBhbnN3ZXJpbmcgcXVlc3Rpb25zLiBUaGUgY3VycmVudCBkYXRlIGlzICR7XG5cdFx0XHRuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdXG5cdFx0fS5gLFxuXHR9O1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByb3RlY3RlZCBhcHA6IEFwcCxcblx0XHRwcm90ZWN0ZWQgYXNzaXN0YW50OiBBc3Npc3RhbnRQcm92aWRlcixcblx0XHRwcm90ZWN0ZWQgbG9nZ2VyOiBMb2dnZXIsXG5cdFx0cHJvdGVjdGVkIHNldHRpbmdzOiBBc3Npc3RhbnRQbHVnaW5TZXR0aW5ncyxcblx0XHRwcm90ZWN0ZWQgc3luYzogU3luY1NlcnZpY2UsXG5cdCkge1xuXHRcdHRoaXMudmFsaWRhdGVTZXJ2aWNlcygpO1xuXHRcdHRoaXMuY29udGVudEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHR0aGlzLmNoYXRJZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSk7XG5cdH1cblxuXHRwcml2YXRlIHZhbGlkYXRlU2VydmljZXMoKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLmFzc2lzdGFudCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQXNzaXN0YW50IG5vdCBpbml0aWFsaXplZFwiKTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBvblNlbmRNZXNzYWdlKFxuXHRcdG1lc3NhZ2U6IHN0cmluZyxcblx0XHRmaWx0ZXJzOiBWZWN0b3JpemVGaWx0ZXIsXG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoIW1lc3NhZ2UudHJpbSgpKSByZXR1cm47XG5cblx0XHRcdHRoaXMuaXNQcm9jZXNzaW5nID0gdHJ1ZTtcblx0XHRcdGNvbnN0IHN0cmVhbWluZ0NvbnRlbnQgPSBcIlwiO1xuXHRcdFx0aWYgKHRoaXMuY29tcG9uZW50KSB7XG5cdFx0XHRcdHRoaXMuY29tcG9uZW50LiRzZXQoeyBzdHJlYW1pbmdDb250ZW50IH0pO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy51cGRhdGVDb21wb25lbnQoKTtcblxuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoXCJTZW5kaW5nIG1lc3NhZ2VcIiwgeyBtZXNzYWdlLCBmaWx0ZXJzIH0pO1xuXG5cdFx0XHRjb25zdCB1c2VyTWVzc2FnZTogTWVzc2FnZSA9IHsgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IG1lc3NhZ2UgfTtcblx0XHRcdHRoaXMubWVzc2FnZXMucHVzaCh1c2VyTWVzc2FnZSk7XG5cblx0XHRcdGNvbnN0IGFzc2lzdGFudE1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG5cdFx0XHRcdHJvbGU6IFwiYXNzaXN0YW50XCIsXG5cdFx0XHRcdGNvbnRlbnQ6IFwiXCIsXG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5tZXNzYWdlcy5wdXNoKGFzc2lzdGFudE1lc3NhZ2UpO1xuXG5cdFx0XHR0aGlzLnVwZGF0ZUNvbXBvbmVudCgpO1xuXG5cdFx0XHRpZiAoIXRoaXMuYXBpTWVzc2FnZXMuc29tZSgobXNnKSA9PiBtc2cucm9sZSA9PT0gXCJzeXN0ZW1cIikpIHtcblx0XHRcdFx0dGhpcy5hcGlNZXNzYWdlcy5wdXNoKHRoaXMuREVGQVVMVF9TWVNURU1fTUVTU0FHRSk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHsgdGV4dCB9ID0gYXdhaXQgZ2VuZXJhdGVUZXh0KHtcblx0XHRcdFx0bW9kZWw6IHRoaXMuYXNzaXN0YW50KHRoaXMuc2V0dGluZ3MubW9kZWxJZCwge1xuXHRcdFx0XHRcdGNoYXRJZDogdGhpcy5jaGF0SWQsXG5cdFx0XHRcdFx0dXNlUkFHOiB0cnVlLFxuXHRcdFx0XHRcdHJhZ09wdGlvbnM6IHtcblx0XHRcdFx0XHRcdG5hbWVzcGFjZTogdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpLFxuXHRcdFx0XHRcdFx0dHlwZTogXCJub3RlXCIsXG5cdFx0XHRcdFx0XHRmaWx0ZXJzLFxuXHRcdFx0XHRcdFx0dG9wSzogdGhpcy5zZXR0aW5ncy50b3BLLFxuXHRcdFx0XHRcdFx0c2NvcmVUaHJlc2hvbGQ6IHRoaXMuc2V0dGluZ3MubWluU2ltaWxhcml0eVNjb3JlLFxuXHRcdFx0XHRcdFx0aW5jbHVkZU1ldGFkYXRhOiB0cnVlLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c2hvdWxkU2F2ZTogdHJ1ZSxcblx0XHRcdFx0fSksXG5cdFx0XHRcdG1heFJldHJpZXM6IDMsXG5cdFx0XHRcdG1lc3NhZ2VzOiBbXG5cdFx0XHRcdFx0dXNlck1lc3NhZ2UsXG5cdFx0XHRcdF0sXG5cdFx0XHRcdG1heFRva2VuczogdGhpcy5zZXR0aW5ncy5tYXhUb2tlbnMsXG5cdFx0XHRcdHRlbXBlcmF0dXJlOiB0aGlzLnNldHRpbmdzLnRlbXBlcmF0dXJlLFxuXHRcdFx0fSk7XG5cblx0XHRcdGlmICghdGV4dCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJObyByZXNwb25zZSBmcm9tIEFJIEdhdGV3YXlcIik7XG5cdFx0XHR9XG5cblx0XHRcdGFzc2lzdGFudE1lc3NhZ2UuY29udGVudCA9IHRleHQ7XG5cdFx0XHR0aGlzLmFwaU1lc3NhZ2VzLnB1c2goYXNzaXN0YW50TWVzc2FnZSk7XG5cdFx0XHR0aGlzLnVwZGF0ZUNvbXBvbmVudCgpO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihcIkVycm9yIGluIG1lc3NhZ2UgcHJvY2Vzc2luZzpcIiwge1xuXHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuXHRcdFx0fSk7XG5cdFx0XHRuZXcgTm90aWNlKFwiRXJyb3IgZ2VuZXJhdGluZyByZXNwb25zZS4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG5cblx0XHRcdHRoaXMubWVzc2FnZXMgPSB0aGlzLm1lc3NhZ2VzLnNsaWNlKDAsIC0xKTtcblx0XHRcdHRoaXMuYXBpTWVzc2FnZXMgPSB0aGlzLmFwaU1lc3NhZ2VzLnNsaWNlKDAsIC0xKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0dGhpcy5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcblx0XHRcdHRoaXMudXBkYXRlQ29tcG9uZW50KCk7XG5cdFx0fVxuXHR9XG5cblx0cHJvdGVjdGVkIHVwZGF0ZUNvbXBvbmVudCgpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5jb21wb25lbnQpIHtcblx0XHRcdHRoaXMuY29tcG9uZW50LiRzZXQoe1xuXHRcdFx0XHRtZXNzYWdlczogWy4uLnRoaXMubWVzc2FnZXNdLFxuXHRcdFx0XHRpc1Byb2Nlc3Npbmc6IHRoaXMuaXNQcm9jZXNzaW5nLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgb25DbGVhck1lc3NhZ2VzKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRoaXMubWVzc2FnZXMgPSBbXTtcblx0XHR0aGlzLmFwaU1lc3NhZ2VzID0gW107XG5cdFx0dGhpcy51cGRhdGVDb21wb25lbnQoKTtcblx0fVxuXG5cdGFzeW5jIG9uQ29weUNvbnRlbnQoXG5cdFx0Y29udGVudDogc3RyaW5nLFxuXHRcdHR5cGU6IFwibWVzc2FnZVwiIHwgXCJjb252ZXJzYXRpb25cIixcblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGNvbnRlbnQpO1xuXHRcdFx0bmV3IE5vdGljZShgQ29waWVkICR7dHlwZX0gdG8gY2xpcGJvYXJkYCk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKFwiRXJyb3IgY29weWluZyB0byBjbGlwYm9hcmQ6XCIsIHtcblx0XHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcblx0XHRcdFx0c3RhY2s6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IHVuZGVmaW5lZCxcblx0XHRcdH0pO1xuXHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGNvcHkgJHt0eXBlfWApO1xuXHRcdH1cblx0fVxuXG5cdGNsZWFudXAoKTogdm9pZCB7XG5cdFx0Zm9yIChjb25zdCBjb21wb25lbnQgb2YgdGhpcy5zdmVsdGVDb21wb25lbnRzKSB7XG5cdFx0XHRpZiAoY29tcG9uZW50ICYmIHR5cGVvZiBjb21wb25lbnQuJGRlc3Ryb3kgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRjb21wb25lbnQuJGRlc3Ryb3koKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgaW5pdGlhbGl6ZUNvbXBvbmVudChcblx0XHR0YXJnZXQ6IEhUTUxFbGVtZW50LFxuXHRcdENvbXBvbmVudENsYXNzOiB0eXBlb2YgU3ZlbHRlQ29tcG9uZW50LFxuXHQpOiB2b2lkIHtcblx0XHRjb25zdCBjb21wb25lbnQgPSBuZXcgQ29tcG9uZW50Q2xhc3Moe1xuXHRcdFx0dGFyZ2V0LFxuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0bWVzc2FnZXM6IHRoaXMubWVzc2FnZXMsXG5cdFx0XHRcdGlzUHJvY2Vzc2luZzogdGhpcy5pc1Byb2Nlc3NpbmcsXG5cdFx0XHRcdG9uU2VuZE1lc3NhZ2U6IChtZXNzYWdlOiBzdHJpbmcsIGZpbHRlcnM6IFZlY3Rvcml6ZUZpbHRlcikgPT5cblx0XHRcdFx0XHR0aGlzLm9uU2VuZE1lc3NhZ2UobWVzc2FnZSwgZmlsdGVycyksXG5cdFx0XHRcdG9uQ2xlYXJNZXNzYWdlczogKCkgPT4gdGhpcy5vbkNsZWFyTWVzc2FnZXMoKSxcblx0XHRcdFx0b25Db3B5Q29udmVyc2F0aW9uOiAoKSA9PlxuXHRcdFx0XHRcdHRoaXMub25Db3B5Q29udGVudChcblx0XHRcdFx0XHRcdHRoaXMubWVzc2FnZXMubWFwKChtKSA9PiBgJHttLnJvbGV9OiAke20uY29udGVudH1gKS5qb2luKFwiXFxuXFxuXCIpLFxuXHRcdFx0XHRcdFx0XCJjb252ZXJzYXRpb25cIixcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRvbkNvcHlNZXNzYWdlOiAobWVzc2FnZTogc3RyaW5nKSA9PlxuXHRcdFx0XHRcdHRoaXMub25Db3B5Q29udGVudChtZXNzYWdlLCBcIm1lc3NhZ2VcIiksXG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG5cdFx0dGhpcy5zdmVsdGVDb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcblx0fVxufVxuIiwiLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5leHBvcnQgY29uc3QgaWRlbnRpdHkgPSAoeCkgPT4geDtcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIFNcbiAqIEBwYXJhbSB7VH0gdGFyXG4gKiBAcGFyYW0ge1N9IHNyY1xuICogQHJldHVybnMge1QgJiBTfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhciwgc3JjKSB7XG5cdC8vIEB0cy1pZ25vcmVcblx0Zm9yIChjb25zdCBrIGluIHNyYykgdGFyW2tdID0gc3JjW2tdO1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtUICYgU30gKi8gKHRhcik7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBNSVQgTGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL0xJQ0VOU0Vcbi8qKlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcmV0dXJucyB7dmFsdWUgaXMgUHJvbWlzZUxpa2U8YW55Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3Byb21pc2UodmFsdWUpIHtcblx0cmV0dXJuIChcblx0XHQhIXZhbHVlICYmXG5cdFx0KHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSAmJlxuXHRcdHR5cGVvZiAoLyoqIEB0eXBlIHthbnl9ICovICh2YWx1ZSkudGhlbikgPT09ICdmdW5jdGlvbidcblx0KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9sb2NhdGlvbihlbGVtZW50LCBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIpIHtcblx0ZWxlbWVudC5fX3N2ZWx0ZV9tZXRhID0ge1xuXHRcdGxvYzogeyBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIgfVxuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcnVuKGZuKSB7XG5cdHJldHVybiBmbigpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmxhbmtfb2JqZWN0KCkge1xuXHRyZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Z1bmN0aW9uW119IGZuc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW5fYWxsKGZucykge1xuXHRmbnMuZm9yRWFjaChydW4pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB0aGluZ1xuICogQHJldHVybnMge3RoaW5nIGlzIEZ1bmN0aW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcblx0cmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhZmVfbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGIgfHwgKGEgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnKSB8fCB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxubGV0IHNyY191cmxfZXF1YWxfYW5jaG9yO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50X3NyY1xuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcmNfdXJsX2VxdWFsKGVsZW1lbnRfc3JjLCB1cmwpIHtcblx0aWYgKGVsZW1lbnRfc3JjID09PSB1cmwpIHJldHVybiB0cnVlO1xuXHRpZiAoIXNyY191cmxfZXF1YWxfYW5jaG9yKSB7XG5cdFx0c3JjX3VybF9lcXVhbF9hbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdH1cblx0Ly8gVGhpcyBpcyBhY3R1YWxseSBmYXN0ZXIgdGhhbiBkb2luZyBVUkwoLi4pLmhyZWZcblx0c3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZiA9IHVybDtcblx0cmV0dXJuIGVsZW1lbnRfc3JjID09PSBzcmNfdXJsX2VxdWFsX2FuY2hvci5ocmVmO1xufVxuXG4vKiogQHBhcmFtIHtzdHJpbmd9IHNyY3NldCAqL1xuZnVuY3Rpb24gc3BsaXRfc3Jjc2V0KHNyY3NldCkge1xuXHRyZXR1cm4gc3Jjc2V0LnNwbGl0KCcsJykubWFwKChzcmMpID0+IHNyYy50cmltKCkuc3BsaXQoJyAnKS5maWx0ZXIoQm9vbGVhbikpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTFNvdXJjZUVsZW1lbnQgfCBIVE1MSW1hZ2VFbGVtZW50fSBlbGVtZW50X3NyY3NldFxuICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsfSBzcmNzZXRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3Jjc2V0X3VybF9lcXVhbChlbGVtZW50X3NyY3NldCwgc3Jjc2V0KSB7XG5cdGNvbnN0IGVsZW1lbnRfdXJscyA9IHNwbGl0X3NyY3NldChlbGVtZW50X3NyY3NldC5zcmNzZXQpO1xuXHRjb25zdCB1cmxzID0gc3BsaXRfc3Jjc2V0KHNyY3NldCB8fCAnJyk7XG5cblx0cmV0dXJuIChcblx0XHR1cmxzLmxlbmd0aCA9PT0gZWxlbWVudF91cmxzLmxlbmd0aCAmJlxuXHRcdHVybHMuZXZlcnkoXG5cdFx0XHQoW3VybCwgd2lkdGhdLCBpKSA9PlxuXHRcdFx0XHR3aWR0aCA9PT0gZWxlbWVudF91cmxzW2ldWzFdICYmXG5cdFx0XHRcdC8vIFdlIG5lZWQgdG8gdGVzdCBib3RoIHdheXMgYmVjYXVzZSBWaXRlIHdpbGwgY3JlYXRlIGFuIGEgZnVsbCBVUkwgd2l0aFxuXHRcdFx0XHQvLyBgbmV3IFVSTChhc3NldCwgaW1wb3J0Lm1ldGEudXJsKS5ocmVmYCBmb3IgdGhlIGNsaWVudCB3aGVuIGBiYXNlOiAnLi8nYCwgYW5kIHRoZVxuXHRcdFx0XHQvLyByZWxhdGl2ZSBVUkxzIGluc2lkZSBzcmNzZXQgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IHJlc29sdmVkIHRvIGFic29sdXRlIFVSTHMgYnlcblx0XHRcdFx0Ly8gYnJvd3NlcnMgKGluIGNvbnRyYXN0IHRvIGltZy5zcmMpLiBUaGlzIG1lYW5zIGJvdGggU1NSIGFuZCBET00gY29kZSBjb3VsZFxuXHRcdFx0XHQvLyBjb250YWluIHJlbGF0aXZlIG9yIGFic29sdXRlIFVSTHMuXG5cdFx0XHRcdChzcmNfdXJsX2VxdWFsKGVsZW1lbnRfdXJsc1tpXVswXSwgdXJsKSB8fCBzcmNfdXJsX2VxdWFsKHVybCwgZWxlbWVudF91cmxzW2ldWzBdKSlcblx0XHQpXG5cdCk7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3RfZXF1YWwoYSwgYikge1xuXHRyZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYjtcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2VtcHR5KG9iaikge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZV9zdG9yZShzdG9yZSwgbmFtZSkge1xuXHRpZiAoc3RvcmUgIT0gbnVsbCAmJiB0eXBlb2Ygc3RvcmUuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGAnJHtuYW1lfScgaXMgbm90IGEgc3RvcmUgd2l0aCBhICdzdWJzY3JpYmUnIG1ldGhvZGApO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmUoc3RvcmUsIC4uLmNhbGxiYWNrcykge1xuXHRpZiAoc3RvcmUgPT0gbnVsbCkge1xuXHRcdGZvciAoY29uc3QgY2FsbGJhY2sgb2YgY2FsbGJhY2tzKSB7XG5cdFx0XHRjYWxsYmFjayh1bmRlZmluZWQpO1xuXHRcdH1cblx0XHRyZXR1cm4gbm9vcDtcblx0fVxuXHRjb25zdCB1bnN1YiA9IHN0b3JlLnN1YnNjcmliZSguLi5jYWxsYmFja3MpO1xuXHRyZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IHZhbHVlIGZyb20gYSBzdG9yZSBieSBzdWJzY3JpYmluZyBhbmQgaW1tZWRpYXRlbHkgdW5zdWJzY3JpYmluZy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjZ2V0XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL3N0b3JlL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fSBzdG9yZVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfc3RvcmVfdmFsdWUoc3RvcmUpIHtcblx0bGV0IHZhbHVlO1xuXHRzdWJzY3JpYmUoc3RvcmUsIChfKSA9PiAodmFsdWUgPSBfKSkoKTtcblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50X3N1YnNjcmliZShjb21wb25lbnQsIHN0b3JlLCBjYWxsYmFjaykge1xuXHRjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKHN1YnNjcmliZShzdG9yZSwgY2FsbGJhY2spKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9zbG90KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcblx0aWYgKGRlZmluaXRpb24pIHtcblx0XHRjb25zdCBzbG90X2N0eCA9IGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbik7XG5cdFx0cmV0dXJuIGRlZmluaXRpb25bMF0oc2xvdF9jdHgpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbikge1xuXHRyZXR1cm4gZGVmaW5pdGlvblsxXSAmJiBmbiA/IGFzc2lnbigkJHNjb3BlLmN0eC5zbGljZSgpLCBkZWZpbml0aW9uWzFdKGZuKGN0eCkpKSA6ICQkc2NvcGUuY3R4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3Nsb3RfY2hhbmdlcyhkZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZm4pIHtcblx0aWYgKGRlZmluaXRpb25bMl0gJiYgZm4pIHtcblx0XHRjb25zdCBsZXRzID0gZGVmaW5pdGlvblsyXShmbihkaXJ0eSkpO1xuXHRcdGlmICgkJHNjb3BlLmRpcnR5ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBsZXRzO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGxldHMgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRjb25zdCBtZXJnZWQgPSBbXTtcblx0XHRcdGNvbnN0IGxlbiA9IE1hdGgubWF4KCQkc2NvcGUuZGlydHkubGVuZ3RoLCBsZXRzLmxlbmd0aCk7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG5cdFx0XHRcdG1lcmdlZFtpXSA9ICQkc2NvcGUuZGlydHlbaV0gfCBsZXRzW2ldO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1lcmdlZDtcblx0XHR9XG5cdFx0cmV0dXJuICQkc2NvcGUuZGlydHkgfCBsZXRzO1xuXHR9XG5cdHJldHVybiAkJHNjb3BlLmRpcnR5O1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3Nsb3RfYmFzZShcblx0c2xvdCxcblx0c2xvdF9kZWZpbml0aW9uLFxuXHRjdHgsXG5cdCQkc2NvcGUsXG5cdHNsb3RfY2hhbmdlcyxcblx0Z2V0X3Nsb3RfY29udGV4dF9mblxuKSB7XG5cdGlmIChzbG90X2NoYW5nZXMpIHtcblx0XHRjb25zdCBzbG90X2NvbnRleHQgPSBnZXRfc2xvdF9jb250ZXh0KHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcblx0XHRzbG90LnAoc2xvdF9jb250ZXh0LCBzbG90X2NoYW5nZXMpO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfc2xvdChcblx0c2xvdCxcblx0c2xvdF9kZWZpbml0aW9uLFxuXHRjdHgsXG5cdCQkc2NvcGUsXG5cdGRpcnR5LFxuXHRnZXRfc2xvdF9jaGFuZ2VzX2ZuLFxuXHRnZXRfc2xvdF9jb250ZXh0X2ZuXG4pIHtcblx0Y29uc3Qgc2xvdF9jaGFuZ2VzID0gZ2V0X3Nsb3RfY2hhbmdlcyhzbG90X2RlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBnZXRfc2xvdF9jaGFuZ2VzX2ZuKTtcblx0dXBkYXRlX3Nsb3RfYmFzZShzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgc2xvdF9jaGFuZ2VzLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcbn1cblxuLyoqIEByZXR1cm5zIHthbnlbXSB8IC0xfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9hbGxfZGlydHlfZnJvbV9zY29wZSgkJHNjb3BlKSB7XG5cdGlmICgkJHNjb3BlLmN0eC5sZW5ndGggPiAzMikge1xuXHRcdGNvbnN0IGRpcnR5ID0gW107XG5cdFx0Y29uc3QgbGVuZ3RoID0gJCRzY29wZS5jdHgubGVuZ3RoIC8gMzI7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0ZGlydHlbaV0gPSAtMTtcblx0XHR9XG5cdFx0cmV0dXJuIGRpcnR5O1xuXHR9XG5cdHJldHVybiAtMTtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGNsdWRlX2ludGVybmFsX3Byb3BzKHByb3BzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGsgaW4gcHJvcHMpIGlmIChrWzBdICE9PSAnJCcpIHJlc3VsdFtrXSA9IHByb3BzW2tdO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVfcmVzdF9wcm9wcyhwcm9wcywga2V5cykge1xuXHRjb25zdCByZXN0ID0ge307XG5cdGtleXMgPSBuZXcgU2V0KGtleXMpO1xuXHRmb3IgKGNvbnN0IGsgaW4gcHJvcHMpIGlmICgha2V5cy5oYXMoaykgJiYga1swXSAhPT0gJyQnKSByZXN0W2tdID0gcHJvcHNba107XG5cdHJldHVybiByZXN0O1xufVxuXG4vKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVfc2xvdHMoc2xvdHMpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XG5cdFx0cmVzdWx0W2tleV0gPSB0cnVlO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBAcmV0dXJucyB7KHRoaXM6IGFueSwgLi4uYXJnczogYW55W10pID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gb25jZShmbikge1xuXHRsZXQgcmFuID0gZmFsc2U7XG5cdHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuXHRcdGlmIChyYW4pIHJldHVybjtcblx0XHRyYW4gPSB0cnVlO1xuXHRcdGZuLmNhbGwodGhpcywgLi4uYXJncyk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBudWxsX3RvX2VtcHR5KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdG9yZV92YWx1ZShzdG9yZSwgcmV0LCB2YWx1ZSkge1xuXHRzdG9yZS5zZXQodmFsdWUpO1xuXHRyZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgY29uc3QgaGFzX3Byb3AgPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFjdGlvbl9kZXN0cm95ZXIoYWN0aW9uX3Jlc3VsdCkge1xuXHRyZXR1cm4gYWN0aW9uX3Jlc3VsdCAmJiBpc19mdW5jdGlvbihhY3Rpb25fcmVzdWx0LmRlc3Ryb3kpID8gYWN0aW9uX3Jlc3VsdC5kZXN0cm95IDogbm9vcDtcbn1cblxuLyoqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnMge1tudW1iZXIsIHN0cmluZ119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdF9jc3NfdW5pdCh2YWx1ZSkge1xuXHRjb25zdCBzcGxpdCA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUubWF0Y2goL15cXHMqKC0/W1xcZC5dKykoW15cXHNdKilcXHMqJC8pO1xuXHRyZXR1cm4gc3BsaXQgPyBbcGFyc2VGbG9hdChzcGxpdFsxXSksIHNwbGl0WzJdIHx8ICdweCddIDogWy8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodmFsdWUpLCAncHgnXTtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzID0gWycnLCB0cnVlLCAxLCAndHJ1ZScsICdjb250ZW50ZWRpdGFibGUnXTtcbiIsImltcG9ydCB7IG5vb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuZXhwb3J0IGNvbnN0IGlzX2NsaWVudCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuXG4vKiogQHR5cGUgeygpID0+IG51bWJlcn0gKi9cbmV4cG9ydCBsZXQgbm93ID0gaXNfY2xpZW50ID8gKCkgPT4gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpIDogKCkgPT4gRGF0ZS5ub3coKTtcblxuZXhwb3J0IGxldCByYWYgPSBpc19jbGllbnQgPyAoY2IpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZShjYikgOiBub29wO1xuXG4vLyB1c2VkIGludGVybmFsbHkgZm9yIHRlc3Rpbmdcbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfbm93KGZuKSB7XG5cdG5vdyA9IGZuO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3JhZihmbikge1xuXHRyYWYgPSBmbjtcbn1cbiIsImltcG9ydCB7IHJhZiB9IGZyb20gJy4vZW52aXJvbm1lbnQuanMnO1xuXG5jb25zdCB0YXNrcyA9IG5ldyBTZXQoKTtcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbm93XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gcnVuX3Rhc2tzKG5vdykge1xuXHR0YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XG5cdFx0aWYgKCF0YXNrLmMobm93KSkge1xuXHRcdFx0dGFza3MuZGVsZXRlKHRhc2spO1xuXHRcdFx0dGFzay5mKCk7XG5cdFx0fVxuXHR9KTtcblx0aWYgKHRhc2tzLnNpemUgIT09IDApIHJhZihydW5fdGFza3MpO1xufVxuXG4vKipcbiAqIEZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkhXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyX2xvb3BzKCkge1xuXHR0YXNrcy5jbGVhcigpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdGFzayB0aGF0IHJ1bnMgb24gZWFjaCByYWYgZnJhbWVcbiAqIHVudGlsIGl0IHJldHVybnMgYSBmYWxzeSB2YWx1ZSBvciBpcyBhYm9ydGVkXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuVGFza0NhbGxiYWNrfSBjYWxsYmFja1xuICogQHJldHVybnMge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuVGFza31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvb3AoY2FsbGJhY2spIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlRhc2tFbnRyeX0gKi9cblx0bGV0IHRhc2s7XG5cdGlmICh0YXNrcy5zaXplID09PSAwKSByYWYocnVuX3Rhc2tzKTtcblx0cmV0dXJuIHtcblx0XHRwcm9taXNlOiBuZXcgUHJvbWlzZSgoZnVsZmlsbCkgPT4ge1xuXHRcdFx0dGFza3MuYWRkKCh0YXNrID0geyBjOiBjYWxsYmFjaywgZjogZnVsZmlsbCB9KSk7XG5cdFx0fSksXG5cdFx0YWJvcnQoKSB7XG5cdFx0XHR0YXNrcy5kZWxldGUodGFzayk7XG5cdFx0fVxuXHR9O1xufVxuIiwiaW1wb3J0IHsgY29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMsIGhhc19wcm9wIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlclNpbmdsZXRvbi5qcyc7XG5cbi8vIFRyYWNrIHdoaWNoIG5vZGVzIGFyZSBjbGFpbWVkIGR1cmluZyBoeWRyYXRpb24uIFVuY2xhaW1lZCBub2RlcyBjYW4gdGhlbiBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxuLy8gYXQgdGhlIGVuZCBvZiBoeWRyYXRpb24gd2l0aG91dCB0b3VjaGluZyB0aGUgcmVtYWluaW5nIG5vZGVzLlxubGV0IGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRfaHlkcmF0aW5nKCkge1xuXHRpc19oeWRyYXRpbmcgPSB0cnVlO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kX2h5ZHJhdGluZygpIHtcblx0aXNfaHlkcmF0aW5nID0gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGxvd1xuICogQHBhcmFtIHtudW1iZXJ9IGhpZ2hcbiAqIEBwYXJhbSB7KGluZGV4OiBudW1iZXIpID0+IG51bWJlcn0ga2V5XG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHVwcGVyX2JvdW5kKGxvdywgaGlnaCwga2V5LCB2YWx1ZSkge1xuXHQvLyBSZXR1cm4gZmlyc3QgaW5kZXggb2YgdmFsdWUgbGFyZ2VyIHRoYW4gaW5wdXQgdmFsdWUgaW4gdGhlIHJhbmdlIFtsb3csIGhpZ2gpXG5cdHdoaWxlIChsb3cgPCBoaWdoKSB7XG5cdFx0Y29uc3QgbWlkID0gbG93ICsgKChoaWdoIC0gbG93KSA+PiAxKTtcblx0XHRpZiAoa2V5KG1pZCkgPD0gdmFsdWUpIHtcblx0XHRcdGxvdyA9IG1pZCArIDE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhpZ2ggPSBtaWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBsb3c7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGluaXRfaHlkcmF0ZSh0YXJnZXQpIHtcblx0aWYgKHRhcmdldC5oeWRyYXRlX2luaXQpIHJldHVybjtcblx0dGFyZ2V0Lmh5ZHJhdGVfaW5pdCA9IHRydWU7XG5cdC8vIFdlIGtub3cgdGhhdCBhbGwgY2hpbGRyZW4gaGF2ZSBjbGFpbV9vcmRlciB2YWx1ZXMgc2luY2UgdGhlIHVuY2xhaW1lZCBoYXZlIGJlZW4gZGV0YWNoZWQgaWYgdGFyZ2V0IGlzIG5vdCA8aGVhZD5cblxuXHRsZXQgY2hpbGRyZW4gPSAvKiogQHR5cGUge0FycmF5TGlrZTxOb2RlRXgyPn0gKi8gKHRhcmdldC5jaGlsZE5vZGVzKTtcblx0Ly8gSWYgdGFyZ2V0IGlzIDxoZWFkPiwgdGhlcmUgbWF5IGJlIGNoaWxkcmVuIHdpdGhvdXQgY2xhaW1fb3JkZXJcblx0aWYgKHRhcmdldC5ub2RlTmFtZSA9PT0gJ0hFQUQnKSB7XG5cdFx0Y29uc3QgbXlfY2hpbGRyZW4gPSBbXTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBub2RlID0gY2hpbGRyZW5baV07XG5cdFx0XHRpZiAobm9kZS5jbGFpbV9vcmRlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG15X2NoaWxkcmVuLnB1c2gobm9kZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNoaWxkcmVuID0gbXlfY2hpbGRyZW47XG5cdH1cblx0Lypcblx0ICogUmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseS5cblx0ICogV2UgY2FuIHJlb3JkZXIgY2xhaW1lZCBjaGlsZHJlbiBvcHRpbWFsbHkgYnkgZmluZGluZyB0aGUgbG9uZ2VzdCBzdWJzZXF1ZW5jZSBvZlxuXHQgKiBub2RlcyB0aGF0IGFyZSBhbHJlYWR5IGNsYWltZWQgaW4gb3JkZXIgYW5kIG9ubHkgbW92aW5nIHRoZSByZXN0LiBUaGUgbG9uZ2VzdFxuXHQgKiBzdWJzZXF1ZW5jZSBvZiBub2RlcyB0aGF0IGFyZSBjbGFpbWVkIGluIG9yZGVyIGNhbiBiZSBmb3VuZCBieVxuXHQgKiBjb21wdXRpbmcgdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiAuY2xhaW1fb3JkZXIgdmFsdWVzLlxuXHQgKlxuXHQgKiBUaGlzIGFsZ29yaXRobSBpcyBvcHRpbWFsIGluIGdlbmVyYXRpbmcgdGhlIGxlYXN0IGFtb3VudCBvZiByZW9yZGVyIG9wZXJhdGlvbnNcblx0ICogcG9zc2libGUuXG5cdCAqXG5cdCAqIFByb29mOlxuXHQgKiBXZSBrbm93IHRoYXQsIGdpdmVuIGEgc2V0IG9mIHJlb3JkZXJpbmcgb3BlcmF0aW9ucywgdGhlIG5vZGVzIHRoYXQgZG8gbm90IG1vdmVcblx0ICogYWx3YXlzIGZvcm0gYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSwgc2luY2UgdGhleSBkbyBub3QgbW92ZSBhbW9uZyBlYWNoIG90aGVyXG5cdCAqIG1lYW5pbmcgdGhhdCB0aGV5IG11c3QgYmUgYWxyZWFkeSBvcmRlcmVkIGFtb25nIGVhY2ggb3RoZXIuIFRodXMsIHRoZSBtYXhpbWFsXG5cdCAqIHNldCBvZiBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlIGZvcm0gYSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2UuXG5cdCAqL1xuXHQvLyBDb21wdXRlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuXHQvLyBtOiBzdWJzZXF1ZW5jZSBsZW5ndGggaiA9PiBpbmRleCBrIG9mIHNtYWxsZXN0IHZhbHVlIHRoYXQgZW5kcyBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGxlbmd0aCBqXG5cdGNvbnN0IG0gPSBuZXcgSW50MzJBcnJheShjaGlsZHJlbi5sZW5ndGggKyAxKTtcblx0Ly8gUHJlZGVjZXNzb3IgaW5kaWNlcyArIDFcblx0Y29uc3QgcCA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCk7XG5cdG1bMF0gPSAtMTtcblx0bGV0IGxvbmdlc3QgPSAwO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGNoaWxkcmVuW2ldLmNsYWltX29yZGVyO1xuXHRcdC8vIEZpbmQgdGhlIGxhcmdlc3Qgc3Vic2VxdWVuY2UgbGVuZ3RoIHN1Y2ggdGhhdCBpdCBlbmRzIGluIGEgdmFsdWUgbGVzcyB0aGFuIG91ciBjdXJyZW50IHZhbHVlXG5cdFx0Ly8gdXBwZXJfYm91bmQgcmV0dXJucyBmaXJzdCBncmVhdGVyIHZhbHVlLCBzbyB3ZSBzdWJ0cmFjdCBvbmVcblx0XHQvLyB3aXRoIGZhc3QgcGF0aCBmb3Igd2hlbiB3ZSBhcmUgb24gdGhlIGN1cnJlbnQgbG9uZ2VzdCBzdWJzZXF1ZW5jZVxuXHRcdGNvbnN0IHNlcV9sZW4gPVxuXHRcdFx0KGxvbmdlc3QgPiAwICYmIGNoaWxkcmVuW21bbG9uZ2VzdF1dLmNsYWltX29yZGVyIDw9IGN1cnJlbnRcblx0XHRcdFx0PyBsb25nZXN0ICsgMVxuXHRcdFx0XHQ6IHVwcGVyX2JvdW5kKDEsIGxvbmdlc3QsIChpZHgpID0+IGNoaWxkcmVuW21baWR4XV0uY2xhaW1fb3JkZXIsIGN1cnJlbnQpKSAtIDE7XG5cdFx0cFtpXSA9IG1bc2VxX2xlbl0gKyAxO1xuXHRcdGNvbnN0IG5ld19sZW4gPSBzZXFfbGVuICsgMTtcblx0XHQvLyBXZSBjYW4gZ3VhcmFudGVlIHRoYXQgY3VycmVudCBpcyB0aGUgc21hbGxlc3QgdmFsdWUuIE90aGVyd2lzZSwgd2Ugd291bGQgaGF2ZSBnZW5lcmF0ZWQgYSBsb25nZXIgc2VxdWVuY2UuXG5cdFx0bVtuZXdfbGVuXSA9IGk7XG5cdFx0bG9uZ2VzdCA9IE1hdGgubWF4KG5ld19sZW4sIGxvbmdlc3QpO1xuXHR9XG5cdC8vIFRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2Ygbm9kZXMgKGluaXRpYWxseSByZXZlcnNlZClcblxuXHQvKipcblx0ICogQHR5cGUge05vZGVFeDJbXX1cblx0ICovXG5cdGNvbnN0IGxpcyA9IFtdO1xuXHQvLyBUaGUgcmVzdCBvZiB0aGUgbm9kZXMsIG5vZGVzIHRoYXQgd2lsbCBiZSBtb3ZlZFxuXG5cdC8qKlxuXHQgKiBAdHlwZSB7Tm9kZUV4MltdfVxuXHQgKi9cblx0Y29uc3QgdG9fbW92ZSA9IFtdO1xuXHRsZXQgbGFzdCA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7XG5cdGZvciAobGV0IGN1ciA9IG1bbG9uZ2VzdF0gKyAxOyBjdXIgIT0gMDsgY3VyID0gcFtjdXIgLSAxXSkge1xuXHRcdGxpcy5wdXNoKGNoaWxkcmVuW2N1ciAtIDFdKTtcblx0XHRmb3IgKDsgbGFzdCA+PSBjdXI7IGxhc3QtLSkge1xuXHRcdFx0dG9fbW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcblx0XHR9XG5cdFx0bGFzdC0tO1xuXHR9XG5cdGZvciAoOyBsYXN0ID49IDA7IGxhc3QtLSkge1xuXHRcdHRvX21vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG5cdH1cblx0bGlzLnJldmVyc2UoKTtcblx0Ly8gV2Ugc29ydCB0aGUgbm9kZXMgYmVpbmcgbW92ZWQgdG8gZ3VhcmFudGVlIHRoYXQgdGhlaXIgaW5zZXJ0aW9uIG9yZGVyIG1hdGNoZXMgdGhlIGNsYWltIG9yZGVyXG5cdHRvX21vdmUuc29ydCgoYSwgYikgPT4gYS5jbGFpbV9vcmRlciAtIGIuY2xhaW1fb3JkZXIpO1xuXHQvLyBGaW5hbGx5LCB3ZSBtb3ZlIHRoZSBub2Rlc1xuXHRmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCB0b19tb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0d2hpbGUgKGogPCBsaXMubGVuZ3RoICYmIHRvX21vdmVbaV0uY2xhaW1fb3JkZXIgPj0gbGlzW2pdLmNsYWltX29yZGVyKSB7XG5cdFx0XHRqKys7XG5cdFx0fVxuXHRcdGNvbnN0IGFuY2hvciA9IGogPCBsaXMubGVuZ3RoID8gbGlzW2pdIDogbnVsbDtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHRvX21vdmVbaV0sIGFuY2hvcik7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZCh0YXJnZXQsIG5vZGUpIHtcblx0dGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVfc2hlZXRfaWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX3N0eWxlcyh0YXJnZXQsIHN0eWxlX3NoZWV0X2lkLCBzdHlsZXMpIHtcblx0Y29uc3QgYXBwZW5kX3N0eWxlc190byA9IGdldF9yb290X2Zvcl9zdHlsZSh0YXJnZXQpO1xuXHRpZiAoIWFwcGVuZF9zdHlsZXNfdG8uZ2V0RWxlbWVudEJ5SWQoc3R5bGVfc2hlZXRfaWQpKSB7XG5cdFx0Y29uc3Qgc3R5bGUgPSBlbGVtZW50KCdzdHlsZScpO1xuXHRcdHN0eWxlLmlkID0gc3R5bGVfc2hlZXRfaWQ7XG5cdFx0c3R5bGUudGV4dENvbnRlbnQgPSBzdHlsZXM7XG5cdFx0YXBwZW5kX3N0eWxlc2hlZXQoYXBwZW5kX3N0eWxlc190bywgc3R5bGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7U2hhZG93Um9vdCB8IERvY3VtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpIHtcblx0aWYgKCFub2RlKSByZXR1cm4gZG9jdW1lbnQ7XG5cdGNvbnN0IHJvb3QgPSBub2RlLmdldFJvb3ROb2RlID8gbm9kZS5nZXRSb290Tm9kZSgpIDogbm9kZS5vd25lckRvY3VtZW50O1xuXHRpZiAocm9vdCAmJiAvKiogQHR5cGUge1NoYWRvd1Jvb3R9ICovIChyb290KS5ob3N0KSB7XG5cdFx0cmV0dXJuIC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3QpO1xuXHR9XG5cdHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7Q1NTU3R5bGVTaGVldH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9lbXB0eV9zdHlsZXNoZWV0KG5vZGUpIHtcblx0Y29uc3Qgc3R5bGVfZWxlbWVudCA9IGVsZW1lbnQoJ3N0eWxlJyk7XG5cdC8vIEZvciB0cmFuc2l0aW9ucyB0byB3b3JrIHdpdGhvdXQgJ3N0eWxlLXNyYzogdW5zYWZlLWlubGluZScgQ29udGVudCBTZWN1cml0eSBQb2xpY3ksXG5cdC8vIHRoZXNlIGVtcHR5IHRhZ3MgbmVlZCB0byBiZSBhbGxvd2VkIHdpdGggYSBoYXNoIGFzIGEgd29ya2Fyb3VuZCB1bnRpbCB3ZSBtb3ZlIHRvIHRoZSBXZWIgQW5pbWF0aW9ucyBBUEkuXG5cdC8vIFVzaW5nIHRoZSBoYXNoIGZvciB0aGUgZW1wdHkgc3RyaW5nIChmb3IgYW4gZW1wdHkgdGFnKSB3b3JrcyBpbiBhbGwgYnJvd3NlcnMgZXhjZXB0IFNhZmFyaS5cblx0Ly8gU28gYXMgYSB3b3JrYXJvdW5kIGZvciB0aGUgd29ya2Fyb3VuZCwgd2hlbiB3ZSBhcHBlbmQgZW1wdHkgc3R5bGUgdGFncyB3ZSBzZXQgdGhlaXIgY29udGVudCB0byAvKiBlbXB0eSAqLy5cblx0Ly8gVGhlIGhhc2ggJ3NoYTI1Ni05T2xOTzBETkVlYVZ6SEw0Ulp3Q0xzQkhBOFdCUTh0b0JwLzRGNVhWMm5jPScgd2lsbCB0aGVuIHdvcmsgZXZlbiBpbiBTYWZhcmkuXG5cdHN0eWxlX2VsZW1lbnQudGV4dENvbnRlbnQgPSAnLyogZW1wdHkgKi8nO1xuXHRhcHBlbmRfc3R5bGVzaGVldChnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSksIHN0eWxlX2VsZW1lbnQpO1xuXHRyZXR1cm4gc3R5bGVfZWxlbWVudC5zaGVldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1NoYWRvd1Jvb3QgfCBEb2N1bWVudH0gbm9kZVxuICogQHBhcmFtIHtIVE1MU3R5bGVFbGVtZW50fSBzdHlsZVxuICogQHJldHVybnMge0NTU1N0eWxlU2hlZXR9XG4gKi9cbmZ1bmN0aW9uIGFwcGVuZF9zdHlsZXNoZWV0KG5vZGUsIHN0eWxlKSB7XG5cdGFwcGVuZCgvKiogQHR5cGUge0RvY3VtZW50fSAqLyAobm9kZSkuaGVhZCB8fCBub2RlLCBzdHlsZSk7XG5cdHJldHVybiBzdHlsZS5zaGVldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVFeH0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGVFeH0gbm9kZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSkge1xuXHRpZiAoaXNfaHlkcmF0aW5nKSB7XG5cdFx0aW5pdF9oeWRyYXRlKHRhcmdldCk7XG5cdFx0aWYgKFxuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0KHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkICE9PSBudWxsICYmIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLnBhcmVudE5vZGUgIT09IHRhcmdldClcblx0XHQpIHtcblx0XHRcdHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gdGFyZ2V0LmZpcnN0Q2hpbGQ7XG5cdFx0fVxuXHRcdC8vIFNraXAgbm9kZXMgb2YgdW5kZWZpbmVkIG9yZGVyaW5nXG5cdFx0d2hpbGUgKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkICE9PSBudWxsICYmIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLmNsYWltX29yZGVyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQubmV4dFNpYmxpbmc7XG5cdFx0fVxuXHRcdGlmIChub2RlICE9PSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCkge1xuXHRcdFx0Ly8gV2Ugb25seSBpbnNlcnQgaWYgdGhlIG9yZGVyaW5nIG9mIHRoaXMgbm9kZSBzaG91bGQgYmUgbW9kaWZpZWQgb3IgdGhlIHBhcmVudCBub2RlIGlzIG5vdCB0YXJnZXRcblx0XHRcdGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQgfHwgbm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQpIHtcblx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gbm9kZS5uZXh0U2libGluZztcblx0XHR9XG5cdH0gZWxzZSBpZiAobm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQgfHwgbm9kZS5uZXh0U2libGluZyAhPT0gbnVsbCkge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEBwYXJhbSB7Tm9kZX0gW2FuY2hvcl1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG5cdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZUV4fSBub2RlXG4gKiBAcGFyYW0ge05vZGVFeH0gW2FuY2hvcl1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0X2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuXHRpZiAoaXNfaHlkcmF0aW5nICYmICFhbmNob3IpIHtcblx0XHRhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSk7XG5cdH0gZWxzZSBpZiAobm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQgfHwgbm9kZS5uZXh0U2libGluZyAhPSBhbmNob3IpIHtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuXHRpZiAobm9kZS5wYXJlbnROb2RlKSB7XG5cdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9lYWNoKGl0ZXJhdGlvbnMsIGRldGFjaGluZykge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRpZiAoaXRlcmF0aW9uc1tpXSkgaXRlcmF0aW9uc1tpXS5kKGRldGFjaGluZyk7XG5cdH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge2tleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRUYWdOYW1lTWFwW0tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudChuYW1lKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBpc1xuICogQHJldHVybnMge0hUTUxFbGVtZW50VGFnTmFtZU1hcFtLXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRfaXMobmFtZSwgaXMpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSwgeyBpcyB9KTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIHtrZXlvZiBUfSBLXG4gKiBAcGFyYW0ge1R9IG9ialxuICogQHBhcmFtIHtLW119IGV4Y2x1ZGVcbiAqIEByZXR1cm5zIHtQaWNrPFQsIEV4Y2x1ZGU8a2V5b2YgVCwgSz4+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllcyhvYmosIGV4Y2x1ZGUpIHtcblx0Y29uc3QgdGFyZ2V0ID0gLyoqIEB0eXBlIHtQaWNrPFQsIEV4Y2x1ZGU8a2V5b2YgVCwgSz4+fSAqLyAoe30pO1xuXHRmb3IgKGNvbnN0IGsgaW4gb2JqKSB7XG5cdFx0aWYgKFxuXHRcdFx0aGFzX3Byb3Aob2JqLCBrKSAmJlxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0ZXhjbHVkZS5pbmRleE9mKGspID09PSAtMVxuXHRcdCkge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0dGFyZ2V0W2tdID0gb2JqW2tdO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgU1ZHRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHJldHVybnMge1NWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdmdfZWxlbWVudChuYW1lKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbmFtZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFcbiAqIEByZXR1cm5zIHtUZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGV4dChkYXRhKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkYXRhKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7VGV4dH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGFjZSgpIHtcblx0cmV0dXJuIHRleHQoJyAnKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7VGV4dH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eSgpIHtcblx0cmV0dXJuIHRleHQoJycpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XG4gKiBAcmV0dXJucyB7Q29tbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbW1lbnQoY29udGVudCkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudChjb250ZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdH0gaGFuZGxlclxuICogQHBhcmFtIHtib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMgfCBFdmVudExpc3RlbmVyT3B0aW9uc30gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuXHRub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuXHRyZXR1cm4gKCkgPT4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IGFueX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmV2ZW50X2RlZmF1bHQoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IGFueX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9wX3Byb3BhZ2F0aW9uKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BfaW1tZWRpYXRlX3Byb3BhZ2F0aW9uKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gdm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxmKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0aWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcykgZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRydXN0ZWQoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRpZiAoZXZlbnQuaXNUcnVzdGVkKSBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdmFsdWVdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcblx0ZWxzZSBpZiAobm9kZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSAhPT0gdmFsdWUpIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuLyoqXG4gKiBMaXN0IG9mIGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYWx3YXlzIGJlIHNldCB0aHJvdWdoIHRoZSBhdHRyIG1ldGhvZCxcbiAqIGJlY2F1c2UgdXBkYXRpbmcgdGhlbSB0aHJvdWdoIHRoZSBwcm9wZXJ0eSBzZXR0ZXIgZG9lc24ndCB3b3JrIHJlbGlhYmx5LlxuICogSW4gdGhlIGV4YW1wbGUgb2YgYHdpZHRoYC9gaGVpZ2h0YCwgdGhlIHByb2JsZW0gaXMgdGhhdCB0aGUgc2V0dGVyIG9ubHlcbiAqIGFjY2VwdHMgbnVtZXJpYyB2YWx1ZXMsIGJ1dCB0aGUgYXR0cmlidXRlIGNhbiBhbHNvIGJlIHNldCB0byBhIHN0cmluZyBsaWtlIGA1MCVgLlxuICogSWYgdGhpcyBsaXN0IGJlY29tZXMgdG9vIGJpZywgcmV0aGluayB0aGlzIGFwcHJvYWNoLlxuICovXG5jb25zdCBhbHdheXNfc2V0X3Rocm91Z2hfc2V0X2F0dHJpYnV0ZSA9IFsnd2lkdGgnLCAnaGVpZ2h0J107XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge3sgW3g6IHN0cmluZ106IHN0cmluZyB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcblx0Ly8gQHRzLWlnbm9yZVxuXHRjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG5vZGUuX19wcm90b19fKTtcblx0Zm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdGlmIChhdHRyaWJ1dGVzW2tleV0gPT0gbnVsbCkge1xuXHRcdFx0bm9kZS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcblx0XHR9IGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuXHRcdFx0bm9kZS5zdHlsZS5jc3NUZXh0ID0gYXR0cmlidXRlc1trZXldO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnX192YWx1ZScpIHtcblx0XHRcdC8qKiBAdHlwZSB7YW55fSAqLyAobm9kZSkudmFsdWUgPSBub2RlW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdGRlc2NyaXB0b3JzW2tleV0gJiZcblx0XHRcdGRlc2NyaXB0b3JzW2tleV0uc2V0ICYmXG5cdFx0XHRhbHdheXNfc2V0X3Rocm91Z2hfc2V0X2F0dHJpYnV0ZS5pbmRleE9mKGtleSkgPT09IC0xXG5cdFx0KSB7XG5cdFx0XHRub2RlW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHt7IFt4OiBzdHJpbmddOiBzdHJpbmcgfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3ZnX2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuXHRmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0YXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHVua25vd24+fSBkYXRhX21hcFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAobm9kZSwgZGF0YV9tYXApIHtcblx0T2JqZWN0LmtleXMoZGF0YV9tYXApLmZvckVhY2goKGtleSkgPT4ge1xuXHRcdHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIGtleSwgZGF0YV9tYXBba2V5XSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIHByb3AsIHZhbHVlKSB7XG5cdGNvbnN0IGxvd2VyID0gcHJvcC50b0xvd2VyQ2FzZSgpOyAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBleGlzdGluZyBiZWhhdmlvciB3ZSBkbyBsb3dlcmNhc2UgZmlyc3Rcblx0aWYgKGxvd2VyIGluIG5vZGUpIHtcblx0XHRub2RlW2xvd2VyXSA9IHR5cGVvZiBub2RlW2xvd2VyXSA9PT0gJ2Jvb2xlYW4nICYmIHZhbHVlID09PSAnJyA/IHRydWUgOiB2YWx1ZTtcblx0fSBlbHNlIGlmIChwcm9wIGluIG5vZGUpIHtcblx0XHRub2RlW3Byb3BdID0gdHlwZW9mIG5vZGVbcHJvcF0gPT09ICdib29sZWFuJyAmJiB2YWx1ZSA9PT0gJycgPyB0cnVlIDogdmFsdWU7XG5cdH0gZWxzZSB7XG5cdFx0YXR0cihub2RlLCBwcm9wLCB2YWx1ZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZHluYW1pY19lbGVtZW50X2RhdGEodGFnKSB7XG5cdHJldHVybiAvLS8udGVzdCh0YWcpID8gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGFfbWFwIDogc2V0X2F0dHJpYnV0ZXM7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB4bGlua19hdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcblx0bm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfc3ZlbHRlX2RhdGFzZXQobm9kZSkge1xuXHRyZXR1cm4gbm9kZS5kYXRhc2V0LnN2ZWx0ZUg7XG59XG5cbi8qKlxuICogQHJldHVybnMge3Vua25vd25bXX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cF92YWx1ZShncm91cCwgX192YWx1ZSwgY2hlY2tlZCkge1xuXHRjb25zdCB2YWx1ZSA9IG5ldyBTZXQoKTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGlmIChncm91cFtpXS5jaGVja2VkKSB2YWx1ZS5hZGQoZ3JvdXBbaV0uX192YWx1ZSk7XG5cdH1cblx0aWYgKCFjaGVja2VkKSB7XG5cdFx0dmFsdWUuZGVsZXRlKF9fdmFsdWUpO1xuXHR9XG5cdHJldHVybiBBcnJheS5mcm9tKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnRbXX0gZ3JvdXBcbiAqIEByZXR1cm5zIHt7IHAoLi4uaW5wdXRzOiBIVE1MSW5wdXRFbGVtZW50W10pOiB2b2lkOyByKCk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50W119ICovXG5cdGxldCBfaW5wdXRzO1xuXHRyZXR1cm4ge1xuXHRcdC8qIHB1c2ggKi8gcCguLi5pbnB1dHMpIHtcblx0XHRcdF9pbnB1dHMgPSBpbnB1dHM7XG5cdFx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBncm91cC5wdXNoKGlucHV0KSk7XG5cdFx0fSxcblx0XHQvKiByZW1vdmUgKi8gcigpIHtcblx0XHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IGdyb3VwLnNwbGljZShncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzXG4gKiBAcmV0dXJucyB7eyB1KG5ld19pbmRleGVzOiBudW1iZXJbXSk6IHZvaWQ7IHAoLi4uaW5wdXRzOiBIVE1MSW5wdXRFbGVtZW50W10pOiB2b2lkOyByOiAoKSA9PiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdF9iaW5kaW5nX2dyb3VwX2R5bmFtaWMoZ3JvdXAsIGluZGV4ZXMpIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50W119ICovXG5cdGxldCBfZ3JvdXAgPSBnZXRfYmluZGluZ19ncm91cChncm91cCk7XG5cblx0LyoqXG5cdCAqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50W119ICovXG5cdGxldCBfaW5wdXRzO1xuXG5cdGZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRncm91cCA9IGdyb3VwW2luZGV4ZXNbaV1dID0gZ3JvdXBbaW5kZXhlc1tpXV0gfHwgW107XG5cdFx0fVxuXHRcdHJldHVybiBncm91cDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gcHVzaCgpIHtcblx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBfZ3JvdXAucHVzaChpbnB1dCkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiByZW1vdmUoKSB7XG5cdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gX2dyb3VwLnNwbGljZShfZ3JvdXAuaW5kZXhPZihpbnB1dCksIDEpKTtcblx0fVxuXHRyZXR1cm4ge1xuXHRcdC8qIHVwZGF0ZSAqLyB1KG5ld19pbmRleGVzKSB7XG5cdFx0XHRpbmRleGVzID0gbmV3X2luZGV4ZXM7XG5cdFx0XHRjb25zdCBuZXdfZ3JvdXAgPSBnZXRfYmluZGluZ19ncm91cChncm91cCk7XG5cdFx0XHRpZiAobmV3X2dyb3VwICE9PSBfZ3JvdXApIHtcblx0XHRcdFx0cmVtb3ZlKCk7XG5cdFx0XHRcdF9ncm91cCA9IG5ld19ncm91cDtcblx0XHRcdFx0cHVzaCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0LyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuXHRcdFx0X2lucHV0cyA9IGlucHV0cztcblx0XHRcdHB1c2goKTtcblx0XHR9LFxuXHRcdC8qIHJlbW92ZSAqLyByOiByZW1vdmVcblx0fTtcbn1cblxuLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG5leHBvcnQgZnVuY3Rpb24gdG9fbnVtYmVyKHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZSA9PT0gJycgPyBudWxsIDogK3ZhbHVlO1xufVxuXG4vKiogQHJldHVybnMge2FueVtdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVfcmFuZ2VzX3RvX2FycmF5KHJhbmdlcykge1xuXHRjb25zdCBhcnJheSA9IFtdO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGFycmF5LnB1c2goeyBzdGFydDogcmFuZ2VzLnN0YXJ0KGkpLCBlbmQ6IHJhbmdlcy5lbmQoaSkgfSk7XG5cdH1cblx0cmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0NoaWxkTm9kZVtdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRyZW4oZWxlbWVudCkge1xuXHRyZXR1cm4gQXJyYXkuZnJvbShlbGVtZW50LmNoaWxkTm9kZXMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gaW5pdF9jbGFpbV9pbmZvKG5vZGVzKSB7XG5cdGlmIChub2Rlcy5jbGFpbV9pbmZvID09PSB1bmRlZmluZWQpIHtcblx0XHRub2Rlcy5jbGFpbV9pbmZvID0geyBsYXN0X2luZGV4OiAwLCB0b3RhbF9jbGFpbWVkOiAwIH07XG5cdH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge0NoaWxkTm9kZUV4fSBSXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHsobm9kZTogQ2hpbGROb2RlRXgpID0+IG5vZGUgaXMgUn0gcHJlZGljYXRlXG4gKiBAcGFyYW0geyhub2RlOiBDaGlsZE5vZGVFeCkgPT4gQ2hpbGROb2RlRXggfCB1bmRlZmluZWR9IHByb2Nlc3Nfbm9kZVxuICogQHBhcmFtIHsoKSA9PiBSfSBjcmVhdGVfbm9kZVxuICogQHBhcmFtIHtib29sZWFufSBkb250X3VwZGF0ZV9sYXN0X2luZGV4XG4gKiBAcmV0dXJucyB7Un1cbiAqL1xuZnVuY3Rpb24gY2xhaW1fbm9kZShub2RlcywgcHJlZGljYXRlLCBwcm9jZXNzX25vZGUsIGNyZWF0ZV9ub2RlLCBkb250X3VwZGF0ZV9sYXN0X2luZGV4ID0gZmFsc2UpIHtcblx0Ly8gVHJ5IHRvIGZpbmQgbm9kZXMgaW4gYW4gb3JkZXIgc3VjaCB0aGF0IHdlIGxlbmd0aGVuIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Vcblx0aW5pdF9jbGFpbV9pbmZvKG5vZGVzKTtcblx0Y29uc3QgcmVzdWx0X25vZGUgPSAoKCkgPT4ge1xuXHRcdC8vIFdlIGZpcnN0IHRyeSB0byBmaW5kIGFuIGVsZW1lbnQgYWZ0ZXIgdGhlIHByZXZpb3VzIG9uZVxuXHRcdGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXg7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdFx0aWYgKHByZWRpY2F0ZShub2RlKSkge1xuXHRcdFx0XHRjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3Nfbm9kZShub2RlKTtcblx0XHRcdFx0aWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRub2Rlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bm9kZXNbaV0gPSByZXBsYWNlbWVudDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIWRvbnRfdXBkYXRlX2xhc3RfaW5kZXgpIHtcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBub2RlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBPdGhlcndpc2UsIHdlIHRyeSB0byBmaW5kIG9uZSBiZWZvcmVcblx0XHQvLyBXZSBpdGVyYXRlIGluIHJldmVyc2Ugc28gdGhhdCB3ZSBkb24ndCBnbyB0b28gZmFyIGJhY2tcblx0XHRmb3IgKGxldCBpID0gbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcblx0XHRcdGlmIChwcmVkaWNhdGUobm9kZSkpIHtcblx0XHRcdFx0Y29uc3QgcmVwbGFjZW1lbnQgPSBwcm9jZXNzX25vZGUobm9kZSk7XG5cdFx0XHRcdGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bm9kZXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5vZGVzW2ldID0gcmVwbGFjZW1lbnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFkb250X3VwZGF0ZV9sYXN0X2luZGV4KSB7XG5cdFx0XHRcdFx0bm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4ID0gaTtcblx0XHRcdFx0fSBlbHNlIGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ly8gU2luY2Ugd2Ugc3BsaWNlZCBiZWZvcmUgdGhlIGxhc3RfaW5kZXgsIHdlIGRlY3JlYXNlIGl0XG5cdFx0XHRcdFx0bm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4LS07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIElmIHdlIGNhbid0IGZpbmQgYW55IG1hdGNoaW5nIG5vZGUsIHdlIGNyZWF0ZSBhIG5ldyBvbmVcblx0XHRyZXR1cm4gY3JlYXRlX25vZGUoKTtcblx0fSkoKTtcblx0cmVzdWx0X25vZGUuY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG5cdG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZCArPSAxO1xuXHRyZXR1cm4gcmVzdWx0X25vZGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9fSBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0geyhuYW1lOiBzdHJpbmcpID0+IEVsZW1lbnQgfCBTVkdFbGVtZW50fSBjcmVhdGVfZWxlbWVudFxuICogQHJldHVybnMge0VsZW1lbnQgfCBTVkdFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGNyZWF0ZV9lbGVtZW50KSB7XG5cdHJldHVybiBjbGFpbV9ub2RlKFxuXHRcdG5vZGVzLFxuXHRcdC8qKiBAcmV0dXJucyB7bm9kZSBpcyBFbGVtZW50IHwgU1ZHRWxlbWVudH0gKi9cblx0XHQobm9kZSkgPT4gbm9kZS5ub2RlTmFtZSA9PT0gbmFtZSxcblx0XHQvKiogQHBhcmFtIHtFbGVtZW50fSBub2RlICovXG5cdFx0KG5vZGUpID0+IHtcblx0XHRcdGNvbnN0IHJlbW92ZSA9IFtdO1xuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0Y29uc3QgYXR0cmlidXRlID0gbm9kZS5hdHRyaWJ1dGVzW2pdO1xuXHRcdFx0XHRpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdKSB7XG5cdFx0XHRcdFx0cmVtb3ZlLnB1c2goYXR0cmlidXRlLm5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZW1vdmUuZm9yRWFjaCgodikgPT4gbm9kZS5yZW1vdmVBdHRyaWJ1dGUodikpO1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9LFxuXHRcdCgpID0+IGNyZWF0ZV9lbGVtZW50KG5hbWUpXG5cdCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9lbGVtZW50KG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG5cdHJldHVybiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGVsZW1lbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHt7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge0VsZW1lbnQgfCBTVkdFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fc3ZnX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcblx0cmV0dXJuIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgc3ZnX2VsZW1lbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcmV0dXJucyB7VGV4dH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3RleHQobm9kZXMsIGRhdGEpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIFRleHR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDMsXG5cdFx0LyoqIEBwYXJhbSB7VGV4dH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRjb25zdCBkYXRhX3N0ciA9ICcnICsgZGF0YTtcblx0XHRcdGlmIChub2RlLmRhdGEuc3RhcnRzV2l0aChkYXRhX3N0cikpIHtcblx0XHRcdFx0aWYgKG5vZGUuZGF0YS5sZW5ndGggIT09IGRhdGFfc3RyLmxlbmd0aCkge1xuXHRcdFx0XHRcdHJldHVybiBub2RlLnNwbGl0VGV4dChkYXRhX3N0ci5sZW5ndGgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRub2RlLmRhdGEgPSBkYXRhX3N0cjtcblx0XHRcdH1cblx0XHR9LFxuXHRcdCgpID0+IHRleHQoZGF0YSksXG5cdFx0dHJ1ZSAvLyBUZXh0IG5vZGVzIHNob3VsZCBub3QgdXBkYXRlIGxhc3QgaW5kZXggc2luY2UgaXQgaXMgbGlrZWx5IG5vdCB3b3J0aCBpdCB0byBlbGltaW5hdGUgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBhY3R1YWwgZWxlbWVudHNcblx0KTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7VGV4dH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9zcGFjZShub2Rlcykge1xuXHRyZXR1cm4gY2xhaW1fdGV4dChub2RlcywgJyAnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHJldHVybnMge0NvbW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9jb21tZW50KG5vZGVzLCBkYXRhKSB7XG5cdHJldHVybiBjbGFpbV9ub2RlKFxuXHRcdG5vZGVzLFxuXHRcdC8qKiBAcmV0dXJucyB7bm9kZSBpcyBDb21tZW50fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4LFxuXHRcdC8qKiBAcGFyYW0ge0NvbW1lbnR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0bm9kZS5kYXRhID0gJycgKyBkYXRhO1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9LFxuXHRcdCgpID0+IGNvbW1lbnQoZGF0YSksXG5cdFx0dHJ1ZVxuXHQpO1xufVxuXG5mdW5jdGlvbiBnZXRfY29tbWVudF9pZHgobm9kZXMsIHRleHQsIHN0YXJ0KSB7XG5cdGZvciAobGV0IGkgPSBzdGFydDsgaSA8IG5vZGVzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIGNvbW1lbnQgbm9kZSAqLyAmJiBub2RlLnRleHRDb250ZW50LnRyaW0oKSA9PT0gdGV4dCkge1xuXHRcdFx0cmV0dXJuIGk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzX3N2Z1xuICogQHJldHVybnMge0h0bWxUYWdIeWRyYXRpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9odG1sX3RhZyhub2RlcywgaXNfc3ZnKSB7XG5cdC8vIGZpbmQgaHRtbCBvcGVuaW5nIHRhZ1xuXHRjb25zdCBzdGFydF9pbmRleCA9IGdldF9jb21tZW50X2lkeChub2RlcywgJ0hUTUxfVEFHX1NUQVJUJywgMCk7XG5cdGNvbnN0IGVuZF9pbmRleCA9IGdldF9jb21tZW50X2lkeChub2RlcywgJ0hUTUxfVEFHX0VORCcsIHN0YXJ0X2luZGV4ICsgMSk7XG5cdGlmIChzdGFydF9pbmRleCA9PT0gLTEgfHwgZW5kX2luZGV4ID09PSAtMSkge1xuXHRcdHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbihpc19zdmcpO1xuXHR9XG5cblx0aW5pdF9jbGFpbV9pbmZvKG5vZGVzKTtcblx0Y29uc3QgaHRtbF90YWdfbm9kZXMgPSBub2Rlcy5zcGxpY2Uoc3RhcnRfaW5kZXgsIGVuZF9pbmRleCAtIHN0YXJ0X2luZGV4ICsgMSk7XG5cdGRldGFjaChodG1sX3RhZ19ub2Rlc1swXSk7XG5cdGRldGFjaChodG1sX3RhZ19ub2Rlc1todG1sX3RhZ19ub2Rlcy5sZW5ndGggLSAxXSk7XG5cdGNvbnN0IGNsYWltZWRfbm9kZXMgPSBodG1sX3RhZ19ub2Rlcy5zbGljZSgxLCBodG1sX3RhZ19ub2Rlcy5sZW5ndGggLSAxKTtcblx0aWYgKGNsYWltZWRfbm9kZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2Zyk7XG5cdH1cblx0Zm9yIChjb25zdCBuIG9mIGNsYWltZWRfbm9kZXMpIHtcblx0XHRuLmNsYWltX29yZGVyID0gbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkO1xuXHRcdG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZCArPSAxO1xuXHR9XG5cdHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbihpc19zdmcsIGNsYWltZWRfbm9kZXMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGV4dH0gdGV4dFxuICogQHBhcmFtIHt1bmtub3dufSBkYXRhXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kYXRhKHRleHQsIGRhdGEpIHtcblx0ZGF0YSA9ICcnICsgZGF0YTtcblx0aWYgKHRleHQuZGF0YSA9PT0gZGF0YSkgcmV0dXJuO1xuXHR0ZXh0LmRhdGEgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGRhdGEpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGV4dH0gdGV4dFxuICogQHBhcmFtIHt1bmtub3dufSBkYXRhXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKSB7XG5cdGRhdGEgPSAnJyArIGRhdGE7XG5cdGlmICh0ZXh0Lndob2xlVGV4dCA9PT0gZGF0YSkgcmV0dXJuO1xuXHR0ZXh0LmRhdGEgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGRhdGEpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGV4dH0gdGV4dFxuICogQHBhcmFtIHt1bmtub3dufSBkYXRhXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cl92YWx1ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZGF0YV9tYXliZV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSwgYXR0cl92YWx1ZSkge1xuXHRpZiAofmNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzLmluZGV4T2YoYXR0cl92YWx1ZSkpIHtcblx0XHRzZXRfZGF0YV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSk7XG5cdH0gZWxzZSB7XG5cdFx0c2V0X2RhdGEodGV4dCwgZGF0YSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaW5wdXRfdmFsdWUoaW5wdXQsIHZhbHVlKSB7XG5cdGlucHV0LnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2lucHV0X3R5cGUoaW5wdXQsIHR5cGUpIHtcblx0dHJ5IHtcblx0XHRpbnB1dC50eXBlID0gdHlwZTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdC8vIGRvIG5vdGhpbmdcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdHlsZShub2RlLCBrZXksIHZhbHVlLCBpbXBvcnRhbnQpIHtcblx0aWYgKHZhbHVlID09IG51bGwpIHtcblx0XHRub2RlLnN0eWxlLnJlbW92ZVByb3BlcnR5KGtleSk7XG5cdH0gZWxzZSB7XG5cdFx0bm9kZS5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlLCBpbXBvcnRhbnQgPyAnaW1wb3J0YW50JyA6ICcnKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF9vcHRpb24oc2VsZWN0LCB2YWx1ZSwgbW91bnRpbmcpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuXHRcdGlmIChvcHRpb24uX192YWx1ZSA9PT0gdmFsdWUpIHtcblx0XHRcdG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cdGlmICghbW91bnRpbmcgfHwgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHNlbGVjdC5zZWxlY3RlZEluZGV4ID0gLTE7IC8vIG5vIG9wdGlvbiBzaG91bGQgYmUgc2VsZWN0ZWRcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF9vcHRpb25zKHNlbGVjdCwgdmFsdWUpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuXHRcdG9wdGlvbi5zZWxlY3RlZCA9IH52YWx1ZS5pbmRleE9mKG9wdGlvbi5fX3ZhbHVlKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X3ZhbHVlKHNlbGVjdCkge1xuXHRjb25zdCBzZWxlY3RlZF9vcHRpb24gPSBzZWxlY3QucXVlcnlTZWxlY3RvcignOmNoZWNrZWQnKTtcblx0cmV0dXJuIHNlbGVjdGVkX29wdGlvbiAmJiBzZWxlY3RlZF9vcHRpb24uX192YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF9tdWx0aXBsZV92YWx1ZShzZWxlY3QpIHtcblx0cmV0dXJuIFtdLm1hcC5jYWxsKHNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKCc6Y2hlY2tlZCcpLCAob3B0aW9uKSA9PiBvcHRpb24uX192YWx1ZSk7XG59XG4vLyB1bmZvcnR1bmF0ZWx5IHRoaXMgY2FuJ3QgYmUgYSBjb25zdGFudCBhcyB0aGF0IHdvdWxkbid0IGJlIHRyZWUtc2hha2VhYmxlXG4vLyBzbyB3ZSBjYWNoZSB0aGUgcmVzdWx0IGluc3RlYWRcblxuLyoqXG4gKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbmxldCBjcm9zc29yaWdpbjtcblxuLyoqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19jcm9zc29yaWdpbigpIHtcblx0aWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQpIHtcblx0XHRjcm9zc29yaWdpbiA9IGZhbHNlO1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBhcmVudCkge1xuXHRcdFx0XHR2b2lkIHdpbmRvdy5wYXJlbnQuZG9jdW1lbnQ7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNyb3Nzb3JpZ2luID0gdHJ1ZTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGNyb3Nzb3JpZ2luO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm5cbiAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX2lmcmFtZV9yZXNpemVfbGlzdGVuZXIobm9kZSwgZm4pIHtcblx0Y29uc3QgY29tcHV0ZWRfc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuXHRpZiAoY29tcHV0ZWRfc3R5bGUucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG5cdFx0bm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG5cdH1cblx0Y29uc3QgaWZyYW1lID0gZWxlbWVudCgnaWZyYW1lJyk7XG5cdGlmcmFtZS5zZXRBdHRyaWJ1dGUoXG5cdFx0J3N0eWxlJyxcblx0XHQnZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyAnICtcblx0XHRcdCdvdmVyZmxvdzogaGlkZGVuOyBib3JkZXI6IDA7IG9wYWNpdHk6IDA7IHBvaW50ZXItZXZlbnRzOiBub25lOyB6LWluZGV4OiAtMTsnXG5cdCk7XG5cdGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblx0aWZyYW1lLnRhYkluZGV4ID0gLTE7XG5cdGNvbnN0IGNyb3Nzb3JpZ2luID0gaXNfY3Jvc3NvcmlnaW4oKTtcblxuXHQvKipcblx0ICogQHR5cGUgeygpID0+IHZvaWR9XG5cdCAqL1xuXHRsZXQgdW5zdWJzY3JpYmU7XG5cdGlmIChjcm9zc29yaWdpbikge1xuXHRcdGlmcmFtZS5zcmMgPSBcImRhdGE6dGV4dC9odG1sLDxzY3JpcHQ+b25yZXNpemU9ZnVuY3Rpb24oKXtwYXJlbnQucG9zdE1lc3NhZ2UoMCwnKicpfTwvc2NyaXB0PlwiO1xuXHRcdHVuc3Vic2NyaWJlID0gbGlzdGVuKFxuXHRcdFx0d2luZG93LFxuXHRcdFx0J21lc3NhZ2UnLFxuXHRcdFx0LyoqIEBwYXJhbSB7TWVzc2FnZUV2ZW50fSBldmVudCAqLyAoZXZlbnQpID0+IHtcblx0XHRcdFx0aWYgKGV2ZW50LnNvdXJjZSA9PT0gaWZyYW1lLmNvbnRlbnRXaW5kb3cpIGZuKCk7XG5cdFx0XHR9XG5cdFx0KTtcblx0fSBlbHNlIHtcblx0XHRpZnJhbWUuc3JjID0gJ2Fib3V0OmJsYW5rJztcblx0XHRpZnJhbWUub25sb2FkID0gKCkgPT4ge1xuXHRcdFx0dW5zdWJzY3JpYmUgPSBsaXN0ZW4oaWZyYW1lLmNvbnRlbnRXaW5kb3csICdyZXNpemUnLCBmbik7XG5cdFx0XHQvLyBtYWtlIHN1cmUgYW4gaW5pdGlhbCByZXNpemUgZXZlbnQgaXMgZmlyZWQgX2FmdGVyXyB0aGUgaWZyYW1lIGlzIGxvYWRlZCAod2hpY2ggaXMgYXN5bmNocm9ub3VzKVxuXHRcdFx0Ly8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvaXNzdWVzLzQyMzNcblx0XHRcdGZuKCk7XG5cdFx0fTtcblx0fVxuXHRhcHBlbmQobm9kZSwgaWZyYW1lKTtcblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoY3Jvc3NvcmlnaW4pIHtcblx0XHRcdHVuc3Vic2NyaWJlKCk7XG5cdFx0fSBlbHNlIGlmICh1bnN1YnNjcmliZSAmJiBpZnJhbWUuY29udGVudFdpbmRvdykge1xuXHRcdFx0dW5zdWJzY3JpYmUoKTtcblx0XHR9XG5cdFx0ZGV0YWNoKGlmcmFtZSk7XG5cdH07XG59XG5leHBvcnQgY29uc3QgcmVzaXplX29ic2VydmVyX2NvbnRlbnRfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbih7XG5cdGJveDogJ2NvbnRlbnQtYm94J1xufSk7XG5leHBvcnQgY29uc3QgcmVzaXplX29ic2VydmVyX2JvcmRlcl9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHtcblx0Ym94OiAnYm9yZGVyLWJveCdcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9kZXZpY2VfcGl4ZWxfY29udGVudF9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKFxuXHR7IGJveDogJ2RldmljZS1waXhlbC1jb250ZW50LWJveCcgfVxuKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uIH07XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlX2NsYXNzKGVsZW1lbnQsIG5hbWUsIHRvZ2dsZSkge1xuXHQvLyBUaGUgYCEhYCBpcyByZXF1aXJlZCBiZWNhdXNlIGFuIGB1bmRlZmluZWRgIGZsYWcgbWVhbnMgZmxpcHBpbmcgdGhlIGN1cnJlbnQgc3RhdGUuXG5cdGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShuYW1lLCAhIXRvZ2dsZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge1R9IFtkZXRhaWxdXG4gKiBAcGFyYW0ge3sgYnViYmxlcz86IGJvb2xlYW4sIGNhbmNlbGFibGU/OiBib29sZWFuIH19IFtvcHRpb25zXVxuICogQHJldHVybnMge0N1c3RvbUV2ZW50PFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCwgeyBidWJibGVzID0gZmFsc2UsIGNhbmNlbGFibGUgPSBmYWxzZSB9ID0ge30pIHtcblx0cmV0dXJuIG5ldyBDdXN0b21FdmVudCh0eXBlLCB7IGRldGFpbCwgYnViYmxlcywgY2FuY2VsYWJsZSB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHJldHVybnMge0NoaWxkTm9kZUFycmF5fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlfc2VsZWN0b3JfYWxsKHNlbGVjdG9yLCBwYXJlbnQgPSBkb2N1bWVudC5ib2R5KSB7XG5cdHJldHVybiBBcnJheS5mcm9tKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5vZGVJZFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gaGVhZFxuICogQHJldHVybnMge2FueVtdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGVhZF9zZWxlY3Rvcihub2RlSWQsIGhlYWQpIHtcblx0Y29uc3QgcmVzdWx0ID0gW107XG5cdGxldCBzdGFydGVkID0gMDtcblx0Zm9yIChjb25zdCBub2RlIG9mIGhlYWQuY2hpbGROb2Rlcykge1xuXHRcdGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIGNvbW1lbnQgbm9kZSAqLykge1xuXHRcdFx0Y29uc3QgY29tbWVudCA9IG5vZGUudGV4dENvbnRlbnQudHJpbSgpO1xuXHRcdFx0aWYgKGNvbW1lbnQgPT09IGBIRUFEXyR7bm9kZUlkfV9FTkRgKSB7XG5cdFx0XHRcdHN0YXJ0ZWQgLT0gMTtcblx0XHRcdFx0cmVzdWx0LnB1c2gobm9kZSk7XG5cdFx0XHR9IGVsc2UgaWYgKGNvbW1lbnQgPT09IGBIRUFEXyR7bm9kZUlkfV9TVEFSVGApIHtcblx0XHRcdFx0c3RhcnRlZCArPSAxO1xuXHRcdFx0XHRyZXN1bHQucHVzaChub2RlKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHN0YXJ0ZWQgPiAwKSB7XG5cdFx0XHRyZXN1bHQucHVzaChub2RlKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cbi8qKiAqL1xuZXhwb3J0IGNsYXNzIEh0bWxUYWcge1xuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGRlZmF1bHQgZmFsc2Vcblx0ICovXG5cdGlzX3N2ZyA9IGZhbHNlO1xuXHQvKiogcGFyZW50IGZvciBjcmVhdGluZyBub2RlICovXG5cdGUgPSB1bmRlZmluZWQ7XG5cdC8qKiBodG1sIHRhZyBub2RlcyAqL1xuXHRuID0gdW5kZWZpbmVkO1xuXHQvKiogdGFyZ2V0ICovXG5cdHQgPSB1bmRlZmluZWQ7XG5cdC8qKiBhbmNob3IgKi9cblx0YSA9IHVuZGVmaW5lZDtcblx0Y29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UpIHtcblx0XHR0aGlzLmlzX3N2ZyA9IGlzX3N2Zztcblx0XHR0aGlzLmUgPSB0aGlzLm4gPSBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0YyhodG1sKSB7XG5cdFx0dGhpcy5oKGh0bWwpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50fSB0YXJnZXRcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnR9IGFuY2hvclxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdG0oaHRtbCwgdGFyZ2V0LCBhbmNob3IgPSBudWxsKSB7XG5cdFx0aWYgKCF0aGlzLmUpIHtcblx0XHRcdGlmICh0aGlzLmlzX3N2Zylcblx0XHRcdFx0dGhpcy5lID0gc3ZnX2VsZW1lbnQoLyoqIEB0eXBlIHtrZXlvZiBTVkdFbGVtZW50VGFnTmFtZU1hcH0gKi8gKHRhcmdldC5ub2RlTmFtZSkpO1xuXHRcdFx0LyoqICM3MzY0ICB0YXJnZXQgZm9yIDx0ZW1wbGF0ZT4gbWF5IGJlIHByb3ZpZGVkIGFzICNkb2N1bWVudC1mcmFnbWVudCgxMSkgKi8gZWxzZVxuXHRcdFx0XHR0aGlzLmUgPSBlbGVtZW50KFxuXHRcdFx0XHRcdC8qKiBAdHlwZSB7a2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwfSAqLyAoXG5cdFx0XHRcdFx0XHR0YXJnZXQubm9kZVR5cGUgPT09IDExID8gJ1RFTVBMQVRFJyA6IHRhcmdldC5ub2RlTmFtZVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KTtcblx0XHRcdHRoaXMudCA9XG5cdFx0XHRcdHRhcmdldC50YWdOYW1lICE9PSAnVEVNUExBVEUnXG5cdFx0XHRcdFx0PyB0YXJnZXRcblx0XHRcdFx0XHQ6IC8qKiBAdHlwZSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8gKHRhcmdldCkuY29udGVudDtcblx0XHRcdHRoaXMuYyhodG1sKTtcblx0XHR9XG5cdFx0dGhpcy5pKGFuY2hvcik7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRoKGh0bWwpIHtcblx0XHR0aGlzLmUuaW5uZXJIVE1MID0gaHRtbDtcblx0XHR0aGlzLm4gPSBBcnJheS5mcm9tKFxuXHRcdFx0dGhpcy5lLm5vZGVOYW1lID09PSAnVEVNUExBVEUnID8gdGhpcy5lLmNvbnRlbnQuY2hpbGROb2RlcyA6IHRoaXMuZS5jaGlsZE5vZGVzXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0aShhbmNob3IpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubi5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0aW5zZXJ0KHRoaXMudCwgdGhpcy5uW2ldLCBhbmNob3IpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdHAoaHRtbCkge1xuXHRcdHRoaXMuZCgpO1xuXHRcdHRoaXMuaChodG1sKTtcblx0XHR0aGlzLmkodGhpcy5hKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZCgpIHtcblx0XHR0aGlzLm4uZm9yRWFjaChkZXRhY2gpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBIdG1sVGFnSHlkcmF0aW9uIGV4dGVuZHMgSHRtbFRhZyB7XG5cdC8qKiBAdHlwZSB7RWxlbWVudFtdfSBoeWRyYXRpb24gY2xhaW1lZCBub2RlcyAqL1xuXHRsID0gdW5kZWZpbmVkO1xuXG5cdGNvbnN0cnVjdG9yKGlzX3N2ZyA9IGZhbHNlLCBjbGFpbWVkX25vZGVzKSB7XG5cdFx0c3VwZXIoaXNfc3ZnKTtcblx0XHR0aGlzLmUgPSB0aGlzLm4gPSBudWxsO1xuXHRcdHRoaXMubCA9IGNsYWltZWRfbm9kZXM7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRjKGh0bWwpIHtcblx0XHRpZiAodGhpcy5sKSB7XG5cdFx0XHR0aGlzLm4gPSB0aGlzLmw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN1cGVyLmMoaHRtbCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRpKGFuY2hvcikge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRpbnNlcnRfaHlkcmF0aW9uKHRoaXMudCwgdGhpcy5uW2ldLCBhbmNob3IpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7TmFtZWROb2RlTWFwfSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7e319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRyaWJ1dGVfdG9fb2JqZWN0KGF0dHJpYnV0ZXMpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGZvciAoY29uc3QgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcblx0XHRyZXN1bHRbYXR0cmlidXRlLm5hbWVdID0gYXR0cmlidXRlLnZhbHVlO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbmNvbnN0IGVzY2FwZWQgPSB7XG5cdCdcIic6ICcmcXVvdDsnLFxuXHQnJic6ICcmYW1wOycsXG5cdCc8JzogJyZsdDsnXG59O1xuXG5jb25zdCByZWdleF9hdHRyaWJ1dGVfY2hhcmFjdGVyc190b19lc2NhcGUgPSAvW1wiJjxdL2c7XG5cbi8qKlxuICogTm90ZSB0aGF0IHRoZSBhdHRyaWJ1dGUgaXRzZWxmIHNob3VsZCBiZSBzdXJyb3VuZGVkIGluIGRvdWJsZSBxdW90ZXNcbiAqIEBwYXJhbSB7YW55fSBhdHRyaWJ1dGVcbiAqL1xuZnVuY3Rpb24gZXNjYXBlX2F0dHJpYnV0ZShhdHRyaWJ1dGUpIHtcblx0cmV0dXJuIFN0cmluZyhhdHRyaWJ1dGUpLnJlcGxhY2UocmVnZXhfYXR0cmlidXRlX2NoYXJhY3RlcnNfdG9fZXNjYXBlLCAobWF0Y2gpID0+IGVzY2FwZWRbbWF0Y2hdKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHN0cmluZz59IGF0dHJpYnV0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeV9zcHJlYWQoYXR0cmlidXRlcykge1xuXHRsZXQgc3RyID0gJyAnO1xuXHRmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0aWYgKGF0dHJpYnV0ZXNba2V5XSAhPSBudWxsKSB7XG5cdFx0XHRzdHIgKz0gYCR7a2V5fT1cIiR7ZXNjYXBlX2F0dHJpYnV0ZShhdHRyaWJ1dGVzW2tleV0pfVwiIGA7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0cjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7e319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKGVsZW1lbnQpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi8gKG5vZGUpID0+IHtcblx0XHRcdHJlc3VsdFtub2RlLnNsb3QgfHwgJ2RlZmF1bHQnXSA9IHRydWU7XG5cdFx0fVxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnQoY29tcG9uZW50LCBwcm9wcykge1xuXHRyZXR1cm4gbmV3IGNvbXBvbmVudChwcm9wcyk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge05vZGUgJiB7XG4gKiBcdGNsYWltX29yZGVyPzogbnVtYmVyO1xuICogXHRoeWRyYXRlX2luaXQ/OiB0cnVlO1xuICogXHRhY3R1YWxfZW5kX2NoaWxkPzogTm9kZUV4O1xuICogXHRjaGlsZE5vZGVzOiBOb2RlTGlzdE9mPE5vZGVFeD47XG4gKiB9fSBOb2RlRXhcbiAqL1xuXG4vKiogQHR5cGVkZWYge0NoaWxkTm9kZSAmIE5vZGVFeH0gQ2hpbGROb2RlRXggKi9cblxuLyoqIEB0eXBlZGVmIHtOb2RlRXggJiB7IGNsYWltX29yZGVyOiBudW1iZXIgfX0gTm9kZUV4MiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtDaGlsZE5vZGVFeFtdICYge1xuICogXHRjbGFpbV9pbmZvPzoge1xuICogXHRcdGxhc3RfaW5kZXg6IG51bWJlcjtcbiAqIFx0XHR0b3RhbF9jbGFpbWVkOiBudW1iZXI7XG4gKiBcdH07XG4gKiB9fSBDaGlsZE5vZGVBcnJheVxuICovXG4iLCJpbXBvcnQgeyBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldCwgZGV0YWNoLCBnZXRfcm9vdF9mb3Jfc3R5bGUgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyByYWYgfSBmcm9tICcuL2Vudmlyb25tZW50LmpzJztcblxuLy8gd2UgbmVlZCB0byBzdG9yZSB0aGUgaW5mb3JtYXRpb24gZm9yIG11bHRpcGxlIGRvY3VtZW50cyBiZWNhdXNlIGEgU3ZlbHRlIGFwcGxpY2F0aW9uIGNvdWxkIGFsc28gY29udGFpbiBpZnJhbWVzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy8zNjI0XG4vKiogQHR5cGUge01hcDxEb2N1bWVudCB8IFNoYWRvd1Jvb3QsIGltcG9ydCgnLi9wcml2YXRlLmQudHMnKS5TdHlsZUluZm9ybWF0aW9uPn0gKi9cbmNvbnN0IG1hbmFnZWRfc3R5bGVzID0gbmV3IE1hcCgpO1xuXG5sZXQgYWN0aXZlID0gMDtcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtza3lhcHAvc3RyaW5nLWhhc2gvYmxvYi9tYXN0ZXIvaW5kZXguanNcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gaGFzaChzdHIpIHtcblx0bGV0IGhhc2ggPSA1MzgxO1xuXHRsZXQgaSA9IHN0ci5sZW5ndGg7XG5cdHdoaWxlIChpLS0pIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSBeIHN0ci5jaGFyQ29kZUF0KGkpO1xuXHRyZXR1cm4gaGFzaCA+Pj4gMDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0RvY3VtZW50IHwgU2hhZG93Um9vdH0gZG9jXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEByZXR1cm5zIHt7IHN0eWxlc2hlZXQ6IGFueTsgcnVsZXM6IHt9OyB9fVxuICovXG5mdW5jdGlvbiBjcmVhdGVfc3R5bGVfaW5mb3JtYXRpb24oZG9jLCBub2RlKSB7XG5cdGNvbnN0IGluZm8gPSB7IHN0eWxlc2hlZXQ6IGFwcGVuZF9lbXB0eV9zdHlsZXNoZWV0KG5vZGUpLCBydWxlczoge30gfTtcblx0bWFuYWdlZF9zdHlsZXMuc2V0KGRvYywgaW5mbyk7XG5cdHJldHVybiBpbmZvO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHtudW1iZXJ9IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheVxuICogQHBhcmFtIHsodDogbnVtYmVyKSA9PiBudW1iZXJ9IGVhc2VcbiAqIEBwYXJhbSB7KHQ6IG51bWJlciwgdTogbnVtYmVyKSA9PiBzdHJpbmd9IGZuXG4gKiBAcGFyYW0ge251bWJlcn0gdWlkXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX3J1bGUobm9kZSwgYSwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNlLCBmbiwgdWlkID0gMCkge1xuXHRjb25zdCBzdGVwID0gMTYuNjY2IC8gZHVyYXRpb247XG5cdGxldCBrZXlmcmFtZXMgPSAne1xcbic7XG5cdGZvciAobGV0IHAgPSAwOyBwIDw9IDE7IHAgKz0gc3RlcCkge1xuXHRcdGNvbnN0IHQgPSBhICsgKGIgLSBhKSAqIGVhc2UocCk7XG5cdFx0a2V5ZnJhbWVzICs9IHAgKiAxMDAgKyBgJXske2ZuKHQsIDEgLSB0KX19XFxuYDtcblx0fVxuXHRjb25zdCBydWxlID0ga2V5ZnJhbWVzICsgYDEwMCUgeyR7Zm4oYiwgMSAtIGIpfX1cXG59YDtcblx0Y29uc3QgbmFtZSA9IGBfX3N2ZWx0ZV8ke2hhc2gocnVsZSl9XyR7dWlkfWA7XG5cdGNvbnN0IGRvYyA9IGdldF9yb290X2Zvcl9zdHlsZShub2RlKTtcblx0Y29uc3QgeyBzdHlsZXNoZWV0LCBydWxlcyB9ID0gbWFuYWdlZF9zdHlsZXMuZ2V0KGRvYykgfHwgY3JlYXRlX3N0eWxlX2luZm9ybWF0aW9uKGRvYywgbm9kZSk7XG5cdGlmICghcnVsZXNbbmFtZV0pIHtcblx0XHRydWxlc1tuYW1lXSA9IHRydWU7XG5cdFx0c3R5bGVzaGVldC5pbnNlcnRSdWxlKGBAa2V5ZnJhbWVzICR7bmFtZX0gJHtydWxlfWAsIHN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcblx0fVxuXHRjb25zdCBhbmltYXRpb24gPSBub2RlLnN0eWxlLmFuaW1hdGlvbiB8fCAnJztcblx0bm9kZS5zdHlsZS5hbmltYXRpb24gPSBgJHtcblx0XHRhbmltYXRpb24gPyBgJHthbmltYXRpb259LCBgIDogJydcblx0fSR7bmFtZX0gJHtkdXJhdGlvbn1tcyBsaW5lYXIgJHtkZWxheX1tcyAxIGJvdGhgO1xuXHRhY3RpdmUgKz0gMTtcblx0cmV0dXJuIG5hbWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZV9ydWxlKG5vZGUsIG5hbWUpIHtcblx0Y29uc3QgcHJldmlvdXMgPSAobm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJycpLnNwbGl0KCcsICcpO1xuXHRjb25zdCBuZXh0ID0gcHJldmlvdXMuZmlsdGVyKFxuXHRcdG5hbWVcblx0XHRcdD8gKGFuaW0pID0+IGFuaW0uaW5kZXhPZihuYW1lKSA8IDAgLy8gcmVtb3ZlIHNwZWNpZmljIGFuaW1hdGlvblxuXHRcdFx0OiAoYW5pbSkgPT4gYW5pbS5pbmRleE9mKCdfX3N2ZWx0ZScpID09PSAtMSAvLyByZW1vdmUgYWxsIFN2ZWx0ZSBhbmltYXRpb25zXG5cdCk7XG5cdGNvbnN0IGRlbGV0ZWQgPSBwcmV2aW91cy5sZW5ndGggLSBuZXh0Lmxlbmd0aDtcblx0aWYgKGRlbGV0ZWQpIHtcblx0XHRub2RlLnN0eWxlLmFuaW1hdGlvbiA9IG5leHQuam9pbignLCAnKTtcblx0XHRhY3RpdmUgLT0gZGVsZXRlZDtcblx0XHRpZiAoIWFjdGl2ZSkgY2xlYXJfcnVsZXMoKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJfcnVsZXMoKSB7XG5cdHJhZigoKSA9PiB7XG5cdFx0aWYgKGFjdGl2ZSkgcmV0dXJuO1xuXHRcdG1hbmFnZWRfc3R5bGVzLmZvckVhY2goKGluZm8pID0+IHtcblx0XHRcdGNvbnN0IHsgb3duZXJOb2RlIH0gPSBpbmZvLnN0eWxlc2hlZXQ7XG5cdFx0XHQvLyB0aGVyZSBpcyBubyBvd25lck5vZGUgaWYgaXQgcnVucyBvbiBqc2RvbS5cblx0XHRcdGlmIChvd25lck5vZGUpIGRldGFjaChvd25lck5vZGUpO1xuXHRcdH0pO1xuXHRcdG1hbmFnZWRfc3R5bGVzLmNsZWFyKCk7XG5cdH0pO1xufVxuIiwiaW1wb3J0IHsgY3VzdG9tX2V2ZW50IH0gZnJvbSAnLi9kb20uanMnO1xuXG5leHBvcnQgbGV0IGN1cnJlbnRfY29tcG9uZW50O1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCkge1xuXHRjdXJyZW50X2NvbXBvbmVudCA9IGNvbXBvbmVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9jdXJyZW50X2NvbXBvbmVudCgpIHtcblx0aWYgKCFjdXJyZW50X2NvbXBvbmVudCkgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBjYWxsZWQgb3V0c2lkZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24nKTtcblx0cmV0dXJuIGN1cnJlbnRfY29tcG9uZW50O1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1cGRhdGVkIGFmdGVyIGFueSBzdGF0ZSBjaGFuZ2UuXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIHJ1bnMgd2lsbCBiZSBiZWZvcmUgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2JlZm9yZXVwZGF0ZVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZShmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5iZWZvcmVfdXBkYXRlLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFRoZSBgb25Nb3VudGAgZnVuY3Rpb24gc2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGFzIHNvb24gYXMgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBtb3VudGVkIHRvIHRoZSBET00uXG4gKiBJdCBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgdGhlIGNvbXBvbmVudCdzIGluaXRpYWxpc2F0aW9uIChidXQgZG9lc24ndCBuZWVkIHRvIGxpdmUgKmluc2lkZSogdGhlIGNvbXBvbmVudDtcbiAqIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSBhbiBleHRlcm5hbCBtb2R1bGUpLlxuICpcbiAqIElmIGEgZnVuY3Rpb24gaXMgcmV0dXJuZWQgX3N5bmNocm9ub3VzbHlfIGZyb20gYG9uTW91bnRgLCBpdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICpcbiAqIGBvbk1vdW50YCBkb2VzIG5vdCBydW4gaW5zaWRlIGEgW3NlcnZlci1zaWRlIGNvbXBvbmVudF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc2VydmVyLXNpZGUtY29tcG9uZW50LWFwaSkuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI29ubW91bnRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geygpID0+IGltcG9ydCgnLi9wcml2YXRlLmpzJykuTm90RnVuY3Rpb248VD4gfCBQcm9taXNlPGltcG9ydCgnLi9wcml2YXRlLmpzJykuTm90RnVuY3Rpb248VD4+IHwgKCgpID0+IGFueSl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uTW91bnQoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fbW91bnQucHVzaChmbik7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGFmdGVyIHRoZSBpbml0aWFsIGBvbk1vdW50YFxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNhZnRlcnVwZGF0ZVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFmdGVyVXBkYXRlKGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICpcbiAqIE91dCBvZiBgb25Nb3VudGAsIGBiZWZvcmVVcGRhdGVgLCBgYWZ0ZXJVcGRhdGVgIGFuZCBgb25EZXN0cm95YCwgdGhpcyBpcyB0aGVcbiAqIG9ubHkgb25lIHRoYXQgcnVucyBpbnNpZGUgYSBzZXJ2ZXItc2lkZSBjb21wb25lbnQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI29uZGVzdHJveVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uRGVzdHJveShmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9kZXN0cm95LnB1c2goZm4pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gZXZlbnQgZGlzcGF0Y2hlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGRpc3BhdGNoIFtjb21wb25lbnQgZXZlbnRzXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyN0ZW1wbGF0ZS1zeW50YXgtY29tcG9uZW50LWRpcmVjdGl2ZXMtb24tZXZlbnRuYW1lKS5cbiAqIEV2ZW50IGRpc3BhdGNoZXJzIGFyZSBmdW5jdGlvbnMgdGhhdCBjYW4gdGFrZSB0d28gYXJndW1lbnRzOiBgbmFtZWAgYW5kIGBkZXRhaWxgLlxuICpcbiAqIENvbXBvbmVudCBldmVudHMgY3JlYXRlZCB3aXRoIGBjcmVhdGVFdmVudERpc3BhdGNoZXJgIGNyZWF0ZSBhXG4gKiBbQ3VzdG9tRXZlbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudCkuXG4gKiBUaGVzZSBldmVudHMgZG8gbm90IFtidWJibGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvTGVhcm4vSmF2YVNjcmlwdC9CdWlsZGluZ19ibG9ja3MvRXZlbnRzI0V2ZW50X2J1YmJsaW5nX2FuZF9jYXB0dXJlKS5cbiAqIFRoZSBgZGV0YWlsYCBhcmd1bWVudCBjb3JyZXNwb25kcyB0byB0aGUgW0N1c3RvbUV2ZW50LmRldGFpbF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50L2RldGFpbClcbiAqIHByb3BlcnR5IGFuZCBjYW4gY29udGFpbiBhbnkgdHlwZSBvZiBkYXRhLlxuICpcbiAqIFRoZSBldmVudCBkaXNwYXRjaGVyIGNhbiBiZSB0eXBlZCB0byBuYXJyb3cgdGhlIGFsbG93ZWQgZXZlbnQgbmFtZXMgYW5kIHRoZSB0eXBlIG9mIHRoZSBgZGV0YWlsYCBhcmd1bWVudDpcbiAqIGBgYHRzXG4gKiBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcjx7XG4gKiAgbG9hZGVkOiBuZXZlcjsgLy8gZG9lcyBub3QgdGFrZSBhIGRldGFpbCBhcmd1bWVudFxuICogIGNoYW5nZTogc3RyaW5nOyAvLyB0YWtlcyBhIGRldGFpbCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZywgd2hpY2ggaXMgcmVxdWlyZWRcbiAqICBvcHRpb25hbDogbnVtYmVyIHwgbnVsbDsgLy8gdGFrZXMgYW4gb3B0aW9uYWwgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgbnVtYmVyXG4gKiB9PigpO1xuICogYGBgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2NyZWF0ZWV2ZW50ZGlzcGF0Y2hlclxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbRXZlbnRNYXA9YW55XVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5FdmVudERpc3BhdGNoZXI8RXZlbnRNYXA+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCkge1xuXHRjb25zdCBjb21wb25lbnQgPSBnZXRfY3VycmVudF9jb21wb25lbnQoKTtcblx0cmV0dXJuICh0eXBlLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkgPT4ge1xuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbdHlwZV07XG5cdFx0aWYgKGNhbGxiYWNrcykge1xuXHRcdFx0Ly8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuXHRcdFx0Ly8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuXHRcdFx0Y29uc3QgZXZlbnQgPSBjdXN0b21fZXZlbnQoLyoqIEB0eXBlIHtzdHJpbmd9ICovICh0eXBlKSwgZGV0YWlsLCB7IGNhbmNlbGFibGUgfSk7XG5cdFx0XHRjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKChmbikgPT4ge1xuXHRcdFx0XHRmbi5jYWxsKGNvbXBvbmVudCwgZXZlbnQpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xufVxuXG4vKipcbiAqIEFzc29jaWF0ZXMgYW4gYXJiaXRyYXJ5IGBjb250ZXh0YCBvYmplY3Qgd2l0aCB0aGUgY3VycmVudCBjb21wb25lbnQgYW5kIHRoZSBzcGVjaWZpZWQgYGtleWBcbiAqIGFuZCByZXR1cm5zIHRoYXQgb2JqZWN0LiBUaGUgY29udGV4dCBpcyB0aGVuIGF2YWlsYWJsZSB0byBjaGlsZHJlbiBvZiB0aGUgY29tcG9uZW50XG4gKiAoaW5jbHVkaW5nIHNsb3R0ZWQgY29udGVudCkgd2l0aCBgZ2V0Q29udGV4dGAuXG4gKlxuICogTGlrZSBsaWZlY3ljbGUgZnVuY3Rpb25zLCB0aGlzIG11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI3NldGNvbnRleHRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcGFyYW0ge1R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29udGV4dChrZXksIGNvbnRleHQpIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5zZXQoa2V5LCBjb250ZXh0KTtcblx0cmV0dXJuIGNvbnRleHQ7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjb250ZXh0IHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50IHdpdGggdGhlIHNwZWNpZmllZCBga2V5YC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2dldGNvbnRleHRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRleHQoa2V5KSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmdldChrZXkpO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgd2hvbGUgY29udGV4dCBtYXAgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLiBVc2VmdWwsIGZvciBleGFtcGxlLCBpZiB5b3VcbiAqIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIGEgY29tcG9uZW50IGFuZCB3YW50IHRvIHBhc3MgdGhlIGV4aXN0aW5nIGNvbnRleHQgdG8gaXQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2dldGFsbGNvbnRleHRzXG4gKiBAdGVtcGxhdGUge01hcDxhbnksIGFueT59IFtUPU1hcDxhbnksIGFueT5dXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbENvbnRleHRzKCkge1xuXHRyZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dDtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIGdpdmVuIGBrZXlgIGhhcyBiZWVuIHNldCBpbiB0aGUgY29udGV4dCBvZiBhIHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNoYXNjb250ZXh0XG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0NvbnRleHQoa2V5KSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmhhcyhrZXkpO1xufVxuXG4vLyBUT0RPIGZpZ3VyZSBvdXQgaWYgd2Ugc3RpbGwgd2FudCB0byBzdXBwb3J0XG4vLyBzaG9ydGhhbmQgZXZlbnRzLCBvciBpZiB3ZSB3YW50IHRvIGltcGxlbWVudFxuLy8gYSByZWFsIGJ1YmJsaW5nIG1lY2hhbmlzbVxuLyoqXG4gKiBAcGFyYW0gY29tcG9uZW50XG4gKiBAcGFyYW0gZXZlbnRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYnViYmxlKGNvbXBvbmVudCwgZXZlbnQpIHtcblx0Y29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1tldmVudC50eXBlXTtcblx0aWYgKGNhbGxiYWNrcykge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKChmbikgPT4gZm4uY2FsbCh0aGlzLCBldmVudCkpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBydW5fYWxsIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBjdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1cnJlbnRfY29tcG9uZW50IH0gZnJvbSAnLi9saWZlY3ljbGUuanMnO1xuXG5leHBvcnQgY29uc3QgZGlydHlfY29tcG9uZW50cyA9IFtdO1xuZXhwb3J0IGNvbnN0IGludHJvcyA9IHsgZW5hYmxlZDogZmFsc2UgfTtcbmV4cG9ydCBjb25zdCBiaW5kaW5nX2NhbGxiYWNrcyA9IFtdO1xuXG5sZXQgcmVuZGVyX2NhbGxiYWNrcyA9IFtdO1xuXG5jb25zdCBmbHVzaF9jYWxsYmFja3MgPSBbXTtcblxuY29uc3QgcmVzb2x2ZWRfcHJvbWlzZSA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcblxubGV0IHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlX3VwZGF0ZSgpIHtcblx0aWYgKCF1cGRhdGVfc2NoZWR1bGVkKSB7XG5cdFx0dXBkYXRlX3NjaGVkdWxlZCA9IHRydWU7XG5cdFx0cmVzb2x2ZWRfcHJvbWlzZS50aGVuKGZsdXNoKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge1Byb21pc2U8dm9pZD59ICovXG5leHBvcnQgZnVuY3Rpb24gdGljaygpIHtcblx0c2NoZWR1bGVfdXBkYXRlKCk7XG5cdHJldHVybiByZXNvbHZlZF9wcm9taXNlO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX3JlbmRlcl9jYWxsYmFjayhmbikge1xuXHRyZW5kZXJfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX2ZsdXNoX2NhbGxiYWNrKGZuKSB7XG5cdGZsdXNoX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cblxuLy8gZmx1c2goKSBjYWxscyBjYWxsYmFja3MgaW4gdGhpcyBvcmRlcjpcbi8vIDEuIEFsbCBiZWZvcmVVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW5cbi8vIDIuIEFsbCBiaW5kOnRoaXMgY2FsbGJhY2tzLCBpbiByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIDMuIEFsbCBhZnRlclVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlbi4gRVhDRVBUXG4vLyAgICBmb3IgYWZ0ZXJVcGRhdGVzIGNhbGxlZCBkdXJpbmcgdGhlIGluaXRpYWwgb25Nb3VudCwgd2hpY2ggYXJlIGNhbGxlZCBpblxuLy8gICAgcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyBTaW5jZSBjYWxsYmFja3MgbWlnaHQgdXBkYXRlIGNvbXBvbmVudCB2YWx1ZXMsIHdoaWNoIGNvdWxkIHRyaWdnZXIgYW5vdGhlclxuLy8gY2FsbCB0byBmbHVzaCgpLCB0aGUgZm9sbG93aW5nIHN0ZXBzIGd1YXJkIGFnYWluc3QgdGhpczpcbi8vIDEuIER1cmluZyBiZWZvcmVVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBiZSBhZGRlZCB0byB0aGVcbi8vICAgIGRpcnR5X2NvbXBvbmVudHMgYXJyYXkgYW5kIHdpbGwgY2F1c2UgYSByZWVudHJhbnQgY2FsbCB0byBmbHVzaCgpLiBCZWNhdXNlXG4vLyAgICB0aGUgZmx1c2ggaW5kZXggaXMga2VwdCBvdXRzaWRlIHRoZSBmdW5jdGlvbiwgdGhlIHJlZW50cmFudCBjYWxsIHdpbGwgcGlja1xuLy8gICAgdXAgd2hlcmUgdGhlIGVhcmxpZXIgY2FsbCBsZWZ0IG9mZiBhbmQgZ28gdGhyb3VnaCBhbGwgZGlydHkgY29tcG9uZW50cy4gVGhlXG4vLyAgICBjdXJyZW50X2NvbXBvbmVudCB2YWx1ZSBpcyBzYXZlZCBhbmQgcmVzdG9yZWQgc28gdGhhdCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbFxuLy8gICAgbm90IGludGVyZmVyZSB3aXRoIHRoZSBcInBhcmVudFwiIGZsdXNoKCkgY2FsbC5cbi8vIDIuIGJpbmQ6dGhpcyBjYWxsYmFja3MgY2Fubm90IHRyaWdnZXIgbmV3IGZsdXNoKCkgY2FsbHMuXG4vLyAzLiBEdXJpbmcgYWZ0ZXJVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBOT1QgaGF2ZSB0aGVpciBhZnRlclVwZGF0ZVxuLy8gICAgY2FsbGJhY2sgY2FsbGVkIGEgc2Vjb25kIHRpbWU7IHRoZSBzZWVuX2NhbGxiYWNrcyBzZXQsIG91dHNpZGUgdGhlIGZsdXNoKClcbi8vICAgIGZ1bmN0aW9uLCBndWFyYW50ZWVzIHRoaXMgYmVoYXZpb3IuXG5jb25zdCBzZWVuX2NhbGxiYWNrcyA9IG5ldyBTZXQoKTtcblxubGV0IGZsdXNoaWR4ID0gMDsgLy8gRG8gKm5vdCogbW92ZSB0aGlzIGluc2lkZSB0aGUgZmx1c2goKSBmdW5jdGlvblxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2goKSB7XG5cdC8vIERvIG5vdCByZWVudGVyIGZsdXNoIHdoaWxlIGRpcnR5IGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGFzIHRoaXMgY2FuXG5cdC8vIHJlc3VsdCBpbiBhbiBpbmZpbml0ZSBsb29wLiBJbnN0ZWFkLCBsZXQgdGhlIGlubmVyIGZsdXNoIGhhbmRsZSBpdC5cblx0Ly8gUmVlbnRyYW5jeSBpcyBvayBhZnRlcndhcmRzIGZvciBiaW5kaW5ncyBldGMuXG5cdGlmIChmbHVzaGlkeCAhPT0gMCkge1xuXHRcdHJldHVybjtcblx0fVxuXHRjb25zdCBzYXZlZF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcblx0ZG8ge1xuXHRcdC8vIGZpcnN0LCBjYWxsIGJlZm9yZVVwZGF0ZSBmdW5jdGlvbnNcblx0XHQvLyBhbmQgdXBkYXRlIGNvbXBvbmVudHNcblx0XHR0cnkge1xuXHRcdFx0d2hpbGUgKGZsdXNoaWR4IDwgZGlydHlfY29tcG9uZW50cy5sZW5ndGgpIHtcblx0XHRcdFx0Y29uc3QgY29tcG9uZW50ID0gZGlydHlfY29tcG9uZW50c1tmbHVzaGlkeF07XG5cdFx0XHRcdGZsdXNoaWR4Kys7XG5cdFx0XHRcdHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuXHRcdFx0XHR1cGRhdGUoY29tcG9uZW50LiQkKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHQvLyByZXNldCBkaXJ0eSBzdGF0ZSB0byBub3QgZW5kIHVwIGluIGEgZGVhZGxvY2tlZCBzdGF0ZSBhbmQgdGhlbiByZXRocm93XG5cdFx0XHRkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG5cdFx0XHRmbHVzaGlkeCA9IDA7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG5cdFx0ZGlydHlfY29tcG9uZW50cy5sZW5ndGggPSAwO1xuXHRcdGZsdXNoaWR4ID0gMDtcblx0XHR3aGlsZSAoYmluZGluZ19jYWxsYmFja3MubGVuZ3RoKSBiaW5kaW5nX2NhbGxiYWNrcy5wb3AoKSgpO1xuXHRcdC8vIHRoZW4sIG9uY2UgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgY2FsbFxuXHRcdC8vIGFmdGVyVXBkYXRlIGZ1bmN0aW9ucy4gVGhpcyBtYXkgY2F1c2Vcblx0XHQvLyBzdWJzZXF1ZW50IHVwZGF0ZXMuLi5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGNvbnN0IGNhbGxiYWNrID0gcmVuZGVyX2NhbGxiYWNrc1tpXTtcblx0XHRcdGlmICghc2Vlbl9jYWxsYmFja3MuaGFzKGNhbGxiYWNrKSkge1xuXHRcdFx0XHQvLyAuLi5zbyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGxvb3BzXG5cdFx0XHRcdHNlZW5fY2FsbGJhY2tzLmFkZChjYWxsYmFjayk7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoID0gMDtcblx0fSB3aGlsZSAoZGlydHlfY29tcG9uZW50cy5sZW5ndGgpO1xuXHR3aGlsZSAoZmx1c2hfY2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdGZsdXNoX2NhbGxiYWNrcy5wb3AoKSgpO1xuXHR9XG5cdHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcblx0c2Vlbl9jYWxsYmFja3MuY2xlYXIoKTtcblx0c2V0X2N1cnJlbnRfY29tcG9uZW50KHNhdmVkX2NvbXBvbmVudCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmZ1bmN0aW9uIHVwZGF0ZSgkJCkge1xuXHRpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcblx0XHQkJC51cGRhdGUoKTtcblx0XHRydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuXHRcdGNvbnN0IGRpcnR5ID0gJCQuZGlydHk7XG5cdFx0JCQuZGlydHkgPSBbLTFdO1xuXHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LnAoJCQuY3R4LCBkaXJ0eSk7XG5cdFx0JCQuYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG5cdH1cbn1cblxuLyoqXG4gKiBVc2VmdWwgZm9yIGV4YW1wbGUgdG8gZXhlY3V0ZSByZW1haW5pbmcgYGFmdGVyVXBkYXRlYCBjYWxsYmFja3MgYmVmb3JlIGV4ZWN1dGluZyBgZGVzdHJveWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9uW119IGZuc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKGZucykge1xuXHRjb25zdCBmaWx0ZXJlZCA9IFtdO1xuXHRjb25zdCB0YXJnZXRzID0gW107XG5cdHJlbmRlcl9jYWxsYmFja3MuZm9yRWFjaCgoYykgPT4gKGZucy5pbmRleE9mKGMpID09PSAtMSA/IGZpbHRlcmVkLnB1c2goYykgOiB0YXJnZXRzLnB1c2goYykpKTtcblx0dGFyZ2V0cy5mb3JFYWNoKChjKSA9PiBjKCkpO1xuXHRyZW5kZXJfY2FsbGJhY2tzID0gZmlsdGVyZWQ7XG59XG4iLCJpbXBvcnQgeyBpZGVudGl0eSBhcyBsaW5lYXIsIGlzX2Z1bmN0aW9uLCBub29wLCBydW5fYWxsIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBub3cgfSBmcm9tICcuL2Vudmlyb25tZW50LmpzJztcbmltcG9ydCB7IGxvb3AgfSBmcm9tICcuL2xvb3AuanMnO1xuaW1wb3J0IHsgY3JlYXRlX3J1bGUsIGRlbGV0ZV9ydWxlIH0gZnJvbSAnLi9zdHlsZV9tYW5hZ2VyLmpzJztcbmltcG9ydCB7IGN1c3RvbV9ldmVudCB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGFkZF9yZW5kZXJfY2FsbGJhY2sgfSBmcm9tICcuL3NjaGVkdWxlci5qcyc7XG5cbi8qKlxuICogQHR5cGUge1Byb21pc2U8dm9pZD4gfCBudWxsfVxuICovXG5sZXQgcHJvbWlzZTtcblxuLyoqXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZnVuY3Rpb24gd2FpdCgpIHtcblx0aWYgKCFwcm9taXNlKSB7XG5cdFx0cHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuXHRcdHByb21pc2UudGhlbigoKSA9PiB7XG5cdFx0XHRwcm9taXNlID0gbnVsbDtcblx0XHR9KTtcblx0fVxuXHRyZXR1cm4gcHJvbWlzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SU5UUk8gfCBPVVRSTyB8IGJvb2xlYW59IGRpcmVjdGlvblxuICogQHBhcmFtIHsnc3RhcnQnIHwgJ2VuZCd9IGtpbmRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBkaXNwYXRjaChub2RlLCBkaXJlY3Rpb24sIGtpbmQpIHtcblx0bm9kZS5kaXNwYXRjaEV2ZW50KGN1c3RvbV9ldmVudChgJHtkaXJlY3Rpb24gPyAnaW50cm8nIDogJ291dHJvJ30ke2tpbmR9YCkpO1xufVxuXG5jb25zdCBvdXRyb2luZyA9IG5ldyBTZXQoKTtcblxuLyoqXG4gKiBAdHlwZSB7T3V0cm99XG4gKi9cbmxldCBvdXRyb3M7XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBfb3V0cm9zKCkge1xuXHRvdXRyb3MgPSB7XG5cdFx0cjogMCxcblx0XHRjOiBbXSxcblx0XHRwOiBvdXRyb3MgLy8gcGFyZW50IGdyb3VwXG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tfb3V0cm9zKCkge1xuXHRpZiAoIW91dHJvcy5yKSB7XG5cdFx0cnVuX2FsbChvdXRyb3MuYyk7XG5cdH1cblx0b3V0cm9zID0gb3V0cm9zLnA7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLkZyYWdtZW50fSBibG9ja1xuICogQHBhcmFtIHswIHwgMX0gW2xvY2FsXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2l0aW9uX2luKGJsb2NrLCBsb2NhbCkge1xuXHRpZiAoYmxvY2sgJiYgYmxvY2suaSkge1xuXHRcdG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG5cdFx0YmxvY2suaShsb2NhbCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuRnJhZ21lbnR9IGJsb2NrXG4gKiBAcGFyYW0gezAgfCAxfSBsb2NhbFxuICogQHBhcmFtIHswIHwgMX0gW2RldGFjaF1cbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2NhbGxiYWNrXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2l0aW9uX291dChibG9jaywgbG9jYWwsIGRldGFjaCwgY2FsbGJhY2spIHtcblx0aWYgKGJsb2NrICYmIGJsb2NrLm8pIHtcblx0XHRpZiAob3V0cm9pbmcuaGFzKGJsb2NrKSkgcmV0dXJuO1xuXHRcdG91dHJvaW5nLmFkZChibG9jayk7XG5cdFx0b3V0cm9zLmMucHVzaCgoKSA9PiB7XG5cdFx0XHRvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuXHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdGlmIChkZXRhY2gpIGJsb2NrLmQoMSk7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0YmxvY2subyhsb2NhbCk7XG5cdH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcblx0XHRjYWxsYmFjaygpO1xuXHR9XG59XG5cbi8qKlxuICogQHR5cGUge2ltcG9ydCgnLi4vdHJhbnNpdGlvbi9wdWJsaWMuanMnKS5UcmFuc2l0aW9uQ29uZmlnfVxuICovXG5jb25zdCBudWxsX3RyYW5zaXRpb24gPSB7IGR1cmF0aW9uOiAwIH07XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEByZXR1cm5zIHt7IHN0YXJ0KCk6IHZvaWQ7IGludmFsaWRhdGUoKTogdm9pZDsgZW5kKCk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfaW5fdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ2luJyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHJ1bm5pbmcgPSBmYWxzZTtcblx0bGV0IGFuaW1hdGlvbl9uYW1lO1xuXHRsZXQgdGFzaztcblx0bGV0IHVpZCA9IDA7XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBjbGVhbnVwKCkge1xuXHRcdGlmIChhbmltYXRpb25fbmFtZSkgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBnbygpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRkZWxheSA9IDAsXG5cdFx0XHRkdXJhdGlvbiA9IDMwMCxcblx0XHRcdGVhc2luZyA9IGxpbmVhcixcblx0XHRcdHRpY2sgPSBub29wLFxuXHRcdFx0Y3NzXG5cdFx0fSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG5cdFx0aWYgKGNzcykgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzLCB1aWQrKyk7XG5cdFx0dGljaygwLCAxKTtcblx0XHRjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcblx0XHRjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcblx0XHRpZiAodGFzaykgdGFzay5hYm9ydCgpO1xuXHRcdHJ1bm5pbmcgPSB0cnVlO1xuXHRcdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ3N0YXJ0JykpO1xuXHRcdHRhc2sgPSBsb29wKChub3cpID0+IHtcblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGlmIChub3cgPj0gZW5kX3RpbWUpIHtcblx0XHRcdFx0XHR0aWNrKDEsIDApO1xuXHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIHRydWUsICdlbmQnKTtcblx0XHRcdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRcdFx0cmV0dXJuIChydW5uaW5nID0gZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuXHRcdFx0XHRcdHRpY2sodCwgMSAtIHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcnVubmluZztcblx0XHR9KTtcblx0fVxuXHRsZXQgc3RhcnRlZCA9IGZhbHNlO1xuXHRyZXR1cm4ge1xuXHRcdHN0YXJ0KCkge1xuXHRcdFx0aWYgKHN0YXJ0ZWQpIHJldHVybjtcblx0XHRcdHN0YXJ0ZWQgPSB0cnVlO1xuXHRcdFx0ZGVsZXRlX3J1bGUobm9kZSk7XG5cdFx0XHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdFx0XHRjb25maWcgPSBjb25maWcob3B0aW9ucyk7XG5cdFx0XHRcdHdhaXQoKS50aGVuKGdvKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdvKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpbnZhbGlkYXRlKCkge1xuXHRcdFx0c3RhcnRlZCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZW5kKCkge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0XHRydW5uaW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHtUcmFuc2l0aW9uRm59IGZuXG4gKiBAcGFyYW0ge2FueX0gcGFyYW1zXG4gKiBAcmV0dXJucyB7eyBlbmQocmVzZXQ6IGFueSk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfb3V0X3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuXHQvKiogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdvdXQnIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgcnVubmluZyA9IHRydWU7XG5cdGxldCBhbmltYXRpb25fbmFtZTtcblx0Y29uc3QgZ3JvdXAgPSBvdXRyb3M7XG5cdGdyb3VwLnIgKz0gMTtcblx0LyoqIEB0eXBlIHtib29sZWFufSAqL1xuXHRsZXQgb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBnbygpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRkZWxheSA9IDAsXG5cdFx0XHRkdXJhdGlvbiA9IDMwMCxcblx0XHRcdGVhc2luZyA9IGxpbmVhcixcblx0XHRcdHRpY2sgPSBub29wLFxuXHRcdFx0Y3NzXG5cdFx0fSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG5cblx0XHRpZiAoY3NzKSBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDEsIDAsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuXG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXk7XG5cdFx0Y29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG5cdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBmYWxzZSwgJ3N0YXJ0JykpO1xuXG5cdFx0aWYgKCdpbmVydCcgaW4gbm9kZSkge1xuXHRcdFx0b3JpZ2luYWxfaW5lcnRfdmFsdWUgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyAobm9kZSkuaW5lcnQ7XG5cdFx0XHRub2RlLmluZXJ0ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRsb29wKChub3cpID0+IHtcblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGlmIChub3cgPj0gZW5kX3RpbWUpIHtcblx0XHRcdFx0XHR0aWNrKDAsIDEpO1xuXHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnZW5kJyk7XG5cdFx0XHRcdFx0aWYgKCEtLWdyb3VwLnIpIHtcblx0XHRcdFx0XHRcdC8vIHRoaXMgd2lsbCByZXN1bHQgaW4gYGVuZCgpYCBiZWluZyBjYWxsZWQsXG5cdFx0XHRcdFx0XHQvLyBzbyB3ZSBkb24ndCBuZWVkIHRvIGNsZWFuIHVwIGhlcmVcblx0XHRcdFx0XHRcdHJ1bl9hbGwoZ3JvdXAuYyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcblx0XHRcdFx0XHRjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcblx0XHRcdFx0XHR0aWNrKDEgLSB0LCB0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJ1bm5pbmc7XG5cdFx0fSk7XG5cdH1cblxuXHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdHdhaXQoKS50aGVuKCgpID0+IHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcblx0XHRcdGdvKCk7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0Z28oKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0ZW5kKHJlc2V0KSB7XG5cdFx0XHRpZiAocmVzZXQgJiYgJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRcdG5vZGUuaW5lcnQgPSBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblx0XHRcdH1cblx0XHRcdGlmIChyZXNldCAmJiBjb25maWcudGljaykge1xuXHRcdFx0XHRjb25maWcudGljaygxLCAwKTtcblx0XHRcdH1cblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGlmIChhbmltYXRpb25fbmFtZSkgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuXHRcdFx0XHRydW5uaW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHtUcmFuc2l0aW9uRm59IGZuXG4gKiBAcGFyYW0ge2FueX0gcGFyYW1zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGludHJvXG4gKiBAcmV0dXJucyB7eyBydW4oYjogMCB8IDEpOiB2b2lkOyBlbmQoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcywgaW50cm8pIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnYm90aCcgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCB0ID0gaW50cm8gPyAwIDogMTtcblxuXHQvKipcblx0ICogQHR5cGUge1Byb2dyYW0gfCBudWxsfSAqL1xuXHRsZXQgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcblxuXHQvKipcblx0ICogQHR5cGUge1BlbmRpbmdQcm9ncmFtIHwgbnVsbH0gKi9cblx0bGV0IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdGxldCBhbmltYXRpb25fbmFtZSA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtib29sZWFufSAqL1xuXHRsZXQgb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBjbGVhcl9hbmltYXRpb24oKSB7XG5cdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtQZW5kaW5nUHJvZ3JhbX0gcHJvZ3JhbVxuXHQgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25cblx0ICogQHJldHVybnMge1Byb2dyYW19XG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0KHByb2dyYW0sIGR1cmF0aW9uKSB7XG5cdFx0Y29uc3QgZCA9IC8qKiBAdHlwZSB7UHJvZ3JhbVsnZCddfSAqLyAocHJvZ3JhbS5iIC0gdCk7XG5cdFx0ZHVyYXRpb24gKj0gTWF0aC5hYnMoZCk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGE6IHQsXG5cdFx0XHRiOiBwcm9ncmFtLmIsXG5cdFx0XHRkLFxuXHRcdFx0ZHVyYXRpb24sXG5cdFx0XHRzdGFydDogcHJvZ3JhbS5zdGFydCxcblx0XHRcdGVuZDogcHJvZ3JhbS5zdGFydCArIGR1cmF0aW9uLFxuXHRcdFx0Z3JvdXA6IHByb2dyYW0uZ3JvdXBcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7SU5UUk8gfCBPVVRST30gYlxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIGdvKGIpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRkZWxheSA9IDAsXG5cdFx0XHRkdXJhdGlvbiA9IDMwMCxcblx0XHRcdGVhc2luZyA9IGxpbmVhcixcblx0XHRcdHRpY2sgPSBub29wLFxuXHRcdFx0Y3NzXG5cdFx0fSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG5cblx0XHQvKipcblx0XHQgKiBAdHlwZSB7UGVuZGluZ1Byb2dyYW19ICovXG5cdFx0Y29uc3QgcHJvZ3JhbSA9IHtcblx0XHRcdHN0YXJ0OiBub3coKSArIGRlbGF5LFxuXHRcdFx0YlxuXHRcdH07XG5cblx0XHRpZiAoIWIpIHtcblx0XHRcdC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG5cdFx0XHRwcm9ncmFtLmdyb3VwID0gb3V0cm9zO1xuXHRcdFx0b3V0cm9zLnIgKz0gMTtcblx0XHR9XG5cblx0XHRpZiAoJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRpZiAoYikge1xuXHRcdFx0XHRpZiAob3JpZ2luYWxfaW5lcnRfdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdC8vIGFib3J0ZWQvcmV2ZXJzZWQgb3V0cm8g4oCUIHJlc3RvcmUgcHJldmlvdXMgaW5lcnQgdmFsdWVcblx0XHRcdFx0XHRub2RlLmluZXJ0ID0gb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9yaWdpbmFsX2luZXJ0X3ZhbHVlID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8gKG5vZGUpLmluZXJ0O1xuXHRcdFx0XHRub2RlLmluZXJ0ID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAocnVubmluZ19wcm9ncmFtIHx8IHBlbmRpbmdfcHJvZ3JhbSkge1xuXHRcdFx0cGVuZGluZ19wcm9ncmFtID0gcHJvZ3JhbTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaWYgdGhpcyBpcyBhbiBpbnRybywgYW5kIHRoZXJlJ3MgYSBkZWxheSwgd2UgbmVlZCB0byBkb1xuXHRcdFx0Ly8gYW4gaW5pdGlhbCB0aWNrIGFuZC9vciBhcHBseSBDU1MgYW5pbWF0aW9uIGltbWVkaWF0ZWx5XG5cdFx0XHRpZiAoY3NzKSB7XG5cdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGIpIHRpY2soMCwgMSk7XG5cdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBpbml0KHByb2dyYW0sIGR1cmF0aW9uKTtcblx0XHRcdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgYiwgJ3N0YXJ0JykpO1xuXHRcdFx0bG9vcCgobm93KSA9PiB7XG5cdFx0XHRcdGlmIChwZW5kaW5nX3Byb2dyYW0gJiYgbm93ID4gcGVuZGluZ19wcm9ncmFtLnN0YXJ0KSB7XG5cdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtID0gaW5pdChwZW5kaW5nX3Byb2dyYW0sIGR1cmF0aW9uKTtcblx0XHRcdFx0XHRwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnc3RhcnQnKTtcblx0XHRcdFx0XHRpZiAoY3NzKSB7XG5cdFx0XHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0XHRcdGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUoXG5cdFx0XHRcdFx0XHRcdG5vZGUsXG5cdFx0XHRcdFx0XHRcdHQsXG5cdFx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbS5iLFxuXHRcdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24sXG5cdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdGVhc2luZyxcblx0XHRcdFx0XHRcdFx0Y29uZmlnLmNzc1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHJ1bm5pbmdfcHJvZ3JhbSkge1xuXHRcdFx0XHRcdGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLmVuZCkge1xuXHRcdFx0XHRcdFx0dGljaygodCA9IHJ1bm5pbmdfcHJvZ3JhbS5iKSwgMSAtIHQpO1xuXHRcdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdlbmQnKTtcblx0XHRcdFx0XHRcdGlmICghcGVuZGluZ19wcm9ncmFtKSB7XG5cdFx0XHRcdFx0XHRcdC8vIHdlJ3JlIGRvbmVcblx0XHRcdFx0XHRcdFx0aWYgKHJ1bm5pbmdfcHJvZ3JhbS5iKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gaW50cm8g4oCUIHdlIGNhbiB0aWR5IHVwIGltbWVkaWF0ZWx5XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gb3V0cm8g4oCUIG5lZWRzIHRvIGJlIGNvb3JkaW5hdGVkXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCEtLXJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5yKSBydW5fYWxsKHJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5jKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtID0gbnVsbDtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uc3RhcnQpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHAgPSBub3cgLSBydW5uaW5nX3Byb2dyYW0uc3RhcnQ7XG5cdFx0XHRcdFx0XHR0ID0gcnVubmluZ19wcm9ncmFtLmEgKyBydW5uaW5nX3Byb2dyYW0uZCAqIGVhc2luZyhwIC8gcnVubmluZ19wcm9ncmFtLmR1cmF0aW9uKTtcblx0XHRcdFx0XHRcdHRpY2sodCwgMSAtIHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gISEocnVubmluZ19wcm9ncmFtIHx8IHBlbmRpbmdfcHJvZ3JhbSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHtcblx0XHRydW4oYikge1xuXHRcdFx0aWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcblx0XHRcdFx0d2FpdCgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IG9wdHMgPSB7IGRpcmVjdGlvbjogYiA/ICdpbicgOiAnb3V0JyB9O1xuXHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRjb25maWcgPSBjb25maWcob3B0cyk7XG5cdFx0XHRcdFx0Z28oYik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z28oYik7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRlbmQoKSB7XG5cdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0fVxuXHR9O1xufVxuXG4vKiogQHR5cGVkZWYgezF9IElOVFJPICovXG4vKiogQHR5cGVkZWYgezB9IE9VVFJPICovXG4vKiogQHR5cGVkZWYge3sgZGlyZWN0aW9uOiAnaW4nIHwgJ291dCcgfCAnYm90aCcgfX0gVHJhbnNpdGlvbk9wdGlvbnMgKi9cbi8qKiBAdHlwZWRlZiB7KG5vZGU6IEVsZW1lbnQsIHBhcmFtczogYW55LCBvcHRpb25zOiBUcmFuc2l0aW9uT3B0aW9ucykgPT4gaW1wb3J0KCcuLi90cmFuc2l0aW9uL3B1YmxpYy5qcycpLlRyYW5zaXRpb25Db25maWd9IFRyYW5zaXRpb25GbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE91dHJvXG4gKiBAcHJvcGVydHkge251bWJlcn0gclxuICogQHByb3BlcnR5IHtGdW5jdGlvbltdfSBjXG4gKiBAcHJvcGVydHkge09iamVjdH0gcFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUGVuZGluZ1Byb2dyYW1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtJTlRST3xPVVRST30gYlxuICogQHByb3BlcnR5IHtPdXRyb30gW2dyb3VwXVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUHJvZ3JhbVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGFcbiAqIEBwcm9wZXJ0eSB7SU5UUk98T1VUUk99IGJcbiAqIEBwcm9wZXJ0eSB7MXwtMX0gZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGR1cmF0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbmRcbiAqIEBwcm9wZXJ0eSB7T3V0cm99IFtncm91cF1cbiAqL1xuIiwiaW1wb3J0IHsgdHJhbnNpdGlvbl9pbiwgdHJhbnNpdGlvbl9vdXQgfSBmcm9tICcuL3RyYW5zaXRpb25zLmpzJztcbmltcG9ydCB7IHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuLy8gZ2VuZXJhbCBlYWNoIGZ1bmN0aW9uczpcblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZV9hcnJheV9saWtlKGFycmF5X2xpa2Vfb3JfaXRlcmF0b3IpIHtcblx0cmV0dXJuIGFycmF5X2xpa2Vfb3JfaXRlcmF0b3I/Lmxlbmd0aCAhPT0gdW5kZWZpbmVkXG5cdFx0PyBhcnJheV9saWtlX29yX2l0ZXJhdG9yXG5cdFx0OiBBcnJheS5mcm9tKGFycmF5X2xpa2Vfb3JfaXRlcmF0b3IpO1xufVxuXG4vLyBrZXllZCBlYWNoIGZ1bmN0aW9uczpcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHRibG9jay5kKDEpO1xuXHRsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBvdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG5cdFx0bG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xuXHR9KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeF9hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmYoKTtcblx0ZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeF9hbmRfb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHRibG9jay5mKCk7XG5cdG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuXG4vKiogQHJldHVybnMge2FueVtdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9rZXllZF9lYWNoKFxuXHRvbGRfYmxvY2tzLFxuXHRkaXJ0eSxcblx0Z2V0X2tleSxcblx0ZHluYW1pYyxcblx0Y3R4LFxuXHRsaXN0LFxuXHRsb29rdXAsXG5cdG5vZGUsXG5cdGRlc3Ryb3ksXG5cdGNyZWF0ZV9lYWNoX2Jsb2NrLFxuXHRuZXh0LFxuXHRnZXRfY29udGV4dFxuKSB7XG5cdGxldCBvID0gb2xkX2Jsb2Nrcy5sZW5ndGg7XG5cdGxldCBuID0gbGlzdC5sZW5ndGg7XG5cdGxldCBpID0gbztcblx0Y29uc3Qgb2xkX2luZGV4ZXMgPSB7fTtcblx0d2hpbGUgKGktLSkgb2xkX2luZGV4ZXNbb2xkX2Jsb2Nrc1tpXS5rZXldID0gaTtcblx0Y29uc3QgbmV3X2Jsb2NrcyA9IFtdO1xuXHRjb25zdCBuZXdfbG9va3VwID0gbmV3IE1hcCgpO1xuXHRjb25zdCBkZWx0YXMgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IHVwZGF0ZXMgPSBbXTtcblx0aSA9IG47XG5cdHdoaWxlIChpLS0pIHtcblx0XHRjb25zdCBjaGlsZF9jdHggPSBnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpO1xuXHRcdGNvbnN0IGtleSA9IGdldF9rZXkoY2hpbGRfY3R4KTtcblx0XHRsZXQgYmxvY2sgPSBsb29rdXAuZ2V0KGtleSk7XG5cdFx0aWYgKCFibG9jaykge1xuXHRcdFx0YmxvY2sgPSBjcmVhdGVfZWFjaF9ibG9jayhrZXksIGNoaWxkX2N0eCk7XG5cdFx0XHRibG9jay5jKCk7XG5cdFx0fSBlbHNlIGlmIChkeW5hbWljKSB7XG5cdFx0XHQvLyBkZWZlciB1cGRhdGVzIHVudGlsIGFsbCB0aGUgRE9NIHNodWZmbGluZyBpcyBkb25lXG5cdFx0XHR1cGRhdGVzLnB1c2goKCkgPT4gYmxvY2sucChjaGlsZF9jdHgsIGRpcnR5KSk7XG5cdFx0fVxuXHRcdG5ld19sb29rdXAuc2V0KGtleSwgKG5ld19ibG9ja3NbaV0gPSBibG9jaykpO1xuXHRcdGlmIChrZXkgaW4gb2xkX2luZGV4ZXMpIGRlbHRhcy5zZXQoa2V5LCBNYXRoLmFicyhpIC0gb2xkX2luZGV4ZXNba2V5XSkpO1xuXHR9XG5cdGNvbnN0IHdpbGxfbW92ZSA9IG5ldyBTZXQoKTtcblx0Y29uc3QgZGlkX21vdmUgPSBuZXcgU2V0KCk7XG5cdC8qKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gaW5zZXJ0KGJsb2NrKSB7XG5cdFx0dHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG5cdFx0YmxvY2subShub2RlLCBuZXh0KTtcblx0XHRsb29rdXAuc2V0KGJsb2NrLmtleSwgYmxvY2spO1xuXHRcdG5leHQgPSBibG9jay5maXJzdDtcblx0XHRuLS07XG5cdH1cblx0d2hpbGUgKG8gJiYgbikge1xuXHRcdGNvbnN0IG5ld19ibG9jayA9IG5ld19ibG9ja3NbbiAtIDFdO1xuXHRcdGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3NbbyAtIDFdO1xuXHRcdGNvbnN0IG5ld19rZXkgPSBuZXdfYmxvY2sua2V5O1xuXHRcdGNvbnN0IG9sZF9rZXkgPSBvbGRfYmxvY2sua2V5O1xuXHRcdGlmIChuZXdfYmxvY2sgPT09IG9sZF9ibG9jaykge1xuXHRcdFx0Ly8gZG8gbm90aGluZ1xuXHRcdFx0bmV4dCA9IG5ld19ibG9jay5maXJzdDtcblx0XHRcdG8tLTtcblx0XHRcdG4tLTtcblx0XHR9IGVsc2UgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfa2V5KSkge1xuXHRcdFx0Ly8gcmVtb3ZlIG9sZCBibG9ja1xuXHRcdFx0ZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG5cdFx0XHRvLS07XG5cdFx0fSBlbHNlIGlmICghbG9va3VwLmhhcyhuZXdfa2V5KSB8fCB3aWxsX21vdmUuaGFzKG5ld19rZXkpKSB7XG5cdFx0XHRpbnNlcnQobmV3X2Jsb2NrKTtcblx0XHR9IGVsc2UgaWYgKGRpZF9tb3ZlLmhhcyhvbGRfa2V5KSkge1xuXHRcdFx0by0tO1xuXHRcdH0gZWxzZSBpZiAoZGVsdGFzLmdldChuZXdfa2V5KSA+IGRlbHRhcy5nZXQob2xkX2tleSkpIHtcblx0XHRcdGRpZF9tb3ZlLmFkZChuZXdfa2V5KTtcblx0XHRcdGluc2VydChuZXdfYmxvY2spO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aWxsX21vdmUuYWRkKG9sZF9rZXkpO1xuXHRcdFx0by0tO1xuXHRcdH1cblx0fVxuXHR3aGlsZSAoby0tKSB7XG5cdFx0Y29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvXTtcblx0XHRpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9ibG9jay5rZXkpKSBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcblx0fVxuXHR3aGlsZSAobikgaW5zZXJ0KG5ld19ibG9ja3NbbiAtIDFdKTtcblx0cnVuX2FsbCh1cGRhdGVzKTtcblx0cmV0dXJuIG5ld19ibG9ja3M7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2tleXMoY3R4LCBsaXN0LCBnZXRfY29udGV4dCwgZ2V0X2tleSkge1xuXHRjb25zdCBrZXlzID0gbmV3IE1hcCgpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBrZXkgPSBnZXRfa2V5KGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSkpO1xuXHRcdGlmIChrZXlzLmhhcyhrZXkpKSB7XG5cdFx0XHRsZXQgdmFsdWUgPSAnJztcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhbHVlID0gYHdpdGggdmFsdWUgJyR7U3RyaW5nKGtleSl9JyBgO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHQvLyBjYW4ndCBzdHJpbmdpZnlcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YENhbm5vdCBoYXZlIGR1cGxpY2F0ZSBrZXlzIGluIGEga2V5ZWQgZWFjaDogS2V5cyBhdCBpbmRleCAke2tleXMuZ2V0KFxuXHRcdFx0XHRcdGtleVxuXHRcdFx0XHQpfSBhbmQgJHtpfSAke3ZhbHVlfWFyZSBkdXBsaWNhdGVzYFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0a2V5cy5zZXQoa2V5LCBpKTtcblx0fVxufVxuIiwiaW1wb3J0IHtcblx0YWRkX3JlbmRlcl9jYWxsYmFjayxcblx0Zmx1c2gsXG5cdGZsdXNoX3JlbmRlcl9jYWxsYmFja3MsXG5cdHNjaGVkdWxlX3VwZGF0ZSxcblx0ZGlydHlfY29tcG9uZW50c1xufSBmcm9tICcuL3NjaGVkdWxlci5qcyc7XG5pbXBvcnQgeyBjdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1cnJlbnRfY29tcG9uZW50IH0gZnJvbSAnLi9saWZlY3ljbGUuanMnO1xuaW1wb3J0IHsgYmxhbmtfb2JqZWN0LCBpc19lbXB0eSwgaXNfZnVuY3Rpb24sIHJ1biwgcnVuX2FsbCwgbm9vcCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHtcblx0Y2hpbGRyZW4sXG5cdGRldGFjaCxcblx0c3RhcnRfaHlkcmF0aW5nLFxuXHRlbmRfaHlkcmF0aW5nLFxuXHRnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzLFxuXHRpbnNlcnQsXG5cdGVsZW1lbnQsXG5cdGF0dHJcbn0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgdHJhbnNpdGlvbl9pbiB9IGZyb20gJy4vdHJhbnNpdGlvbnMuanMnO1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYmluZChjb21wb25lbnQsIG5hbWUsIGNhbGxiYWNrKSB7XG5cdGNvbnN0IGluZGV4ID0gY29tcG9uZW50LiQkLnByb3BzW25hbWVdO1xuXHRpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuXHRcdGNvbXBvbmVudC4kJC5ib3VuZFtpbmRleF0gPSBjYWxsYmFjaztcblx0XHRjYWxsYmFjayhjb21wb25lbnQuJCQuY3R4W2luZGV4XSk7XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9jb21wb25lbnQoYmxvY2spIHtcblx0YmxvY2sgJiYgYmxvY2suYygpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fY29tcG9uZW50KGJsb2NrLCBwYXJlbnRfbm9kZXMpIHtcblx0YmxvY2sgJiYgYmxvY2subChwYXJlbnRfbm9kZXMpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gbW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgdGFyZ2V0LCBhbmNob3IpIHtcblx0Y29uc3QgeyBmcmFnbWVudCwgYWZ0ZXJfdXBkYXRlIH0gPSBjb21wb25lbnQuJCQ7XG5cdGZyYWdtZW50ICYmIGZyYWdtZW50Lm0odGFyZ2V0LCBhbmNob3IpO1xuXHQvLyBvbk1vdW50IGhhcHBlbnMgYmVmb3JlIHRoZSBpbml0aWFsIGFmdGVyVXBkYXRlXG5cdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4ge1xuXHRcdGNvbnN0IG5ld19vbl9kZXN0cm95ID0gY29tcG9uZW50LiQkLm9uX21vdW50Lm1hcChydW4pLmZpbHRlcihpc19mdW5jdGlvbik7XG5cdFx0Ly8gaWYgdGhlIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5XG5cdFx0Ly8gaXQgd2lsbCB1cGRhdGUgdGhlIGAkJC5vbl9kZXN0cm95YCByZWZlcmVuY2UgdG8gYG51bGxgLlxuXHRcdC8vIHRoZSBkZXN0cnVjdHVyZWQgb25fZGVzdHJveSBtYXkgc3RpbGwgcmVmZXJlbmNlIHRvIHRoZSBvbGQgYXJyYXlcblx0XHRpZiAoY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kpIHtcblx0XHRcdGNvbXBvbmVudC4kJC5vbl9kZXN0cm95LnB1c2goLi4ubmV3X29uX2Rlc3Ryb3kpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBFZGdlIGNhc2UgLSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseSxcblx0XHRcdC8vIG1vc3QgbGlrZWx5IGFzIGEgcmVzdWx0IG9mIGEgYmluZGluZyBpbml0aWFsaXNpbmdcblx0XHRcdHJ1bl9hbGwobmV3X29uX2Rlc3Ryb3kpO1xuXHRcdH1cblx0XHRjb21wb25lbnQuJCQub25fbW91bnQgPSBbXTtcblx0fSk7XG5cdGFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9jb21wb25lbnQoY29tcG9uZW50LCBkZXRhY2hpbmcpIHtcblx0Y29uc3QgJCQgPSBjb21wb25lbnQuJCQ7XG5cdGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuXHRcdGZsdXNoX3JlbmRlcl9jYWxsYmFja3MoJCQuYWZ0ZXJfdXBkYXRlKTtcblx0XHRydW5fYWxsKCQkLm9uX2Rlc3Ryb3kpO1xuXHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmQoZGV0YWNoaW5nKTtcblx0XHQvLyBUT0RPIG51bGwgb3V0IG90aGVyIHJlZnMsIGluY2x1ZGluZyBjb21wb25lbnQuJCQgKGJ1dCBuZWVkIHRvXG5cdFx0Ly8gcHJlc2VydmUgZmluYWwgc3RhdGU/KVxuXHRcdCQkLm9uX2Rlc3Ryb3kgPSAkJC5mcmFnbWVudCA9IG51bGw7XG5cdFx0JCQuY3R4ID0gW107XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZnVuY3Rpb24gbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpIHtcblx0aWYgKGNvbXBvbmVudC4kJC5kaXJ0eVswXSA9PT0gLTEpIHtcblx0XHRkaXJ0eV9jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcblx0XHRzY2hlZHVsZV91cGRhdGUoKTtcblx0XHRjb21wb25lbnQuJCQuZGlydHkuZmlsbCgwKTtcblx0fVxuXHRjb21wb25lbnQuJCQuZGlydHlbKGkgLyAzMSkgfCAwXSB8PSAxIDw8IGkgJSAzMTtcbn1cblxuLy8gVE9ETzogRG9jdW1lbnQgdGhlIG90aGVyIHBhcmFtc1xuLyoqXG4gKiBAcGFyYW0ge1N2ZWx0ZUNvbXBvbmVudH0gY29tcG9uZW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5Db21wb25lbnRDb25zdHJ1Y3Rvck9wdGlvbnN9IG9wdGlvbnNcbiAqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi91dGlscy5qcycpWydub3RfZXF1YWwnXX0gbm90X2VxdWFsIFVzZWQgdG8gY29tcGFyZSBwcm9wcyBhbmQgc3RhdGUgdmFsdWVzLlxuICogQHBhcmFtIHsodGFyZ2V0OiBFbGVtZW50IHwgU2hhZG93Um9vdCkgPT4gdm9pZH0gW2FwcGVuZF9zdHlsZXNdIEZ1bmN0aW9uIHRoYXQgYXBwZW5kcyBzdHlsZXMgdG8gdGhlIERPTSB3aGVuIHRoZSBjb21wb25lbnQgaXMgZmlyc3QgaW5pdGlhbGlzZWQuXG4gKiBUaGlzIHdpbGwgYmUgdGhlIGBhZGRfY3NzYCBmdW5jdGlvbiBmcm9tIHRoZSBjb21waWxlZCBjb21wb25lbnQuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0KFxuXHRjb21wb25lbnQsXG5cdG9wdGlvbnMsXG5cdGluc3RhbmNlLFxuXHRjcmVhdGVfZnJhZ21lbnQsXG5cdG5vdF9lcXVhbCxcblx0cHJvcHMsXG5cdGFwcGVuZF9zdHlsZXMgPSBudWxsLFxuXHRkaXJ0eSA9IFstMV1cbikge1xuXHRjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuVCQkfSAqL1xuXHRjb25zdCAkJCA9IChjb21wb25lbnQuJCQgPSB7XG5cdFx0ZnJhZ21lbnQ6IG51bGwsXG5cdFx0Y3R4OiBbXSxcblx0XHQvLyBzdGF0ZVxuXHRcdHByb3BzLFxuXHRcdHVwZGF0ZTogbm9vcCxcblx0XHRub3RfZXF1YWwsXG5cdFx0Ym91bmQ6IGJsYW5rX29iamVjdCgpLFxuXHRcdC8vIGxpZmVjeWNsZVxuXHRcdG9uX21vdW50OiBbXSxcblx0XHRvbl9kZXN0cm95OiBbXSxcblx0XHRvbl9kaXNjb25uZWN0OiBbXSxcblx0XHRiZWZvcmVfdXBkYXRlOiBbXSxcblx0XHRhZnRlcl91cGRhdGU6IFtdLFxuXHRcdGNvbnRleHQ6IG5ldyBNYXAob3B0aW9ucy5jb250ZXh0IHx8IChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pKSxcblx0XHQvLyBldmVyeXRoaW5nIGVsc2Vcblx0XHRjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpLFxuXHRcdGRpcnR5LFxuXHRcdHNraXBfYm91bmQ6IGZhbHNlLFxuXHRcdHJvb3Q6IG9wdGlvbnMudGFyZ2V0IHx8IHBhcmVudF9jb21wb25lbnQuJCQucm9vdFxuXHR9KTtcblx0YXBwZW5kX3N0eWxlcyAmJiBhcHBlbmRfc3R5bGVzKCQkLnJvb3QpO1xuXHRsZXQgcmVhZHkgPSBmYWxzZTtcblx0JCQuY3R4ID0gaW5zdGFuY2Vcblx0XHQ/IGluc3RhbmNlKGNvbXBvbmVudCwgb3B0aW9ucy5wcm9wcyB8fCB7fSwgKGksIHJldCwgLi4ucmVzdCkgPT4ge1xuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IHJlc3QubGVuZ3RoID8gcmVzdFswXSA6IHJldDtcblx0XHRcdFx0aWYgKCQkLmN0eCAmJiBub3RfZXF1YWwoJCQuY3R4W2ldLCAoJCQuY3R4W2ldID0gdmFsdWUpKSkge1xuXHRcdFx0XHRcdGlmICghJCQuc2tpcF9ib3VuZCAmJiAkJC5ib3VuZFtpXSkgJCQuYm91bmRbaV0odmFsdWUpO1xuXHRcdFx0XHRcdGlmIChyZWFkeSkgbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0ICB9KVxuXHRcdDogW107XG5cdCQkLnVwZGF0ZSgpO1xuXHRyZWFkeSA9IHRydWU7XG5cdHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG5cdC8vIGBmYWxzZWAgYXMgYSBzcGVjaWFsIGNhc2Ugb2Ygbm8gRE9NIGNvbXBvbmVudFxuXHQkJC5mcmFnbWVudCA9IGNyZWF0ZV9mcmFnbWVudCA/IGNyZWF0ZV9mcmFnbWVudCgkJC5jdHgpIDogZmFsc2U7XG5cdGlmIChvcHRpb25zLnRhcmdldCkge1xuXHRcdGlmIChvcHRpb25zLmh5ZHJhdGUpIHtcblx0XHRcdHN0YXJ0X2h5ZHJhdGluZygpO1xuXHRcdFx0Ly8gVE9ETzogd2hhdCBpcyB0aGUgY29ycmVjdCB0eXBlIGhlcmU/XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRjb25zdCBub2RlcyA9IGNoaWxkcmVuKG9wdGlvbnMudGFyZ2V0KTtcblx0XHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50Lmwobm9kZXMpO1xuXHRcdFx0bm9kZXMuZm9yRWFjaChkZXRhY2gpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuXHRcdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuYygpO1xuXHRcdH1cblx0XHRpZiAob3B0aW9ucy5pbnRybykgdHJhbnNpdGlvbl9pbihjb21wb25lbnQuJCQuZnJhZ21lbnQpO1xuXHRcdG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIG9wdGlvbnMudGFyZ2V0LCBvcHRpb25zLmFuY2hvcik7XG5cdFx0ZW5kX2h5ZHJhdGluZygpO1xuXHRcdGZsdXNoKCk7XG5cdH1cblx0c2V0X2N1cnJlbnRfY29tcG9uZW50KHBhcmVudF9jb21wb25lbnQpO1xufVxuXG5leHBvcnQgbGV0IFN2ZWx0ZUVsZW1lbnQ7XG5cbmlmICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcblx0U3ZlbHRlRWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXHRcdC8qKiBUaGUgU3ZlbHRlIGNvbXBvbmVudCBjb25zdHJ1Y3RvciAqL1xuXHRcdCQkY3Rvcjtcblx0XHQvKiogU2xvdHMgKi9cblx0XHQkJHM7XG5cdFx0LyoqIFRoZSBTdmVsdGUgY29tcG9uZW50IGluc3RhbmNlICovXG5cdFx0JCRjO1xuXHRcdC8qKiBXaGV0aGVyIG9yIG5vdCB0aGUgY3VzdG9tIGVsZW1lbnQgaXMgY29ubmVjdGVkICovXG5cdFx0JCRjbiA9IGZhbHNlO1xuXHRcdC8qKiBDb21wb25lbnQgcHJvcHMgZGF0YSAqL1xuXHRcdCQkZCA9IHt9O1xuXHRcdC8qKiBgdHJ1ZWAgaWYgY3VycmVudGx5IGluIHRoZSBwcm9jZXNzIG9mIHJlZmxlY3RpbmcgY29tcG9uZW50IHByb3BzIGJhY2sgdG8gYXR0cmlidXRlcyAqL1xuXHRcdCQkciA9IGZhbHNlO1xuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gUHJvcHMgZGVmaW5pdGlvbiAobmFtZSwgcmVmbGVjdGVkLCB0eXBlIGV0YykgKi9cblx0XHQkJHBfZCA9IHt9O1xuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgRnVuY3Rpb25bXT59IEV2ZW50IGxpc3RlbmVycyAqL1xuXHRcdCQkbCA9IHt9O1xuXHRcdC8qKiBAdHlwZSB7TWFwPEZ1bmN0aW9uLCBGdW5jdGlvbj59IEV2ZW50IGxpc3RlbmVyIHVuc3Vic2NyaWJlIGZ1bmN0aW9ucyAqL1xuXHRcdCQkbF91ID0gbmV3IE1hcCgpO1xuXG5cdFx0Y29uc3RydWN0b3IoJCRjb21wb25lbnRDdG9yLCAkJHNsb3RzLCB1c2Vfc2hhZG93X2RvbSkge1xuXHRcdFx0c3VwZXIoKTtcblx0XHRcdHRoaXMuJCRjdG9yID0gJCRjb21wb25lbnRDdG9yO1xuXHRcdFx0dGhpcy4kJHMgPSAkJHNsb3RzO1xuXHRcdFx0aWYgKHVzZV9zaGFkb3dfZG9tKSB7XG5cdFx0XHRcdHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHRcdC8vIFdlIGNhbid0IGRldGVybWluZSB1cGZyb250IGlmIHRoZSBldmVudCBpcyBhIGN1c3RvbSBldmVudCBvciBub3QsIHNvIHdlIGhhdmUgdG9cblx0XHRcdC8vIGxpc3RlbiB0byBib3RoLiBJZiBzb21lb25lIHVzZXMgYSBjdXN0b20gZXZlbnQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIGEgcmVndWxhclxuXHRcdFx0Ly8gYnJvd3NlciBldmVudCwgdGhpcyBmaXJlcyB0d2ljZSAtIHdlIGNhbid0IGF2b2lkIHRoYXQuXG5cdFx0XHR0aGlzLiQkbFt0eXBlXSA9IHRoaXMuJCRsW3R5cGVdIHx8IFtdO1xuXHRcdFx0dGhpcy4kJGxbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG5cdFx0XHRpZiAodGhpcy4kJGMpIHtcblx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkYy4kb24odHlwZSwgbGlzdGVuZXIpO1xuXHRcdFx0XHR0aGlzLiQkbF91LnNldChsaXN0ZW5lciwgdW5zdWIpO1xuXHRcdFx0fVxuXHRcdFx0c3VwZXIuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0cmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuXHRcdFx0c3VwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG5cdFx0XHRpZiAodGhpcy4kJGMpIHtcblx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkbF91LmdldChsaXN0ZW5lcik7XG5cdFx0XHRcdGlmICh1bnN1Yikge1xuXHRcdFx0XHRcdHVuc3ViKCk7XG5cdFx0XHRcdFx0dGhpcy4kJGxfdS5kZWxldGUobGlzdGVuZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHR0aGlzLiQkY24gPSB0cnVlO1xuXHRcdFx0aWYgKCF0aGlzLiQkYykge1xuXHRcdFx0XHQvLyBXZSB3YWl0IG9uZSB0aWNrIHRvIGxldCBwb3NzaWJsZSBjaGlsZCBzbG90IGVsZW1lbnRzIGJlIGNyZWF0ZWQvbW91bnRlZFxuXHRcdFx0XHRhd2FpdCBQcm9taXNlLnJlc29sdmUoKTtcblx0XHRcdFx0aWYgKCF0aGlzLiQkY24gfHwgdGhpcy4kJGMpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gY3JlYXRlX3Nsb3QobmFtZSkge1xuXHRcdFx0XHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRcdFx0XHRsZXQgbm9kZTtcblx0XHRcdFx0XHRcdGNvbnN0IG9iaiA9IHtcblx0XHRcdFx0XHRcdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtZW50KCdzbG90Jyk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG5hbWUgIT09ICdkZWZhdWx0Jykge1xuXHRcdFx0XHRcdFx0XHRcdFx0YXR0cihub2RlLCAnbmFtZScsIG5hbWUpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0XHRcdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldFxuXHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbYW5jaG9yXVxuXHRcdFx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRcdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdFx0XHRcdFx0XHRpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGRldGFjaChub2RlKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRyZXR1cm4gb2JqO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgJCRzbG90cyA9IHt9O1xuXHRcdFx0XHRjb25zdCBleGlzdGluZ19zbG90cyA9IGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHModGhpcyk7XG5cdFx0XHRcdGZvciAoY29uc3QgbmFtZSBvZiB0aGlzLiQkcykge1xuXHRcdFx0XHRcdGlmIChuYW1lIGluIGV4aXN0aW5nX3Nsb3RzKSB7XG5cdFx0XHRcdFx0XHQkJHNsb3RzW25hbWVdID0gW2NyZWF0ZV9zbG90KG5hbWUpXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdFx0Ly8gdGhpcy4kJGRhdGEgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIHRoaXMuYXR0cmlidXRlc1xuXHRcdFx0XHRcdGNvbnN0IG5hbWUgPSB0aGlzLiQkZ19wKGF0dHJpYnV0ZS5uYW1lKTtcblx0XHRcdFx0XHRpZiAoIShuYW1lIGluIHRoaXMuJCRkKSkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRbbmFtZV0gPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUobmFtZSwgYXR0cmlidXRlLnZhbHVlLCB0aGlzLiQkcF9kLCAndG9Qcm9wJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIFBvcnQgb3ZlciBwcm9wcyB0aGF0IHdlcmUgc2V0IHByb2dyYW1tYXRpY2FsbHkgYmVmb3JlIGNlIHdhcyBpbml0aWFsaXplZFxuXHRcdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkcF9kKSB7XG5cdFx0XHRcdFx0aWYgKCEoa2V5IGluIHRoaXMuJCRkKSAmJiB0aGlzW2tleV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSA9IHRoaXNba2V5XTsgLy8gZG9uJ3QgdHJhbnNmb3JtLCB0aGVzZSB3ZXJlIHNldCB0aHJvdWdoIEphdmFTY3JpcHRcblx0XHRcdFx0XHRcdGRlbGV0ZSB0aGlzW2tleV07IC8vIHJlbW92ZSB0aGUgcHJvcGVydHkgdGhhdCBzaGFkb3dzIHRoZSBnZXR0ZXIvc2V0dGVyXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuJCRjID0gbmV3IHRoaXMuJCRjdG9yKHtcblx0XHRcdFx0XHR0YXJnZXQ6IHRoaXMuc2hhZG93Um9vdCB8fCB0aGlzLFxuXHRcdFx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdFx0XHQuLi50aGlzLiQkZCxcblx0XHRcdFx0XHRcdCQkc2xvdHMsXG5cdFx0XHRcdFx0XHQkJHNjb3BlOiB7XG5cdFx0XHRcdFx0XHRcdGN0eDogW11cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIFJlZmxlY3QgY29tcG9uZW50IHByb3BzIGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0Y29uc3QgcmVmbGVjdF9hdHRyaWJ1dGVzID0gKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuJCRyID0gdHJ1ZTtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkcF9kKSB7XG5cdFx0XHRcdFx0XHR0aGlzLiQkZFtrZXldID0gdGhpcy4kJGMuJCQuY3R4W3RoaXMuJCRjLiQkLnByb3BzW2tleV1dO1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMuJCRwX2Rba2V5XS5yZWZsZWN0KSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGF0dHJpYnV0ZV92YWx1ZSA9IGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShcblx0XHRcdFx0XHRcdFx0XHRrZXksXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSxcblx0XHRcdFx0XHRcdFx0XHR0aGlzLiQkcF9kLFxuXHRcdFx0XHRcdFx0XHRcdCd0b0F0dHJpYnV0ZSdcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0aWYgKGF0dHJpYnV0ZV92YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVBdHRyaWJ1dGUodGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSB8fCBrZXkpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgfHwga2V5LCBhdHRyaWJ1dGVfdmFsdWUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuJCRyID0gZmFsc2U7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoaXMuJCRjLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKHJlZmxlY3RfYXR0cmlidXRlcyk7XG5cdFx0XHRcdHJlZmxlY3RfYXR0cmlidXRlcygpOyAvLyBvbmNlIGluaXRpYWxseSBiZWNhdXNlIGFmdGVyX3VwZGF0ZSBpcyBhZGRlZCB0b28gbGF0ZSBmb3IgZmlyc3QgcmVuZGVyXG5cblx0XHRcdFx0Zm9yIChjb25zdCB0eXBlIGluIHRoaXMuJCRsKSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLiQkbFt0eXBlXSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkYy4kb24odHlwZSwgbGlzdGVuZXIpO1xuXHRcdFx0XHRcdFx0dGhpcy4kJGxfdS5zZXQobGlzdGVuZXIsIHVuc3ViKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy4kJGwgPSB7fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBXZSBkb24ndCBuZWVkIHRoaXMgd2hlbiB3b3JraW5nIHdpdGhpbiBTdmVsdGUgY29kZSwgYnV0IGZvciBjb21wYXRpYmlsaXR5IG9mIHBlb3BsZSB1c2luZyB0aGlzIG91dHNpZGUgb2YgU3ZlbHRlXG5cdFx0Ly8gYW5kIHNldHRpbmcgYXR0cmlidXRlcyB0aHJvdWdoIHNldEF0dHJpYnV0ZSBldGMsIHRoaXMgaXMgaGVscGZ1bFxuXHRcdGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyLCBfb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG5cdFx0XHRpZiAodGhpcy4kJHIpIHJldHVybjtcblx0XHRcdGF0dHIgPSB0aGlzLiQkZ19wKGF0dHIpO1xuXHRcdFx0dGhpcy4kJGRbYXR0cl0gPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUoYXR0ciwgbmV3VmFsdWUsIHRoaXMuJCRwX2QsICd0b1Byb3AnKTtcblx0XHRcdHRoaXMuJCRjPy4kc2V0KHsgW2F0dHJdOiB0aGlzLiQkZFthdHRyXSB9KTtcblx0XHR9XG5cblx0XHRkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcblx0XHRcdHRoaXMuJCRjbiA9IGZhbHNlO1xuXHRcdFx0Ly8gSW4gYSBtaWNyb3Rhc2ssIGJlY2F1c2UgdGhpcyBjb3VsZCBiZSBhIG1vdmUgd2l0aGluIHRoZSBET01cblx0XHRcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRpZiAoIXRoaXMuJCRjbiAmJiB0aGlzLiQkYykge1xuXHRcdFx0XHRcdHRoaXMuJCRjLiRkZXN0cm95KCk7XG5cdFx0XHRcdFx0dGhpcy4kJGMgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdCQkZ19wKGF0dHJpYnV0ZV9uYW1lKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRPYmplY3Qua2V5cyh0aGlzLiQkcF9kKS5maW5kKFxuXHRcdFx0XHRcdChrZXkpID0+XG5cdFx0XHRcdFx0XHR0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlID09PSBhdHRyaWJ1dGVfbmFtZSB8fFxuXHRcdFx0XHRcdFx0KCF0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSBhdHRyaWJ1dGVfbmFtZSlcblx0XHRcdFx0KSB8fCBhdHRyaWJ1dGVfbmFtZVxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBwcm9wc19kZWZpbml0aW9uXG4gKiBAcGFyYW0geyd0b0F0dHJpYnV0ZScgfCAndG9Qcm9wJ30gW3RyYW5zZm9ybV1cbiAqL1xuZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKHByb3AsIHZhbHVlLCBwcm9wc19kZWZpbml0aW9uLCB0cmFuc2Zvcm0pIHtcblx0Y29uc3QgdHlwZSA9IHByb3BzX2RlZmluaXRpb25bcHJvcF0/LnR5cGU7XG5cdHZhbHVlID0gdHlwZSA9PT0gJ0Jvb2xlYW4nICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nID8gdmFsdWUgIT0gbnVsbCA6IHZhbHVlO1xuXHRpZiAoIXRyYW5zZm9ybSB8fCAhcHJvcHNfZGVmaW5pdGlvbltwcm9wXSkge1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fSBlbHNlIGlmICh0cmFuc2Zvcm0gPT09ICd0b0F0dHJpYnV0ZScpIHtcblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gbnVsbCA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0XHRcdGNhc2UgJ0Jvb2xlYW4nOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPyAnJyA6IG51bGw7XG5cdFx0XHRjYXNlICdOdW1iZXInOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiB2YWx1ZTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgJiYgSlNPTi5wYXJzZSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlOyAvLyBjb252ZXJzaW9uIGFscmVhZHkgaGFuZGxlZCBhYm92ZVxuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICE9IG51bGwgPyArdmFsdWUgOiB2YWx1ZTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBUdXJuIGEgU3ZlbHRlIGNvbXBvbmVudCBpbnRvIGEgY3VzdG9tIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5Db21wb25lbnRUeXBlfSBDb21wb25lbnQgIEEgU3ZlbHRlIGNvbXBvbmVudCBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBwcm9wc19kZWZpbml0aW9uICBUaGUgcHJvcHMgdG8gb2JzZXJ2ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gc2xvdHMgIFRoZSBzbG90cyB0byBjcmVhdGVcbiAqIEBwYXJhbSB7c3RyaW5nW119IGFjY2Vzc29ycyAgT3RoZXIgYWNjZXNzb3JzIGJlc2lkZXMgdGhlIG9uZXMgZm9yIHByb3BzIHRoZSBjb21wb25lbnQgaGFzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZV9zaGFkb3dfZG9tICBXaGV0aGVyIHRvIHVzZSBzaGFkb3cgRE9NXG4gKiBAcGFyYW0geyhjZTogbmV3ICgpID0+IEhUTUxFbGVtZW50KSA9PiBuZXcgKCkgPT4gSFRNTEVsZW1lbnR9IFtleHRlbmRdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfY3VzdG9tX2VsZW1lbnQoXG5cdENvbXBvbmVudCxcblx0cHJvcHNfZGVmaW5pdGlvbixcblx0c2xvdHMsXG5cdGFjY2Vzc29ycyxcblx0dXNlX3NoYWRvd19kb20sXG5cdGV4dGVuZFxuKSB7XG5cdGxldCBDbGFzcyA9IGNsYXNzIGV4dGVuZHMgU3ZlbHRlRWxlbWVudCB7XG5cdFx0Y29uc3RydWN0b3IoKSB7XG5cdFx0XHRzdXBlcihDb21wb25lbnQsIHNsb3RzLCB1c2Vfc2hhZG93X2RvbSk7XG5cdFx0XHR0aGlzLiQkcF9kID0gcHJvcHNfZGVmaW5pdGlvbjtcblx0XHR9XG5cdFx0c3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG5cdFx0XHRyZXR1cm4gT2JqZWN0LmtleXMocHJvcHNfZGVmaW5pdGlvbikubWFwKChrZXkpID0+XG5cdFx0XHRcdChwcm9wc19kZWZpbml0aW9uW2tleV0uYXR0cmlidXRlIHx8IGtleSkudG9Mb3dlckNhc2UoKVxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG5cdE9iamVjdC5rZXlzKHByb3BzX2RlZmluaXRpb24pLmZvckVhY2goKHByb3ApID0+IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xhc3MucHJvdG90eXBlLCBwcm9wLCB7XG5cdFx0XHRnZXQoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLiQkYyAmJiBwcm9wIGluIHRoaXMuJCRjID8gdGhpcy4kJGNbcHJvcF0gOiB0aGlzLiQkZFtwcm9wXTtcblx0XHRcdH0sXG5cdFx0XHRzZXQodmFsdWUpIHtcblx0XHRcdFx0dmFsdWUgPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUocHJvcCwgdmFsdWUsIHByb3BzX2RlZmluaXRpb24pO1xuXHRcdFx0XHR0aGlzLiQkZFtwcm9wXSA9IHZhbHVlO1xuXHRcdFx0XHR0aGlzLiQkYz8uJHNldCh7IFtwcm9wXTogdmFsdWUgfSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRhY2Nlc3NvcnMuZm9yRWFjaCgoYWNjZXNzb3IpID0+IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xhc3MucHJvdG90eXBlLCBhY2Nlc3Nvciwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kJGM/LlthY2Nlc3Nvcl07XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRpZiAoZXh0ZW5kKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciAtIGFzc2lnbmluZyBoZXJlIGlzIGZpbmVcblx0XHRDbGFzcyA9IGV4dGVuZChDbGFzcyk7XG5cdH1cblx0Q29tcG9uZW50LmVsZW1lbnQgPSAvKiogQHR5cGUge2FueX0gKi8gKENsYXNzKTtcblx0cmV0dXJuIENsYXNzO1xufVxuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzLiBVc2VkIHdoZW4gZGV2PWZhbHNlLlxuICpcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gW1Byb3BzPWFueV1cbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gW0V2ZW50cz1hbnldXG4gKi9cbmV4cG9ydCBjbGFzcyBTdmVsdGVDb21wb25lbnQge1xuXHQvKipcblx0ICogIyMjIFBSSVZBVEUgQVBJXG5cdCAqXG5cdCAqIERvIG5vdCB1c2UsIG1heSBjaGFuZ2UgYXQgYW55IHRpbWVcblx0ICpcblx0ICogQHR5cGUge2FueX1cblx0ICovXG5cdCQkID0gdW5kZWZpbmVkO1xuXHQvKipcblx0ICogIyMjIFBSSVZBVEUgQVBJXG5cdCAqXG5cdCAqIERvIG5vdCB1c2UsIG1heSBjaGFuZ2UgYXQgYW55IHRpbWVcblx0ICpcblx0ICogQHR5cGUge2FueX1cblx0ICovXG5cdCQkc2V0ID0gdW5kZWZpbmVkO1xuXG5cdC8qKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0JGRlc3Ryb3koKSB7XG5cdFx0ZGVzdHJveV9jb21wb25lbnQodGhpcywgMSk7XG5cdFx0dGhpcy4kZGVzdHJveSA9IG5vb3A7XG5cdH1cblxuXHQvKipcblx0ICogQHRlbXBsYXRlIHtFeHRyYWN0PGtleW9mIEV2ZW50cywgc3RyaW5nPn0gS1xuXHQgKiBAcGFyYW0ge0t9IHR5cGVcblx0ICogQHBhcmFtIHsoKGU6IEV2ZW50c1tLXSkgPT4gdm9pZCkgfCBudWxsIHwgdW5kZWZpbmVkfSBjYWxsYmFja1xuXHQgKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cblx0ICovXG5cdCRvbih0eXBlLCBjYWxsYmFjaykge1xuXHRcdGlmICghaXNfZnVuY3Rpb24oY2FsbGJhY2spKSB7XG5cdFx0XHRyZXR1cm4gbm9vcDtcblx0XHR9XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gdGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pO1xuXHRcdGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0Y29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG5cdFx0XHRpZiAoaW5kZXggIT09IC0xKSBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7UGFydGlhbDxQcm9wcz59IHByb3BzXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0JHNldChwcm9wcykge1xuXHRcdGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eShwcm9wcykpIHtcblx0XHRcdHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG5cdFx0XHR0aGlzLiQkc2V0KHByb3BzKTtcblx0XHRcdHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvblxuICogQHByb3BlcnR5IHtzdHJpbmd9IFthdHRyaWJ1dGVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyZWZsZWN0XVxuICogQHByb3BlcnR5IHsnU3RyaW5nJ3wnQm9vbGVhbid8J051bWJlcid8J0FycmF5J3wnT2JqZWN0J30gW3R5cGVdXG4gKi9cbiIsIi8vIGdlbmVyYXRlZCBkdXJpbmcgcmVsZWFzZSwgZG8gbm90IG1vZGlmeVxuXG4vKipcbiAqIFRoZSBjdXJyZW50IHZlcnNpb24sIGFzIHNldCBpbiBwYWNrYWdlLmpzb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWNvbXBpbGVyI3N2ZWx0ZS12ZXJzaW9uXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9ICc0LjIuMTknO1xuZXhwb3J0IGNvbnN0IFBVQkxJQ19WRVJTSU9OID0gJzQnO1xuIiwiaW1wb3J0IHsgUFVCTElDX1ZFUlNJT04gfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdmVyc2lvbi5qcyc7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcblx0Ly8gQHRzLWlnbm9yZVxuXHQod2luZG93Ll9fc3ZlbHRlIHx8ICh3aW5kb3cuX19zdmVsdGUgPSB7IHY6IG5ldyBTZXQoKSB9KSkudi5hZGQoUFVCTElDX1ZFUlNJT04pO1xuIiwiLypcbkFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2xcbkRpc3RyaWJ1dGVkIHVuZGVyIE1JVCBMaWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9lYXNlcy9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG4qL1xuZXhwb3J0IHsgaWRlbnRpdHkgYXMgbGluZWFyIH0gZnJvbSAnLi4vaW50ZXJuYWwvaW5kZXguanMnO1xuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmFja0luT3V0KHQpIHtcblx0Y29uc3QgcyA9IDEuNzAxNTggKiAxLjUyNTtcblx0aWYgKCh0ICo9IDIpIDwgMSkgcmV0dXJuIDAuNSAqICh0ICogdCAqICgocyArIDEpICogdCAtIHMpKTtcblx0cmV0dXJuIDAuNSAqICgodCAtPSAyKSAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDIpO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmFja0luKHQpIHtcblx0Y29uc3QgcyA9IDEuNzAxNTg7XG5cdHJldHVybiB0ICogdCAqICgocyArIDEpICogdCAtIHMpO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmFja091dCh0KSB7XG5cdGNvbnN0IHMgPSAxLjcwMTU4O1xuXHRyZXR1cm4gLS10ICogdCAqICgocyArIDEpICogdCArIHMpICsgMTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvdW5jZU91dCh0KSB7XG5cdGNvbnN0IGEgPSA0LjAgLyAxMS4wO1xuXHRjb25zdCBiID0gOC4wIC8gMTEuMDtcblx0Y29uc3QgYyA9IDkuMCAvIDEwLjA7XG5cdGNvbnN0IGNhID0gNDM1Ni4wIC8gMzYxLjA7XG5cdGNvbnN0IGNiID0gMzU0NDIuMCAvIDE4MDUuMDtcblx0Y29uc3QgY2MgPSAxNjA2MS4wIC8gMTgwNS4wO1xuXHRjb25zdCB0MiA9IHQgKiB0O1xuXHRyZXR1cm4gdCA8IGFcblx0XHQ/IDcuNTYyNSAqIHQyXG5cdFx0OiB0IDwgYlxuXHRcdD8gOS4wNzUgKiB0MiAtIDkuOSAqIHQgKyAzLjRcblx0XHQ6IHQgPCBjXG5cdFx0PyBjYSAqIHQyIC0gY2IgKiB0ICsgY2Ncblx0XHQ6IDEwLjggKiB0ICogdCAtIDIwLjUyICogdCArIDEwLjcyO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYm91bmNlSW5PdXQodCkge1xuXHRyZXR1cm4gdCA8IDAuNSA/IDAuNSAqICgxLjAgLSBib3VuY2VPdXQoMS4wIC0gdCAqIDIuMCkpIDogMC41ICogYm91bmNlT3V0KHQgKiAyLjAgLSAxLjApICsgMC41O1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYm91bmNlSW4odCkge1xuXHRyZXR1cm4gMS4wIC0gYm91bmNlT3V0KDEuMCAtIHQpO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2lyY0luT3V0KHQpIHtcblx0aWYgKCh0ICo9IDIpIDwgMSkgcmV0dXJuIC0wLjUgKiAoTWF0aC5zcXJ0KDEgLSB0ICogdCkgLSAxKTtcblx0cmV0dXJuIDAuNSAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNpcmNJbih0KSB7XG5cdHJldHVybiAxLjAgLSBNYXRoLnNxcnQoMS4wIC0gdCAqIHQpO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2lyY091dCh0KSB7XG5cdHJldHVybiBNYXRoLnNxcnQoMSAtIC0tdCAqIHQpO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3ViaWNJbk91dCh0KSB7XG5cdHJldHVybiB0IDwgMC41ID8gNC4wICogdCAqIHQgKiB0IDogMC41ICogTWF0aC5wb3coMi4wICogdCAtIDIuMCwgMy4wKSArIDEuMDtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGN1YmljSW4odCkge1xuXHRyZXR1cm4gdCAqIHQgKiB0O1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3ViaWNPdXQodCkge1xuXHRjb25zdCBmID0gdCAtIDEuMDtcblx0cmV0dXJuIGYgKiBmICogZiArIDEuMDtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsYXN0aWNJbk91dCh0KSB7XG5cdHJldHVybiB0IDwgMC41XG5cdFx0PyAwLjUgKiBNYXRoLnNpbigoKCsxMy4wICogTWF0aC5QSSkgLyAyKSAqIDIuMCAqIHQpICogTWF0aC5wb3coMi4wLCAxMC4wICogKDIuMCAqIHQgLSAxLjApKVxuXHRcdDogMC41ICpcblx0XHRcdFx0TWF0aC5zaW4oKCgtMTMuMCAqIE1hdGguUEkpIC8gMikgKiAoMi4wICogdCAtIDEuMCArIDEuMCkpICpcblx0XHRcdFx0TWF0aC5wb3coMi4wLCAtMTAuMCAqICgyLjAgKiB0IC0gMS4wKSkgK1xuXHRcdFx0XHQxLjA7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGFzdGljSW4odCkge1xuXHRyZXR1cm4gTWF0aC5zaW4oKDEzLjAgKiB0ICogTWF0aC5QSSkgLyAyKSAqIE1hdGgucG93KDIuMCwgMTAuMCAqICh0IC0gMS4wKSk7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGFzdGljT3V0KHQpIHtcblx0cmV0dXJuIE1hdGguc2luKCgtMTMuMCAqICh0ICsgMS4wKSAqIE1hdGguUEkpIC8gMikgKiBNYXRoLnBvdygyLjAsIC0xMC4wICogdCkgKyAxLjA7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBvSW5PdXQodCkge1xuXHRyZXR1cm4gdCA9PT0gMC4wIHx8IHQgPT09IDEuMFxuXHRcdD8gdFxuXHRcdDogdCA8IDAuNVxuXHRcdD8gKzAuNSAqIE1hdGgucG93KDIuMCwgMjAuMCAqIHQgLSAxMC4wKVxuXHRcdDogLTAuNSAqIE1hdGgucG93KDIuMCwgMTAuMCAtIHQgKiAyMC4wKSArIDEuMDtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cG9Jbih0KSB7XG5cdHJldHVybiB0ID09PSAwLjAgPyB0IDogTWF0aC5wb3coMi4wLCAxMC4wICogKHQgLSAxLjApKTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cG9PdXQodCkge1xuXHRyZXR1cm4gdCA9PT0gMS4wID8gdCA6IDEuMCAtIE1hdGgucG93KDIuMCwgLTEwLjAgKiB0KTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YWRJbk91dCh0KSB7XG5cdHQgLz0gMC41O1xuXHRpZiAodCA8IDEpIHJldHVybiAwLjUgKiB0ICogdDtcblx0dC0tO1xuXHRyZXR1cm4gLTAuNSAqICh0ICogKHQgLSAyKSAtIDEpO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhZEluKHQpIHtcblx0cmV0dXJuIHQgKiB0O1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhZE91dCh0KSB7XG5cdHJldHVybiAtdCAqICh0IC0gMi4wKTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YXJ0SW5PdXQodCkge1xuXHRyZXR1cm4gdCA8IDAuNSA/ICs4LjAgKiBNYXRoLnBvdyh0LCA0LjApIDogLTguMCAqIE1hdGgucG93KHQgLSAxLjAsIDQuMCkgKyAxLjA7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFydEluKHQpIHtcblx0cmV0dXJuIE1hdGgucG93KHQsIDQuMCk7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFydE91dCh0KSB7XG5cdHJldHVybiBNYXRoLnBvdyh0IC0gMS4wLCAzLjApICogKDEuMCAtIHQpICsgMS4wO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVpbnRJbk91dCh0KSB7XG5cdGlmICgodCAqPSAyKSA8IDEpIHJldHVybiAwLjUgKiB0ICogdCAqIHQgKiB0ICogdDtcblx0cmV0dXJuIDAuNSAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1aW50SW4odCkge1xuXHRyZXR1cm4gdCAqIHQgKiB0ICogdCAqIHQ7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWludE91dCh0KSB7XG5cdHJldHVybiAtLXQgKiB0ICogdCAqIHQgKiB0ICsgMTtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbmVJbk91dCh0KSB7XG5cdHJldHVybiAtMC41ICogKE1hdGguY29zKE1hdGguUEkgKiB0KSAtIDEpO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1lYXNpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2luZUluKHQpIHtcblx0Y29uc3QgdiA9IE1hdGguY29zKHQgKiBNYXRoLlBJICogMC41KTtcblx0aWYgKE1hdGguYWJzKHYpIDwgMWUtMTQpIHJldHVybiAxO1xuXHRlbHNlIHJldHVybiAxIC0gdjtcbn1cblxuLyoqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbmVPdXQodCkge1xuXHRyZXR1cm4gTWF0aC5zaW4oKHQgKiBNYXRoLlBJKSAvIDIpO1xufVxuIiwiaW1wb3J0IHsgY3ViaWNPdXQsIGN1YmljSW5PdXQsIGxpbmVhciB9IGZyb20gJy4uL2Vhc2luZy9pbmRleC5qcyc7XG5pbXBvcnQgeyBhc3NpZ24sIHNwbGl0X2Nzc191bml0LCBpc19mdW5jdGlvbiB9IGZyb20gJy4uL2ludGVybmFsL2luZGV4LmpzJztcblxuLyoqXG4gKiBBbmltYXRlcyBhIGBibHVyYCBmaWx0ZXIgYWxvbmdzaWRlIGFuIGVsZW1lbnQncyBvcGFjaXR5LlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS10cmFuc2l0aW9uI2JsdXJcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljJykuQmx1clBhcmFtc30gW3BhcmFtc11cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljJykuVHJhbnNpdGlvbkNvbmZpZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJsdXIoXG5cdG5vZGUsXG5cdHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDQwMCwgZWFzaW5nID0gY3ViaWNJbk91dCwgYW1vdW50ID0gNSwgb3BhY2l0eSA9IDAgfSA9IHt9XG4pIHtcblx0Y29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuXHRjb25zdCB0YXJnZXRfb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuXHRjb25zdCBmID0gc3R5bGUuZmlsdGVyID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLmZpbHRlcjtcblx0Y29uc3Qgb2QgPSB0YXJnZXRfb3BhY2l0eSAqICgxIC0gb3BhY2l0eSk7XG5cdGNvbnN0IFt2YWx1ZSwgdW5pdF0gPSBzcGxpdF9jc3NfdW5pdChhbW91bnQpO1xuXHRyZXR1cm4ge1xuXHRcdGRlbGF5LFxuXHRcdGR1cmF0aW9uLFxuXHRcdGVhc2luZyxcblx0XHRjc3M6IChfdCwgdSkgPT4gYG9wYWNpdHk6ICR7dGFyZ2V0X29wYWNpdHkgLSBvZCAqIHV9OyBmaWx0ZXI6ICR7Zn0gYmx1cigke3UgKiB2YWx1ZX0ke3VuaXR9KTtgXG5cdH07XG59XG5cbi8qKlxuICogQW5pbWF0ZXMgdGhlIG9wYWNpdHkgb2YgYW4gZWxlbWVudCBmcm9tIDAgdG8gdGhlIGN1cnJlbnQgb3BhY2l0eSBmb3IgYGluYCB0cmFuc2l0aW9ucyBhbmQgZnJvbSB0aGUgY3VycmVudCBvcGFjaXR5IHRvIDAgZm9yIGBvdXRgIHRyYW5zaXRpb25zLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS10cmFuc2l0aW9uI2ZhZGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljJykuRmFkZVBhcmFtc30gW3BhcmFtc11cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljJykuVHJhbnNpdGlvbkNvbmZpZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZhZGUobm9kZSwgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gNDAwLCBlYXNpbmcgPSBsaW5lYXIgfSA9IHt9KSB7XG5cdGNvbnN0IG8gPSArZ2V0Q29tcHV0ZWRTdHlsZShub2RlKS5vcGFjaXR5O1xuXHRyZXR1cm4ge1xuXHRcdGRlbGF5LFxuXHRcdGR1cmF0aW9uLFxuXHRcdGVhc2luZyxcblx0XHRjc3M6ICh0KSA9PiBgb3BhY2l0eTogJHt0ICogb31gXG5cdH07XG59XG5cbi8qKlxuICogQW5pbWF0ZXMgdGhlIHggYW5kIHkgcG9zaXRpb25zIGFuZCB0aGUgb3BhY2l0eSBvZiBhbiBlbGVtZW50LiBgaW5gIHRyYW5zaXRpb25zIGFuaW1hdGUgZnJvbSB0aGUgcHJvdmlkZWQgdmFsdWVzLCBwYXNzZWQgYXMgcGFyYW1ldGVycyB0byB0aGUgZWxlbWVudCdzIGRlZmF1bHQgdmFsdWVzLiBgb3V0YCB0cmFuc2l0aW9ucyBhbmltYXRlIGZyb20gdGhlIGVsZW1lbnQncyBkZWZhdWx0IHZhbHVlcyB0byB0aGUgcHJvdmlkZWQgdmFsdWVzLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS10cmFuc2l0aW9uI2ZseVxuICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMnKS5GbHlQYXJhbXN9IFtwYXJhbXNdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYycpLlRyYW5zaXRpb25Db25maWd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHkoXG5cdG5vZGUsXG5cdHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDQwMCwgZWFzaW5nID0gY3ViaWNPdXQsIHggPSAwLCB5ID0gMCwgb3BhY2l0eSA9IDAgfSA9IHt9XG4pIHtcblx0Y29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuXHRjb25zdCB0YXJnZXRfb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuXHRjb25zdCB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogc3R5bGUudHJhbnNmb3JtO1xuXHRjb25zdCBvZCA9IHRhcmdldF9vcGFjaXR5ICogKDEgLSBvcGFjaXR5KTtcblx0Y29uc3QgW3hWYWx1ZSwgeFVuaXRdID0gc3BsaXRfY3NzX3VuaXQoeCk7XG5cdGNvbnN0IFt5VmFsdWUsIHlVbml0XSA9IHNwbGl0X2Nzc191bml0KHkpO1xuXHRyZXR1cm4ge1xuXHRcdGRlbGF5LFxuXHRcdGR1cmF0aW9uLFxuXHRcdGVhc2luZyxcblx0XHRjc3M6ICh0LCB1KSA9PiBgXG5cdFx0XHR0cmFuc2Zvcm06ICR7dHJhbnNmb3JtfSB0cmFuc2xhdGUoJHsoMSAtIHQpICogeFZhbHVlfSR7eFVuaXR9LCAkeygxIC0gdCkgKiB5VmFsdWV9JHt5VW5pdH0pO1xuXHRcdFx0b3BhY2l0eTogJHt0YXJnZXRfb3BhY2l0eSAtIG9kICogdX1gXG5cdH07XG59XG5cbi8qKlxuICogU2xpZGVzIGFuIGVsZW1lbnQgaW4gYW5kIG91dC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtdHJhbnNpdGlvbiNzbGlkZVxuICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMnKS5TbGlkZVBhcmFtc30gW3BhcmFtc11cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljJykuVHJhbnNpdGlvbkNvbmZpZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNsaWRlKG5vZGUsIHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDQwMCwgZWFzaW5nID0gY3ViaWNPdXQsIGF4aXMgPSAneScgfSA9IHt9KSB7XG5cdGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcblx0Y29uc3Qgb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuXHRjb25zdCBwcmltYXJ5X3Byb3BlcnR5ID0gYXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXHRjb25zdCBwcmltYXJ5X3Byb3BlcnR5X3ZhbHVlID0gcGFyc2VGbG9hdChzdHlsZVtwcmltYXJ5X3Byb3BlcnR5XSk7XG5cdGNvbnN0IHNlY29uZGFyeV9wcm9wZXJ0aWVzID0gYXhpcyA9PT0gJ3knID8gWyd0b3AnLCAnYm90dG9tJ10gOiBbJ2xlZnQnLCAncmlnaHQnXTtcblx0Y29uc3QgY2FwaXRhbGl6ZWRfc2Vjb25kYXJ5X3Byb3BlcnRpZXMgPSBzZWNvbmRhcnlfcHJvcGVydGllcy5tYXAoXG5cdFx0KGUpID0+IGAke2VbMF0udG9VcHBlckNhc2UoKX0ke2Uuc2xpY2UoMSl9YFxuXHQpO1xuXHRjb25zdCBwYWRkaW5nX3N0YXJ0X3ZhbHVlID0gcGFyc2VGbG9hdChzdHlsZVtgcGFkZGluZyR7Y2FwaXRhbGl6ZWRfc2Vjb25kYXJ5X3Byb3BlcnRpZXNbMF19YF0pO1xuXHRjb25zdCBwYWRkaW5nX2VuZF92YWx1ZSA9IHBhcnNlRmxvYXQoc3R5bGVbYHBhZGRpbmcke2NhcGl0YWxpemVkX3NlY29uZGFyeV9wcm9wZXJ0aWVzWzFdfWBdKTtcblx0Y29uc3QgbWFyZ2luX3N0YXJ0X3ZhbHVlID0gcGFyc2VGbG9hdChzdHlsZVtgbWFyZ2luJHtjYXBpdGFsaXplZF9zZWNvbmRhcnlfcHJvcGVydGllc1swXX1gXSk7XG5cdGNvbnN0IG1hcmdpbl9lbmRfdmFsdWUgPSBwYXJzZUZsb2F0KHN0eWxlW2BtYXJnaW4ke2NhcGl0YWxpemVkX3NlY29uZGFyeV9wcm9wZXJ0aWVzWzFdfWBdKTtcblx0Y29uc3QgYm9yZGVyX3dpZHRoX3N0YXJ0X3ZhbHVlID0gcGFyc2VGbG9hdChcblx0XHRzdHlsZVtgYm9yZGVyJHtjYXBpdGFsaXplZF9zZWNvbmRhcnlfcHJvcGVydGllc1swXX1XaWR0aGBdXG5cdCk7XG5cdGNvbnN0IGJvcmRlcl93aWR0aF9lbmRfdmFsdWUgPSBwYXJzZUZsb2F0KFxuXHRcdHN0eWxlW2Bib3JkZXIke2NhcGl0YWxpemVkX3NlY29uZGFyeV9wcm9wZXJ0aWVzWzFdfVdpZHRoYF1cblx0KTtcblx0cmV0dXJuIHtcblx0XHRkZWxheSxcblx0XHRkdXJhdGlvbixcblx0XHRlYXNpbmcsXG5cdFx0Y3NzOiAodCkgPT5cblx0XHRcdCdvdmVyZmxvdzogaGlkZGVuOycgK1xuXHRcdFx0YG9wYWNpdHk6ICR7TWF0aC5taW4odCAqIDIwLCAxKSAqIG9wYWNpdHl9O2AgK1xuXHRcdFx0YCR7cHJpbWFyeV9wcm9wZXJ0eX06ICR7dCAqIHByaW1hcnlfcHJvcGVydHlfdmFsdWV9cHg7YCArXG5cdFx0XHRgcGFkZGluZy0ke3NlY29uZGFyeV9wcm9wZXJ0aWVzWzBdfTogJHt0ICogcGFkZGluZ19zdGFydF92YWx1ZX1weDtgICtcblx0XHRcdGBwYWRkaW5nLSR7c2Vjb25kYXJ5X3Byb3BlcnRpZXNbMV19OiAke3QgKiBwYWRkaW5nX2VuZF92YWx1ZX1weDtgICtcblx0XHRcdGBtYXJnaW4tJHtzZWNvbmRhcnlfcHJvcGVydGllc1swXX06ICR7dCAqIG1hcmdpbl9zdGFydF92YWx1ZX1weDtgICtcblx0XHRcdGBtYXJnaW4tJHtzZWNvbmRhcnlfcHJvcGVydGllc1sxXX06ICR7dCAqIG1hcmdpbl9lbmRfdmFsdWV9cHg7YCArXG5cdFx0XHRgYm9yZGVyLSR7c2Vjb25kYXJ5X3Byb3BlcnRpZXNbMF19LXdpZHRoOiAke3QgKiBib3JkZXJfd2lkdGhfc3RhcnRfdmFsdWV9cHg7YCArXG5cdFx0XHRgYm9yZGVyLSR7c2Vjb25kYXJ5X3Byb3BlcnRpZXNbMV19LXdpZHRoOiAke3QgKiBib3JkZXJfd2lkdGhfZW5kX3ZhbHVlfXB4O2Bcblx0fTtcbn1cblxuLyoqXG4gKiBBbmltYXRlcyB0aGUgb3BhY2l0eSBhbmQgc2NhbGUgb2YgYW4gZWxlbWVudC4gYGluYCB0cmFuc2l0aW9ucyBhbmltYXRlIGZyb20gYW4gZWxlbWVudCdzIGN1cnJlbnQgKGRlZmF1bHQpIHZhbHVlcyB0byB0aGUgcHJvdmlkZWQgdmFsdWVzLCBwYXNzZWQgYXMgcGFyYW1ldGVycy4gYG91dGAgdHJhbnNpdGlvbnMgYW5pbWF0ZSBmcm9tIHRoZSBwcm92aWRlZCB2YWx1ZXMgdG8gYW4gZWxlbWVudCdzIGRlZmF1bHQgdmFsdWVzLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS10cmFuc2l0aW9uI3NjYWxlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYycpLlNjYWxlUGFyYW1zfSBbcGFyYW1zXVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMnKS5UcmFuc2l0aW9uQ29uZmlnfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUoXG5cdG5vZGUsXG5cdHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDQwMCwgZWFzaW5nID0gY3ViaWNPdXQsIHN0YXJ0ID0gMCwgb3BhY2l0eSA9IDAgfSA9IHt9XG4pIHtcblx0Y29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuXHRjb25zdCB0YXJnZXRfb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuXHRjb25zdCB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogc3R5bGUudHJhbnNmb3JtO1xuXHRjb25zdCBzZCA9IDEgLSBzdGFydDtcblx0Y29uc3Qgb2QgPSB0YXJnZXRfb3BhY2l0eSAqICgxIC0gb3BhY2l0eSk7XG5cdHJldHVybiB7XG5cdFx0ZGVsYXksXG5cdFx0ZHVyYXRpb24sXG5cdFx0ZWFzaW5nLFxuXHRcdGNzczogKF90LCB1KSA9PiBgXG5cdFx0XHR0cmFuc2Zvcm06ICR7dHJhbnNmb3JtfSBzY2FsZSgkezEgLSBzZCAqIHV9KTtcblx0XHRcdG9wYWNpdHk6ICR7dGFyZ2V0X29wYWNpdHkgLSBvZCAqIHV9XG5cdFx0YFxuXHR9O1xufVxuXG4vKipcbiAqIEFuaW1hdGVzIHRoZSBzdHJva2Ugb2YgYW4gU1ZHIGVsZW1lbnQsIGxpa2UgYSBzbmFrZSBpbiBhIHR1YmUuIGBpbmAgdHJhbnNpdGlvbnMgYmVnaW4gd2l0aCB0aGUgcGF0aCBpbnZpc2libGUgYW5kIGRyYXcgdGhlIHBhdGggdG8gdGhlIHNjcmVlbiBvdmVyIHRpbWUuIGBvdXRgIHRyYW5zaXRpb25zIHN0YXJ0IGluIGEgdmlzaWJsZSBzdGF0ZSBhbmQgZ3JhZHVhbGx5IGVyYXNlIHRoZSBwYXRoLiBgZHJhd2Agb25seSB3b3JrcyB3aXRoIGVsZW1lbnRzIHRoYXQgaGF2ZSBhIGBnZXRUb3RhbExlbmd0aGAgbWV0aG9kLCBsaWtlIGA8cGF0aD5gIGFuZCBgPHBvbHlsaW5lPmAuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXRyYW5zaXRpb24jZHJhd1xuICogQHBhcmFtIHtTVkdFbGVtZW50ICYgeyBnZXRUb3RhbExlbmd0aCgpOiBudW1iZXIgfX0gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljJykuRHJhd1BhcmFtc30gW3BhcmFtc11cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljJykuVHJhbnNpdGlvbkNvbmZpZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyYXcobm9kZSwgeyBkZWxheSA9IDAsIHNwZWVkLCBkdXJhdGlvbiwgZWFzaW5nID0gY3ViaWNJbk91dCB9ID0ge30pIHtcblx0bGV0IGxlbiA9IG5vZGUuZ2V0VG90YWxMZW5ndGgoKTtcblx0Y29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuXHRpZiAoc3R5bGUuc3Ryb2tlTGluZWNhcCAhPT0gJ2J1dHQnKSB7XG5cdFx0bGVuICs9IHBhcnNlSW50KHN0eWxlLnN0cm9rZVdpZHRoKTtcblx0fVxuXHRpZiAoZHVyYXRpb24gPT09IHVuZGVmaW5lZCkge1xuXHRcdGlmIChzcGVlZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRkdXJhdGlvbiA9IDgwMDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZHVyYXRpb24gPSBsZW4gLyBzcGVlZDtcblx0XHR9XG5cdH0gZWxzZSBpZiAodHlwZW9mIGR1cmF0aW9uID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0ZHVyYXRpb24gPSBkdXJhdGlvbihsZW4pO1xuXHR9XG5cdHJldHVybiB7XG5cdFx0ZGVsYXksXG5cdFx0ZHVyYXRpb24sXG5cdFx0ZWFzaW5nLFxuXHRcdGNzczogKF8sIHUpID0+IGBcblx0XHRcdHN0cm9rZS1kYXNoYXJyYXk6ICR7bGVufTtcblx0XHRcdHN0cm9rZS1kYXNob2Zmc2V0OiAke3UgKiBsZW59O1xuXHRcdGBcblx0fTtcbn1cblxuLyoqXG4gKiBUaGUgYGNyb3NzZmFkZWAgZnVuY3Rpb24gY3JlYXRlcyBhIHBhaXIgb2YgW3RyYW5zaXRpb25zXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyN0ZW1wbGF0ZS1zeW50YXgtZWxlbWVudC1kaXJlY3RpdmVzLXRyYW5zaXRpb24tZm4pIGNhbGxlZCBgc2VuZGAgYW5kIGByZWNlaXZlYC4gV2hlbiBhbiBlbGVtZW50IGlzICdzZW50JywgaXQgbG9va3MgZm9yIGEgY29ycmVzcG9uZGluZyBlbGVtZW50IGJlaW5nICdyZWNlaXZlZCcsIGFuZCBnZW5lcmF0ZXMgYSB0cmFuc2l0aW9uIHRoYXQgdHJhbnNmb3JtcyB0aGUgZWxlbWVudCB0byBpdHMgY291bnRlcnBhcnQncyBwb3NpdGlvbiBhbmQgZmFkZXMgaXQgb3V0LiBXaGVuIGFuIGVsZW1lbnQgaXMgJ3JlY2VpdmVkJywgdGhlIHJldmVyc2UgaGFwcGVucy4gSWYgdGhlcmUgaXMgbm8gY291bnRlcnBhcnQsIHRoZSBgZmFsbGJhY2tgIHRyYW5zaXRpb24gaXMgdXNlZC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtdHJhbnNpdGlvbiNjcm9zc2ZhZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYycpLkNyb3NzZmFkZVBhcmFtcyAmIHtcbiAqIFx0ZmFsbGJhY2s/OiAobm9kZTogRWxlbWVudCwgcGFyYW1zOiBpbXBvcnQoJy4vcHVibGljJykuQ3Jvc3NmYWRlUGFyYW1zLCBpbnRybzogYm9vbGVhbikgPT4gaW1wb3J0KCcuL3B1YmxpYycpLlRyYW5zaXRpb25Db25maWc7XG4gKiB9fSBwYXJhbXNcbiAqIEByZXR1cm5zIHtbKG5vZGU6IGFueSwgcGFyYW1zOiBpbXBvcnQoJy4vcHVibGljJykuQ3Jvc3NmYWRlUGFyYW1zICYgeyBrZXk6IGFueTsgfSkgPT4gKCkgPT4gaW1wb3J0KCcuL3B1YmxpYycpLlRyYW5zaXRpb25Db25maWcsIChub2RlOiBhbnksIHBhcmFtczogaW1wb3J0KCcuL3B1YmxpYycpLkNyb3NzZmFkZVBhcmFtcyAmIHsga2V5OiBhbnk7IH0pID0+ICgpID0+IGltcG9ydCgnLi9wdWJsaWMnKS5UcmFuc2l0aW9uQ29uZmlnXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzZmFkZSh7IGZhbGxiYWNrLCAuLi5kZWZhdWx0cyB9KSB7XG5cdC8qKiBAdHlwZSB7TWFwPGFueSwgRWxlbWVudD59ICovXG5cdGNvbnN0IHRvX3JlY2VpdmUgPSBuZXcgTWFwKCk7XG5cdC8qKiBAdHlwZSB7TWFwPGFueSwgRWxlbWVudD59ICovXG5cdGNvbnN0IHRvX3NlbmQgPSBuZXcgTWFwKCk7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGZyb21fbm9kZVxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGVcblx0ICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljJykuQ3Jvc3NmYWRlUGFyYW1zfSBwYXJhbXNcblx0ICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMnKS5UcmFuc2l0aW9uQ29uZmlnfVxuXHQgKi9cblx0ZnVuY3Rpb24gY3Jvc3NmYWRlKGZyb21fbm9kZSwgbm9kZSwgcGFyYW1zKSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGVsYXkgPSAwLFxuXHRcdFx0ZHVyYXRpb24gPSAoZCkgPT4gTWF0aC5zcXJ0KGQpICogMzAsXG5cdFx0XHRlYXNpbmcgPSBjdWJpY091dFxuXHRcdH0gPSBhc3NpZ24oYXNzaWduKHt9LCBkZWZhdWx0cyksIHBhcmFtcyk7XG5cdFx0Y29uc3QgZnJvbSA9IGZyb21fbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRjb25zdCB0byA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0Y29uc3QgZHggPSBmcm9tLmxlZnQgLSB0by5sZWZ0O1xuXHRcdGNvbnN0IGR5ID0gZnJvbS50b3AgLSB0by50b3A7XG5cdFx0Y29uc3QgZHcgPSBmcm9tLndpZHRoIC8gdG8ud2lkdGg7XG5cdFx0Y29uc3QgZGggPSBmcm9tLmhlaWdodCAvIHRvLmhlaWdodDtcblx0XHRjb25zdCBkID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblx0XHRjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG5cdFx0Y29uc3QgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLnRyYW5zZm9ybTtcblx0XHRjb25zdCBvcGFjaXR5ID0gK3N0eWxlLm9wYWNpdHk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGRlbGF5LFxuXHRcdFx0ZHVyYXRpb246IGlzX2Z1bmN0aW9uKGR1cmF0aW9uKSA/IGR1cmF0aW9uKGQpIDogZHVyYXRpb24sXG5cdFx0XHRlYXNpbmcsXG5cdFx0XHRjc3M6ICh0LCB1KSA9PiBgXG5cdFx0XHRcdG9wYWNpdHk6ICR7dCAqIG9wYWNpdHl9O1xuXHRcdFx0XHR0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDtcblx0XHRcdFx0dHJhbnNmb3JtOiAke3RyYW5zZm9ybX0gdHJhbnNsYXRlKCR7dSAqIGR4fXB4LCR7dSAqIGR5fXB4KSBzY2FsZSgke3QgKyAoMSAtIHQpICogZHd9LCAke1xuXHRcdFx0XHR0ICsgKDEgLSB0KSAqIGRoXG5cdFx0XHR9KTtcblx0XHRcdGBcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7TWFwPGFueSwgRWxlbWVudD59IGl0ZW1zXG5cdCAqIEBwYXJhbSB7TWFwPGFueSwgRWxlbWVudD59IGNvdW50ZXJwYXJ0c1xuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGludHJvXG5cdCAqIEByZXR1cm5zIHsobm9kZTogYW55LCBwYXJhbXM6IGltcG9ydCgnLi9wdWJsaWMnKS5Dcm9zc2ZhZGVQYXJhbXMgJiB7IGtleTogYW55OyB9KSA9PiAoKSA9PiBpbXBvcnQoJy4vcHVibGljJykuVHJhbnNpdGlvbkNvbmZpZ31cblx0ICovXG5cdGZ1bmN0aW9uIHRyYW5zaXRpb24oaXRlbXMsIGNvdW50ZXJwYXJ0cywgaW50cm8pIHtcblx0XHRyZXR1cm4gKG5vZGUsIHBhcmFtcykgPT4ge1xuXHRcdFx0aXRlbXMuc2V0KHBhcmFtcy5rZXksIG5vZGUpO1xuXHRcdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdFx0aWYgKGNvdW50ZXJwYXJ0cy5oYXMocGFyYW1zLmtleSkpIHtcblx0XHRcdFx0XHRjb25zdCBvdGhlcl9ub2RlID0gY291bnRlcnBhcnRzLmdldChwYXJhbXMua2V5KTtcblx0XHRcdFx0XHRjb3VudGVycGFydHMuZGVsZXRlKHBhcmFtcy5rZXkpO1xuXHRcdFx0XHRcdHJldHVybiBjcm9zc2ZhZGUob3RoZXJfbm9kZSwgbm9kZSwgcGFyYW1zKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBpZiB0aGUgbm9kZSBpcyBkaXNhcHBlYXJpbmcgYWx0b2dldGhlclxuXHRcdFx0XHQvLyAoaS5lLiB3YXNuJ3QgY2xhaW1lZCBieSB0aGUgb3RoZXIgbGlzdClcblx0XHRcdFx0Ly8gdGhlbiB3ZSBuZWVkIHRvIHN1cHBseSBhbiBvdXRyb1xuXHRcdFx0XHRpdGVtcy5kZWxldGUocGFyYW1zLmtleSk7XG5cdFx0XHRcdHJldHVybiBmYWxsYmFjayAmJiBmYWxsYmFjayhub2RlLCBwYXJhbXMsIGludHJvKTtcblx0XHRcdH07XG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gW3RyYW5zaXRpb24odG9fc2VuZCwgdG9fcmVjZWl2ZSwgZmFsc2UpLCB0cmFuc2l0aW9uKHRvX3JlY2VpdmUsIHRvX3NlbmQsIHRydWUpXTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZU1hcmtkb3duKFxuXHRpbnB1dDogc3RyaW5nLFxuXHRtdXRlZCA9IGZhbHNlLFxuXHRjbGFzc05hbWVzOiB7IHA/OiBzdHJpbmcgfSA9IHsgcDogXCJ0ZXh0LWJhc2VcIiB9LFxuKTogc3RyaW5nIHtcblx0aWYgKCFpbnB1dCkgcmV0dXJuIGlucHV0O1xuXG5cdGNvbnN0IGVzY2FwZUhUTUwgPSAoc3RyOiBzdHJpbmcpID0+IHtcblx0XHRyZXR1cm4gc3RyXG5cdFx0XHQucmVwbGFjZSgvJi9nLCBcIiZhbXA7XCIpXG5cdFx0XHQucmVwbGFjZSgvPC9nLCBcIiZsdDtcIilcblx0XHRcdC5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKVxuXHRcdFx0LnJlcGxhY2UoL1wiL2csIFwiJnF1b3Q7XCIpXG5cdFx0XHQucmVwbGFjZSgvJy9nLCBcIiYjMDM5O1wiKTtcblx0fTtcblxuXHRjb25zdCBsaW5rQ2xhc3NOYW1lID0gYHVuZGVybGluZSB0ZXh0LSR7XG5cdFx0bXV0ZWQgPyBcIm11dGVkXCIgOiBcInByaW1hcnlcIlxuXHR9LWZvcmVncm91bmQgaW5saW5lIGZvbnQtYm9sZCBwLTAgdHJhbnNpdGlvbi1jb2xvcnMgaG92ZXI6dW5kZXJsaW5lIGhvdmVyOm91dGxpbmUtbm9uZSBkZWNvcmF0aW9uLTEgZGVjb3JhdGlvbi1za2lwLWluay1ub25lIHVuZGVybGluZS1vZmZzZXQtWzAuMjVlbV0gaG92ZXI6ZGVjb3JhdGlvbi0yYDtcblxuXHQvLyBQcmUtcHJvY2VzcyBjb2RlIGJsb2Nrc1xuXHRjb25zdCBjb2RlQmxvY2tzOiBzdHJpbmdbXSA9IFtdO1xuXHRpbnB1dCA9IGlucHV0LnJlcGxhY2UoL2BgYChbXFxzXFxTXSo/KWBgYC9nLCAobWF0Y2gsIGNvZGUpID0+IHtcblx0XHRjb2RlQmxvY2tzLnB1c2goY29kZSk7XG5cdFx0cmV0dXJuIGB7e0NPREVCTE9DSyR7Y29kZUJsb2Nrcy5sZW5ndGggLSAxfX19YDtcblx0fSk7XG5cblx0Ly8gUHJlLXByb2Nlc3MgaW5saW5lIGNvZGVcblx0Y29uc3QgaW5saW5lQ29kZTogc3RyaW5nW10gPSBbXTtcblx0aW5wdXQgPSBpbnB1dC5yZXBsYWNlKC9gKFteYF0rKWAvZywgKG1hdGNoLCBjb2RlKSA9PiB7XG5cdFx0aW5saW5lQ29kZS5wdXNoKGNvZGUpO1xuXHRcdHJldHVybiBge3tJTkxJTkVDT0RFJHtpbmxpbmVDb2RlLmxlbmd0aCAtIDF9fX1gO1xuXHR9KTtcblxuXHRsZXQgaHRtbCA9IGlucHV0XG5cdFx0LnJlcGxhY2UoL1xcXFxcXFxcL2csIFwiXFxcXFwiKVxuXHRcdC5yZXBsYWNlKC9cXFxcbi9nLCBcIlxcblwiKVxuXHRcdC5yZXBsYWNlKC88c3VtbWFyeT4vZywgXCIqKlN1bW1hcnk6KiogXCIpXG5cdFx0LnJlcGxhY2UoLzxcXC9zdW1tYXJ5Pi9nLCBcIlwiKVxuXHRcdC5yZXBsYWNlKC88cXVlc3Rpb25zPi9nLCBcIioqUXVlc3Rpb25zOioqIFwiKVxuXHRcdC5yZXBsYWNlKC88XFwvcXVlc3Rpb25zPi9nLCBcIlwiKVxuXHRcdC5yZXBsYWNlKC88cXVlc3Rpb24+L2csIFwiXCIpXG5cdFx0LnJlcGxhY2UoLzxcXC9xdWVzdGlvbj4vZywgXCJcIilcblx0XHQucmVwbGFjZSgvPGFuc3dlcj4vZywgXCJcIilcblx0XHQucmVwbGFjZSgvPFxcL2Fuc3dlcj4vZywgXCJcIilcblx0XHQucmVwbGFjZSgvPHByb21wdF9hbmFseXNpcz4vZywgXCIqKkFuYWx5c2lzOioqIFwiKVxuXHRcdC5yZXBsYWNlKC88XFwvcHJvbXB0X2FuYWx5c2lzPi9nLCBcIlwiKVxuXHRcdC5yZXBsYWNlKC88YW5hbHlzaXM+L2csIFwiKipBbmFseXNpczoqKiBcIilcblx0XHQucmVwbGFjZSgvPFxcL2FuYWx5c2lzPi9nLCBcIlwiKVxuXHRcdC5yZXBsYWNlKC88dGhvdWdodD4vZywgXCIqKlRob3VnaHQ6KiogXCIpXG5cdFx0LnJlcGxhY2UoLzxcXC90aG91Z2h0Pi9nLCBcIlwiKVxuXHRcdC5yZXBsYWNlKC88YWN0aW9uPi9nLCBcIioqQWN0aW9uOioqIFwiKVxuXHRcdC5yZXBsYWNlKC88XFwvYWN0aW9uPi9nLCBcIlwiKVxuXHRcdC5yZXBsYWNlKC88dW5jbGVhcl9wYXJ0cz4vZywgXCIqKlVuc3VyZSBhYm91dDoqKiBcIilcblx0XHQucmVwbGFjZSgvPFxcL3VuY2xlYXJfcGFydHM+L2csIFwiXCIpXG5cdFx0LnJlcGxhY2UoLzxrZXlfZWxlbWVudHM+L2csIFwiKipLZXkgRWxlbWVudHM6KiogXCIpXG5cdFx0LnJlcGxhY2UoLzxcXC9rZXlfZWxlbWVudHM+L2csIFwiXCIpXG5cdFx0LnJlcGxhY2UoLzxrZXlfZWxlbWVudHNfbWlzc2luZz4vZywgXCIqKktleSBFbGVtZW50cyBNaXNzaW5nOioqIFwiKVxuXHRcdC5yZXBsYWNlKC88XFwva2V5X2VsZW1lbnRzX21pc3Npbmc+L2csIFwiXCIpXG5cdFx0LnJlcGxhY2UoLzxzdWdnZXN0aW9ucz4vZywgXCIqKlN1Z2dlc3Rpb25zOioqIFwiKVxuXHRcdC5yZXBsYWNlKC88XFwvc3VnZ2VzdGlvbnM+L2csIFwiXCIpXG5cdFx0LnJlcGxhY2UoLzxzdWdnZXN0aW9uPi9nLCBcIlwiKVxuXHRcdC5yZXBsYWNlKC88XFwvc3VnZ2VzdGlvbj4vZywgXCJcIilcblx0XHQucmVwbGFjZSgvPHJldmlzZWRfcHJvbXB0Pi9nLCBcIioqUmV2aXNlZCBQcm9tcHQ6KiogXCIpXG5cdFx0LnJlcGxhY2UoLzxcXC9yZXZpc2VkX3Byb21wdD4vZywgXCJcIilcblx0XHQucmVwbGFjZSgvPHByb2JsZW1fYnJlYWtkb3duPi9nLCBcIioqUHJvYmxlbSBCcmVha2Rvd246KiogXCIpXG5cdFx0LnJlcGxhY2UoLzxcXC9wcm9ibGVtX2JyZWFrZG93bj4vZywgXCJcIik7XG5cblx0aHRtbCA9IGVzY2FwZUhUTUwoaHRtbClcblx0XHQvLyBIZWFkZXJzXG5cdFx0LnJlcGxhY2UoL14jIyMgKC4qPykkL2dtLCBcIjxoMz4kMTwvaDM+XFxuXCIpXG5cdFx0LnJlcGxhY2UoL14jIyAoLio/KSQvZ20sIFwiPGgyPiQxPC9oMj5cXG5cIilcblx0XHQucmVwbGFjZSgvXiMgKC4qPykkL2dtLCBcIjxoMT4kMTwvaDE+XFxuXCIpXG5cblx0XHQvLyBCb2xkXG5cdFx0LnJlcGxhY2UoL1xcKlxcKiguKj8pXFwqXFwqL2csIFwiPHN0cm9uZz4kMTwvc3Ryb25nPlwiKVxuXHRcdC5yZXBsYWNlKC9fXyguKj8pX18vZywgXCI8c3Ryb25nPiQxPC9zdHJvbmc+XCIpXG5cblx0XHQvLyBJdGFsaWNcblx0XHQucmVwbGFjZSgvXFwqKC4qPylcXCovZywgXCI8ZW0+JDE8L2VtPlwiKVxuXHRcdC5yZXBsYWNlKC9fKC4qPylfL2csIFwiPGVtPiQxPC9lbT5cIilcblxuXHRcdC8vIEltYWdlc1xuXHRcdC5yZXBsYWNlKFxuXHRcdFx0LyFcXFsoLio/KVxcXVxcKCguKj8pXFwpL2csXG5cdFx0XHQnPGltZyBzcmM9XCIkMlwiIGFsdD1cIiQxXCIgY2xhc3M9XCJyb3VuZGVkLWxnIG1heC13LWZ1bGwgaC1hdXRvIG15LTRcIiBsb2FkaW5nPVwibGF6eVwiIC8+Jyxcblx0XHQpXG5cblx0XHQvLyBMaW5rc1xuXHRcdC5yZXBsYWNlKFxuXHRcdFx0L1xcWyhbXlxcXV0rKVxcXVxcKChbXildKylcXCkvZyxcblx0XHRcdGA8YSBocmVmPVwiJDJcIiB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCIgY2xhc3M9XCIke2xpbmtDbGFzc05hbWV9XCI+JDE8L2E+YCxcblx0XHQpXG5cblx0XHQvLyBIYW5kbGUgT2JzaWRpYW4tc3R5bGUgaW50ZXJuYWwgbGlua3Ncblx0XHQucmVwbGFjZShcblx0XHRcdC9cXFtcXFsoLio/KVxcXVxcXS9nLFxuXHRcdFx0YDxhIGhyZWY9XCIkMVwiIGNsYXNzPVwiaW50ZXJuYWwtbGluayAke2xpbmtDbGFzc05hbWV9XCI+JDE8L2E+YCxcblx0XHQpXG5cblx0XHQvLyBVbm9yZGVyZWQgbGlzdHNcblx0XHQucmVwbGFjZSgvXihcXHMqWy0qK11cXHMrLiooPzpcXG4oPyFcXHMqWy0qK118XFxzKlxcZCtcXC4pLiopKikrL2dtLCAobWF0Y2gpID0+IHtcblx0XHRcdGNvbnN0IGl0ZW1zID0gbWF0Y2hcblx0XHRcdFx0LnNwbGl0KFwiXFxuXCIpXG5cdFx0XHRcdC5tYXAoKGxpbmUpID0+IHtcblx0XHRcdFx0XHRjb25zdCBjb250ZW50ID0gbGluZS5yZXBsYWNlKC9eXFxzKlstKitdXFxzKy8sIFwiXCIpLnRyaW0oKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGVudCA/IGA8bGk+JHtjb250ZW50fTwvbGk+YCA6IFwiXCI7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5maWx0ZXIoQm9vbGVhbilcblx0XHRcdFx0LmpvaW4oXCJcXG5cIik7XG5cdFx0XHRyZXR1cm4gYDx1bCBjbGFzcz1cImxpc3QtZGlzY1wiPiR7aXRlbXN9PC91bD5gO1xuXHRcdH0pXG5cblx0XHQvLyBPcmRlcmVkIGxpc3RzXG5cdFx0LnJlcGxhY2UoL14oXFxzKlxcZCtcXC5cXHMrLiooPzpcXG4oPyFcXHMqWy0qK118XFxzKlxcZCtcXC4pLiopKikrL2dtLCAobWF0Y2gpID0+IHtcblx0XHRcdGNvbnN0IGl0ZW1zID0gbWF0Y2hcblx0XHRcdFx0LnNwbGl0KFwiXFxuXCIpXG5cdFx0XHRcdC5tYXAoKGxpbmUpID0+IHtcblx0XHRcdFx0XHRjb25zdCBjb250ZW50ID0gbGluZS5yZXBsYWNlKC9eXFxzKlxcZCtcXC5cXHMrLywgXCJcIikudHJpbSgpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZW50ID8gYDxsaT4ke2NvbnRlbnR9PC9saT5gIDogXCJcIjtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmZpbHRlcihCb29sZWFuKVxuXHRcdFx0XHQuam9pbihcIlxcblwiKTtcblx0XHRcdHJldHVybiBgPG9sIGNsYXNzPVwibGlzdC1kZWNpbWFsXCI+JHtpdGVtc308L29sPmA7XG5cdFx0fSlcblxuXHRcdC8vIEJsb2NrcXVvdGVzXG5cdFx0LnJlcGxhY2UoXG5cdFx0XHQvXig+XFxzKy4qKD86XFxuKD8hPikuKikqKSsvZ20sXG5cdFx0XHQobWF0Y2gpID0+IGA8YmxvY2txdW90ZT4ke21hdGNoLnJlcGxhY2UoL14+XFxzKy9nbSwgXCJcIil9PC9ibG9ja3F1b3RlPmAsXG5cdFx0KVxuXG5cdFx0Ly8gSG9yaXpvbnRhbCBydWxlc1xuXHRcdC5yZXBsYWNlKC9eKD86LS0tfFxcKlxcKlxcKnxfX18pXFxzKiQvZ20sIFwiPGhyPlwiKVxuXG5cdFx0Ly8gUGFyYWdyYXBoc1xuXHRcdC5yZXBsYWNlKFxuXHRcdFx0L14oPyE8W2hvdWxdfDxibHw8aHIpW15cXG5dKyg/Olxcbig/ITxbaG91bF18PGJsfDxocilbXlxcbl0rKSovZ20sXG5cdFx0XHQobWF0Y2gpID0+XG5cdFx0XHRcdGA8cCBjbGFzcz1cIiR7Y2xhc3NOYW1lcy5wIHx8IFwidGV4dC1iYXNlXCJ9XCI+JHttYXRjaC5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXG4vZyxcblx0XHRcdFx0XHRcIjxiciAvPlwiLFxuXHRcdFx0XHQpfTwvcD5gLFxuXHRcdCk7XG5cblx0Ly8gUmVzdG9yZSBjb2RlIGJsb2NrcyB3aXRoIHByb3BlciBmb3JtYXR0aW5nXG5cdGh0bWwgPSBodG1sLnJlcGxhY2UoL3t7Q09ERUJMT0NLKFxcZCspfX0vZywgKF8sIGluZGV4KSA9PiB7XG5cdFx0Y29uc3QgY29kZSA9IGNvZGVCbG9ja3NbcGFyc2VJbnQoaW5kZXgpXTtcblx0XHRpZiAoIWNvZGUpIHJldHVybiBcIlwiO1xuXHRcdGNvbnN0IGxpbmVzID0gY29kZS5zcGxpdChcIlxcblwiKTtcblx0XHRjb25zdCBmaXJzdExpbmUgPSBsaW5lc1swXT8udHJpbSgpIHx8IFwiXCI7XG5cdFx0Y29uc3QgaGFzTGFuZyA9IC9eW2EtekEtWjAtOV0rJC8udGVzdChmaXJzdExpbmUpO1xuXHRcdGNvbnN0IGxhbmcgPSBoYXNMYW5nID8gZmlyc3RMaW5lIDogXCJcIjtcblx0XHRjb25zdCBjb250ZW50ID0gaGFzTGFuZyA/IGxpbmVzLnNsaWNlKDEpLmpvaW4oXCJcXG5cIikudHJpbSgpIDogY29kZTtcblx0XHRyZXR1cm4gYDxwcmU+PGNvZGUke1xuXHRcdFx0bGFuZyA/IGAgY2xhc3M9XCJsYW5ndWFnZS0ke2xhbmd9XCJgIDogXCJcIlxuXHRcdH0+JHtlc2NhcGVIVE1MKGNvbnRlbnQpfTwvY29kZT48L3ByZT5gO1xuXHR9KTtcblxuXHQvLyBSZXN0b3JlIGlubGluZSBjb2RlIHdpdGggcHJvcGVyIGZvcm1hdHRpbmdcblx0aHRtbCA9IGh0bWwucmVwbGFjZSgve3tJTkxJTkVDT0RFKFxcZCspfX0vZywgKF8sIGluZGV4KSA9PiB7XG5cdFx0Y29uc3QgY29kZSA9IGlubGluZUNvZGVbcGFyc2VJbnQoaW5kZXgpXTtcblx0XHRpZiAoIWNvZGUpIHJldHVybiBcIlwiO1xuXHRcdHJldHVybiBgPGNvZGU+JHtlc2NhcGVIVE1MKGNvZGUpfTwvY29kZT5gO1xuXHR9KTtcblxuXHRyZXR1cm4gaHRtbDtcbn1cbiIsIjwhLS0gU291cmNlZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vbHVjaWRlLWljb25zL2x1Y2lkZS90cmVlL21haW4vaWNvbnMgLS0+XG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJsdWNpZGUgbHVjaWRlLWNsaXBib2FyZC1jb3B5XCI+PHJlY3Qgd2lkdGg9XCI4XCIgaGVpZ2h0PVwiNFwiIHg9XCI4XCIgeT1cIjJcIiByeD1cIjFcIiByeT1cIjFcIi8+PHBhdGggZD1cIk04IDRINmEyIDIgMCAwIDAtMiAydjE0YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMnYtMlwiLz48cGF0aCBkPVwiTTE2IDRoMmEyIDIgMCAwIDEgMiAydjRcIi8+PHBhdGggZD1cIk0yMSAxNEgxMVwiLz48cGF0aCBkPVwibTE1IDEwLTQgNCA0IDRcIi8+PC9zdmc+IiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgICBpbXBvcnQgeyBmYWRlLCBmbHkgfSBmcm9tIFwic3ZlbHRlL3RyYW5zaXRpb25cIjtcbiAgICBpbXBvcnQgeyBhZnRlclVwZGF0ZSB9IGZyb20gJ3N2ZWx0ZSc7XG5cbiAgICBpbXBvcnQgdHlwZSB7IE1lc3NhZ2UgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbiAgICBpbXBvcnQgeyBwYXJzZU1hcmtkb3duIH0gZnJvbSBcIi4uL3V0aWxzL21hcmtkb3duLXBhcnNlclwiO1xuICAgIGltcG9ydCBDb3B5IGZyb20gXCIuL2ljb25zL2NvcHkuc3ZlbHRlXCI7XG5cbiAgICBleHBvcnQgbGV0IG1lc3NhZ2VzOiBNZXNzYWdlW10gPSBbXTtcbiAgICBleHBvcnQgbGV0IG9uQ29weU1lc3NhZ2U6IChtZXNzYWdlOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gICAgZXhwb3J0IGxldCBpc1Byb2Nlc3Npbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBleHBvcnQgbGV0IHN0cmVhbWluZ0NvbnRlbnQ6IHN0cmluZyA9IFwiXCI7XG5cbiAgICBsZXQgbWVzc2FnZXNDb250YWluZXI6IEhUTUxEaXZFbGVtZW50O1xuICAgIGxldCB1c2VySGFzU2Nyb2xsZWQgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZVNjcm9sbCgpIHtcbiAgICAgICAgaWYgKCFtZXNzYWdlc0NvbnRhaW5lcikgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgeyBzY3JvbGxUb3AsIHNjcm9sbEhlaWdodCwgY2xpZW50SGVpZ2h0IH0gPSBtZXNzYWdlc0NvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgaXNBdEJvdHRvbSA9IHNjcm9sbEhlaWdodCAtIHNjcm9sbFRvcCAtIGNsaWVudEhlaWdodCA8IDEwO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFpc0F0Qm90dG9tKSB7XG4gICAgICAgICAgICB1c2VySGFzU2Nyb2xsZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXNlckhhc1Njcm9sbGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZnRlclVwZGF0ZSgoKSA9PiB7XG4gICAgICAgIGlmIChtZXNzYWdlc0NvbnRhaW5lciAmJiAhdXNlckhhc1Njcm9sbGVkKSB7XG4gICAgICAgICAgICBtZXNzYWdlc0NvbnRhaW5lci5zY3JvbGxUbyh7XG4gICAgICAgICAgICAgICAgdG9wOiBtZXNzYWdlc0NvbnRhaW5lci5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdpbnN0YW50J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbjwvc2NyaXB0PlxuXG57I2lmIG1lc3NhZ2VzLmxlbmd0aCA8PSAwfVxuICAgIDxkaXYgY2xhc3M9XCJ3ZWxjb21lLW1lc3NhZ2VcIj5cbiAgICAgICAgPGgzPldlbGNvbWUgdG8gdGhlIENoYXQg8J+RizwvaDM+XG4gICAgICAgIDxwPkFzayBtZSBhbnl0aGluZyBhYm91dCB5b3VyIG5vdGVzLCBvciBqdXN0IGdlbmVyYWwgcXVlc3Rpb25zLjwvcD5cbiAgICA8L2Rpdj5cbnsvaWZ9XG5cbjxkaXYgY2xhc3M9XCJtZXNzYWdlc1wiIFxuICAgIGJpbmQ6dGhpcz17bWVzc2FnZXNDb250YWluZXJ9IFxuICAgIG9uOnNjcm9sbD17aGFuZGxlU2Nyb2xsfVxuICAgIHJvbGU9XCJsb2dcIiBcbiAgICBhcmlhLWxpdmU9XCJwb2xpdGVcIj5cbiAgICB7I2VhY2ggbWVzc2FnZXMuZmlsdGVyKChtKSA9PiBtLnJvbGUgIT09IFwic3lzdGVtXCIpIGFzIG1lc3NhZ2UsIGkgKGkpfVxuICAgICAgICA8ZGl2IGNsYXNzPVwibWVzc2FnZS13cmFwcGVyIHttZXNzYWdlLnJvbGV9XCIgcm9sZT1cImFydGljbGVcIiBcbiAgICAgICAgICAgIGluOmZseT17eyB5OiAyMCwgZHVyYXRpb246IDMwMCB9fSBvdXQ6ZmFkZT17eyBkdXJhdGlvbjogMjAwIH19PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lc3NhZ2VcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVzc2FnZS1jb250ZW50LXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyb2xlLWluZGljYXRvclwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2Uucm9sZSA9PT0gXCJhc3Npc3RhbnRcIiA/IFwi8J+kllwiIDogXCLwn5GkXCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lc3NhZ2UtY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lc3NhZ2UtY29udGVudC1pbm5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAaHRtbCBwYXJzZU1hcmtkb3duKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJvbGUgPT09IFwiYXNzaXN0YW50XCIgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPT09IG1lc3NhZ2VzLmxlbmd0aCAtIDEgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJvY2Vzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzdHJlYW1pbmdDb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1lc3NhZ2UuY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBtZXNzYWdlLnJvbGUgPT09IFwiYXNzaXN0YW50XCIgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPT09IG1lc3NhZ2VzLmxlbmd0aCAtIDEgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJvY2Vzc2luZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBzdHJlYW1pbmdDb250ZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjdXJzb3JcIj7ilos8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0eXBpbmctaW5kaWNhdG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVzc2FnZS1hY3Rpb25zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNvcHktYnV0dG9uXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBvbkNvcHlNZXNzYWdlKG1lc3NhZ2UuY29udGVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDb3B5IG1lc3NhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvcHkgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+Q29weSBtZXNzYWdlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIHsvZWFjaH1cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLm1lc3NhZ2VzIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDFyZW07XG4gICAgfVxuXG4gICAgLndlbGNvbWUtbWVzc2FnZSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBnYXA6IDAuNXJlbTtcbiAgICB9XG5cbiAgICAud2VsY29tZS1tZXNzYWdlIGgzIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgIH1cblxuICAgIC5tZXNzYWdlLXdyYXBwZXIge1xuICAgICAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcbiAgICB9XG5cbiAgICAubWVzc2FnZS13cmFwcGVyLmFzc2lzdGFudCB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSk7XG4gICAgfVxuXG4gICAgLm1lc3NhZ2Uge1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgIHBhZGRpbmc6IDBweDtcbiAgICB9XG5cbiAgICAubWVzc2FnZS1jb250ZW50LXdyYXBwZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDAuNzVyZW07XG4gICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgIH1cblxuICAgIC5yb2xlLWluZGljYXRvciB7XG4gICAgICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgICAgICBsaW5lLWhlaWdodDogMS40O1xuICAgIH1cblxuICAgIC5tZXNzYWdlLWNvbnRlbnQge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBsaW5lLWhlaWdodDogMS40O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgICB9XG4gICAgXG4gICAgLm1lc3NhZ2UtY29udGVudCAuY29weS1idXR0b24ge1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBib3gtc2hhZG93OiBub25lO1xuICAgICAgICBwYWRkaW5nOiAwcHg7XG4gICAgICAgIGhlaWdodDogMTZweDtcbiAgICAgICAgd2lkdGg6IDE2cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG5cbiAgICAubWVzc2FnZS1jb250ZW50IC5jb3B5LWJ1dHRvbjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSk7XG4gICAgfVxuXG4gICAgLm1lc3NhZ2UtY29udGVudCAuY29weS1idXR0b24gOmdsb2JhbChzdmcpIHtcbiAgICAgICAgd2lkdGg6IDE2cHg7XG4gICAgICAgIGhlaWdodDogMTZweDtcbiAgICB9XG5cblxuICAgIC5tZXNzYWdlLWNvbnRlbnQgOmdsb2JhbChwOmZpcnN0LWNoaWxkKSxcbiAgICAubWVzc2FnZS1jb250ZW50IDpnbG9iYWwoaDI6Zmlyc3QtY2hpbGQpIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMDtcbiAgICB9XG5cblx0Lm1lc3NhZ2UtY29udGVudCA6Z2xvYmFsKHVsKSB7XG5cdFx0bWFyZ2luLWxlZnQ6IDA7XG5cdFx0cGFkZGluZy1sZWZ0OiAwO1xuXHR9XG5cblx0Lm1lc3NhZ2UtY29udGVudCA6Z2xvYmFsKGNvZGUpIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnktYWx0KTtcblx0XHRwYWRkaW5nOiAwLjJlbSAwLjRlbTtcblx0XHRib3JkZXItcmFkaXVzOiAzcHg7XG5cdFx0Zm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcblx0fVxuXG5cdC5tZXNzYWdlLWNvbnRlbnQgOmdsb2JhbChwcmUpIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnktYWx0KTtcblx0XHRwYWRkaW5nOiAxZW07XG5cdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xuXHRcdG92ZXJmbG93LXg6IGF1dG87XG5cdH1cblxuXHQubWVzc2FnZS1jb250ZW50IDpnbG9iYWwoaDEpLFxuXHQubWVzc2FnZS1jb250ZW50IDpnbG9iYWwoaDIpLFxuXHQubWVzc2FnZS1jb250ZW50IDpnbG9iYWwoaDMpIHtcblx0XHRtYXJnaW46IDAuNWVtIDA7XG5cdH1cblxuXHQubWVzc2FnZS1jb250ZW50IDpnbG9iYWwobGkpIHtcblx0XHRtYXJnaW4tbGVmdDogMS41ZW07XG5cdH1cblxuICAgIC50eXBpbmctaW5kaWNhdG9yIHtcbiAgICAgICAgcGFkZGluZzogMXJlbTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAwLjRyZW07XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIH1cblxuICAgIC50eXBpbmctaW5kaWNhdG9yIHNwYW4ge1xuICAgICAgICB3aWR0aDogOHB4O1xuICAgICAgICBoZWlnaHQ6IDhweDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgIGFuaW1hdGlvbjogYm91bmNlIDEuNHMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7XG4gICAgfVxuXG4gICAgLnR5cGluZy1pbmRpY2F0b3Igc3BhbjpudGgtY2hpbGQoMSkge1xuICAgICAgICBhbmltYXRpb24tZGVsYXk6IC0wLjMycztcbiAgICB9XG4gICAgLnR5cGluZy1pbmRpY2F0b3Igc3BhbjpudGgtY2hpbGQoMikge1xuICAgICAgICBhbmltYXRpb24tZGVsYXk6IC0wLjE2cztcbiAgICB9XG5cbiAgICBAa2V5ZnJhbWVzIGJvdW5jZSB7XG4gICAgICAgIDAlLFxuICAgICAgICA4MCUsXG4gICAgICAgIDEwMCUge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwKTtcbiAgICAgICAgfVxuICAgICAgICA0MCUge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5jdXJzb3Ige1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIHdpZHRoOiAwLjZlbTtcbiAgICAgICAgYW5pbWF0aW9uOiBibGluayAxcyBzdGVwLWVuZCBpbmZpbml0ZTtcbiAgICAgICAgb3BhY2l0eTogMC43O1xuICAgIH1cblxuICAgIEBrZXlmcmFtZXMgYmxpbmsge1xuICAgICAgICAwJSwgMTAwJSB7IG9wYWNpdHk6IDA7IH1cbiAgICAgICAgNTAlIHsgb3BhY2l0eTogMTsgfVxuICAgIH1cbjwvc3R5bGU+XG4iLCI8IS0tIFNvdXJjZWQgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2x1Y2lkZS1pY29ucy9sdWNpZGUvdHJlZS9tYWluL2ljb25zIC0tPlxuPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwibHVjaWRlIGx1Y2lkZS1zZW5kXCI+PHBhdGggZD1cIk0xNC41MzYgMjEuNjg2YS41LjUgMCAwIDAgLjkzNy0uMDI0bDYuNS0xOWEuNDk2LjQ5NiAwIDAgMC0uNjM1LS42MzVsLTE5IDYuNWEuNS41IDAgMCAwLS4wMjQuOTM3bDcuOTMgMy4xOGEyIDIgMCAwIDEgMS4xMTIgMS4xMXpcIi8+PHBhdGggZD1cIm0yMS44NTQgMi4xNDctMTAuOTQgMTAuOTM5XCIvPjwvc3ZnPiIsIjwhLS0gU291cmNlZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vbHVjaWRlLWljb25zL2x1Y2lkZS90cmVlL21haW4vaWNvbnMgLS0+XG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJsdWNpZGUgbHVjaWRlLWZpbHRlclwiPjxwb2x5Z29uIHBvaW50cz1cIjIyIDMgMiAzIDEwIDEyLjQ2IDEwIDE5IDE0IDIxIDE0IDEyLjQ2IDIyIDNcIi8+PC9zdmc+IiwiPCEtLSBTb3VyY2VkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9sdWNpZGUtaWNvbnMvbHVjaWRlL3RyZWUvbWFpbi9pY29ucyAtLT5cbjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImx1Y2lkZSBsdWNpZGUtZXJhc2VyXCI+PHBhdGggZD1cIm03IDIxLTQuMy00LjNjLTEtMS0xLTIuNSAwLTMuNGw5LjYtOS42YzEtMSAyLjUtMSAzLjQgMGw1LjYgNS42YzEgMSAxIDIuNSAwIDMuNEwxMyAyMVwiLz48cGF0aCBkPVwiTTIyIDIxSDdcIi8+PHBhdGggZD1cIm01IDExIDkgOVwiLz48L3N2Zz4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICAgIGltcG9ydCB7IG9uTW91bnQgfSBmcm9tIFwic3ZlbHRlXCI7XG4gICAgaW1wb3J0IHsgZmFkZSB9IGZyb20gXCJzdmVsdGUvdHJhbnNpdGlvblwiO1xuXG4gICAgaW1wb3J0IFNlbmQgZnJvbSBcIi4vaWNvbnMvc2VuZC5zdmVsdGVcIjtcbiAgICBpbXBvcnQgRmlsdGVyIGZyb20gXCIuL2ljb25zL2ZpbHRlci5zdmVsdGVcIjtcbiAgICBpbXBvcnQgdHlwZSB7IFZlY3Rvcml6ZUZpbHRlciwgRmlsdGVyT3BlcmF0b3IsIE1lc3NhZ2UgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbiAgICBpbXBvcnQgQ2xlYW4gZnJvbSBcIi4vaWNvbnMvY2xlYW4uc3ZlbHRlXCI7XG4gICAgaW1wb3J0IENvcHkgZnJvbSBcIi4vaWNvbnMvY29weS5zdmVsdGVcIjtcblxuICAgIGV4cG9ydCBsZXQgaXNQcm9jZXNzaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBtZXNzYWdlczogTWVzc2FnZVtdID0gW107XG4gICAgZXhwb3J0IGxldCBvblNlbmRNZXNzYWdlOiAobWVzc2FnZTogc3RyaW5nLCBmaWx0ZXJzOiBWZWN0b3JpemVGaWx0ZXIpID0+IFByb21pc2U8dm9pZD47XG4gICAgZXhwb3J0IGxldCBvbkNsZWFyTWVzc2FnZXM6ICgpID0+IFByb21pc2U8dm9pZD47XG4gICAgZXhwb3J0IGxldCBvbkNvcHlDb252ZXJzYXRpb246ICgpID0+IFByb21pc2U8dm9pZD47XG5cbiAgICBsZXQgaW5wdXRUZXh0ID0gXCJcIjtcbiAgICBsZXQgdGV4dEFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgbGV0IGZpbHRlcnM6IFZlY3Rvcml6ZUZpbHRlciA9IHt9O1xuICAgIGxldCBzaG93RmlsdGVycyA9IGZhbHNlO1xuICAgIGxldCBpbnB1dENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQ7XG5cbiAgICBjb25zdCBmaWx0ZXJPcHRpb25zID0gW1xuICAgICAgICB7IGZpZWxkOiBcImNyZWF0ZWRZZWFyXCIsIHR5cGU6IFwibnVtYmVyXCIsIGxhYmVsOiBcIkNyZWF0ZWQgWWVhclwiIH0sXG4gICAgICAgIHsgZmllbGQ6IFwiY3JlYXRlZE1vbnRoXCIsIHR5cGU6IFwibnVtYmVyXCIsIGxhYmVsOiBcIkNyZWF0ZWQgTW9udGhcIiB9LFxuICAgICAgICB7IGZpZWxkOiBcIm1vZGlmaWVkWWVhclwiLCB0eXBlOiBcIm51bWJlclwiLCBsYWJlbDogXCJNb2RpZmllZCBZZWFyXCIgfSxcbiAgICAgICAgeyBmaWVsZDogXCJtb2RpZmllZE1vbnRoXCIsIHR5cGU6IFwibnVtYmVyXCIsIGxhYmVsOiBcIk1vZGlmaWVkIE1vbnRoXCIgfSxcbiAgICAgICAgeyBmaWVsZDogXCJleHRlbnNpb25cIiwgdHlwZTogXCJzdHJpbmdcIiwgbGFiZWw6IFwiRmlsZSBUeXBlXCIgfSxcbiAgICBdIGFzIGNvbnN0O1xuXG4gICAgY29uc3QgYWRqdXN0VGV4dEFyZWFIZWlnaHQgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0ZXh0QXJlYSkge1xuICAgICAgICAgICAgdGV4dEFyZWEuc3R5bGUuaGVpZ2h0ID0gXCIyNHB4XCI7XG4gICAgICAgICAgICBjb25zdCBuZXdIZWlnaHQgPSBNYXRoLm1pbihNYXRoLm1heCh0ZXh0QXJlYS5zY3JvbGxIZWlnaHQsIDI0KSwgMjAwKTtcbiAgICAgICAgICAgIHRleHRBcmVhLnN0eWxlLmhlaWdodCA9IGAke25ld0hlaWdodH1weGA7XG4gICAgICAgICAgICBpZiAoaW5wdXRDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dENvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHtuZXdIZWlnaHQgKyA2Nn1weGA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgb25Nb3VudCgoKSA9PiB7XG4gICAgICAgIGlmICh0ZXh0QXJlYSkge1xuICAgICAgICAgICAgdGV4dEFyZWEuc3R5bGUuaGVpZ2h0ID0gXCIyNHB4XCI7XG4gICAgICAgICAgICBpbnB1dENvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcIjkwcHhcIjtcbiAgICAgICAgICAgIGFkanVzdFRleHRBcmVhSGVpZ2h0KCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGlucHV0VGV4dC50cmltKCkgJiYgIWlzUHJvY2Vzc2luZykge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZVRvU2VuZCA9IGlucHV0VGV4dC50cmltKCk7XG4gICAgICAgICAgICBpbnB1dFRleHQgPSBcIlwiO1xuICAgICAgICAgICAgdGV4dEFyZWEuc3R5bGUuaGVpZ2h0ID0gXCIyNHB4XCI7XG4gICAgICAgICAgICBpbnB1dENvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcIjkwcHhcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBvblNlbmRNZXNzYWdlKG1lc3NhZ2VUb1NlbmQsIGZpbHRlcnMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2VuZGluZyBtZXNzYWdlOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgaW5wdXRUZXh0ID0gbWVzc2FnZVRvU2VuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGhhbmRsZVN1Ym1pdCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZUZvcm1DaGFuZ2UoZTogRXZlbnQpIHtcbiAgICAgICAgY29uc3QgZm9ybSA9IGUudGFyZ2V0IGFzIEhUTUxGb3JtRWxlbWVudDtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybS5jbG9zZXN0KFwiZm9ybVwiKSB8fCBmb3JtKTtcblxuICAgICAgICBmaWx0ZXJPcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBmb3JtRGF0YS5nZXQob3B0aW9uLmZpZWxkKTtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZmlsdGVyc1tvcHRpb24uZmllbGRdO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbi50eXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3AgPSAoZm9ybURhdGEuZ2V0KGAke29wdGlvbi5maWVsZH0tb3BgKSBhcyBGaWx0ZXJPcGVyYXRvcikgfHwgXCIkZXFcIjtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW29wdGlvbi5maWVsZF0gPSB7IFtvcF06IE51bWJlcih2YWx1ZSkgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyc1tvcHRpb24uZmllbGRdID0geyAkZXE6IFN0cmluZyh2YWx1ZSkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJpbnB1dC13cmFwcGVyXCI+XG4gICAgPGRpdiBjbGFzcz1cImlucHV0LWNvbnRhaW5lclwiIGJpbmQ6dGhpcz17aW5wdXRDb250YWluZXJ9PlxuICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgIGJpbmQ6dGhpcz17dGV4dEFyZWF9XG4gICAgICAgICAgICBiaW5kOnZhbHVlPXtpbnB1dFRleHR9XG4gICAgICAgICAgICBvbjppbnB1dD17YWRqdXN0VGV4dEFyZWFIZWlnaHR9XG4gICAgICAgICAgICBvbjprZXlkb3duPXtoYW5kbGVLZXlEb3dufVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIHlvdXIgbWVzc2FnZSBoZXJlLi4uXCJcbiAgICAgICAgICAgIGRpc2FibGVkPXtpc1Byb2Nlc3Npbmd9XG4gICAgICAgICAgICByb3dzPVwiMVwiXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiTWVzc2FnZSBpbnB1dFwiXG4gICAgICAgIC8+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9ucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0LWFjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYWN0aW9uLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiAoc2hvd0ZpbHRlcnMgPSAhc2hvd0ZpbHRlcnMpfVxuICAgICAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPXtzaG93RmlsdGVyc31cbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17c2hvd0ZpbHRlcnMgPyBcIkhpZGUgUkFHIEZpbHRlcnNcIiA6IFwiU2hvdyBSQUcgRmlsdGVyc1wifVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZpbHRlciAvPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzaG93RmlsdGVycyA/IFwiSGlkZSBSQUcgRmlsdGVyc1wiIDogXCJTaG93IFJBRyBGaWx0ZXJzXCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7I2lmIG1lc3NhZ2VzPy5sZW5ndGggPiAwfVxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYWN0aW9uLWJ1dHRvblwiIG9uOmNsaWNrPXtvbkNsZWFyTWVzc2FnZXN9IGFyaWEtbGFiZWw9XCJDbGVhciBDaGF0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2xlYW4gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3Itb25seVwiPkNsZWFyIENoYXQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImFjdGlvbi1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9e29uQ29weUNvbnZlcnNhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDb3B5IENvbnZlcnNhdGlvblwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDb3B5IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5Db3B5IENvbnZlcnNhdGlvbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwiYWRkaXRpb25hbC1hY3Rpb25zXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJzZW5kLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUHJvY2Vzc2luZyB8fCAhaW5wdXRUZXh0LnRyaW0oKX1cbiAgICAgICAgICAgICAgICBvbjpjbGljaz17aGFuZGxlU3VibWl0fVxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJTZW5kIG1lc3NhZ2VcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTZW5kIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+U2VuZDwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIHsjaWYgc2hvd0ZpbHRlcnN9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXJzXCIgaW46ZmFkZT17eyBkdXJhdGlvbjogMjAwIH19IG91dDpmYWRlPXt7IGR1cmF0aW9uOiAyMDAgfX0+XG4gICAgICAgICAgICA8Zm9ybSBvbjpjaGFuZ2U9e2hhbmRsZUZvcm1DaGFuZ2V9PlxuICAgICAgICAgICAgICAgIHsjZWFjaCBmaWx0ZXJPcHRpb25zIGFzIG9wdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbHRlci1yb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9e29wdGlvbi5maWVsZH0+e29wdGlvbi5sYWJlbH08L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBvcHRpb24udHlwZSA9PT0gXCJudW1iZXJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyLWlucHV0c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9e2Ake29wdGlvbi5maWVsZH0tb3BgfSBjbGFzcz1cIm9wZXJhdG9yLXNlbGVjdFwiIGFyaWEtbGFiZWw9XCJGaWx0ZXIgb3BlcmF0b3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIkZXFcIj49PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiJGd0ZVwiPntgPj1gfTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIiRsdGVcIj57YDw9YH08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgbmFtZT17b3B0aW9uLmZpZWxkfSBjbGFzcz1cInZhbHVlLXNlbGVjdFwiIGFyaWEtbGFiZWw9XCJGaWx0ZXIgdmFsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5Bbnk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgb3B0aW9uLmZpZWxkLmluY2x1ZGVzKFwiWWVhclwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggQXJyYXkuZnJvbSh7IGxlbmd0aDogNSB9LCAoXywgaSkgPT4gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gaSkgYXMgeWVhcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17eWVhcn0+e3llYXJ9PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMiB9LCAoXywgaSkgPT4gaSArIDEpIGFzIG1vbnRofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXttb250aH0+e21vbnRofTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgbmFtZT17b3B0aW9uLmZpZWxkfSBjbGFzcz1cImZ1bGwtd2lkdGhcIiBhcmlhLWxhYmVsPVwiRmlsdGVyIHZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5Bbnk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm1kXCI+TWFya2Rvd248L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgey9pZn1cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLmlucHV0LXdyYXBwZXIge1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICAgICAgICBwYWRkaW5nLXRvcDogMXJlbTtcbiAgICB9XG5cbiAgICAuaW5wdXQtY29udGFpbmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA1KTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIHBhZGRpbmc6IDAuNzVyZW07XG4gICAgICAgIG1pbi1oZWlnaHQ6IDU2cHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGdhcDogMC43NXJlbTtcbiAgICB9XG5cbiAgICB0ZXh0YXJlYSB7XG4gICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIHJlc2l6ZTogbm9uZTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICAgICAgICBmb250LXNpemU6IGluaGVyaXQ7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDI0cHg7XG4gICAgICAgIHBhZGRpbmc6IDAuNXJlbSAwLjc1cmVtO1xuICAgIH1cblxuICAgIHRleHRhcmVhOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICB9XG5cbiAgICAuYWN0aW9ucy1jb250YWluZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGdhcDogMC43NXJlbTtcbiAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgIH1cblxuICAgIC5sZWZ0LWFjdGlvbnMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDAuNzVyZW07XG4gICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICB9XG5cbiAgICAuYWN0aW9uLWJ1dHRvbiB7XG4gICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC42KTtcbiAgICAgICAgcGFkZGluZzogMC41cmVtIDAuNzVyZW07XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIH1cblxuICAgIC5hY3Rpb24tYnV0dG9uIDpnbG9iYWwoc3ZnKSB7XG4gICAgICAgIHdpZHRoOiAxNnB4O1xuICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgfVxuXG4gICAgLmFjdGlvbi1idXR0b246aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gICAgfVxuXG4gICAgLnNlbmQtYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiKDk5LCA4MiwgMTcxKTtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgcGFkZGluZzogMC41cmVtIDAuNzVyZW07XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgbWluLXdpZHRoOiA4MHB4O1xuICAgIH1cblxuICAgIC5zZW5kLWJ1dHRvbiA6Z2xvYmFsKHN2Zykge1xuICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgIH1cblxuICAgIC5zZW5kLWJ1dHRvbjpkaXNhYmxlZCB7XG4gICAgICAgIG9wYWNpdHk6IDAuNTtcbiAgICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbiAgICB9XG5cbiAgICAuZmlsdGVycyB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBwYWRkaW5nOiAxcmVtO1xuICAgICAgICBtYXJnaW4tdG9wOiAwLjVyZW07XG4gICAgfVxuXG4gICAgLmZpbHRlci1yb3cge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDAuNzVyZW07XG4gICAgfVxuXG4gICAgLmZpbHRlci1yb3c6bGFzdC1jaGlsZCB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgfVxuXG4gICAgLmZpbHRlci1pbnB1dHMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDAuNXJlbTtcbiAgICB9XG5cbiAgICBzZWxlY3Qge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDUpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgICAgIHBhZGRpbmc6IDAuMjVyZW0gMC41cmVtO1xuICAgIH1cblxuICAgIC5vcGVyYXRvci1zZWxlY3Qge1xuICAgICAgICB3aWR0aDogNTBweDtcbiAgICB9XG5cbiAgICAudmFsdWUtc2VsZWN0IHtcbiAgICAgICAgd2lkdGg6IDEwMHB4O1xuICAgIH1cblxuICAgIHNlbGVjdC5mdWxsLXdpZHRoIHtcbiAgICAgICAgd2lkdGg6IDE1OHB4O1xuICAgIH1cblxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkge1xuICAgICAgICAuZmlsdGVyLXJvdyB7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgICAgICAgICBnYXA6IDAuNXJlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5maWx0ZXItaW5wdXRzIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG5cbiAgICAgICAgLnZhbHVlLXNlbGVjdCxcbiAgICAgICAgc2VsZWN0LmZ1bGwtd2lkdGgge1xuICAgICAgICAgICAgZmxleDogMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5hY3Rpb25zLWNvbnRhaW5lciB7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICAubGVmdC1hY3Rpb25zIHtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3RyZXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5hY3Rpb24tYnV0dG9uLFxuICAgICAgICAuc2VuZC1idXR0b24ge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cbiAgICB9XG48L3N0eWxlPlxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHR5cGUgeyBNZXNzYWdlLCBWZWN0b3JpemVGaWx0ZXIgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblx0aW1wb3J0IE1lc3NhZ2VMaXN0IGZyb20gXCIuL01lc3NhZ2VMaXN0LnN2ZWx0ZVwiO1xuXHRpbXBvcnQgQ2hhdElucHV0IGZyb20gXCIuL0NoYXRJbnB1dC5zdmVsdGVcIjtcblxuXHRleHBvcnQgbGV0IG1lc3NhZ2VzOiBNZXNzYWdlW10gPSBbXTtcblx0ZXhwb3J0IGxldCBpc1Byb2Nlc3Npbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBleHBvcnQgbGV0IHN0cmVhbWluZ0NvbnRlbnQ6IHN0cmluZyA9IFwiXCI7XG5cdGV4cG9ydCBsZXQgb25TZW5kTWVzc2FnZTogKG1lc3NhZ2U6IHN0cmluZywgZmlsdGVyczogVmVjdG9yaXplRmlsdGVyKSA9PiBQcm9taXNlPHZvaWQ+O1xuXHRleHBvcnQgbGV0IG9uQ2xlYXJNZXNzYWdlczogKCkgPT4gUHJvbWlzZTx2b2lkPjtcblx0ZXhwb3J0IGxldCBvbkNvcHlDb252ZXJzYXRpb246IChjb250ZW50OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG5cdGV4cG9ydCBsZXQgb25Db3B5TWVzc2FnZTogKG1lc3NhZ2U6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwiY2hhdC1tb2RhbFwiPlxuICAgIDxNZXNzYWdlTGlzdFxuICAgICAgICB7aXNQcm9jZXNzaW5nfVxuICAgICAgICB7bWVzc2FnZXN9XG4gICAgICAgIHtzdHJlYW1pbmdDb250ZW50fVxuICAgICAgICB7b25Db3B5TWVzc2FnZX1cbiAgICAvPlxuICAgIDxDaGF0SW5wdXQgXG4gICAgICAgIHtpc1Byb2Nlc3Npbmd9XG4gICAgICAgIHttZXNzYWdlc31cbiAgICAgICAge29uU2VuZE1lc3NhZ2V9XG4gICAgICAgIHtvbkNsZWFyTWVzc2FnZXN9XG4gICAgICAgIHtvbkNvcHlDb252ZXJzYXRpb259XG4gICAgLz5cbjwvZGl2PlxuXG48c3R5bGU+XG5cdC5jaGF0LW1vZGFsIHtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cdFx0aGVpZ2h0OiAxMDAlO1xuXHRcdGNvbG9yOiAjZmZmO1xuXHRcdGZvbnQtZmFtaWx5OlxuXHRcdFx0c3lzdGVtLXVpLFxuXHRcdFx0LWFwcGxlLXN5c3RlbSxcblx0XHRcdEJsaW5rTWFjU3lzdGVtRm9udCxcblx0XHRcdFwiU2Vnb2UgVUlcIixcblx0XHRcdHNhbnMtc2VyaWY7XG5cdH1cbjwvc3R5bGU+XG4iLCJpbXBvcnQgeyBNb2RhbCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgeyBTdmVsdGVDb21wb25lbnQgfSBmcm9tIFwic3ZlbHRlXCI7XG5cbmltcG9ydCB7IEJhc2VDaGF0IH0gZnJvbSBcIi4uL3NoYXJlZC9iYXNlLWNoYXRcIjtcbmltcG9ydCBDaGF0TW9kYWxDb21wb25lbnQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2hhdE1vZGFsLnN2ZWx0ZVwiO1xuXG5jbGFzcyBDb25jcmV0ZUNoYXQgZXh0ZW5kcyBCYXNlQ2hhdCB7fVxuXG5leHBvcnQgY2xhc3MgQ2hhdE1vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRwcml2YXRlIGNoYXQ6IENvbmNyZXRlQ2hhdDtcblxuXHRjb25zdHJ1Y3RvciguLi5hcmdzOiBDb25zdHJ1Y3RvclBhcmFtZXRlcnM8dHlwZW9mIEJhc2VDaGF0Pikge1xuXHRcdHN1cGVyKGFyZ3NbMF0pO1xuXHRcdHRoaXMuY2hhdCA9IG5ldyBDb25jcmV0ZUNoYXQoLi4uYXJncyk7XG5cdFx0dGhpcy5jaGF0LmNvbnRlbnRFbCA9IHRoaXMuY29udGVudEVsO1xuXHR9XG5cblx0b25PcGVuKCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHRcdGNvbnRlbnRFbC5hZGRDbGFzcyhcImNoYXQtbW9kYWxcIik7XG5cdFx0dGhpcy5jaGF0LmluaXRpYWxpemVDb21wb25lbnQoXG5cdFx0XHRjb250ZW50RWwsXG5cdFx0XHRDaGF0TW9kYWxDb21wb25lbnQgYXMgdHlwZW9mIFN2ZWx0ZUNvbXBvbmVudCxcblx0XHQpO1xuXHR9XG5cblx0b25DbG9zZSgpOiB2b2lkIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHR0aGlzLmNoYXQuY2xlYW51cCgpO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHRcdGNvbnRlbnRFbC5yZW1vdmVDbGFzcyhcImNoYXQtbW9kYWxcIik7XG5cdH1cbn1cbiIsImltcG9ydCB7IHR5cGUgQXBwLCB0eXBlIFRGaWxlLCBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuaW1wb3J0IHR5cGUgeyBTeW5jUmVzdWx0IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgdHlwZSB7IExvZ2dlciB9IGZyb20gXCIuLi9saWIvbG9nZ2VyXCI7XG5pbXBvcnQgdHlwZSB7IEFzc2lzdGFudFByb3ZpZGVyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2FpXCI7XG5cbmV4cG9ydCBjbGFzcyBTeW5jU2VydmljZSB7XG5cdHByaXZhdGUgcmVhZG9ubHkgYmF0Y2hTaXplID0gNTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IGFwcDogQXBwLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgYXNzaXN0YW50OiBBc3Npc3RhbnRQcm92aWRlcixcblx0XHRwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgaWdub3JlZEZvbGRlcnM6IHN0cmluZ1tdID0gW10sXG5cdCkge31cblxuXHRhc3luYyBzeW5jKCk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xuXHRcdGNvbnN0IHJlc3VsdDogU3luY1Jlc3VsdCA9IHtcblx0XHRcdHN1Y2Nlc3NmdWw6IDAsXG5cdFx0XHRmYWlsZWQ6IDAsXG5cdFx0XHRlcnJvcnM6IFtdLFxuXHRcdH07XG5cblx0XHR0aGlzLnZhbGlkYXRlU2VydmljZXMoKTtcblxuXHRcdGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuXHRcdGNvbnN0IGZpbHRlcmVkRmlsZXMgPSBmaWxlc1xuXHRcdFx0LmZpbHRlcigoZmlsZSkgPT4gIXRoaXMuaXNGaWxlSW5JZ25vcmVkRm9sZGVyKGZpbGUpKVxuXHRcdFx0LmZpbHRlcigoZmlsZSkgPT4gZmlsZS5leHRlbnNpb24gPT09IFwibWRcIik7XG5cblx0XHRjb25zdCBmaWxlc1RvU3luYyA9IFtdO1xuXHRcdGZvciAoY29uc3QgZmlsZSBvZiBmaWx0ZXJlZEZpbGVzKSB7XG5cdFx0XHRjb25zdCB2ZWN0b3JJZCA9IHRoaXMuY3JlYXRlVmVjdG9ySWQoZmlsZS5uYW1lKTtcblx0XHRcdGNvbnN0IHN5bmNTdGF0ZSA9IGF3YWl0IHRoaXMuZ2V0U3luY1N0YXRlKHZlY3RvcklkKTtcblx0XHRcdGlmICghc3luY1N0YXRlIHx8IHN5bmNTdGF0ZS5sYXN0TW9kaWZpZWQgIT09IGZpbGUuc3RhdC5tdGltZSkge1xuXHRcdFx0XHRmaWxlc1RvU3luYy5wdXNoKGZpbGUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzdWx0LnN1Y2Nlc3NmdWwrKztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRuZXcgTm90aWNlKFxuXHRcdFx0YFN0YXJ0aW5nIHN5bmMgZm9yICR7ZmlsZXNUb1N5bmMubGVuZ3RofSBmaWxlcyAoJHtcblx0XHRcdFx0ZmlsdGVyZWRGaWxlcy5sZW5ndGggLSBmaWxlc1RvU3luYy5sZW5ndGhcblx0XHRcdH0gYWxyZWFkeSB1cCB0byBkYXRlKWAsXG5cdFx0KTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXNUb1N5bmMubGVuZ3RoOyBpICs9IHRoaXMuYmF0Y2hTaXplKSB7XG5cdFx0XHRjb25zdCBiYXRjaCA9IGZpbGVzVG9TeW5jLnNsaWNlKGksIGkgKyB0aGlzLmJhdGNoU2l6ZSk7XG5cdFx0XHRhd2FpdCB0aGlzLnByb2Nlc3NCYXRjaChcblx0XHRcdFx0YmF0Y2gsXG5cdFx0XHRcdHJlc3VsdCxcblx0XHRcdFx0aSAvIHRoaXMuYmF0Y2hTaXplICsgMSxcblx0XHRcdFx0TWF0aC5jZWlsKGZpbGVzVG9TeW5jLmxlbmd0aCAvIHRoaXMuYmF0Y2hTaXplKSxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0bmV3IE5vdGljZShcIlN5bmMgY29tcGxldGVkXCIpO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlVmVjdG9ySWQocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gYnRvYShwYXRoLnNsaWNlKDAsIDMyKSk7XG5cdH1cblxuXHRwcml2YXRlIGlzRmlsZUluSWdub3JlZEZvbGRlcihmaWxlOiBURmlsZSk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmlnbm9yZWRGb2xkZXJzLnNvbWUoKGZvbGRlcikgPT4ge1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZEZvbGRlciA9IGZvbGRlci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcXFwvZywgXCIvXCIpO1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZEZpbGUgPSBmaWxlLnBhdGgudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXFxcL2csIFwiL1wiKTtcblx0XHRcdHJldHVybiBub3JtYWxpemVkRmlsZS5zdGFydHNXaXRoKGAke25vcm1hbGl6ZWRGb2xkZXJ9L2ApO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSB2YWxpZGF0ZVNlcnZpY2VzKCk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5hc3Npc3RhbnQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkFzc2lzdGFudCBzZXJ2aWNlIG5vdCBpbml0aWFsaXplZFwiKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIHN5bmNGaWxlKGZpbGU6IFRGaWxlLCByZXN1bHQ6IFN5bmNSZXN1bHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoYFByb2Nlc3NpbmcgZmlsZTogJHtmaWxlLnBhdGh9YCk7XG5cblx0XHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuXHRcdFx0aWYgKCFjb250ZW50LnRyaW0oKSkge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci53YXJuKGBTa2lwcGluZyBlbXB0eSBmaWxlOiAke2ZpbGUucGF0aH1gKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB2ZWN0b3JJZCA9IHRoaXMuY3JlYXRlVmVjdG9ySWQoZmlsZS5uYW1lKTtcblx0XHRcdGNvbnN0IHN5bmNTdGF0ZSA9IGF3YWl0IHRoaXMuZ2V0U3luY1N0YXRlKHZlY3RvcklkKTtcblx0XHRcdGlmIChzeW5jU3RhdGUgJiYgc3luY1N0YXRlLmxhc3RNb2RpZmllZCA9PT0gZmlsZS5zdGF0Lm10aW1lKSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKGBGaWxlICR7ZmlsZS5wYXRofSBoYXNuJ3QgY2hhbmdlZCwgc2tpcHBpbmdgKTtcblx0XHRcdFx0cmVzdWx0LnN1Y2Nlc3NmdWwrKztcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBtZXRhZGF0YSA9IHRoaXMuZ2V0TWV0YWRhdGEoZmlsZSk7XG5cblx0XHRcdGNvbnN0IGVtYmVkZGluZyA9IGF3YWl0IHRoaXMuYXNzaXN0YW50LmNyZWF0ZUVtYmVkZGluZyhcblx0XHRcdFx0ZmlsZS5uYW1lLFxuXHRcdFx0XHRjb250ZW50LFxuXHRcdFx0XHRcIm5vdGVcIixcblx0XHRcdFx0bWV0YWRhdGEsXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lc3BhY2U6IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKSxcblx0XHRcdFx0fSxcblx0XHRcdCk7XG5cblx0XHRcdGlmICghZW1iZWRkaW5nKSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLndhcm4oYFNraXBwaW5nIGZpbGUgJHtmaWxlLnBhdGh9IGR1ZSB0byBubyBlbWJlZGRpbmdzYCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0YXdhaXQgdGhpcy5zYXZlU3luY1N0YXRlKHZlY3RvcklkLCBmaWxlLCBbXSwgbWV0YWRhdGEpO1xuXG5cdFx0XHRyZXN1bHQuc3VjY2Vzc2Z1bCsrO1xuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBwcm9jZXNzZWQ6ICR7ZmlsZS5wYXRofWApO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRyZXN1bHQuZmFpbGVkKys7XG5cdFx0XHRyZXN1bHQuZXJyb3JzLnB1c2goe1xuXHRcdFx0XHRmaWxlOiBmaWxlLnBhdGgsXG5cdFx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG5cdFx0XHR9KTtcblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKGBGYWlsZWQgdG8gcHJvY2VzcyAke2ZpbGUucGF0aH06YCwge1xuXHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBnZXRNZXRhZGF0YShmaWxlOiBURmlsZSk6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuXHRcdGNvbnN0IG1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge1xuXHRcdFx0ZmlsZU5hbWU6IGZpbGUubmFtZSxcblx0XHRcdGV4dGVuc2lvbjogZmlsZS5leHRlbnNpb24sXG5cdFx0fTtcblxuXHRcdGlmIChmaWxlLnN0YXQuY3RpbWUpIHtcblx0XHRcdGNvbnN0IGNyZWF0ZWREYXRlID0gbmV3IERhdGUoZmlsZS5zdGF0LmN0aW1lKTtcblx0XHRcdG1ldGFkYXRhLmNyZWF0ZWQgPSBmaWxlLnN0YXQuY3RpbWU7XG5cdFx0XHRtZXRhZGF0YS5jcmVhdGVkWWVhciA9IGNyZWF0ZWREYXRlLmdldEZ1bGxZZWFyKCk7XG5cdFx0XHRtZXRhZGF0YS5jcmVhdGVkTW9udGggPSBjcmVhdGVkRGF0ZS5nZXRNb250aCgpICsgMTtcblx0XHR9XG5cblx0XHRpZiAoZmlsZS5zdGF0Lm10aW1lKSB7XG5cdFx0XHRjb25zdCBtb2RpZmllZERhdGUgPSBuZXcgRGF0ZShmaWxlLnN0YXQubXRpbWUpO1xuXHRcdFx0bWV0YWRhdGEubW9kaWZpZWQgPSBmaWxlLnN0YXQubXRpbWU7XG5cdFx0XHRtZXRhZGF0YS5tb2RpZmllZFllYXIgPSBtb2RpZmllZERhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdG1ldGFkYXRhLm1vZGlmaWVkTW9udGggPSBtb2RpZmllZERhdGUuZ2V0TW9udGgoKSArIDE7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1ldGFkYXRhO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBlbnN1cmVTeW5jRGlyZWN0b3J5KCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHN5bmNEaXIgPSBcIi5jbG91ZGZsYXJlLWFpL3N5bmNcIjtcblx0XHRpZiAoIShhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmV4aXN0cyhzeW5jRGlyKSkpIHtcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIubWtkaXIoc3luY0Rpcik7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBzYXZlU3luY1N0YXRlKFxuXHRcdGlkOiBzdHJpbmcsXG5cdFx0ZmlsZTogVEZpbGUsXG5cdFx0dmVjdG9yczogbnVtYmVyW11bXSxcblx0XHRtZXRhZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pixcblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3Qgc3luY1N0YXRlID0ge1xuXHRcdFx0aWQsXG5cdFx0XHRwYXRoOiBmaWxlLnBhdGgsXG5cdFx0XHRsYXN0U3luYzogRGF0ZS5ub3coKSxcblx0XHRcdGxhc3RNb2RpZmllZDogZmlsZS5zdGF0Lm10aW1lLFxuXHRcdFx0bWV0YWRhdGEsXG5cdFx0XHR2ZWN0b3JzOiB2ZWN0b3JzLFxuXHRcdH07XG5cblx0XHRjb25zdCBzeW5jUGF0aCA9IGAuY2xvdWRmbGFyZS1haS9zeW5jLyR7aWR9Lmpzb25gO1xuXHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoXG5cdFx0XHRzeW5jUGF0aCxcblx0XHRcdEpTT04uc3RyaW5naWZ5KHN5bmNTdGF0ZSwgbnVsbCwgMiksXG5cdFx0KTtcblx0fVxuXG5cdGFzeW5jIGdldFN5bmNTdGF0ZSh2ZWN0b3JJZDogc3RyaW5nKTogUHJvbWlzZTx7XG5cdFx0aWQ6IHN0cmluZztcblx0XHRwYXRoOiBzdHJpbmc7XG5cdFx0bGFzdFN5bmM6IG51bWJlcjtcblx0XHRsYXN0TW9kaWZpZWQ6IG51bWJlcjtcblx0XHRtZXRhZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pjtcblx0XHR2ZWN0b3JzOiBudW1iZXJbXVtdO1xuXHR9IHwgbnVsbD4ge1xuXHRcdGF3YWl0IHRoaXMuZW5zdXJlU3luY0RpcmVjdG9yeSgpO1xuXG5cdFx0Y29uc3Qgc3luY1BhdGggPSBgLmNsb3VkZmxhcmUtYWkvc3luYy8ke3ZlY3RvcklkfS5qc29uYDtcblxuXHRcdHRyeSB7XG5cdFx0XHRpZiAoYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMoc3luY1BhdGgpKSB7XG5cdFx0XHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWQoc3luY1BhdGgpO1xuXHRcdFx0XHRyZXR1cm4gSlNPTi5wYXJzZShjb250ZW50KTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5sb2dnZXIud2FybihgRmFpbGVkIHRvIHJlYWQgc3luYyBzdGF0ZSBmb3IgJHt2ZWN0b3JJZH06YCwge1xuXHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIHByb2Nlc3NCYXRjaChcblx0XHRiYXRjaDogVEZpbGVbXSxcblx0XHRyZXN1bHQ6IFN5bmNSZXN1bHQsXG5cdFx0Y3VycmVudEJhdGNoOiBudW1iZXIsXG5cdFx0dG90YWxCYXRjaGVzOiBudW1iZXIsXG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRoaXMubG9nZ2VyLmRlYnVnKGBQcm9jZXNzaW5nIHN5bmMgYmF0Y2ggJHtjdXJyZW50QmF0Y2h9LyR7dG90YWxCYXRjaGVzfWApO1xuXG5cdFx0Y29uc3QgYmF0Y2hSZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFxuXHRcdFx0YmF0Y2gubWFwKChmaWxlKSA9PiB0aGlzLnN5bmNGaWxlKGZpbGUsIHJlc3VsdCkpLFxuXHRcdCk7XG5cblx0XHRiYXRjaFJlc3VsdHMuZm9yRWFjaCgoYmF0Y2hSZXN1bHQsIGluZGV4KSA9PiB7XG5cdFx0XHRpZiAoYmF0Y2hSZXN1bHQuc3RhdHVzID09PSBcInJlamVjdGVkXCIpIHtcblx0XHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoXG5cdFx0XHRcdFx0YEZhaWxlZCB0byBzeW5jIGZpbGUgJHtiYXRjaFtpbmRleF0ucGF0aH06ICR7YmF0Y2hSZXN1bHQucmVhc29ufWAsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50UGx1Z2luU2V0dGluZ3Mge1xuXHRhc3Npc3RhbnRBcGlVcmw6IHN0cmluZztcblx0YXNzaXN0YW50QXBpS2V5OiBzdHJpbmc7XG5cdGFzc2lzdGFudEFwaUtleVNhdmVkOiBib29sZWFuO1xuXHRtb2RlbElkOiBzdHJpbmc7XG5cdG1heFRva2VuczogbnVtYmVyO1xuXHR0ZW1wZXJhdHVyZTogbnVtYmVyO1xuXHR0b3BLOiBudW1iZXI7XG5cdG1pblNpbWlsYXJpdHlTY29yZTogbnVtYmVyO1xuXHRpZ25vcmVkRm9sZGVyczogc3RyaW5nW107XG5cdHN5bmNFbmFibGVkOiBib29sZWFuO1xuXHRhdXRvU3luY0ludGVydmFsOiBudW1iZXI7XG5cdGxhc3RTeW5jVGltZT86IG51bWJlcjtcblx0Y3VzdG9tVGVtcGxhdGVzRm9sZGVyOiBzdHJpbmc7XG5cdGxvZ0xldmVsOiBMb2dMZXZlbFR5cGU7XG59XG5cbmV4cG9ydCB0eXBlIExvZ0xldmVsVHlwZSA9IFwiZGVidWdcIiB8IFwiaW5mb1wiIHwgXCJ3YXJuXCIgfCBcImVycm9yXCI7XG5cbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcblx0REVCVUcgPSAwLFxuXHRJTkZPID0gMSxcblx0V0FSTiA9IDIsXG5cdEVSUk9SID0gMyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dNZXNzYWdlIHtcblx0dGltZXN0YW1wOiBEYXRlO1xuXHRsZXZlbDogTG9nTGV2ZWxUeXBlO1xuXHRtZXNzYWdlOiBzdHJpbmc7XG5cdG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55Pjtcbn1cblxuZXhwb3J0IHR5cGUgTG9nT3V0cHV0ID0ge1xuXHRsb2c6IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XG5cdGVycm9yOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xuXHR3YXJuOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xuXHRpbmZvOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xuXHRkZWJ1ZzogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nZ2VyQ29uZmlnIHtcblx0bGV2ZWw/OiBMb2dMZXZlbFR5cGU7XG5cdHVzZVRpbWVzdGFtcD86IGJvb2xlYW47XG5cdG91dHB1dD86IExvZ091dHB1dDtcblx0c2VydmljZU5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZVJlc3BvbnNlIHtcblx0c3VjY2VzczogYm9vbGVhbjtcblx0ZXJyb3JzPzogQXJyYXk8e1xuXHRcdG1lc3NhZ2U6IHN0cmluZztcblx0XHRjb2RlPzogbnVtYmVyO1xuXHR9Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDbG91ZGZsYXJlUmVzcG9uc2U8VCA9IHVua25vd24+IGV4dGVuZHMgQmFzZVJlc3BvbnNlIHtcblx0cmVzdWx0PzogVDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlIHtcblx0cm9sZTogXCJzeXN0ZW1cIiB8IFwidXNlclwiIHwgXCJhc3Npc3RhbnRcIjtcblx0Y29udGVudDogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBGaWx0ZXJPcGVyYXRvciA9XG5cdHwgXCIkZXFcIlxuXHR8IFwiJG5lXCJcblx0fCBcIiRpblwiXG5cdHwgXCIkbmluXCJcblx0fCBcIiRsdFwiXG5cdHwgXCIkbHRlXCJcblx0fCBcIiRndFwiXG5cdHwgXCIkZ3RlXCI7XG5cbmV4cG9ydCB0eXBlIEZpbHRlclZhbHVlID1cblx0fCBzdHJpbmdcblx0fCBudW1iZXJcblx0fCBib29sZWFuXG5cdHwgbnVsbFxuXHR8IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgbnVsbClbXTtcblxuZXhwb3J0IHR5cGUgRmlsdGVyQ29uZGl0aW9uID0ge1xuXHRba2V5IGluIEZpbHRlck9wZXJhdG9yXT86IEZpbHRlclZhbHVlO1xufTtcblxuZXhwb3J0IHR5cGUgVmVjdG9yaXplRmlsdGVyID0ge1xuXHRba2V5IGluIFZlY3Rvcml6ZU1ldGFkYXRhRmllbGRdPzogRmlsdGVyVmFsdWUgfCBGaWx0ZXJDb25kaXRpb247XG59O1xuXG5leHBvcnQgdHlwZSBWZWN0b3JpemVNZXRhZGF0YUZpZWxkID1cblx0fCBcInR5cGVcIlxuXHR8IFwiY3JlYXRlZE1vbnRoXCJcblx0fCBcImNyZWF0ZWRZZWFyXCJcblx0fCBcIm1vZGlmaWVkTW9udGhcIlxuXHR8IFwibW9kaWZpZWRZZWFyXCJcblx0fCBcImV4dGVuc2lvblwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZlY3RvclF1ZXJ5IHtcblx0dmVjdG9yOiBudW1iZXJbXTtcblx0dG9wSz86IG51bWJlcjtcblx0cmV0dXJuVmFsdWVzPzogYm9vbGVhbjtcblx0cmV0dXJuTWV0YWRhdGE/OiBcImFsbFwiIHwgXCJub25lXCIgfCBcImluZGV4ZWRcIjtcblx0bmFtZXNwYWNlPzogc3RyaW5nO1xuXHRmaWx0ZXI/OiBWZWN0b3JpemVGaWx0ZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yaXplUmVzcG9uc2Vcblx0ZXh0ZW5kcyBDbG91ZGZsYXJlUmVzcG9uc2U8eyB1cGxvYWRlZDogbnVtYmVyIH0+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1iZWRkaW5nUmVzcG9uc2UgZXh0ZW5kcyBCYXNlUmVzcG9uc2Uge1xuXHRkYXRhOiBudW1iZXJbXVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNSZXN1bHQge1xuXHRzdWNjZXNzZnVsOiBudW1iZXI7XG5cdGZhaWxlZDogbnVtYmVyO1xuXHRlcnJvcnM6IEFycmF5PHsgZmlsZTogc3RyaW5nOyBlcnJvcjogc3RyaW5nIH0+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RPcHRpb25zIHtcblx0bW9kZWxJZDogc3RyaW5nO1xuXHRtZXNzYWdlcz86IE1lc3NhZ2VbXTtcblx0cHJvbXB0Pzogc3RyaW5nO1xuXHRzaG91bGRTdHJlYW06IGJvb2xlYW47XG5cdHR5cGU6IFwidGV4dFwiIHwgXCJlbWJlZGRpbmdcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZXh0UmVzcG9uc2Uge1xuXHRyZXNwb25zZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBsYXRlIHtcblx0bmFtZTogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xuXHRwcm9tcHQ6IHN0cmluZztcblx0dmFyaWFibGVzPzogc3RyaW5nW107XG5cdHRhZ3M/OiBzdHJpbmdbXTtcblx0ZGVmYXVsdD86IGJvb2xlYW47XG59XG4iLCJpbXBvcnQgeyBnZXRMb2dnZXJDb25maWcsIGxvZ2dlckNvbmZpZyB9IGZyb20gXCIuL2xvZ2dlci1jb25maWdcIjtcbmltcG9ydCB0eXBlIHsgTG9nZ2VyQ29uZmlnLCBMb2dMZXZlbFR5cGUsIExvZ091dHB1dCB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XG5cdHByaXZhdGUgbG9nTGV2ZWw6IExvZ0xldmVsO1xuXHRwcml2YXRlIHJlYWRvbmx5IHVzZVRpbWVzdGFtcDogYm9vbGVhbjtcblx0cHJpdmF0ZSByZWFkb25seSBvdXRwdXQ6IExvZ091dHB1dDtcblx0cHJpdmF0ZSByZWFkb25seSBzZXJ2aWNlTmFtZT86IHN0cmluZztcblxuXHRjb25zdHJ1Y3Rvcihjb25maWc6IFBhcnRpYWw8TG9nZ2VyQ29uZmlnPiA9IHt9KSB7XG5cdFx0Y29uc3QgZ2xvYmFsQ29uZmlnID0gZ2V0TG9nZ2VyQ29uZmlnKCk7XG5cdFx0Y29uc3QgbWVyZ2VkQ29uZmlnID0geyAuLi5nbG9iYWxDb25maWcsIC4uLmNvbmZpZyB9O1xuXG5cdFx0dGhpcy5sb2dMZXZlbCA9IHRoaXMucGFyc2VMb2dMZXZlbChtZXJnZWRDb25maWcubGV2ZWwgfHwgXCJkZWJ1Z1wiKTtcblx0XHR0aGlzLnVzZVRpbWVzdGFtcCA9IG1lcmdlZENvbmZpZy51c2VUaW1lc3RhbXAgPz8gdHJ1ZTtcblx0XHR0aGlzLm91dHB1dCA9IG1lcmdlZENvbmZpZy5vdXRwdXQgfHwgY29uc29sZTtcblx0XHR0aGlzLnNlcnZpY2VOYW1lID0gbWVyZ2VkQ29uZmlnLnNlcnZpY2VOYW1lO1xuXG5cdFx0bG9nZ2VyQ29uZmlnLmFkZExpc3RlbmVyKChuZXdDb25maWcpID0+IHtcblx0XHRcdHRoaXMubG9nTGV2ZWwgPSB0aGlzLnBhcnNlTG9nTGV2ZWwobmV3Q29uZmlnLmxldmVsIHx8IFwiZGVidWdcIik7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIHBhcnNlTG9nTGV2ZWwobGV2ZWw6IHN0cmluZyk6IExvZ0xldmVsIHtcblx0XHRjb25zdCBub3JtYWxpemVkTGV2ZWwgPSBsZXZlbC50b0xvd2VyQ2FzZSgpIGFzIExvZ0xldmVsVHlwZTtcblx0XHRjb25zdCBsZXZlbE1hcDogUmVjb3JkPExvZ0xldmVsVHlwZSwgTG9nTGV2ZWw+ID0ge1xuXHRcdFx0ZGVidWc6IExvZ0xldmVsLkRFQlVHLFxuXHRcdFx0aW5mbzogTG9nTGV2ZWwuSU5GTyxcblx0XHRcdHdhcm46IExvZ0xldmVsLldBUk4sXG5cdFx0XHRlcnJvcjogTG9nTGV2ZWwuRVJST1IsXG5cdFx0fTtcblxuXHRcdGlmICghKG5vcm1hbGl6ZWRMZXZlbCBpbiBsZXZlbE1hcCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBsb2cgbGV2ZWw6ICR7bGV2ZWx9YCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGxldmVsTWFwW25vcm1hbGl6ZWRMZXZlbF07XG5cdH1cblxuXHRwcml2YXRlIGZvcm1hdExvZ01lc3NhZ2UoXG5cdFx0bGV2ZWw6IHN0cmluZyxcblx0XHRtZXNzYWdlOiBzdHJpbmcsXG5cdFx0bWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuXHQpOiBzdHJpbmcge1xuXHRcdGNvbnN0IHRpbWVzdGFtcCA9IHRoaXMudXNlVGltZXN0YW1wID8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpIDogXCJcIjtcblx0XHRjb25zdCBwcmVmaXggPSBbdGltZXN0YW1wLCB0aGlzLnNlcnZpY2VOYW1lLCBsZXZlbF1cblx0XHRcdC5maWx0ZXIoQm9vbGVhbilcblx0XHRcdC5qb2luKFwiIHwgXCIpO1xuXHRcdGNvbnN0IG1ldGFkYXRhU3RyID0gbWV0YWRhdGEgPyBgICR7SlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpfWAgOiBcIlwiO1xuXHRcdHJldHVybiBgJHtwcmVmaXh9OiAke21lc3NhZ2V9JHttZXRhZGF0YVN0cn1gO1xuXHR9XG5cblx0cHVibGljIHNldExvZ0xldmVsKGxldmVsOiBMb2dMZXZlbFR5cGUpOiB2b2lkIHtcblx0XHR0aGlzLmxvZ0xldmVsID0gdGhpcy5wYXJzZUxvZ0xldmVsKGxldmVsKTtcblx0fVxuXG5cdHB1YmxpYyBnZXRMb2dMZXZlbCgpOiBMb2dMZXZlbFR5cGUge1xuXHRcdHJldHVybiBMb2dMZXZlbFt0aGlzLmxvZ0xldmVsXS50b0xvd2VyQ2FzZSgpIGFzIExvZ0xldmVsVHlwZTtcblx0fVxuXG5cdHB1YmxpYyBpc0xldmVsRW5hYmxlZChsZXZlbDogTG9nTGV2ZWxUeXBlKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMucGFyc2VMb2dMZXZlbChsZXZlbCkgPj0gdGhpcy5sb2dMZXZlbDtcblx0fVxuXG5cdHB1YmxpYyBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcsIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55Pik6IHZvaWQge1xuXHRcdGlmICh0aGlzLmxvZ0xldmVsIDw9IExvZ0xldmVsLkRFQlVHKSB7XG5cdFx0XHRjb25zdCBmb3JtYXR0ZWRNZXNzYWdlID0gdGhpcy5mb3JtYXRMb2dNZXNzYWdlKFxuXHRcdFx0XHRcImRlYnVnXCIsXG5cdFx0XHRcdG1lc3NhZ2UsXG5cdFx0XHRcdG1ldGFkYXRhLFxuXHRcdFx0KTtcblx0XHRcdHRoaXMub3V0cHV0LmRlYnVnKGZvcm1hdHRlZE1lc3NhZ2UpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBpbmZvKG1lc3NhZ2U6IHN0cmluZywgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogdm9pZCB7XG5cdFx0aWYgKHRoaXMubG9nTGV2ZWwgPD0gTG9nTGV2ZWwuSU5GTykge1xuXHRcdFx0Y29uc3QgZm9ybWF0dGVkTWVzc2FnZSA9IHRoaXMuZm9ybWF0TG9nTWVzc2FnZShcImluZm9cIiwgbWVzc2FnZSwgbWV0YWRhdGEpO1xuXHRcdFx0dGhpcy5vdXRwdXQuaW5mbyhmb3JtYXR0ZWRNZXNzYWdlKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgd2FybihtZXNzYWdlOiBzdHJpbmcsIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55Pik6IHZvaWQge1xuXHRcdGlmICh0aGlzLmxvZ0xldmVsIDw9IExvZ0xldmVsLldBUk4pIHtcblx0XHRcdGNvbnN0IGZvcm1hdHRlZE1lc3NhZ2UgPSB0aGlzLmZvcm1hdExvZ01lc3NhZ2UoXCJ3YXJuXCIsIG1lc3NhZ2UsIG1ldGFkYXRhKTtcblx0XHRcdHRoaXMub3V0cHV0Lndhcm4oZm9ybWF0dGVkTWVzc2FnZSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogdm9pZCB7XG5cdFx0aWYgKHRoaXMubG9nTGV2ZWwgPD0gTG9nTGV2ZWwuRVJST1IpIHtcblx0XHRcdGNvbnN0IGZvcm1hdHRlZE1lc3NhZ2UgPSB0aGlzLmZvcm1hdExvZ01lc3NhZ2UoXG5cdFx0XHRcdFwiZXJyb3JcIixcblx0XHRcdFx0bWVzc2FnZSxcblx0XHRcdFx0bWV0YWRhdGEsXG5cdFx0XHQpO1xuXHRcdFx0dGhpcy5vdXRwdXQuZXJyb3IoZm9ybWF0dGVkTWVzc2FnZSk7XG5cdFx0fVxuXHR9XG5cblx0ZGVzdHJveSgpIHtcblx0XHRsb2dnZXJDb25maWcucmVtb3ZlTGlzdGVuZXIodGhpcy5vbkNvbmZpZ0NoYW5nZSk7XG5cdH1cblxuXHRwcml2YXRlIG9uQ29uZmlnQ2hhbmdlID0gKG5ld0NvbmZpZzogTG9nZ2VyQ29uZmlnKSA9PiB7XG5cdFx0dGhpcy5sb2dMZXZlbCA9IHRoaXMucGFyc2VMb2dMZXZlbChuZXdDb25maWcubGV2ZWwgfHwgXCJkZWJ1Z1wiKTtcblx0fTtcbn1cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gICAgaW1wb3J0IHR5cGUgeyBNZXNzYWdlLCBWZWN0b3JpemVGaWx0ZXIgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbiAgICBpbXBvcnQgTWVzc2FnZUxpc3QgZnJvbSBcIi4vTWVzc2FnZUxpc3Quc3ZlbHRlXCI7XG4gICAgaW1wb3J0IENoYXRJbnB1dCBmcm9tIFwiLi9DaGF0SW5wdXQuc3ZlbHRlXCI7XG5cbiAgICBleHBvcnQgbGV0IG1lc3NhZ2VzOiBNZXNzYWdlW10gPSBbXTtcbiAgICBleHBvcnQgbGV0IGlzUHJvY2Vzc2luZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGV4cG9ydCBsZXQgc3RyZWFtaW5nQ29udGVudDogc3RyaW5nID0gXCJcIjtcbiAgICBleHBvcnQgbGV0IG9uU2VuZE1lc3NhZ2U6IChtZXNzYWdlOiBzdHJpbmcsIGZpbHRlcnM6IFZlY3Rvcml6ZUZpbHRlcikgPT4gUHJvbWlzZTx2b2lkPjtcbiAgICBleHBvcnQgbGV0IG9uQ2xlYXJNZXNzYWdlczogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgICBleHBvcnQgbGV0IG9uQ29weUNvbnZlcnNhdGlvbjogKGNvbnRlbnQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgICBleHBvcnQgbGV0IG9uQ29weU1lc3NhZ2U6IChtZXNzYWdlOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImNoYXQtdmlld1wiPlxuICAgIDxNZXNzYWdlTGlzdFxuICAgICAgICB7aXNQcm9jZXNzaW5nfVxuICAgICAgICB7bWVzc2FnZXN9XG4gICAgICAgIHtzdHJlYW1pbmdDb250ZW50fVxuICAgICAgICB7b25Db3B5TWVzc2FnZX1cbiAgICAvPlxuICAgIDxDaGF0SW5wdXQgXG4gICAgICAgIHtpc1Byb2Nlc3Npbmd9XG4gICAgICAgIHttZXNzYWdlc31cbiAgICAgICAge29uU2VuZE1lc3NhZ2V9XG4gICAgICAgIHtvbkNsZWFyTWVzc2FnZXN9XG4gICAgICAgIHtvbkNvcHlDb252ZXJzYXRpb259XG4gICAgLz5cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLmNoYXQtdmlldyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgcGFkZGluZzogMXJlbTtcblx0XHRjb2xvcjogI2ZmZjtcblx0XHRmb250LWZhbWlseTpcblx0XHRcdHN5c3RlbS11aSxcblx0XHRcdC1hcHBsZS1zeXN0ZW0sXG5cdFx0XHRCbGlua01hY1N5c3RlbUZvbnQsXG5cdFx0XHRcIlNlZ29lIFVJXCIsXG5cdFx0XHRzYW5zLXNlcmlmO1xuICAgIH1cbjwvc3R5bGU+IiwiaW1wb3J0IHsgSXRlbVZpZXcsIHR5cGUgV29ya3NwYWNlTGVhZiB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgeyBTdmVsdGVDb21wb25lbnQgfSBmcm9tIFwic3ZlbHRlXCI7XG5cbmltcG9ydCB7IFBMVUdJTl9QUkVGSVggfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhdCB9IGZyb20gXCIuLi9zaGFyZWQvYmFzZS1jaGF0XCI7XG5pbXBvcnQgQ2hhdFZpZXdDb21wb25lbnQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2hhdFZpZXcuc3ZlbHRlXCI7XG5cbmNsYXNzIENvbmNyZXRlQ2hhdCBleHRlbmRzIEJhc2VDaGF0IHt9XG5cbmV4cG9ydCBjbGFzcyBDaGF0VmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcblx0cHJpdmF0ZSBjaGF0OiBDb25jcmV0ZUNoYXQ7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0bGVhZjogV29ya3NwYWNlTGVhZixcblx0XHQuLi5hcmdzOiBDb25zdHJ1Y3RvclBhcmFtZXRlcnM8dHlwZW9mIEJhc2VDaGF0PlxuXHQpIHtcblx0XHRzdXBlcihsZWFmKTtcblx0XHR0aGlzLmNoYXQgPSBuZXcgQ29uY3JldGVDaGF0KC4uLmFyZ3MpO1xuXHRcdHRoaXMuY2hhdC5jb250ZW50RWwgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdIGFzIEhUTUxFbGVtZW50O1xuXHR9XG5cblx0Z2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gUExVR0lOX1BSRUZJWDtcblx0fVxuXG5cdGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIFwiQUkgQ2hhdFwiO1xuXHR9XG5cblx0YXN5bmMgb25PcGVuKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV0gYXMgSFRNTEVsZW1lbnQ7XG5cdFx0Y29udGFpbmVyLmVtcHR5KCk7XG5cdFx0dGhpcy5jaGF0LmluaXRpYWxpemVDb21wb25lbnQoXG5cdFx0XHRjb250YWluZXIsXG5cdFx0XHRDaGF0Vmlld0NvbXBvbmVudCBhcyB0eXBlb2YgU3ZlbHRlQ29tcG9uZW50LFxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBvbkNsb3NlKCkge1xuXHRcdGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV07XG5cdFx0dGhpcy5jaGF0LmNsZWFudXAoKTtcblx0XHRjb250YWluZXIuZW1wdHkoKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgQXBwLCBNb2RhbCwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgeyBUZW1wbGF0ZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgVGV4dEdlbmVyYXRvck1vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRwcml2YXRlIHZhcmlhYmxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXHRwcml2YXRlIG9uU3VibWl0Q2FsbGJhY2s/OiAoXG5cdFx0dmFyaWFibGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuXHQpID0+IFByb21pc2U8dm9pZD47XG5cdHByaXZhdGUgaW5wdXRTZXR0aW5nczogU2V0dGluZ1tdID0gW107XG5cdHByaXZhdGUgZ2VuZXJhdGVCdXR0b24/OiBTZXR0aW5nO1xuXHRwcml2YXRlIGlzR2VuZXJhdGluZyA9IGZhbHNlO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwcml2YXRlIHRlbXBsYXRlOiBUZW1wbGF0ZSkge1xuXHRcdHN1cGVyKGFwcCk7XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwsIHRpdGxlRWwgfSA9IHRoaXM7XG5cdFx0dGl0bGVFbC5zZXRUZXh0KHRoaXMudGVtcGxhdGUubmFtZSk7XG5cblx0XHRpZiAodGhpcy50ZW1wbGF0ZS5kZXNjcmlwdGlvbikge1xuXHRcdFx0Y29udGVudEVsLmNyZWF0ZUVsKFwicFwiLCB7IHRleHQ6IHRoaXMudGVtcGxhdGUuZGVzY3JpcHRpb24gfSk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMudGVtcGxhdGUudmFyaWFibGVzKSB7XG5cdFx0XHR0aGlzLnRlbXBsYXRlLnZhcmlhYmxlcy5mb3JFYWNoKCh2YXJpYWJsZSkgPT4ge1xuXHRcdFx0XHRjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudEVsKVxuXHRcdFx0XHRcdC5zZXROYW1lKHZhcmlhYmxlKVxuXHRcdFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihgRW50ZXIgJHt2YXJpYWJsZX1gKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy52YXJpYWJsZXNbdmFyaWFibGVdID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR0aGlzLmlucHV0U2V0dGluZ3MucHVzaChzZXR0aW5nKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmlzR2VuZXJhdGluZykge1xuXHRcdFx0Y29udGVudEVsLmNyZWF0ZUVsKFwicFwiLCB7IHRleHQ6IFwiR2VuZXJhdGluZy4uLlwiIH0pO1xuXHRcdH1cblxuXHRcdHRoaXMuZ2VuZXJhdGVCdXR0b24gPSBuZXcgU2V0dGluZyhjb250ZW50RWwpLmFkZEJ1dHRvbigoYnRuKSA9PlxuXHRcdFx0YnRuXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KFwiR2VuZXJhdGVcIilcblx0XHRcdFx0LnNldEN0YSgpXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLnNldEdlbmVyYXRpbmcodHJ1ZSk7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMub25TdWJtaXRDYWxsYmFjaz8uKHRoaXMudmFyaWFibGVzKTtcblx0XHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXRHZW5lcmF0aW5nKGZhbHNlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pLFxuXHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIHNldEdlbmVyYXRpbmcoZ2VuZXJhdGluZzogYm9vbGVhbikge1xuXHRcdHRoaXMuaXNHZW5lcmF0aW5nID0gZ2VuZXJhdGluZztcblx0XHR0aGlzLmlucHV0U2V0dGluZ3MuZm9yRWFjaCgoc2V0dGluZykgPT4gc2V0dGluZy5zZXREaXNhYmxlZChnZW5lcmF0aW5nKSk7XG5cdFx0dGhpcy5nZW5lcmF0ZUJ1dHRvbj8uc2V0RGlzYWJsZWQoZ2VuZXJhdGluZyk7XG5cdFx0Y29uc3QgYnRuRWwgPSB0aGlzLmdlbmVyYXRlQnV0dG9uPy5jb250cm9sRWwucXVlcnlTZWxlY3RvcihcImJ1dHRvblwiKTtcblx0XHRpZiAoYnRuRWwpIHtcblx0XHRcdGJ0bkVsLnRleHRDb250ZW50ID0gZ2VuZXJhdGluZyA/IFwiR2VuZXJhdGluZy4uLlwiIDogXCJHZW5lcmF0ZVwiO1xuXHRcdH1cblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cdH1cblxuXHRvblN1Ym1pdChjYWxsYmFjazogKHZhcmlhYmxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPikgPT4gUHJvbWlzZTx2b2lkPikge1xuXHRcdHRoaXMub25TdWJtaXRDYWxsYmFjayA9IGNhbGxiYWNrO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB0eXBlIHsgQXBwLCBFZGl0b3IsIEVkaXRvclBvc2l0aW9uIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVRleHQgfSBmcm9tIFwiYWlcIjtcblxuaW1wb3J0IHR5cGUgeyBMb2dnZXIgfSBmcm9tIFwiLi4vbGliL2xvZ2dlclwiO1xuaW1wb3J0IHR5cGUgeyBBc3Npc3RhbnRQbHVnaW5TZXR0aW5ncywgVGVtcGxhdGUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB0eXBlIHsgVGVtcGxhdGVNYW5hZ2VyIH0gZnJvbSBcIi4vdGVtcGxhdGUtbWFuYWdlclwiO1xuaW1wb3J0IHsgVGV4dEdlbmVyYXRvck1vZGFsIH0gZnJvbSBcIi4uL21vZGFscy9nZW5lcmF0ZS10ZXh0XCI7XG5pbXBvcnQgdHlwZSB7IEFzc2lzdGFudFByb3ZpZGVyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2FpXCI7XG5cbmV4cG9ydCBjbGFzcyBUZXh0R2VuZXJhdGlvblNlcnZpY2Uge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIGFwcDogQXBwLFxuXHRcdHByaXZhdGUgYXNzaXN0YW50OiBBc3Npc3RhbnRQcm92aWRlcixcblx0XHRwcml2YXRlIGxvZ2dlcjogTG9nZ2VyLFxuXHRcdHByaXZhdGUgc2V0dGluZ3M6IEFzc2lzdGFudFBsdWdpblNldHRpbmdzLFxuXHRcdHByaXZhdGUgdGVtcGxhdGVNYW5hZ2VyOiBUZW1wbGF0ZU1hbmFnZXIsXG5cdCkge31cblxuXHRhc3luYyBnZW5lcmF0ZUZyb21UZW1wbGF0ZShcblx0XHR0ZW1wbGF0ZTogVGVtcGxhdGUsXG5cdFx0dmFyaWFibGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuXHQpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGNvbnN0IHByb21wdCA9IGF3YWl0IHRoaXMudGVtcGxhdGVNYW5hZ2VyLmFwcGx5VGVtcGxhdGUoXG5cdFx0XHR0ZW1wbGF0ZSxcblx0XHRcdHZhcmlhYmxlcyxcblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2VuZXJhdGVUZXh0KHtcblx0XHRcdHByb21wdCxcblx0XHRcdG1heFRva2VuczogdGhpcy5zZXR0aW5ncy5tYXhUb2tlbnMsXG5cdFx0XHR0ZW1wZXJhdHVyZTogdGhpcy5zZXR0aW5ncy50ZW1wZXJhdHVyZSxcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIGdlbmVyYXRlSW5FZGl0b3IoXG5cdFx0ZWRpdG9yOiBFZGl0b3IsXG5cdFx0b3B0aW9uczoge1xuXHRcdFx0dGVtcGxhdGVOYW1lPzogc3RyaW5nO1xuXHRcdFx0aW5zZXJ0QXRDdXJzb3I/OiBib29sZWFuO1xuXHRcdFx0cmVwbGFjZVNlbGVjdGlvbj86IGJvb2xlYW47XG5cdFx0XHRwb3NpdGlvbj86IHsgbGluZTogbnVtYmVyOyBjaDogbnVtYmVyIH07XG5cdFx0XHRwcmVwZW5kSGFzaD86IGJvb2xlYW47XG5cdFx0XHRyZXBsYWNlRXhpc3Rpbmc/OiBib29sZWFuO1xuXHRcdFx0cmVwbGFjZUxpbmU/OiBudW1iZXI7XG5cdFx0XHRhZGROZXdsaW5lPzogYm9vbGVhbjtcblx0XHRcdHRleHQ/OiBzdHJpbmc7XG5cdFx0fSA9IHt9LFxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0Y29uc3QgY3Vyc29yID0gb3B0aW9ucy5wb3NpdGlvbiB8fCBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG5cdFx0Y29uc3QgbG9hZGluZ1RleHQgPSBcIvCfpJYgR2VuZXJhdGluZy4uLlwiO1xuXHRcdGxldCBsb2FkaW5nUG9zaXRpb246IEVkaXRvclBvc2l0aW9uIHwgdW5kZWZpbmVkO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGlmIChvcHRpb25zLnJlcGxhY2VMaW5lICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y29uc3QgbGluZSA9IGVkaXRvci5nZXRMaW5lKG9wdGlvbnMucmVwbGFjZUxpbmUpO1xuXHRcdFx0XHRlZGl0b3IucmVwbGFjZVJhbmdlKFxuXHRcdFx0XHRcdGxvYWRpbmdUZXh0LFxuXHRcdFx0XHRcdHsgbGluZTogb3B0aW9ucy5yZXBsYWNlTGluZSwgY2g6IDAgfSxcblx0XHRcdFx0XHR7IGxpbmU6IG9wdGlvbnMucmVwbGFjZUxpbmUsIGNoOiBsaW5lLmxlbmd0aCB9LFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRsb2FkaW5nUG9zaXRpb24gPSB7IGxpbmU6IG9wdGlvbnMucmVwbGFjZUxpbmUsIGNoOiAwIH07XG5cdFx0XHR9IGVsc2UgaWYgKG9wdGlvbnMucmVwbGFjZVNlbGVjdGlvbiAmJiBlZGl0b3Iuc29tZXRoaW5nU2VsZWN0ZWQoKSkge1xuXHRcdFx0XHRjb25zdCBmcm9tID0gZWRpdG9yLmdldEN1cnNvcihcImZyb21cIik7XG5cdFx0XHRcdGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKGxvYWRpbmdUZXh0KTtcblx0XHRcdFx0bG9hZGluZ1Bvc2l0aW9uID0gZnJvbTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVkaXRvci5yZXBsYWNlUmFuZ2UobG9hZGluZ1RleHQsIGN1cnNvcik7XG5cdFx0XHRcdGxvYWRpbmdQb3NpdGlvbiA9IGN1cnNvcjtcblx0XHRcdH1cblxuXHRcdFx0bmV3IE5vdGljZShgR2VuZXJhdGluZyAke29wdGlvbnMudGVtcGxhdGVOYW1lIHx8IFwidGV4dFwifS4uLmApO1xuXG5cdFx0XHRsZXQgdGV4dDogc3RyaW5nO1xuXHRcdFx0aWYgKG9wdGlvbnMudGVtcGxhdGVOYW1lKSB7XG5cdFx0XHRcdGNvbnN0IHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUob3B0aW9ucy50ZW1wbGF0ZU5hbWUpO1xuXHRcdFx0XHRpZiAoIXRlbXBsYXRlKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBUZW1wbGF0ZSAke29wdGlvbnMudGVtcGxhdGVOYW1lfSBub3QgZm91bmRgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRleHQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCB7XG5cdFx0XHRcdFx0dGV4dDogb3B0aW9ucy50ZXh0IHx8IHNlbGVjdGlvbiB8fCBlZGl0b3IuZ2V0VmFsdWUoKSxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0aWYgKG9wdGlvbnMucHJlcGVuZEhhc2ggJiYgIXRleHQuc3RhcnRzV2l0aChcIiNcIikpIHtcblx0XHRcdFx0XHR0ZXh0ID0gYCMgJHt0ZXh0fWA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAob3B0aW9ucy5hZGROZXdsaW5lKSB7XG5cdFx0XHRcdFx0dGV4dCA9IGBcXG5cXG4ke3RleHR9YDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGV4dCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVUZXh0KHtcblx0XHRcdFx0XHRwcm9tcHQ6IHNlbGVjdGlvbixcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGxvYWRpbmdFbmRQb3NpdGlvbiA9IHtcblx0XHRcdFx0bGluZTogbG9hZGluZ1Bvc2l0aW9uLmxpbmUsXG5cdFx0XHRcdGNoOiBsb2FkaW5nUG9zaXRpb24uY2ggKyBsb2FkaW5nVGV4dC5sZW5ndGgsXG5cdFx0XHR9O1xuXHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZSh0ZXh0LCBsb2FkaW5nUG9zaXRpb24sIGxvYWRpbmdFbmRQb3NpdGlvbik7XG5cblx0XHRcdG5ldyBOb3RpY2UoXCJHZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuXHRcdH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG5cdFx0XHRpZiAobG9hZGluZ1Bvc2l0aW9uKSB7XG5cdFx0XHRcdGNvbnN0IGxvYWRpbmdFbmRQb3NpdGlvbiA9IHtcblx0XHRcdFx0XHRsaW5lOiBsb2FkaW5nUG9zaXRpb24ubGluZSxcblx0XHRcdFx0XHRjaDogbG9hZGluZ1Bvc2l0aW9uLmNoICsgbG9hZGluZ1RleHQubGVuZ3RoLFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRlZGl0b3IucmVwbGFjZVJhbmdlKFwiXCIsIGxvYWRpbmdQb3NpdGlvbiwgbG9hZGluZ0VuZFBvc2l0aW9uKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoXCJHZW5lcmF0aW9uIGZhaWxlZFwiLCB7XG5cdFx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG5cdFx0XHR9KTtcblx0XHRcdG5ldyBOb3RpY2UoXG5cdFx0XHRcdGBGYWlsZWQgdG8gZ2VuZXJhdGU6ICR7XG5cdFx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG5cdFx0XHRcdH1gLFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGdlbmVyYXRlVGV4dChvcHRpb25zOiB7XG5cdFx0cHJvbXB0OiBzdHJpbmc7XG5cdFx0bWF4VG9rZW5zPzogbnVtYmVyO1xuXHRcdHRlbXBlcmF0dXJlPzogbnVtYmVyO1xuXHR9KTogUHJvbWlzZTxzdHJpbmc+IHtcblx0XHRpZiAoIW9wdGlvbnMucHJvbXB0KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJQcm9tcHQgaXMgcmVxdWlyZWRcIik7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyB0ZXh0IH0gPSBhd2FpdCBnZW5lcmF0ZVRleHQoe1xuXHRcdFx0bW9kZWw6IHRoaXMuYXNzaXN0YW50KHRoaXMuc2V0dGluZ3MubW9kZWxJZCksXG5cdFx0XHRtYXhSZXRyaWVzOiAzLFxuXHRcdFx0bWVzc2FnZXM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHJvbGU6IFwidXNlclwiLFxuXHRcdFx0XHRcdGNvbnRlbnQ6IG9wdGlvbnMucHJvbXB0LFxuXHRcdFx0XHR9LFxuXHRcdFx0XSxcblx0XHR9KTtcblxuXHRcdHJldHVybiB0ZXh0O1xuXHR9XG5cblx0YXN5bmMgZ2VuZXJhdGVXaXRoTW9kYWwoXG5cdFx0ZWRpdG9yOiBFZGl0b3IsXG5cdFx0dGVtcGxhdGVOYW1lOiBzdHJpbmcsXG5cdFx0b3B0aW9uczoge1xuXHRcdFx0cG9zaXRpb24/OiB7IGxpbmU6IG51bWJlcjsgY2g6IG51bWJlciB9O1xuXHRcdFx0cHJlcGVuZEhhc2g/OiBib29sZWFuO1xuXHRcdFx0cmVwbGFjZUV4aXN0aW5nPzogYm9vbGVhbjtcblx0XHRcdHJlcGxhY2VMaW5lPzogbnVtYmVyO1xuXHRcdFx0YWRkTmV3bGluZT86IGJvb2xlYW47XG5cdFx0fSA9IHt9LFxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKHRlbXBsYXRlTmFtZSk7XG5cdFx0aWYgKCF0ZW1wbGF0ZSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBUZW1wbGF0ZSAke3RlbXBsYXRlTmFtZX0gbm90IGZvdW5kYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbW9kYWwgPSBuZXcgVGV4dEdlbmVyYXRvck1vZGFsKHRoaXMuYXBwLCB0ZW1wbGF0ZSk7XG5cblx0XHRtb2RhbC5vblN1Ym1pdChhc3luYyAodmFyaWFibGVzKSA9PiB7XG5cdFx0XHRtb2RhbC5jbG9zZSgpO1xuXG5cdFx0XHRuZXcgTm90aWNlKFwiR2VuZXJhdGluZy4uLlwiKTtcblxuXHRcdFx0Y29uc3QgdGV4dCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVGcm9tVGVtcGxhdGUodGVtcGxhdGUsIHtcblx0XHRcdFx0Li4udmFyaWFibGVzLFxuXHRcdFx0XHR0ZXh0OiBlZGl0b3IuZ2V0VmFsdWUoKSxcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAob3B0aW9ucy5yZXBsYWNlTGluZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnN0IGxpbmUgPSBlZGl0b3IuZ2V0TGluZShvcHRpb25zLnJlcGxhY2VMaW5lKTtcblx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZShcblx0XHRcdFx0XHR0ZXh0LFxuXHRcdFx0XHRcdHsgbGluZTogb3B0aW9ucy5yZXBsYWNlTGluZSwgY2g6IDAgfSxcblx0XHRcdFx0XHR7IGxpbmU6IG9wdGlvbnMucmVwbGFjZUxpbmUsIGNoOiBsaW5lLmxlbmd0aCB9LFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgY3Vyc29yID0gb3B0aW9ucy5wb3NpdGlvbiB8fCBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG5cdFx0XHRcdGVkaXRvci5yZXBsYWNlUmFuZ2UodGV4dCwgY3Vyc29yKTtcblx0XHRcdH1cblxuXHRcdFx0bmV3IE5vdGljZShcIkdlbmVyYXRlZCBzdWNjZXNzZnVsbHlcIik7XG5cdFx0fSk7XG5cblx0XHRtb2RhbC5vcGVuKCk7XG5cdH1cbn1cbiIsImltcG9ydCB0eXBlIHsgQXBwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBwYXJzZVlhbWwgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuaW1wb3J0IHR5cGUgeyBMb2dnZXIgfSBmcm9tIFwiLi4vbGliL2xvZ2dlclwiO1xuaW1wb3J0IHR5cGUgeyBUZW1wbGF0ZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9URU1QTEFURVMgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZU1hbmFnZXIge1xuXHRwcml2YXRlIHRlbXBsYXRlczogTWFwPHN0cmluZywgVGVtcGxhdGU+ID0gbmV3IE1hcCgpO1xuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwOiBBcHAsIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXIpIHtcblx0XHRmb3IgKGNvbnN0IFtrZXksIHRlbXBsYXRlXSBvZiBPYmplY3QuZW50cmllcyhERUZBVUxUX1RFTVBMQVRFUykpIHtcblx0XHRcdHRoaXMudGVtcGxhdGVzLnNldChrZXksIHsgLi4udGVtcGxhdGUsIGRlZmF1bHQ6IHRydWUgfSk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgbG9hZEN1c3RvbVRlbXBsYXRlcyhmb2xkZXI6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHRlbXBsYXRlc0ZvbGRlciA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmb2xkZXIpO1xuXHRcdGlmICghdGVtcGxhdGVzRm9sZGVyKSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhcIk5vIGN1c3RvbSB0ZW1wbGF0ZXMgZm9sZGVyIGZvdW5kXCIpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHRcblx0XHRcdC5nZXRNYXJrZG93bkZpbGVzKClcblx0XHRcdC5maWx0ZXIoKGZpbGUpID0+IGZpbGUucGF0aC5zdGFydHNXaXRoKGZvbGRlcikpO1xuXG5cdFx0Zm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmaWxlKTtcblx0XHRcdFx0Y29uc3QgdGVtcGxhdGUgPSB0aGlzLnBhcnNlVGVtcGxhdGUoY29udGVudCk7XG5cdFx0XHRcdHRoaXMudGVtcGxhdGVzLnNldCh0ZW1wbGF0ZS5uYW1lLCB0ZW1wbGF0ZSk7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKGBMb2FkZWQgY3VzdG9tIHRlbXBsYXRlOiAke3RlbXBsYXRlLm5hbWV9YCk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIGxvYWQgdGVtcGxhdGUgJHtmaWxlLnBhdGh9YCwgeyBlcnJvciB9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHBhcnNlVGVtcGxhdGUoY29udGVudDogc3RyaW5nKTogVGVtcGxhdGUge1xuXHRcdGNvbnN0IGZyb250bWF0dGVyID0gdGhpcy5leHRyYWN0RnJvbnRtYXR0ZXIoY29udGVudCk7XG5cdFx0aWYgKCFmcm9udG1hdHRlci5uYW1lKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJUZW1wbGF0ZSBtdXN0IGhhdmUgYSBuYW1lXCIpO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRuYW1lOiBmcm9udG1hdHRlci5uYW1lLFxuXHRcdFx0ZGVzY3JpcHRpb246IGZyb250bWF0dGVyLmRlc2NyaXB0aW9uLFxuXHRcdFx0cHJvbXB0OiBjb250ZW50LnJlcGxhY2UoL14tLS1bXFxzXFxTXSo/LS0tLywgXCJcIikudHJpbSgpLFxuXHRcdFx0dmFyaWFibGVzOiBmcm9udG1hdHRlci52YXJpYWJsZXMsXG5cdFx0XHR0YWdzOiBmcm9udG1hdHRlci50YWdzLFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIGV4dHJhY3RGcm9udG1hdHRlcihjb250ZW50OiBzdHJpbmcpOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcblx0XHRjb25zdCBtYXRjaCA9IGNvbnRlbnQubWF0Y2goL14tLS1cXG4oW1xcc1xcU10qPylcXG4tLS0vKTtcblx0XHRpZiAoIW1hdGNoKSByZXR1cm4ge307XG5cblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIHBhcnNlWWFtbChtYXRjaFsxXSk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHRlbXBsYXRlIGZyb250bWF0dGVyXCIsIHsgZXJyb3IgfSk7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgYXBwbHlUZW1wbGF0ZShcblx0XHR0ZW1wbGF0ZTogVGVtcGxhdGUsXG5cdFx0dmFyaWFibGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuXHQpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGxldCBwcm9tcHQgPSB0ZW1wbGF0ZS5wcm9tcHQ7XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModmFyaWFibGVzKSkge1xuXHRcdFx0cHJvbXB0ID0gcHJvbXB0LnJlcGxhY2UoYHt7JHtrZXl9fX1gLCB2YWx1ZSk7XG5cdFx0fVxuXHRcdHJldHVybiBwcm9tcHQ7XG5cdH1cblxuXHRnZXRUZW1wbGF0ZShuYW1lOiBzdHJpbmcpOiBUZW1wbGF0ZSB8IHVuZGVmaW5lZCB7XG5cdFx0cmV0dXJuIHRoaXMudGVtcGxhdGVzLmdldChuYW1lKTtcblx0fVxuXG5cdGdldFRlbXBsYXRlcygpOiBNYXA8c3RyaW5nLCBUZW1wbGF0ZT4ge1xuXHRcdHJldHVybiB0aGlzLnRlbXBsYXRlcztcblx0fVxufVxuIiwiLy8gc3JjL29wZW5haS1jb21wYXRpYmxlLXByb3ZpZGVyLnRzXG5pbXBvcnQge1xuICB3aXRob3V0VHJhaWxpbmdTbGFzaFxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvb3BlbmFpLWNvbXBhdGlibGUtY2hhdC1sYW5ndWFnZS1tb2RlbC50c1xuaW1wb3J0IHtcbiAgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQge1xuICBjb21iaW5lSGVhZGVycyxcbiAgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIsXG4gIGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcixcbiAgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcixcbiAgZ2VuZXJhdGVJZCxcbiAgaXNQYXJzYWJsZUpzb24sXG4gIHBvc3RKc29uVG9BcGlcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmltcG9ydCB7IHogYXMgejIgfSBmcm9tIFwiem9kXCI7XG5cbi8vIHNyYy9jb252ZXJ0LXRvLW9wZW5haS1jb21wYXRpYmxlLWNoYXQtbWVzc2FnZXMudHNcbmltcG9ydCB7XG4gIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgeyBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0IH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmZ1bmN0aW9uIGdldE9wZW5BSU1ldGFkYXRhKG1lc3NhZ2UpIHtcbiAgdmFyIF9hLCBfYjtcbiAgcmV0dXJuIChfYiA9IChfYSA9IG1lc3NhZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IG1lc3NhZ2UucHJvdmlkZXJNZXRhZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm9wZW5haUNvbXBhdGlibGUpICE9IG51bGwgPyBfYiA6IHt9O1xufVxuZnVuY3Rpb24gY29udmVydFRvT3BlbkFJQ29tcGF0aWJsZUNoYXRNZXNzYWdlcyhwcm9tcHQpIHtcbiAgY29uc3QgbWVzc2FnZXMgPSBbXTtcbiAgZm9yIChjb25zdCB7IHJvbGUsIGNvbnRlbnQsIC4uLm1lc3NhZ2UgfSBvZiBwcm9tcHQpIHtcbiAgICBjb25zdCBtZXRhZGF0YSA9IGdldE9wZW5BSU1ldGFkYXRhKHsgLi4ubWVzc2FnZSB9KTtcbiAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgIGNhc2UgXCJzeXN0ZW1cIjoge1xuICAgICAgICBtZXNzYWdlcy5wdXNoKHsgcm9sZTogXCJzeXN0ZW1cIiwgY29udGVudCwgLi4ubWV0YWRhdGEgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcInVzZXJcIjoge1xuICAgICAgICBpZiAoY29udGVudC5sZW5ndGggPT09IDEgJiYgY29udGVudFswXS50eXBlID09PSBcInRleHRcIikge1xuICAgICAgICAgIG1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50WzBdLnRleHQsXG4gICAgICAgICAgICAuLi5nZXRPcGVuQUlNZXRhZGF0YShjb250ZW50WzBdKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBwYXJ0TWV0YWRhdGEgPSBnZXRPcGVuQUlNZXRhZGF0YShwYXJ0KTtcbiAgICAgICAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcInRleHRcIiwgdGV4dDogcGFydC50ZXh0LCAuLi5wYXJ0TWV0YWRhdGEgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcImltYWdlX3VybFwiLFxuICAgICAgICAgICAgICAgICAgaW1hZ2VfdXJsOiB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogcGFydC5pbWFnZSBpbnN0YW5jZW9mIFVSTCA/IHBhcnQuaW1hZ2UudG9TdHJpbmcoKSA6IGBkYXRhOiR7KF9hID0gcGFydC5taW1lVHlwZSkgIT0gbnVsbCA/IF9hIDogXCJpbWFnZS9qcGVnXCJ9O2Jhc2U2NCwke2NvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQocGFydC5pbWFnZSl9YFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIC4uLnBhcnRNZXRhZGF0YVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSBcImZpbGVcIjoge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcih7XG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbmFsaXR5OiBcIkZpbGUgY29udGVudCBwYXJ0cyBpbiB1c2VyIG1lc3NhZ2VzXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIC4uLm1ldGFkYXRhXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJhc3Npc3RhbnRcIjoge1xuICAgICAgICBsZXQgdGV4dCA9IFwiXCI7XG4gICAgICAgIGNvbnN0IHRvb2xDYWxscyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgY29udGVudCkge1xuICAgICAgICAgIGNvbnN0IHBhcnRNZXRhZGF0YSA9IGdldE9wZW5BSU1ldGFkYXRhKHBhcnQpO1xuICAgICAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgIHRleHQgKz0gcGFydC50ZXh0O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29sLWNhbGxcIjoge1xuICAgICAgICAgICAgICB0b29sQ2FsbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IEpTT04uc3RyaW5naWZ5KHBhcnQuYXJncylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC4uLnBhcnRNZXRhZGF0YVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSBwYXJ0O1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHBhcnQ6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICBjb250ZW50OiB0ZXh0LFxuICAgICAgICAgIHRvb2xfY2FsbHM6IHRvb2xDYWxscy5sZW5ndGggPiAwID8gdG9vbENhbGxzIDogdm9pZCAwLFxuICAgICAgICAgIC4uLm1ldGFkYXRhXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ0b29sXCI6IHtcbiAgICAgICAgZm9yIChjb25zdCB0b29sUmVzcG9uc2Ugb2YgY29udGVudCkge1xuICAgICAgICAgIGNvbnN0IHRvb2xSZXNwb25zZU1ldGFkYXRhID0gZ2V0T3BlbkFJTWV0YWRhdGEodG9vbFJlc3BvbnNlKTtcbiAgICAgICAgICBtZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgIHJvbGU6IFwidG9vbFwiLFxuICAgICAgICAgICAgdG9vbF9jYWxsX2lkOiB0b29sUmVzcG9uc2UudG9vbENhbGxJZCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHRvb2xSZXNwb25zZS5yZXN1bHQpLFxuICAgICAgICAgICAgLi4udG9vbFJlc3BvbnNlTWV0YWRhdGFcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IHJvbGU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcm9sZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWVzc2FnZXM7XG59XG5cbi8vIHNyYy9nZXQtcmVzcG9uc2UtbWV0YWRhdGEudHNcbmZ1bmN0aW9uIGdldFJlc3BvbnNlTWV0YWRhdGEoe1xuICBpZCxcbiAgbW9kZWwsXG4gIGNyZWF0ZWRcbn0pIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogaWQgIT0gbnVsbCA/IGlkIDogdm9pZCAwLFxuICAgIG1vZGVsSWQ6IG1vZGVsICE9IG51bGwgPyBtb2RlbCA6IHZvaWQgMCxcbiAgICB0aW1lc3RhbXA6IGNyZWF0ZWQgIT0gbnVsbCA/IG5ldyBEYXRlKGNyZWF0ZWQgKiAxZTMpIDogdm9pZCAwXG4gIH07XG59XG5cbi8vIHNyYy9tYXAtb3BlbmFpLWNvbXBhdGlibGUtZmluaXNoLXJlYXNvbi50c1xuZnVuY3Rpb24gbWFwT3BlbkFJQ29tcGF0aWJsZUZpbmlzaFJlYXNvbihmaW5pc2hSZWFzb24pIHtcbiAgc3dpdGNoIChmaW5pc2hSZWFzb24pIHtcbiAgICBjYXNlIFwic3RvcFwiOlxuICAgICAgcmV0dXJuIFwic3RvcFwiO1xuICAgIGNhc2UgXCJsZW5ndGhcIjpcbiAgICAgIHJldHVybiBcImxlbmd0aFwiO1xuICAgIGNhc2UgXCJjb250ZW50X2ZpbHRlclwiOlxuICAgICAgcmV0dXJuIFwiY29udGVudC1maWx0ZXJcIjtcbiAgICBjYXNlIFwiZnVuY3Rpb25fY2FsbFwiOlxuICAgIGNhc2UgXCJ0b29sX2NhbGxzXCI6XG4gICAgICByZXR1cm4gXCJ0b29sLWNhbGxzXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcInVua25vd25cIjtcbiAgfVxufVxuXG4vLyBzcmMvb3BlbmFpLWNvbXBhdGlibGUtZXJyb3IudHNcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG52YXIgb3BlbmFpQ29tcGF0aWJsZUVycm9yRGF0YVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZXJyb3I6IHoub2JqZWN0KHtcbiAgICBtZXNzYWdlOiB6LnN0cmluZygpLFxuICAgIC8vIFRoZSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGJlbG93IGlzIGhhbmRsZWQgbG9vc2VseSB0byBzdXBwb3J0XG4gICAgLy8gT3BlbkFJLWNvbXBhdGlibGUgcHJvdmlkZXJzIHRoYXQgaGF2ZSBzbGlnaHRseSBkaWZmZXJlbnQgZXJyb3JcbiAgICAvLyByZXNwb25zZXM6XG4gICAgdHlwZTogei5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgcGFyYW06IHouYW55KCkubnVsbGlzaCgpLFxuICAgIGNvZGU6IHoudW5pb24oW3ouc3RyaW5nKCksIHoubnVtYmVyKCldKS5udWxsaXNoKClcbiAgfSlcbn0pO1xudmFyIGRlZmF1bHRPcGVuQUlDb21wYXRpYmxlRXJyb3JTdHJ1Y3R1cmUgPSB7XG4gIGVycm9yU2NoZW1hOiBvcGVuYWlDb21wYXRpYmxlRXJyb3JEYXRhU2NoZW1hLFxuICBlcnJvclRvTWVzc2FnZTogKGRhdGEpID0+IGRhdGEuZXJyb3IubWVzc2FnZVxufTtcblxuLy8gc3JjL29wZW5haS1jb21wYXRpYmxlLXByZXBhcmUtdG9vbHMudHNcbmltcG9ydCB7XG4gIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yIGFzIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yMlxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuZnVuY3Rpb24gcHJlcGFyZVRvb2xzKHtcbiAgbW9kZSxcbiAgc3RydWN0dXJlZE91dHB1dHNcbn0pIHtcbiAgdmFyIF9hO1xuICBjb25zdCB0b29scyA9ICgoX2EgPSBtb2RlLnRvb2xzKSA9PSBudWxsID8gdm9pZCAwIDogX2EubGVuZ3RoKSA/IG1vZGUudG9vbHMgOiB2b2lkIDA7XG4gIGNvbnN0IHRvb2xXYXJuaW5ncyA9IFtdO1xuICBpZiAodG9vbHMgPT0gbnVsbCkge1xuICAgIHJldHVybiB7IHRvb2xzOiB2b2lkIDAsIHRvb2xfY2hvaWNlOiB2b2lkIDAsIHRvb2xXYXJuaW5ncyB9O1xuICB9XG4gIGNvbnN0IHRvb2xDaG9pY2UgPSBtb2RlLnRvb2xDaG9pY2U7XG4gIGNvbnN0IG9wZW5haUNvbXBhdFRvb2xzID0gW107XG4gIGZvciAoY29uc3QgdG9vbCBvZiB0b29scykge1xuICAgIGlmICh0b29sLnR5cGUgPT09IFwicHJvdmlkZXItZGVmaW5lZFwiKSB7XG4gICAgICB0b29sV2FybmluZ3MucHVzaCh7IHR5cGU6IFwidW5zdXBwb3J0ZWQtdG9vbFwiLCB0b29sIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcGVuYWlDb21wYXRUb29scy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgIG5hbWU6IHRvb2wubmFtZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdG9vbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICBwYXJhbWV0ZXJzOiB0b29sLnBhcmFtZXRlcnNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmICh0b29sQ2hvaWNlID09IG51bGwpIHtcbiAgICByZXR1cm4geyB0b29sczogb3BlbmFpQ29tcGF0VG9vbHMsIHRvb2xfY2hvaWNlOiB2b2lkIDAsIHRvb2xXYXJuaW5ncyB9O1xuICB9XG4gIGNvbnN0IHR5cGUgPSB0b29sQ2hvaWNlLnR5cGU7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgY2FzZSBcIm5vbmVcIjpcbiAgICBjYXNlIFwicmVxdWlyZWRcIjpcbiAgICAgIHJldHVybiB7IHRvb2xzOiBvcGVuYWlDb21wYXRUb29scywgdG9vbF9jaG9pY2U6IHR5cGUsIHRvb2xXYXJuaW5ncyB9O1xuICAgIGNhc2UgXCJ0b29sXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b29sczogb3BlbmFpQ29tcGF0VG9vbHMsXG4gICAgICAgIHRvb2xfY2hvaWNlOiB7XG4gICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICBuYW1lOiB0b29sQ2hvaWNlLnRvb2xOYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0b29sV2FybmluZ3NcbiAgICAgIH07XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IHR5cGU7XG4gICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IyKHtcbiAgICAgICAgZnVuY3Rpb25hbGl0eTogYFVuc3VwcG9ydGVkIHRvb2wgY2hvaWNlIHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL29wZW5haS1jb21wYXRpYmxlLWNoYXQtbGFuZ3VhZ2UtbW9kZWwudHNcbnZhciBPcGVuQUlDb21wYXRpYmxlQ2hhdExhbmd1YWdlTW9kZWwgPSBjbGFzcyB7XG4gIC8vIHR5cGUgaW5mZXJyZWQgdmlhIGNvbnN0cnVjdG9yXG4gIGNvbnN0cnVjdG9yKG1vZGVsSWQsIHNldHRpbmdzLCBjb25maWcpIHtcbiAgICB0aGlzLnNwZWNpZmljYXRpb25WZXJzaW9uID0gXCJ2MVwiO1xuICAgIHZhciBfYSwgX2I7XG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgY29uc3QgZXJyb3JTdHJ1Y3R1cmUgPSAoX2EgPSBjb25maWcuZXJyb3JTdHJ1Y3R1cmUpICE9IG51bGwgPyBfYSA6IGRlZmF1bHRPcGVuQUlDb21wYXRpYmxlRXJyb3JTdHJ1Y3R1cmU7XG4gICAgdGhpcy5jaHVua1NjaGVtYSA9IGNyZWF0ZU9wZW5BSUNvbXBhdGlibGVDaGF0Q2h1bmtTY2hlbWEoXG4gICAgICBlcnJvclN0cnVjdHVyZS5lcnJvclNjaGVtYVxuICAgICk7XG4gICAgdGhpcy5mYWlsZWRSZXNwb25zZUhhbmRsZXIgPSBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIoZXJyb3JTdHJ1Y3R1cmUpO1xuICAgIHRoaXMuc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cyA9IChfYiA9IGNvbmZpZy5zdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzKSAhPSBudWxsID8gX2IgOiBmYWxzZTtcbiAgfVxuICBnZXQgZGVmYXVsdE9iamVjdEdlbmVyYXRpb25Nb2RlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5kZWZhdWx0T2JqZWN0R2VuZXJhdGlvbk1vZGU7XG4gIH1cbiAgZ2V0IHByb3ZpZGVyKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5wcm92aWRlcjtcbiAgfVxuICBnZXRBcmdzKHtcbiAgICBtb2RlLFxuICAgIHByb21wdCxcbiAgICBtYXhUb2tlbnMsXG4gICAgdGVtcGVyYXR1cmUsXG4gICAgdG9wUCxcbiAgICB0b3BLLFxuICAgIGZyZXF1ZW5jeVBlbmFsdHksXG4gICAgcHJlc2VuY2VQZW5hbHR5LFxuICAgIHN0b3BTZXF1ZW5jZXMsXG4gICAgcmVzcG9uc2VGb3JtYXQsXG4gICAgc2VlZFxuICB9KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCB0eXBlID0gbW9kZS50eXBlO1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgaWYgKHRvcEsgIT0gbnVsbCkge1xuICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgIHR5cGU6IFwidW5zdXBwb3J0ZWQtc2V0dGluZ1wiLFxuICAgICAgICBzZXR0aW5nOiBcInRvcEtcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICgocmVzcG9uc2VGb3JtYXQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3BvbnNlRm9ybWF0LnR5cGUpID09PSBcImpzb25cIiAmJiByZXNwb25zZUZvcm1hdC5zY2hlbWEgIT0gbnVsbCAmJiAhdGhpcy5zdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzKSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJ1bnN1cHBvcnRlZC1zZXR0aW5nXCIsXG4gICAgICAgIHNldHRpbmc6IFwicmVzcG9uc2VGb3JtYXRcIixcbiAgICAgICAgZGV0YWlsczogXCJKU09OIHJlc3BvbnNlIGZvcm1hdCBzY2hlbWEgaXMgb25seSBzdXBwb3J0ZWQgd2l0aCBzdHJ1Y3R1cmVkT3V0cHV0c1wiXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgYmFzZUFyZ3MgPSB7XG4gICAgICAvLyBtb2RlbCBpZDpcbiAgICAgIG1vZGVsOiB0aGlzLm1vZGVsSWQsXG4gICAgICAvLyBtb2RlbCBzcGVjaWZpYyBzZXR0aW5nczpcbiAgICAgIHVzZXI6IHRoaXMuc2V0dGluZ3MudXNlcixcbiAgICAgIC8vIHN0YW5kYXJkaXplZCBzZXR0aW5nczpcbiAgICAgIG1heF90b2tlbnM6IG1heFRva2VucyxcbiAgICAgIHRlbXBlcmF0dXJlLFxuICAgICAgdG9wX3A6IHRvcFAsXG4gICAgICBmcmVxdWVuY3lfcGVuYWx0eTogZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgIHByZXNlbmNlX3BlbmFsdHk6IHByZXNlbmNlUGVuYWx0eSxcbiAgICAgIHJlc3BvbnNlX2Zvcm1hdDogKHJlc3BvbnNlRm9ybWF0ID09IG51bGwgPyB2b2lkIDAgOiByZXNwb25zZUZvcm1hdC50eXBlKSA9PT0gXCJqc29uXCIgPyB0aGlzLnN1cHBvcnRzU3RydWN0dXJlZE91dHB1dHMgPT09IHRydWUgJiYgcmVzcG9uc2VGb3JtYXQuc2NoZW1hICE9IG51bGwgPyB7XG4gICAgICAgIHR5cGU6IFwianNvbl9zY2hlbWFcIixcbiAgICAgICAganNvbl9zY2hlbWE6IHtcbiAgICAgICAgICBzY2hlbWE6IHJlc3BvbnNlRm9ybWF0LnNjaGVtYSxcbiAgICAgICAgICBuYW1lOiAoX2EgPSByZXNwb25zZUZvcm1hdC5uYW1lKSAhPSBudWxsID8gX2EgOiBcInJlc3BvbnNlXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHJlc3BvbnNlRm9ybWF0LmRlc2NyaXB0aW9uXG4gICAgICAgIH1cbiAgICAgIH0gOiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9IDogdm9pZCAwLFxuICAgICAgc3RvcDogc3RvcFNlcXVlbmNlcyxcbiAgICAgIHNlZWQsXG4gICAgICAvLyBtZXNzYWdlczpcbiAgICAgIG1lc3NhZ2VzOiBjb252ZXJ0VG9PcGVuQUlDb21wYXRpYmxlQ2hhdE1lc3NhZ2VzKHByb21wdClcbiAgICB9O1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInJlZ3VsYXJcIjoge1xuICAgICAgICBjb25zdCB7IHRvb2xzLCB0b29sX2Nob2ljZSwgdG9vbFdhcm5pbmdzIH0gPSBwcmVwYXJlVG9vbHMoe1xuICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgc3RydWN0dXJlZE91dHB1dHM6IHRoaXMuc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0c1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhcmdzOiB7IC4uLmJhc2VBcmdzLCB0b29scywgdG9vbF9jaG9pY2UgfSxcbiAgICAgICAgICB3YXJuaW5nczogWy4uLndhcm5pbmdzLCAuLi50b29sV2FybmluZ3NdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjYXNlIFwib2JqZWN0LWpzb25cIjoge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgIC4uLmJhc2VBcmdzLFxuICAgICAgICAgICAgcmVzcG9uc2VfZm9ybWF0OiB0aGlzLnN1cHBvcnRzU3RydWN0dXJlZE91dHB1dHMgPT09IHRydWUgJiYgbW9kZS5zY2hlbWEgIT0gbnVsbCA/IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJqc29uX3NjaGVtYVwiLFxuICAgICAgICAgICAgICBqc29uX3NjaGVtYToge1xuICAgICAgICAgICAgICAgIHNjaGVtYTogbW9kZS5zY2hlbWEsXG4gICAgICAgICAgICAgICAgbmFtZTogKF9iID0gbW9kZS5uYW1lKSAhPSBudWxsID8gX2IgOiBcInJlc3BvbnNlXCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IG1vZGUuZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSA6IHsgdHlwZTogXCJqc29uX29iamVjdFwiIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHdhcm5pbmdzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjYXNlIFwib2JqZWN0LXRvb2xcIjoge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgIC4uLmJhc2VBcmdzLFxuICAgICAgICAgICAgdG9vbF9jaG9pY2U6IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICBmdW5jdGlvbjogeyBuYW1lOiBtb2RlLnRvb2wubmFtZSB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9vbHM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgICAgICAgbmFtZTogbW9kZS50b29sLm5hbWUsXG4gICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbW9kZS50b29sLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogbW9kZS50b29sLnBhcmFtZXRlcnNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHdhcm5pbmdzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSB0eXBlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXN5bmMgZG9HZW5lcmF0ZShvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgY29uc3QgeyBhcmdzLCB3YXJuaW5ncyB9ID0gdGhpcy5nZXRBcmdzKHsgLi4ub3B0aW9ucyB9KTtcbiAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoYXJncyk7XG4gICAgY29uc3QgeyByZXNwb25zZUhlYWRlcnMsIHZhbHVlOiByZXNwb25zZSB9ID0gYXdhaXQgcG9zdEpzb25Ub0FwaSh7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLnVybCh7XG4gICAgICAgIHBhdGg6IFwiL2NoYXQvY29tcGxldGlvbnNcIixcbiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkXG4gICAgICB9KSxcbiAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzKHRoaXMuY29uZmlnLmhlYWRlcnMoKSwgb3B0aW9ucy5oZWFkZXJzKSxcbiAgICAgIGJvZHk6IGFyZ3MsXG4gICAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IHRoaXMuZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcihcbiAgICAgICAgT3BlbkFJQ29tcGF0aWJsZUNoYXRSZXNwb25zZVNjaGVtYVxuICAgICAgKSxcbiAgICAgIGFib3J0U2lnbmFsOiBvcHRpb25zLmFib3J0U2lnbmFsLFxuICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoXG4gICAgfSk7XG4gICAgY29uc3QgeyBtZXNzYWdlczogcmF3UHJvbXB0LCAuLi5yYXdTZXR0aW5ncyB9ID0gYXJncztcbiAgICBjb25zdCBjaG9pY2UgPSByZXNwb25zZS5jaG9pY2VzWzBdO1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiAoX2EgPSBjaG9pY2UubWVzc2FnZS5jb250ZW50KSAhPSBudWxsID8gX2EgOiB2b2lkIDAsXG4gICAgICB0b29sQ2FsbHM6IChfYiA9IGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5tYXAoKHRvb2xDYWxsKSA9PiB7XG4gICAgICAgIHZhciBfYTI7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgdG9vbENhbGxJZDogKF9hMiA9IHRvb2xDYWxsLmlkKSAhPSBudWxsID8gX2EyIDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgIGFyZ3M6IHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50c1xuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBmaW5pc2hSZWFzb246IG1hcE9wZW5BSUNvbXBhdGlibGVGaW5pc2hSZWFzb24oY2hvaWNlLmZpbmlzaF9yZWFzb24pLFxuICAgICAgdXNhZ2U6IHtcbiAgICAgICAgcHJvbXB0VG9rZW5zOiAoX2QgPSAoX2MgPSByZXNwb25zZS51c2FnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnByb21wdF90b2tlbnMpICE9IG51bGwgPyBfZCA6IE5hTixcbiAgICAgICAgY29tcGxldGlvblRva2VuczogKF9mID0gKF9lID0gcmVzcG9uc2UudXNhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfZS5jb21wbGV0aW9uX3Rva2VucykgIT0gbnVsbCA/IF9mIDogTmFOXG4gICAgICB9LFxuICAgICAgcmF3Q2FsbDogeyByYXdQcm9tcHQsIHJhd1NldHRpbmdzIH0sXG4gICAgICByYXdSZXNwb25zZTogeyBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMgfSxcbiAgICAgIHJlc3BvbnNlOiBnZXRSZXNwb25zZU1ldGFkYXRhKHJlc3BvbnNlKSxcbiAgICAgIHdhcm5pbmdzLFxuICAgICAgcmVxdWVzdDogeyBib2R5IH1cbiAgICB9O1xuICB9XG4gIGFzeW5jIGRvU3RyZWFtKG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5zaW11bGF0ZVN0cmVhbWluZykge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kb0dlbmVyYXRlKG9wdGlvbnMpO1xuICAgICAgY29uc3Qgc2ltdWxhdGVkU3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6IFwicmVzcG9uc2UtbWV0YWRhdGFcIiwgLi4ucmVzdWx0LnJlc3BvbnNlIH0pO1xuICAgICAgICAgIGlmIChyZXN1bHQudGV4dCkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0LWRlbHRhXCIsXG4gICAgICAgICAgICAgIHRleHREZWx0YTogcmVzdWx0LnRleHRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0LnRvb2xDYWxscykge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0b29sQ2FsbCBvZiByZXN1bHQudG9vbENhbGxzKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGxcIixcbiAgICAgICAgICAgICAgICAuLi50b29sQ2FsbFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZmluaXNoXCIsXG4gICAgICAgICAgICBmaW5pc2hSZWFzb246IHJlc3VsdC5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICB1c2FnZTogcmVzdWx0LnVzYWdlLFxuICAgICAgICAgICAgbG9ncHJvYnM6IHJlc3VsdC5sb2dwcm9icyxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHJlc3VsdC5wcm92aWRlck1ldGFkYXRhXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0cmVhbTogc2ltdWxhdGVkU3RyZWFtLFxuICAgICAgICByYXdDYWxsOiByZXN1bHQucmF3Q2FsbCxcbiAgICAgICAgcmF3UmVzcG9uc2U6IHJlc3VsdC5yYXdSZXNwb25zZSxcbiAgICAgICAgd2FybmluZ3M6IHJlc3VsdC53YXJuaW5nc1xuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgeyBhcmdzLCB3YXJuaW5ncyB9ID0gdGhpcy5nZXRBcmdzKHsgLi4ub3B0aW9ucyB9KTtcbiAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5hcmdzLCBzdHJlYW06IHRydWUgfSk7XG4gICAgY29uc3QgeyByZXNwb25zZUhlYWRlcnMsIHZhbHVlOiByZXNwb25zZSB9ID0gYXdhaXQgcG9zdEpzb25Ub0FwaSh7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLnVybCh7XG4gICAgICAgIHBhdGg6IFwiL2NoYXQvY29tcGxldGlvbnNcIixcbiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkXG4gICAgICB9KSxcbiAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzKHRoaXMuY29uZmlnLmhlYWRlcnMoKSwgb3B0aW9ucy5oZWFkZXJzKSxcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgLi4uYXJncyxcbiAgICAgICAgc3RyZWFtOiB0cnVlXG4gICAgICB9LFxuICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiB0aGlzLmZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyKFxuICAgICAgICB0aGlzLmNodW5rU2NoZW1hXG4gICAgICApLFxuICAgICAgYWJvcnRTaWduYWw6IG9wdGlvbnMuYWJvcnRTaWduYWwsXG4gICAgICBmZXRjaDogdGhpcy5jb25maWcuZmV0Y2hcbiAgICB9KTtcbiAgICBjb25zdCB7IG1lc3NhZ2VzOiByYXdQcm9tcHQsIC4uLnJhd1NldHRpbmdzIH0gPSBhcmdzO1xuICAgIGNvbnN0IHRvb2xDYWxscyA9IFtdO1xuICAgIGxldCBmaW5pc2hSZWFzb24gPSBcInVua25vd25cIjtcbiAgICBsZXQgdXNhZ2UgPSB7XG4gICAgICBwcm9tcHRUb2tlbnM6IHZvaWQgMCxcbiAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IHZvaWQgMFxuICAgIH07XG4gICAgbGV0IGlzRmlyc3RDaHVuayA9IHRydWU7XG4gICAgbGV0IHByb3ZpZGVyTWV0YWRhdGE7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0cmVhbTogcmVzcG9uc2UucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2ksIF9qLCBfaywgX2wsIF9tLCBfbjtcbiAgICAgICAgICAgIGlmICghY2h1bmsuc3VjY2Vzcykge1xuICAgICAgICAgICAgICBmaW5pc2hSZWFzb24gPSBcImVycm9yXCI7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6IFwiZXJyb3JcIiwgZXJyb3I6IGNodW5rLmVycm9yIH0pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNodW5rLnZhbHVlO1xuICAgICAgICAgICAgaWYgKFwiZXJyb3JcIiBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICBmaW5pc2hSZWFzb24gPSBcImVycm9yXCI7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6IFwiZXJyb3JcIiwgZXJyb3I6IHZhbHVlLmVycm9yLm1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0ZpcnN0Q2h1bmspIHtcbiAgICAgICAgICAgICAgaXNGaXJzdENodW5rID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJyZXNwb25zZS1tZXRhZGF0YVwiLFxuICAgICAgICAgICAgICAgIC4uLmdldFJlc3BvbnNlTWV0YWRhdGEodmFsdWUpXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLnVzYWdlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgdXNhZ2UgPSB7XG4gICAgICAgICAgICAgICAgcHJvbXB0VG9rZW5zOiAoX2EgPSB2YWx1ZS51c2FnZS5wcm9tcHRfdG9rZW5zKSAhPSBudWxsID8gX2EgOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgY29tcGxldGlvblRva2VuczogKF9iID0gdmFsdWUudXNhZ2UuY29tcGxldGlvbl90b2tlbnMpICE9IG51bGwgPyBfYiA6IHZvaWQgMFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2hvaWNlID0gdmFsdWUuY2hvaWNlc1swXTtcbiAgICAgICAgICAgIGlmICgoY2hvaWNlID09IG51bGwgPyB2b2lkIDAgOiBjaG9pY2UuZmluaXNoX3JlYXNvbikgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBmaW5pc2hSZWFzb24gPSBtYXBPcGVuQUlDb21wYXRpYmxlRmluaXNoUmVhc29uKFxuICAgICAgICAgICAgICAgIGNob2ljZS5maW5pc2hfcmVhc29uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNob2ljZSA9PSBudWxsID8gdm9pZCAwIDogY2hvaWNlLmRlbHRhKSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gY2hvaWNlLmRlbHRhO1xuICAgICAgICAgICAgaWYgKGRlbHRhLmNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dC1kZWx0YVwiLFxuICAgICAgICAgICAgICAgIHRleHREZWx0YTogZGVsdGEuY29udGVudFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWx0YS50b29sX2NhbGxzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCB0b29sQ2FsbERlbHRhIG9mIGRlbHRhLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRvb2xDYWxsRGVsdGEuaW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKHRvb2xDYWxsc1tpbmRleF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgaWYgKHRvb2xDYWxsRGVsdGEudHlwZSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRvb2xDYWxsRGVsdGEsXG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYEV4cGVjdGVkICdmdW5jdGlvbicgdHlwZS5gXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHRvb2xDYWxsRGVsdGEuaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0b29sQ2FsbERlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBFeHBlY3RlZCAnaWQnIHRvIGJlIGEgc3RyaW5nLmBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoKChfYyA9IHRvb2xDYWxsRGVsdGEuZnVuY3Rpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYy5uYW1lKSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRvb2xDYWxsRGVsdGEsXG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYEV4cGVjdGVkICdmdW5jdGlvbi5uYW1lJyB0byBiZSBhIHN0cmluZy5gXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxzW2luZGV4XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRvb2xDYWxsRGVsdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0b29sQ2FsbERlbHRhLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiAoX2QgPSB0b29sQ2FsbERlbHRhLmZ1bmN0aW9uLmFyZ3VtZW50cykgIT0gbnVsbCA/IF9kIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBoYXNGaW5pc2hlZDogZmFsc2VcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICBjb25zdCB0b29sQ2FsbDIgPSB0b29sQ2FsbHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgaWYgKCgoX2UgPSB0b29sQ2FsbDIuZnVuY3Rpb24pID09IG51bGwgPyB2b2lkIDAgOiBfZS5uYW1lKSAhPSBudWxsICYmICgoX2YgPSB0b29sQ2FsbDIuZnVuY3Rpb24pID09IG51bGwgPyB2b2lkIDAgOiBfZi5hcmd1bWVudHMpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2xDYWxsMi5mdW5jdGlvbi5hcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbC1kZWx0YVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbDIuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbENhbGwyLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzVGV4dERlbHRhOiB0b29sQ2FsbDIuZnVuY3Rpb24uYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUGFyc2FibGVKc29uKHRvb2xDYWxsMi5mdW5jdGlvbi5hcmd1bWVudHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbFR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IChfZyA9IHRvb2xDYWxsMi5pZCkgIT0gbnVsbCA/IF9nIDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsMi5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogdG9vbENhbGwyLmZ1bmN0aW9uLmFyZ3VtZW50c1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsMi5oYXNGaW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0b29sQ2FsbCA9IHRvb2xDYWxsc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKHRvb2xDYWxsLmhhc0ZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCgoX2ggPSB0b29sQ2FsbERlbHRhLmZ1bmN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2guYXJndW1lbnRzKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMgKz0gKF9qID0gKF9pID0gdG9vbENhbGxEZWx0YS5mdW5jdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9pLmFyZ3VtZW50cykgIT0gbnVsbCA/IF9qIDogXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsLWRlbHRhXCIsXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbFR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLmlkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICBhcmdzVGV4dERlbHRhOiAoX2sgPSB0b29sQ2FsbERlbHRhLmZ1bmN0aW9uLmFyZ3VtZW50cykgIT0gbnVsbCA/IF9rIDogXCJcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICgoKF9sID0gdG9vbENhbGwuZnVuY3Rpb24pID09IG51bGwgPyB2b2lkIDAgOiBfbC5uYW1lKSAhPSBudWxsICYmICgoX20gPSB0b29sQ2FsbC5mdW5jdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9tLmFyZ3VtZW50cykgIT0gbnVsbCAmJiBpc1BhcnNhYmxlSnNvbih0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpKSB7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbFwiLFxuICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbFR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogKF9uID0gdG9vbENhbGwuaWQpICE9IG51bGwgPyBfbiA6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50c1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbC5oYXNGaW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmbHVzaChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJmaW5pc2hcIixcbiAgICAgICAgICAgICAgZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICB1c2FnZToge1xuICAgICAgICAgICAgICAgIHByb21wdFRva2VuczogKF9hID0gdXNhZ2UucHJvbXB0VG9rZW5zKSAhPSBudWxsID8gX2EgOiBOYU4sXG4gICAgICAgICAgICAgICAgY29tcGxldGlvblRva2VuczogKF9iID0gdXNhZ2UuY29tcGxldGlvblRva2VucykgIT0gbnVsbCA/IF9iIDogTmFOXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIC4uLnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbCA/IHsgcHJvdmlkZXJNZXRhZGF0YSB9IDoge31cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICByYXdDYWxsOiB7IHJhd1Byb21wdCwgcmF3U2V0dGluZ3MgfSxcbiAgICAgIHJhd1Jlc3BvbnNlOiB7IGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyB9LFxuICAgICAgd2FybmluZ3MsXG4gICAgICByZXF1ZXN0OiB7IGJvZHkgfVxuICAgIH07XG4gIH1cbn07XG52YXIgT3BlbkFJQ29tcGF0aWJsZUNoYXRSZXNwb25zZVNjaGVtYSA9IHoyLm9iamVjdCh7XG4gIGlkOiB6Mi5zdHJpbmcoKS5udWxsaXNoKCksXG4gIGNyZWF0ZWQ6IHoyLm51bWJlcigpLm51bGxpc2goKSxcbiAgbW9kZWw6IHoyLnN0cmluZygpLm51bGxpc2goKSxcbiAgY2hvaWNlczogejIuYXJyYXkoXG4gICAgejIub2JqZWN0KHtcbiAgICAgIG1lc3NhZ2U6IHoyLm9iamVjdCh7XG4gICAgICAgIHJvbGU6IHoyLmxpdGVyYWwoXCJhc3Npc3RhbnRcIikubnVsbGlzaCgpLFxuICAgICAgICBjb250ZW50OiB6Mi5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgICAgIHRvb2xfY2FsbHM6IHoyLmFycmF5KFxuICAgICAgICAgIHoyLm9iamVjdCh7XG4gICAgICAgICAgICBpZDogejIuc3RyaW5nKCkubnVsbGlzaCgpLFxuICAgICAgICAgICAgdHlwZTogejIubGl0ZXJhbChcImZ1bmN0aW9uXCIpLFxuICAgICAgICAgICAgZnVuY3Rpb246IHoyLm9iamVjdCh7XG4gICAgICAgICAgICAgIG5hbWU6IHoyLnN0cmluZygpLFxuICAgICAgICAgICAgICBhcmd1bWVudHM6IHoyLnN0cmluZygpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgICkubnVsbGlzaCgpXG4gICAgICB9KSxcbiAgICAgIGZpbmlzaF9yZWFzb246IHoyLnN0cmluZygpLm51bGxpc2goKVxuICAgIH0pXG4gICksXG4gIHVzYWdlOiB6Mi5vYmplY3Qoe1xuICAgIHByb21wdF90b2tlbnM6IHoyLm51bWJlcigpLm51bGxpc2goKSxcbiAgICBjb21wbGV0aW9uX3Rva2VuczogejIubnVtYmVyKCkubnVsbGlzaCgpXG4gIH0pLm51bGxpc2goKVxufSk7XG52YXIgY3JlYXRlT3BlbkFJQ29tcGF0aWJsZUNoYXRDaHVua1NjaGVtYSA9IChlcnJvclNjaGVtYSkgPT4gejIudW5pb24oW1xuICB6Mi5vYmplY3Qoe1xuICAgIGlkOiB6Mi5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgY3JlYXRlZDogejIubnVtYmVyKCkubnVsbGlzaCgpLFxuICAgIG1vZGVsOiB6Mi5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgY2hvaWNlczogejIuYXJyYXkoXG4gICAgICB6Mi5vYmplY3Qoe1xuICAgICAgICBkZWx0YTogejIub2JqZWN0KHtcbiAgICAgICAgICByb2xlOiB6Mi5lbnVtKFtcImFzc2lzdGFudFwiXSkubnVsbGlzaCgpLFxuICAgICAgICAgIGNvbnRlbnQ6IHoyLnN0cmluZygpLm51bGxpc2goKSxcbiAgICAgICAgICB0b29sX2NhbGxzOiB6Mi5hcnJheShcbiAgICAgICAgICAgIHoyLm9iamVjdCh7XG4gICAgICAgICAgICAgIGluZGV4OiB6Mi5udW1iZXIoKSxcbiAgICAgICAgICAgICAgaWQ6IHoyLnN0cmluZygpLm51bGxpc2goKSxcbiAgICAgICAgICAgICAgdHlwZTogejIubGl0ZXJhbChcImZ1bmN0aW9uXCIpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgIGZ1bmN0aW9uOiB6Mi5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHoyLnN0cmluZygpLm51bGxpc2goKSxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHoyLnN0cmluZygpLm51bGxpc2goKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApLm51bGxpc2goKVxuICAgICAgICB9KS5udWxsaXNoKCksXG4gICAgICAgIGZpbmlzaF9yZWFzb246IHoyLnN0cmluZygpLm51bGxpc2goKVxuICAgICAgfSlcbiAgICApLFxuICAgIHVzYWdlOiB6Mi5vYmplY3Qoe1xuICAgICAgcHJvbXB0X3Rva2VuczogejIubnVtYmVyKCkubnVsbGlzaCgpLFxuICAgICAgY29tcGxldGlvbl90b2tlbnM6IHoyLm51bWJlcigpLm51bGxpc2goKVxuICAgIH0pLm51bGxpc2goKVxuICB9KSxcbiAgZXJyb3JTY2hlbWFcbl0pO1xuXG4vLyBzcmMvb3BlbmFpLWNvbXBhdGlibGUtY29tcGxldGlvbi1sYW5ndWFnZS1tb2RlbC50c1xuaW1wb3J0IHtcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IgYXMgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I0XG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQge1xuICBjb21iaW5lSGVhZGVycyBhcyBjb21iaW5lSGVhZGVyczIsXG4gIGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyIGFzIGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyMixcbiAgY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyIGFzIGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcjIsXG4gIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIgYXMgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcjIsXG4gIHBvc3RKc29uVG9BcGkgYXMgcG9zdEpzb25Ub0FwaTJcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmltcG9ydCB7IHogYXMgejMgfSBmcm9tIFwiem9kXCI7XG5cbi8vIHNyYy9jb252ZXJ0LXRvLW9wZW5haS1jb21wYXRpYmxlLWNvbXBsZXRpb24tcHJvbXB0LnRzXG5pbXBvcnQge1xuICBJbnZhbGlkUHJvbXB0RXJyb3IsXG4gIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yIGFzIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yM1xufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuZnVuY3Rpb24gY29udmVydFRvT3BlbkFJQ29tcGF0aWJsZUNvbXBsZXRpb25Qcm9tcHQoe1xuICBwcm9tcHQsXG4gIGlucHV0Rm9ybWF0LFxuICB1c2VyID0gXCJ1c2VyXCIsXG4gIGFzc2lzdGFudCA9IFwiYXNzaXN0YW50XCJcbn0pIHtcbiAgaWYgKGlucHV0Rm9ybWF0ID09PSBcInByb21wdFwiICYmIHByb21wdC5sZW5ndGggPT09IDEgJiYgcHJvbXB0WzBdLnJvbGUgPT09IFwidXNlclwiICYmIHByb21wdFswXS5jb250ZW50Lmxlbmd0aCA9PT0gMSAmJiBwcm9tcHRbMF0uY29udGVudFswXS50eXBlID09PSBcInRleHRcIikge1xuICAgIHJldHVybiB7IHByb21wdDogcHJvbXB0WzBdLmNvbnRlbnRbMF0udGV4dCB9O1xuICB9XG4gIGxldCB0ZXh0ID0gXCJcIjtcbiAgaWYgKHByb21wdFswXS5yb2xlID09PSBcInN5c3RlbVwiKSB7XG4gICAgdGV4dCArPSBgJHtwcm9tcHRbMF0uY29udGVudH1cblxuYDtcbiAgICBwcm9tcHQgPSBwcm9tcHQuc2xpY2UoMSk7XG4gIH1cbiAgZm9yIChjb25zdCB7IHJvbGUsIGNvbnRlbnQgfSBvZiBwcm9tcHQpIHtcbiAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgIGNhc2UgXCJzeXN0ZW1cIjoge1xuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgc3lzdGVtIG1lc3NhZ2UgaW4gcHJvbXB0OiAke2NvbnRlbnR9XCIsXG4gICAgICAgICAgcHJvbXB0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY2FzZSBcInVzZXJcIjoge1xuICAgICAgICBjb25zdCB1c2VyTWVzc2FnZSA9IGNvbnRlbnQubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgc3dpdGNoIChwYXJ0LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcnQudGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbWFnZVwiOiB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjMoe1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uYWxpdHk6IFwiaW1hZ2VzXCJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KS5qb2luKFwiXCIpO1xuICAgICAgICB0ZXh0ICs9IGAke3VzZXJ9OlxuJHt1c2VyTWVzc2FnZX1cblxuYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiYXNzaXN0YW50XCI6IHtcbiAgICAgICAgY29uc3QgYXNzaXN0YW50TWVzc2FnZSA9IGNvbnRlbnQubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgc3dpdGNoIChwYXJ0LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcnQudGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29sLWNhbGxcIjoge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IzKHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbmFsaXR5OiBcInRvb2wtY2FsbCBtZXNzYWdlc1wiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuam9pbihcIlwiKTtcbiAgICAgICAgdGV4dCArPSBgJHthc3Npc3RhbnR9OlxuJHthc3Npc3RhbnRNZXNzYWdlfVxuXG5gO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ0b29sXCI6IHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yMyh7XG4gICAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJ0b29sIG1lc3NhZ2VzXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSByb2xlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHJvbGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdGV4dCArPSBgJHthc3Npc3RhbnR9OlxuYDtcbiAgcmV0dXJuIHtcbiAgICBwcm9tcHQ6IHRleHQsXG4gICAgc3RvcFNlcXVlbmNlczogW2BcbiR7dXNlcn06YF1cbiAgfTtcbn1cblxuLy8gc3JjL29wZW5haS1jb21wYXRpYmxlLWNvbXBsZXRpb24tbGFuZ3VhZ2UtbW9kZWwudHNcbnZhciBPcGVuQUlDb21wYXRpYmxlQ29tcGxldGlvbkxhbmd1YWdlTW9kZWwgPSBjbGFzcyB7XG4gIC8vIHR5cGUgaW5mZXJyZWQgdmlhIGNvbnN0cnVjdG9yXG4gIGNvbnN0cnVjdG9yKG1vZGVsSWQsIHNldHRpbmdzLCBjb25maWcpIHtcbiAgICB0aGlzLnNwZWNpZmljYXRpb25WZXJzaW9uID0gXCJ2MVwiO1xuICAgIHRoaXMuZGVmYXVsdE9iamVjdEdlbmVyYXRpb25Nb2RlID0gdm9pZCAwO1xuICAgIHZhciBfYTtcbiAgICB0aGlzLm1vZGVsSWQgPSBtb2RlbElkO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICBjb25zdCBlcnJvclN0cnVjdHVyZSA9IChfYSA9IGNvbmZpZy5lcnJvclN0cnVjdHVyZSkgIT0gbnVsbCA/IF9hIDogZGVmYXVsdE9wZW5BSUNvbXBhdGlibGVFcnJvclN0cnVjdHVyZTtcbiAgICB0aGlzLmNodW5rU2NoZW1hID0gY3JlYXRlT3BlbkFJQ29tcGF0aWJsZUNvbXBsZXRpb25DaHVua1NjaGVtYShcbiAgICAgIGVycm9yU3RydWN0dXJlLmVycm9yU2NoZW1hXG4gICAgKTtcbiAgICB0aGlzLmZhaWxlZFJlc3BvbnNlSGFuZGxlciA9IGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcjIoZXJyb3JTdHJ1Y3R1cmUpO1xuICB9XG4gIGdldCBwcm92aWRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcucHJvdmlkZXI7XG4gIH1cbiAgZ2V0QXJncyh7XG4gICAgbW9kZSxcbiAgICBpbnB1dEZvcm1hdCxcbiAgICBwcm9tcHQsXG4gICAgbWF4VG9rZW5zLFxuICAgIHRlbXBlcmF0dXJlLFxuICAgIHRvcFAsXG4gICAgdG9wSyxcbiAgICBmcmVxdWVuY3lQZW5hbHR5LFxuICAgIHByZXNlbmNlUGVuYWx0eSxcbiAgICBzdG9wU2VxdWVuY2VzOiB1c2VyU3RvcFNlcXVlbmNlcyxcbiAgICByZXNwb25zZUZvcm1hdCxcbiAgICBzZWVkXG4gIH0pIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgdHlwZSA9IG1vZGUudHlwZTtcbiAgICBjb25zdCB3YXJuaW5ncyA9IFtdO1xuICAgIGlmICh0b3BLICE9IG51bGwpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgc2V0dGluZzogXCJ0b3BLXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2VGb3JtYXQgIT0gbnVsbCAmJiByZXNwb25zZUZvcm1hdC50eXBlICE9PSBcInRleHRcIikge1xuICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgIHR5cGU6IFwidW5zdXBwb3J0ZWQtc2V0dGluZ1wiLFxuICAgICAgICBzZXR0aW5nOiBcInJlc3BvbnNlRm9ybWF0XCIsXG4gICAgICAgIGRldGFpbHM6IFwiSlNPTiByZXNwb25zZSBmb3JtYXQgaXMgbm90IHN1cHBvcnRlZC5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHsgcHJvbXB0OiBjb21wbGV0aW9uUHJvbXB0LCBzdG9wU2VxdWVuY2VzIH0gPSBjb252ZXJ0VG9PcGVuQUlDb21wYXRpYmxlQ29tcGxldGlvblByb21wdCh7IHByb21wdCwgaW5wdXRGb3JtYXQgfSk7XG4gICAgY29uc3Qgc3RvcCA9IFsuLi5zdG9wU2VxdWVuY2VzICE9IG51bGwgPyBzdG9wU2VxdWVuY2VzIDogW10sIC4uLnVzZXJTdG9wU2VxdWVuY2VzICE9IG51bGwgPyB1c2VyU3RvcFNlcXVlbmNlcyA6IFtdXTtcbiAgICBjb25zdCBiYXNlQXJncyA9IHtcbiAgICAgIC8vIG1vZGVsIGlkOlxuICAgICAgbW9kZWw6IHRoaXMubW9kZWxJZCxcbiAgICAgIC8vIG1vZGVsIHNwZWNpZmljIHNldHRpbmdzOlxuICAgICAgZWNobzogdGhpcy5zZXR0aW5ncy5lY2hvLFxuICAgICAgbG9naXRfYmlhczogdGhpcy5zZXR0aW5ncy5sb2dpdEJpYXMsXG4gICAgICBzdWZmaXg6IHRoaXMuc2V0dGluZ3Muc3VmZml4LFxuICAgICAgdXNlcjogdGhpcy5zZXR0aW5ncy51c2VyLFxuICAgICAgLy8gc3RhbmRhcmRpemVkIHNldHRpbmdzOlxuICAgICAgbWF4X3Rva2VuczogbWF4VG9rZW5zLFxuICAgICAgdGVtcGVyYXR1cmUsXG4gICAgICB0b3BfcDogdG9wUCxcbiAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiBmcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgcHJlc2VuY2VfcGVuYWx0eTogcHJlc2VuY2VQZW5hbHR5LFxuICAgICAgc2VlZCxcbiAgICAgIC8vIHByb21wdDpcbiAgICAgIHByb21wdDogY29tcGxldGlvblByb21wdCxcbiAgICAgIC8vIHN0b3Agc2VxdWVuY2VzOlxuICAgICAgc3RvcDogc3RvcC5sZW5ndGggPiAwID8gc3RvcCA6IHZvaWQgMFxuICAgIH07XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwicmVndWxhclwiOiB7XG4gICAgICAgIGlmICgoX2EgPSBtb2RlLnRvb2xzKSA9PSBudWxsID8gdm9pZCAwIDogX2EubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yNCh7XG4gICAgICAgICAgICBmdW5jdGlvbmFsaXR5OiBcInRvb2xzXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZS50b29sQ2hvaWNlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yNCh7XG4gICAgICAgICAgICBmdW5jdGlvbmFsaXR5OiBcInRvb2xDaG9pY2VcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGFyZ3M6IGJhc2VBcmdzLCB3YXJuaW5ncyB9O1xuICAgICAgfVxuICAgICAgY2FzZSBcIm9iamVjdC1qc29uXCI6IHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yNCh7XG4gICAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJvYmplY3QtanNvbiBtb2RlXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjYXNlIFwib2JqZWN0LXRvb2xcIjoge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I0KHtcbiAgICAgICAgICBmdW5jdGlvbmFsaXR5OiBcIm9iamVjdC10b29sIG1vZGVcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IHR5cGU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgdHlwZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBhc3luYyBkb0dlbmVyYXRlKG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgeyBhcmdzLCB3YXJuaW5ncyB9ID0gdGhpcy5nZXRBcmdzKG9wdGlvbnMpO1xuICAgIGNvbnN0IHsgcmVzcG9uc2VIZWFkZXJzLCB2YWx1ZTogcmVzcG9uc2UgfSA9IGF3YWl0IHBvc3RKc29uVG9BcGkyKHtcbiAgICAgIHVybDogdGhpcy5jb25maWcudXJsKHtcbiAgICAgICAgcGF0aDogXCIvY29tcGxldGlvbnNcIixcbiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkXG4gICAgICB9KSxcbiAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzMih0aGlzLmNvbmZpZy5oZWFkZXJzKCksIG9wdGlvbnMuaGVhZGVycyksXG4gICAgICBib2R5OiBhcmdzLFxuICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiB0aGlzLmZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIyKFxuICAgICAgICBvcGVuYWlDb21wYXRpYmxlQ29tcGxldGlvblJlc3BvbnNlU2NoZW1hXG4gICAgICApLFxuICAgICAgYWJvcnRTaWduYWw6IG9wdGlvbnMuYWJvcnRTaWduYWwsXG4gICAgICBmZXRjaDogdGhpcy5jb25maWcuZmV0Y2hcbiAgICB9KTtcbiAgICBjb25zdCB7IHByb21wdDogcmF3UHJvbXB0LCAuLi5yYXdTZXR0aW5ncyB9ID0gYXJncztcbiAgICBjb25zdCBjaG9pY2UgPSByZXNwb25zZS5jaG9pY2VzWzBdO1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiBjaG9pY2UudGV4dCxcbiAgICAgIHVzYWdlOiB7XG4gICAgICAgIHByb21wdFRva2VuczogKF9iID0gKF9hID0gcmVzcG9uc2UudXNhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYS5wcm9tcHRfdG9rZW5zKSAhPSBudWxsID8gX2IgOiBOYU4sXG4gICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IChfZCA9IChfYyA9IHJlc3BvbnNlLnVzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2MuY29tcGxldGlvbl90b2tlbnMpICE9IG51bGwgPyBfZCA6IE5hTlxuICAgICAgfSxcbiAgICAgIGZpbmlzaFJlYXNvbjogbWFwT3BlbkFJQ29tcGF0aWJsZUZpbmlzaFJlYXNvbihjaG9pY2UuZmluaXNoX3JlYXNvbiksXG4gICAgICByYXdDYWxsOiB7IHJhd1Byb21wdCwgcmF3U2V0dGluZ3MgfSxcbiAgICAgIHJhd1Jlc3BvbnNlOiB7IGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyB9LFxuICAgICAgcmVzcG9uc2U6IGdldFJlc3BvbnNlTWV0YWRhdGEocmVzcG9uc2UpLFxuICAgICAgd2FybmluZ3MsXG4gICAgICByZXF1ZXN0OiB7IGJvZHk6IEpTT04uc3RyaW5naWZ5KGFyZ3MpIH1cbiAgICB9O1xuICB9XG4gIGFzeW5jIGRvU3RyZWFtKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGFyZ3MsIHdhcm5pbmdzIH0gPSB0aGlzLmdldEFyZ3Mob3B0aW9ucyk7XG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIC4uLmFyZ3MsXG4gICAgICBzdHJlYW06IHRydWVcbiAgICB9O1xuICAgIGNvbnN0IHsgcmVzcG9uc2VIZWFkZXJzLCB2YWx1ZTogcmVzcG9uc2UgfSA9IGF3YWl0IHBvc3RKc29uVG9BcGkyKHtcbiAgICAgIHVybDogdGhpcy5jb25maWcudXJsKHtcbiAgICAgICAgcGF0aDogXCIvY29tcGxldGlvbnNcIixcbiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkXG4gICAgICB9KSxcbiAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzMih0aGlzLmNvbmZpZy5oZWFkZXJzKCksIG9wdGlvbnMuaGVhZGVycyksXG4gICAgICBib2R5LFxuICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiB0aGlzLmZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyMihcbiAgICAgICAgdGhpcy5jaHVua1NjaGVtYVxuICAgICAgKSxcbiAgICAgIGFib3J0U2lnbmFsOiBvcHRpb25zLmFib3J0U2lnbmFsLFxuICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoXG4gICAgfSk7XG4gICAgY29uc3QgeyBwcm9tcHQ6IHJhd1Byb21wdCwgLi4ucmF3U2V0dGluZ3MgfSA9IGFyZ3M7XG4gICAgbGV0IGZpbmlzaFJlYXNvbiA9IFwidW5rbm93blwiO1xuICAgIGxldCB1c2FnZSA9IHtcbiAgICAgIHByb21wdFRva2VuczogTnVtYmVyLk5hTixcbiAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IE51bWJlci5OYU5cbiAgICB9O1xuICAgIGxldCBpc0ZpcnN0Q2h1bmsgPSB0cnVlO1xuICAgIHJldHVybiB7XG4gICAgICBzdHJlYW06IHJlc3BvbnNlLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGlmICghY2h1bmsuc3VjY2Vzcykge1xuICAgICAgICAgICAgICBmaW5pc2hSZWFzb24gPSBcImVycm9yXCI7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6IFwiZXJyb3JcIiwgZXJyb3I6IGNodW5rLmVycm9yIH0pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNodW5rLnZhbHVlO1xuICAgICAgICAgICAgaWYgKFwiZXJyb3JcIiBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICBmaW5pc2hSZWFzb24gPSBcImVycm9yXCI7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6IFwiZXJyb3JcIiwgZXJyb3I6IHZhbHVlLmVycm9yIH0pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNGaXJzdENodW5rKSB7XG4gICAgICAgICAgICAgIGlzRmlyc3RDaHVuayA9IGZhbHNlO1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVzcG9uc2UtbWV0YWRhdGFcIixcbiAgICAgICAgICAgICAgICAuLi5nZXRSZXNwb25zZU1ldGFkYXRhKHZhbHVlKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS51c2FnZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIHVzYWdlID0ge1xuICAgICAgICAgICAgICAgIHByb21wdFRva2VuczogdmFsdWUudXNhZ2UucHJvbXB0X3Rva2VucyxcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiB2YWx1ZS51c2FnZS5jb21wbGV0aW9uX3Rva2Vuc1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2hvaWNlID0gdmFsdWUuY2hvaWNlc1swXTtcbiAgICAgICAgICAgIGlmICgoY2hvaWNlID09IG51bGwgPyB2b2lkIDAgOiBjaG9pY2UuZmluaXNoX3JlYXNvbikgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBmaW5pc2hSZWFzb24gPSBtYXBPcGVuQUlDb21wYXRpYmxlRmluaXNoUmVhc29uKFxuICAgICAgICAgICAgICAgIGNob2ljZS5maW5pc2hfcmVhc29uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNob2ljZSA9PSBudWxsID8gdm9pZCAwIDogY2hvaWNlLnRleHQpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHQtZGVsdGFcIixcbiAgICAgICAgICAgICAgICB0ZXh0RGVsdGE6IGNob2ljZS50ZXh0XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJmaW5pc2hcIixcbiAgICAgICAgICAgICAgZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICB1c2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIHJhd0NhbGw6IHsgcmF3UHJvbXB0LCByYXdTZXR0aW5ncyB9LFxuICAgICAgcmF3UmVzcG9uc2U6IHsgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzIH0sXG4gICAgICB3YXJuaW5ncyxcbiAgICAgIHJlcXVlc3Q6IHsgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSkgfVxuICAgIH07XG4gIH1cbn07XG52YXIgb3BlbmFpQ29tcGF0aWJsZUNvbXBsZXRpb25SZXNwb25zZVNjaGVtYSA9IHozLm9iamVjdCh7XG4gIGlkOiB6My5zdHJpbmcoKS5udWxsaXNoKCksXG4gIGNyZWF0ZWQ6IHozLm51bWJlcigpLm51bGxpc2goKSxcbiAgbW9kZWw6IHozLnN0cmluZygpLm51bGxpc2goKSxcbiAgY2hvaWNlczogejMuYXJyYXkoXG4gICAgejMub2JqZWN0KHtcbiAgICAgIHRleHQ6IHozLnN0cmluZygpLFxuICAgICAgZmluaXNoX3JlYXNvbjogejMuc3RyaW5nKClcbiAgICB9KVxuICApLFxuICB1c2FnZTogejMub2JqZWN0KHtcbiAgICBwcm9tcHRfdG9rZW5zOiB6My5udW1iZXIoKSxcbiAgICBjb21wbGV0aW9uX3Rva2VuczogejMubnVtYmVyKClcbiAgfSkubnVsbGlzaCgpXG59KTtcbnZhciBjcmVhdGVPcGVuQUlDb21wYXRpYmxlQ29tcGxldGlvbkNodW5rU2NoZW1hID0gKGVycm9yU2NoZW1hKSA9PiB6My51bmlvbihbXG4gIHozLm9iamVjdCh7XG4gICAgaWQ6IHozLnN0cmluZygpLm51bGxpc2goKSxcbiAgICBjcmVhdGVkOiB6My5udW1iZXIoKS5udWxsaXNoKCksXG4gICAgbW9kZWw6IHozLnN0cmluZygpLm51bGxpc2goKSxcbiAgICBjaG9pY2VzOiB6My5hcnJheShcbiAgICAgIHozLm9iamVjdCh7XG4gICAgICAgIHRleHQ6IHozLnN0cmluZygpLFxuICAgICAgICBmaW5pc2hfcmVhc29uOiB6My5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgICAgIGluZGV4OiB6My5udW1iZXIoKVxuICAgICAgfSlcbiAgICApLFxuICAgIHVzYWdlOiB6My5vYmplY3Qoe1xuICAgICAgcHJvbXB0X3Rva2VuczogejMubnVtYmVyKCksXG4gICAgICBjb21wbGV0aW9uX3Rva2VuczogejMubnVtYmVyKClcbiAgICB9KS5udWxsaXNoKClcbiAgfSksXG4gIGVycm9yU2NoZW1hXG5dKTtcblxuLy8gc3JjL29wZW5haS1jb21wYXRpYmxlLWVtYmVkZGluZy1tb2RlbC50c1xuaW1wb3J0IHtcbiAgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvclxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHtcbiAgY29tYmluZUhlYWRlcnMgYXMgY29tYmluZUhlYWRlcnMzLFxuICBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIgYXMgY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyMyxcbiAgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlciBhcyBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyMyxcbiAgcG9zdEpzb25Ub0FwaSBhcyBwb3N0SnNvblRvQXBpM1xufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuaW1wb3J0IHsgeiBhcyB6NCB9IGZyb20gXCJ6b2RcIjtcbnZhciBPcGVuQUlDb21wYXRpYmxlRW1iZWRkaW5nTW9kZWwgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKG1vZGVsSWQsIHNldHRpbmdzLCBjb25maWcpIHtcbiAgICB0aGlzLnNwZWNpZmljYXRpb25WZXJzaW9uID0gXCJ2MVwiO1xuICAgIHRoaXMubW9kZWxJZCA9IG1vZGVsSWQ7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG4gIGdldCBwcm92aWRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcucHJvdmlkZXI7XG4gIH1cbiAgZ2V0IG1heEVtYmVkZGluZ3NQZXJDYWxsKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gdGhpcy5jb25maWcubWF4RW1iZWRkaW5nc1BlckNhbGwpICE9IG51bGwgPyBfYSA6IDIwNDg7XG4gIH1cbiAgZ2V0IHN1cHBvcnRzUGFyYWxsZWxDYWxscygpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHRoaXMuY29uZmlnLnN1cHBvcnRzUGFyYWxsZWxDYWxscykgIT0gbnVsbCA/IF9hIDogdHJ1ZTtcbiAgfVxuICBhc3luYyBkb0VtYmVkKHtcbiAgICB2YWx1ZXMsXG4gICAgaGVhZGVycyxcbiAgICBhYm9ydFNpZ25hbFxuICB9KSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gdGhpcy5tYXhFbWJlZGRpbmdzUGVyQ2FsbCkge1xuICAgICAgdGhyb3cgbmV3IFRvb01hbnlFbWJlZGRpbmdWYWx1ZXNGb3JDYWxsRXJyb3Ioe1xuICAgICAgICBwcm92aWRlcjogdGhpcy5wcm92aWRlcixcbiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkLFxuICAgICAgICBtYXhFbWJlZGRpbmdzUGVyQ2FsbDogdGhpcy5tYXhFbWJlZGRpbmdzUGVyQ2FsbCxcbiAgICAgICAgdmFsdWVzXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgeyByZXNwb25zZUhlYWRlcnMsIHZhbHVlOiByZXNwb25zZSB9ID0gYXdhaXQgcG9zdEpzb25Ub0FwaTMoe1xuICAgICAgdXJsOiB0aGlzLmNvbmZpZy51cmwoe1xuICAgICAgICBwYXRoOiBcIi9lbWJlZGRpbmdzXCIsXG4gICAgICAgIG1vZGVsSWQ6IHRoaXMubW9kZWxJZFxuICAgICAgfSksXG4gICAgICBoZWFkZXJzOiBjb21iaW5lSGVhZGVyczModGhpcy5jb25maWcuaGVhZGVycygpLCBoZWFkZXJzKSxcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgbW9kZWw6IHRoaXMubW9kZWxJZCxcbiAgICAgICAgaW5wdXQ6IHZhbHVlcyxcbiAgICAgICAgZW5jb2RpbmdfZm9ybWF0OiBcImZsb2F0XCIsXG4gICAgICAgIGRpbWVuc2lvbnM6IHRoaXMuc2V0dGluZ3MuZGltZW5zaW9ucyxcbiAgICAgICAgdXNlcjogdGhpcy5zZXR0aW5ncy51c2VyXG4gICAgICB9LFxuICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIzKFxuICAgICAgICAoX2EgPSB0aGlzLmNvbmZpZy5lcnJvclN0cnVjdHVyZSkgIT0gbnVsbCA/IF9hIDogZGVmYXVsdE9wZW5BSUNvbXBhdGlibGVFcnJvclN0cnVjdHVyZVxuICAgICAgKSxcbiAgICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIzKFxuICAgICAgICBvcGVuYWlUZXh0RW1iZWRkaW5nUmVzcG9uc2VTY2hlbWFcbiAgICAgICksXG4gICAgICBhYm9ydFNpZ25hbCxcbiAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBlbWJlZGRpbmdzOiByZXNwb25zZS5kYXRhLm1hcCgoaXRlbSkgPT4gaXRlbS5lbWJlZGRpbmcpLFxuICAgICAgdXNhZ2U6IHJlc3BvbnNlLnVzYWdlID8geyB0b2tlbnM6IHJlc3BvbnNlLnVzYWdlLnByb21wdF90b2tlbnMgfSA6IHZvaWQgMCxcbiAgICAgIHJhd1Jlc3BvbnNlOiB7IGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyB9XG4gICAgfTtcbiAgfVxufTtcbnZhciBvcGVuYWlUZXh0RW1iZWRkaW5nUmVzcG9uc2VTY2hlbWEgPSB6NC5vYmplY3Qoe1xuICBkYXRhOiB6NC5hcnJheSh6NC5vYmplY3QoeyBlbWJlZGRpbmc6IHo0LmFycmF5KHo0Lm51bWJlcigpKSB9KSksXG4gIHVzYWdlOiB6NC5vYmplY3QoeyBwcm9tcHRfdG9rZW5zOiB6NC5udW1iZXIoKSB9KS5udWxsaXNoKClcbn0pO1xuXG4vLyBzcmMvb3BlbmFpLWNvbXBhdGlibGUtcHJvdmlkZXIudHNcbmZ1bmN0aW9uIGNyZWF0ZU9wZW5BSUNvbXBhdGlibGUob3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMuYmFzZVVSTCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkJhc2UgVVJMIGlzIHJlcXVpcmVkXCIpO1xuICB9XG4gIGNvbnN0IGJhc2VVUkwgPSB3aXRob3V0VHJhaWxpbmdTbGFzaChvcHRpb25zLmJhc2VVUkwpO1xuICBpZiAoIW9wdGlvbnMubmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlByb3ZpZGVyIG5hbWUgaXMgcmVxdWlyZWRcIik7XG4gIH1cbiAgY29uc3QgcHJvdmlkZXJOYW1lID0gb3B0aW9ucy5uYW1lO1xuICBjb25zdCBnZXRIZWFkZXJzID0gKCkgPT4gKHtcbiAgICAuLi5vcHRpb25zLmFwaUtleSAmJiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtvcHRpb25zLmFwaUtleX1gIH0sXG4gICAgLi4ub3B0aW9ucy5oZWFkZXJzXG4gIH0pO1xuICBjb25zdCBnZXRDb21tb25Nb2RlbENvbmZpZyA9IChtb2RlbFR5cGUpID0+ICh7XG4gICAgcHJvdmlkZXI6IGAke3Byb3ZpZGVyTmFtZX0uJHttb2RlbFR5cGV9YCxcbiAgICB1cmw6ICh7IHBhdGggfSkgPT4gYCR7YmFzZVVSTH0ke3BhdGh9YCxcbiAgICBoZWFkZXJzOiBnZXRIZWFkZXJzLFxuICAgIGZldGNoOiBvcHRpb25zLmZldGNoXG4gIH0pO1xuICBjb25zdCBjcmVhdGVMYW5ndWFnZU1vZGVsID0gKG1vZGVsSWQsIHNldHRpbmdzID0ge30pID0+IGNyZWF0ZUNoYXRNb2RlbChtb2RlbElkLCBzZXR0aW5ncyk7XG4gIGNvbnN0IGNyZWF0ZUNoYXRNb2RlbCA9IChtb2RlbElkLCBzZXR0aW5ncyA9IHt9KSA9PiBuZXcgT3BlbkFJQ29tcGF0aWJsZUNoYXRMYW5ndWFnZU1vZGVsKG1vZGVsSWQsIHNldHRpbmdzLCB7XG4gICAgLi4uZ2V0Q29tbW9uTW9kZWxDb25maWcoXCJjaGF0XCIpLFxuICAgIGRlZmF1bHRPYmplY3RHZW5lcmF0aW9uTW9kZTogXCJ0b29sXCJcbiAgfSk7XG4gIGNvbnN0IGNyZWF0ZUNvbXBsZXRpb25Nb2RlbCA9IChtb2RlbElkLCBzZXR0aW5ncyA9IHt9KSA9PiBuZXcgT3BlbkFJQ29tcGF0aWJsZUNvbXBsZXRpb25MYW5ndWFnZU1vZGVsKFxuICAgIG1vZGVsSWQsXG4gICAgc2V0dGluZ3MsXG4gICAgZ2V0Q29tbW9uTW9kZWxDb25maWcoXCJjb21wbGV0aW9uXCIpXG4gICk7XG4gIGNvbnN0IGNyZWF0ZUVtYmVkZGluZ01vZGVsID0gKG1vZGVsSWQsIHNldHRpbmdzID0ge30pID0+IG5ldyBPcGVuQUlDb21wYXRpYmxlRW1iZWRkaW5nTW9kZWwoXG4gICAgbW9kZWxJZCxcbiAgICBzZXR0aW5ncyxcbiAgICBnZXRDb21tb25Nb2RlbENvbmZpZyhcImVtYmVkZGluZ1wiKVxuICApO1xuICBjb25zdCBwcm92aWRlciA9IChtb2RlbElkLCBzZXR0aW5ncykgPT4gY3JlYXRlTGFuZ3VhZ2VNb2RlbChtb2RlbElkLCBzZXR0aW5ncyk7XG4gIHByb3ZpZGVyLmxhbmd1YWdlTW9kZWwgPSBjcmVhdGVMYW5ndWFnZU1vZGVsO1xuICBwcm92aWRlci5jaGF0TW9kZWwgPSBjcmVhdGVDaGF0TW9kZWw7XG4gIHByb3ZpZGVyLmNvbXBsZXRpb25Nb2RlbCA9IGNyZWF0ZUNvbXBsZXRpb25Nb2RlbDtcbiAgcHJvdmlkZXIudGV4dEVtYmVkZGluZ01vZGVsID0gY3JlYXRlRW1iZWRkaW5nTW9kZWw7XG4gIHJldHVybiBwcm92aWRlcjtcbn1cbmV4cG9ydCB7XG4gIE9wZW5BSUNvbXBhdGlibGVDaGF0TGFuZ3VhZ2VNb2RlbCxcbiAgT3BlbkFJQ29tcGF0aWJsZUNvbXBsZXRpb25MYW5ndWFnZU1vZGVsLFxuICBPcGVuQUlDb21wYXRpYmxlRW1iZWRkaW5nTW9kZWwsXG4gIGNyZWF0ZU9wZW5BSUNvbXBhdGlibGVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIiwiaW1wb3J0IHR5cGUgeyBMYW5ndWFnZU1vZGVsVjEsIEVtYmVkZGluZ01vZGVsVjEgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHtcblx0T3BlbkFJQ29tcGF0aWJsZUNoYXRMYW5ndWFnZU1vZGVsLFxuXHRPcGVuQUlDb21wYXRpYmxlQ29tcGxldGlvbkxhbmd1YWdlTW9kZWwsXG5cdE9wZW5BSUNvbXBhdGlibGVFbWJlZGRpbmdNb2RlbCxcbn0gZnJvbSBcIkBhaS1zZGsvb3BlbmFpLWNvbXBhdGlibGVcIjtcbmltcG9ydCB7XG5cdHR5cGUgRmV0Y2hGdW5jdGlvbixcblx0bG9hZEFwaUtleSxcblx0d2l0aG91dFRyYWlsaW5nU2xhc2gsXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5cbmltcG9ydCB0eXBlIHtcblx0Q2hhdE1vZGVsSWQsXG5cdENoYXRTZXR0aW5ncyxcblx0RW1iZWRkaW5nTW9kZWxJZCxcblx0RW1iZWRkaW5nU2V0dGluZ3MsXG59IGZyb20gXCIuL3NldHRpbmdzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50UHJvdmlkZXJTZXR0aW5ncyB7XG5cdGFwaUtleT86IHN0cmluZztcblx0YmFzZVVSTD86IHN0cmluZztcblx0aGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cdGZldGNoPzogRmV0Y2hGdW5jdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnRQcm92aWRlciB7XG5cdC8qKlxuICBDcmVhdGVzIGEgbW9kZWwgZm9yIHRleHQgZ2VuZXJhdGlvbi5cbiAgKi9cblx0KG1vZGVsSWQ6IENoYXRNb2RlbElkLCBzZXR0aW5ncz86IENoYXRTZXR0aW5ncyk6IExhbmd1YWdlTW9kZWxWMTtcblxuXHQvKipcbiAgQ3JlYXRlcyBhIGNoYXQgbW9kZWwgZm9yIHRleHQgZ2VuZXJhdGlvbi5cbiAgKi9cblx0Y2hhdE1vZGVsKG1vZGVsSWQ6IENoYXRNb2RlbElkLCBzZXR0aW5ncz86IENoYXRTZXR0aW5ncyk6IExhbmd1YWdlTW9kZWxWMTtcblxuXHQvKipcbiAgQ3JlYXRlcyBhIGNvbXBsZXRpb24gbW9kZWwgZm9yIHRleHQgZ2VuZXJhdGlvbi5cbiAgKi9cblx0Y29tcGxldGlvbk1vZGVsKFxuXHRcdG1vZGVsSWQ6IENoYXRNb2RlbElkLFxuXHRcdHNldHRpbmdzPzogQ2hhdFNldHRpbmdzLFxuXHQpOiBMYW5ndWFnZU1vZGVsVjE7XG5cblx0LyoqXG4gIENyZWF0ZXMgYSB0ZXh0IGVtYmVkZGluZyBtb2RlbCBmb3IgdGV4dCBnZW5lcmF0aW9uLlxuICAqL1xuXHR0ZXh0RW1iZWRkaW5nTW9kZWwoXG5cdFx0bW9kZWxJZDogRW1iZWRkaW5nTW9kZWxJZCxcblx0XHRzZXR0aW5ncz86IEVtYmVkZGluZ1NldHRpbmdzLFxuXHQpOiBFbWJlZGRpbmdNb2RlbFYxPHN0cmluZz47XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gZW1iZWRkaW5nIGZvciBhIGdpdmVuIG5vdGVcblx0ICovXG5cdGNyZWF0ZUVtYmVkZGluZyhcblx0XHR0aXRsZTogc3RyaW5nLFxuXHRcdGNvbnRlbnQ6IHN0cmluZyxcblx0XHR0eXBlOiBzdHJpbmcsXG5cdFx0bWV0YWRhdGE6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG5cdFx0cmFnT3B0aW9uczogeyBuYW1lc3BhY2U6IHN0cmluZyB9LFxuXHQpOiBQcm9taXNlPHN0cmluZz47XG5cblx0LyoqXG5cdCAqIERlbGV0ZXMgYW4gZW1iZWRkaW5nIGZvciBnaXZlbiBpZHMuXG5cdCAqL1xuXHRkZWxldGVFbWJlZGRpbmcoaWRzOiBzdHJpbmdbXSk6IFByb21pc2U8c3RyaW5nPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFzc2lzdGFudChcblx0b3B0aW9uczogQXNzaXN0YW50UHJvdmlkZXJTZXR0aW5ncyA9IHt9LFxuKTogQXNzaXN0YW50UHJvdmlkZXIge1xuXHRjb25zdCBiYXNlVVJMID0gd2l0aG91dFRyYWlsaW5nU2xhc2goXG5cdFx0b3B0aW9ucy5iYXNlVVJMID8/IFwiaHR0cHM6Ly9hc3Npc3RhbnQubmljaG9sYXNncmlmZmluLndvcmtlcnMuZGV2XCIsXG5cdCk7XG5cdGNvbnN0IGdldEhlYWRlcnMgPSAoKSA9PiAoe1xuXHRcdEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtsb2FkQXBpS2V5KHtcblx0XHRcdGFwaUtleTogb3B0aW9ucy5hcGlLZXksXG5cdFx0XHRlbnZpcm9ubWVudFZhcmlhYmxlTmFtZTogXCJBU1NJU1RBTlRfQVBJX0tFWVwiLFxuXHRcdFx0ZGVzY3JpcHRpb246IFwiQXNzaXN0YW50IEFQSSBrZXlcIixcblx0XHR9KX1gLFxuXHRcdFwiWC1Vc2VyLUVtYWlsXCI6IFwib2JzaWRpYW5AbmljaG9sYXNncmlmZmluLmRldlwiLFxuXHRcdFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuXHRcdC4uLm9wdGlvbnMuaGVhZGVycyxcblx0fSk7XG5cblx0aW50ZXJmYWNlIENvbW1vbk1vZGVsQ29uZmlnIHtcblx0XHRwcm92aWRlcjogc3RyaW5nO1xuXHRcdHVybDogKHsgcGF0aCB9OiB7IHBhdGg6IHN0cmluZyB9KSA9PiBzdHJpbmc7XG5cdFx0aGVhZGVyczogKCkgPT4gUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblx0XHRmZXRjaD86IEZldGNoRnVuY3Rpb247XG5cdH1cblxuXHRjb25zdCBnZXRDb21tb25Nb2RlbENvbmZpZyA9IChcblx0XHRtb2RlbFR5cGU6IHN0cmluZyxcblx0XHRzZXR0aW5nczogQ2hhdFNldHRpbmdzID0ge30sXG5cdCk6IENvbW1vbk1vZGVsQ29uZmlnID0+ICh7XG5cdFx0cHJvdmlkZXI6IGBhc3Npc3RhbnQuJHttb2RlbFR5cGV9YCxcblx0XHR1cmw6ICh7IHBhdGggfSkgPT4gYCR7YmFzZVVSTH0ke3BhdGh9YCxcblx0XHRoZWFkZXJzOiBnZXRIZWFkZXJzLFxuXHRcdGZldGNoOiAodXJsLCBmZXRjaE9wdGlvbnMpID0+IHtcblx0XHRcdGNvbnN0IHBhcnNlZEJvZHkgPSBKU09OLnBhcnNlKGZldGNoT3B0aW9ucz8uYm9keSBhcyBzdHJpbmcpO1xuXHRcdFx0Y29uc3QgbmV3T3B0aW9ucyA9IHtcblx0XHRcdFx0Li4uZmV0Y2hPcHRpb25zLFxuXHRcdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdFx0Li4ucGFyc2VkQm9keSxcblx0XHRcdFx0XHRjaGF0X2lkOiBzZXR0aW5ncy5jaGF0SWQsXG5cdFx0XHRcdFx0dXNlUkFHOiBzZXR0aW5ncy51c2VSQUcsXG5cdFx0XHRcdFx0cmFnT3B0aW9uczogc2V0dGluZ3MucmFnT3B0aW9ucyxcblx0XHRcdFx0XHRzaG91bGRTYXZlOiBzZXR0aW5ncy5zaG91bGRTYXZlLFxuXHRcdFx0XHRcdHBsYXRmb3JtOiBcIm9ic2lkaWFuXCIsXG5cdFx0XHRcdFx0bW9kZTogXCJyZW1vdGVcIixcblx0XHRcdFx0XHRidWRnZXRDb25zdHJhaW50OiBzZXR0aW5ncy5idWRnZXRDb25zdHJhaW50LFxuXHRcdFx0XHR9KSxcblx0XHRcdH07XG5cdFx0XHRjb25zb2xlLmxvZyhcImZldGNoXCIsIHVybCwgbmV3T3B0aW9ucyk7XG5cdFx0XHRyZXR1cm4gZmV0Y2godXJsLCBuZXdPcHRpb25zKTtcblx0XHR9LFxuXHR9KTtcblxuXHRjb25zdCBjcmVhdGVDaGF0TW9kZWwgPSAoXG5cdFx0bW9kZWxJZDogQ2hhdE1vZGVsSWQsXG5cdFx0c2V0dGluZ3M6IENoYXRTZXR0aW5ncyA9IHt9LFxuXHQpID0+IHtcblx0XHRyZXR1cm4gbmV3IE9wZW5BSUNvbXBhdGlibGVDaGF0TGFuZ3VhZ2VNb2RlbChtb2RlbElkLCBzZXR0aW5ncywge1xuXHRcdFx0Li4uZ2V0Q29tbW9uTW9kZWxDb25maWcoXCJjaGF0XCIsIHNldHRpbmdzKSxcblx0XHRcdGRlZmF1bHRPYmplY3RHZW5lcmF0aW9uTW9kZTogXCJ0b29sXCIsXG5cdFx0fSk7XG5cdH07XG5cblx0Y29uc3QgY3JlYXRlQ29tcGxldGlvbk1vZGVsID0gKFxuXHRcdG1vZGVsSWQ6IENoYXRNb2RlbElkLFxuXHRcdHNldHRpbmdzOiBDaGF0U2V0dGluZ3MgPSB7fSxcblx0KSA9PlxuXHRcdG5ldyBPcGVuQUlDb21wYXRpYmxlQ29tcGxldGlvbkxhbmd1YWdlTW9kZWwoXG5cdFx0XHRtb2RlbElkLFxuXHRcdFx0c2V0dGluZ3MsXG5cdFx0XHRnZXRDb21tb25Nb2RlbENvbmZpZyhcImNvbXBsZXRpb25cIiwgc2V0dGluZ3MpLFxuXHRcdCk7XG5cblx0Y29uc3QgY3JlYXRlVGV4dEVtYmVkZGluZ01vZGVsID0gKFxuXHRcdG1vZGVsSWQ6IEVtYmVkZGluZ01vZGVsSWQsXG5cdFx0c2V0dGluZ3M6IEVtYmVkZGluZ1NldHRpbmdzID0ge30sXG5cdCkgPT5cblx0XHRuZXcgT3BlbkFJQ29tcGF0aWJsZUVtYmVkZGluZ01vZGVsKFxuXHRcdFx0bW9kZWxJZCxcblx0XHRcdHNldHRpbmdzLFxuXHRcdFx0Z2V0Q29tbW9uTW9kZWxDb25maWcoXCJlbWJlZGRpbmdcIiwgc2V0dGluZ3MpLFxuXHRcdCk7XG5cblx0Y29uc3QgY3JlYXRlRW1iZWRkaW5nID0gYXN5bmMgKFxuXHRcdHRpdGxlOiBzdHJpbmcsXG5cdFx0Y29udGVudDogc3RyaW5nLFxuXHRcdHR5cGU6IHN0cmluZyxcblx0XHRtZXRhZGF0YTogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcblx0XHRyYWdPcHRpb25zOiB7IG5hbWVzcGFjZTogc3RyaW5nIH0sXG5cdCkgPT4ge1xuXHRcdGNvbnN0IHVybCA9IGAke2Jhc2VVUkx9L2FwcHMvaW5zZXJ0LWVtYmVkZGluZ2A7XG5cdFx0Y29uc3QgaGVhZGVycyA9IGdldEhlYWRlcnMoKTtcblx0XHRjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0dGl0bGUsXG5cdFx0XHRjb250ZW50LFxuXHRcdFx0dHlwZSxcblx0XHRcdG1ldGFkYXRhLFxuXHRcdFx0cmFnT3B0aW9ucyxcblx0XHR9KVxuXG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcblx0XHRcdG1ldGhvZDogXCJQT1NUXCIsXG5cdFx0XHRoZWFkZXJzLFxuXHRcdFx0Ym9keSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBlbWJlZGRpbmc6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXHR9XG5cblx0Y29uc3QgZGVsZXRlRW1iZWRkaW5nID0gYXN5bmMgKGlkczogc3RyaW5nW10pID0+IHtcblx0XHRjb25zdCB1cmwgPSBgJHtiYXNlVVJMfS9hcHBzL2RlbGV0ZS1lbWJlZGRpbmdzYDtcblx0XHRjb25zdCBoZWFkZXJzID0gZ2V0SGVhZGVycygpO1xuXHRcdGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7IGlkcyB9KTtcblxuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG5cdFx0XHRtZXRob2Q6IFwiUE9TVFwiLFxuXHRcdFx0aGVhZGVycyxcblx0XHRcdGJvZHksXG5cdFx0fSk7XG5cblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZWxldGUgZW1iZWRkaW5nOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcblx0fVxuXG5cdGNvbnN0IHByb3ZpZGVyID0gKG1vZGVsSWQ6IENoYXRNb2RlbElkLCBzZXR0aW5ncz86IENoYXRTZXR0aW5ncykgPT5cblx0XHRjcmVhdGVDaGF0TW9kZWwobW9kZWxJZCwgc2V0dGluZ3MpO1xuXG5cdHByb3ZpZGVyLmNvbXBsZXRpb25Nb2RlbCA9IGNyZWF0ZUNvbXBsZXRpb25Nb2RlbDtcblx0cHJvdmlkZXIuY2hhdE1vZGVsID0gY3JlYXRlQ2hhdE1vZGVsO1xuXHRwcm92aWRlci50ZXh0RW1iZWRkaW5nTW9kZWwgPSBjcmVhdGVUZXh0RW1iZWRkaW5nTW9kZWw7XG5cdHByb3ZpZGVyLmNyZWF0ZUVtYmVkZGluZyA9IGNyZWF0ZUVtYmVkZGluZztcblx0cHJvdmlkZXIuZGVsZXRlRW1iZWRkaW5nID0gZGVsZXRlRW1iZWRkaW5nO1xuXG5cdHJldHVybiBwcm92aWRlciBhcyBBc3Npc3RhbnRQcm92aWRlcjtcbn1cblxuZXhwb3J0IGNvbnN0IGFzc2lzdGFudCA9IGNyZWF0ZUFzc2lzdGFudCgpO1xuIiwiaW1wb3J0IHsgTm90aWNlLCBQbHVnaW4sIFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgXCJ2aXJ0dWFsOnVuby5jc3NcIjtcbmltcG9ydCB7IGdlbmVyYXRlVGV4dCB9IGZyb20gXCJhaVwiO1xuXG5pbXBvcnQgeyBBc3Npc3RhbnRTZXR0aW5nc1RhYiB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBDaGF0TW9kYWwgfSBmcm9tIFwiLi9tb2RhbHMvY2hhdFwiO1xuaW1wb3J0IHsgU3luY1NlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlcy9zeW5jXCI7XG5pbXBvcnQgdHlwZSB7IEFzc2lzdGFudFBsdWdpblNldHRpbmdzIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL2xpYi9sb2dnZXJcIjtcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MsIFBMVUdJTl9OQU1FIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBzYWZlU3RvcmFnZSB9IGZyb20gXCIuL2xpYi9zYWZlU3RvcmFnZVwiO1xuaW1wb3J0IHsgUExVR0lOX1BSRUZJWCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgQ2hhdFZpZXcgfSBmcm9tIFwiLi92aWV3cy9jaGF0XCI7XG5pbXBvcnQgeyBzZXRHbG9iYWxMb2dnZXJDb25maWcgfSBmcm9tIFwiLi9saWIvbG9nZ2VyLWNvbmZpZ1wiO1xuaW1wb3J0IHsgVGV4dEdlbmVyYXRpb25TZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZXMvdGV4dC1nZW5lcmF0b3JcIjtcbmltcG9ydCB7IFRlbXBsYXRlTWFuYWdlciB9IGZyb20gXCIuL3NlcnZpY2VzL3RlbXBsYXRlLW1hbmFnZXJcIjtcbmltcG9ydCB7IGNyZWF0ZUFzc2lzdGFudCwgdHlwZSBBc3Npc3RhbnRQcm92aWRlciB9IGZyb20gXCIuL3NlcnZpY2VzL2FpXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFzc2lzdGFudFBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHB1YmxpYyBzZXR0aW5ncyE6IEFzc2lzdGFudFBsdWdpblNldHRpbmdzO1xuXHRwcml2YXRlIGFzc2lzdGFudCE6IEFzc2lzdGFudFByb3ZpZGVyO1xuXHRwcml2YXRlIHN5bmNTZXJ2aWNlITogU3luY1NlcnZpY2U7XG5cdHByaXZhdGUgc3luY1N0YXR1c0JhciE6IEhUTUxFbGVtZW50O1xuXHRwcml2YXRlIHN5bmNJbnRlcnZhbD86IG51bWJlcjtcblx0cHJpdmF0ZSByZWFkb25seSBsb2dnZXI6IExvZ2dlciA9IG5ldyBMb2dnZXIoKTtcblxuXHRwcml2YXRlIGdldERlY3J5cHRlZEFwaUtleShlbmNyeXB0ZWRLZXk6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0aWYgKCFlbmNyeXB0ZWRLZXkpIHJldHVybiBcIlwiO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGlmIChzYWZlU3RvcmFnZS5pc0VuY3J5cHRpb25BdmFpbGFibGUoKSkge1xuXHRcdFx0XHRyZXR1cm4gc2FmZVN0b3JhZ2UuZGVjcnlwdFN0cmluZyhCdWZmZXIuZnJvbShlbmNyeXB0ZWRLZXksIFwiYmFzZTY0XCIpKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gZGVjcnlwdCBBUEkga2V5OlwiLCB7XG5cdFx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG5cdFx0XHRcdHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0cmV0dXJuIGVuY3J5cHRlZEtleTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVNlcnZpY2VzKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGRlY3J5cHRlZEFzc2lzdGFudEFwaUtleSA9IHRoaXMuZ2V0RGVjcnlwdGVkQXBpS2V5KFxuXHRcdFx0dGhpcy5zZXR0aW5ncy5hc3Npc3RhbnRBcGlLZXksXG5cdFx0KTtcblxuXHRcdHRoaXMuYXNzaXN0YW50ID0gY3JlYXRlQXNzaXN0YW50KHtcblx0XHRcdGFwaUtleTogZGVjcnlwdGVkQXNzaXN0YW50QXBpS2V5LFxuXHRcdFx0YmFzZVVSTDogdGhpcy5zZXR0aW5ncy5hc3Npc3RhbnRBcGlVcmwsXG5cdFx0fSk7XG5cblx0XHR0aGlzLnN5bmNTZXJ2aWNlID0gbmV3IFN5bmNTZXJ2aWNlKFxuXHRcdFx0dGhpcy5hcHAsXG5cdFx0XHR0aGlzLmFzc2lzdGFudCxcblx0XHRcdHRoaXMubG9nZ2VyLFxuXHRcdFx0dGhpcy5zZXR0aW5ncy5pZ25vcmVkRm9sZGVycyxcblx0XHQpO1xuXHR9XG5cblx0cHJpdmF0ZSBzZXR1cFN5bmNJbnRlcnZhbCgpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5zeW5jSW50ZXJ2YWwpIHtcblx0XHRcdHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuc3luY0ludGVydmFsKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zeW5jRW5hYmxlZCkge1xuXHRcdFx0dGhpcy5zeW5jSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoXG5cdFx0XHRcdCgpID0+IHRoaXMuc3luY05vdGVzKCksXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MuYXV0b1N5bmNJbnRlcnZhbCAqIDYwICogMTAwMCxcblx0XHRcdCk7XG5cdFx0XHR0aGlzLnJlZ2lzdGVySW50ZXJ2YWwodGhpcy5zeW5jSW50ZXJ2YWwpO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0XHRhd2FpdCB0aGlzLmluaXRpYWxpemVTZXJ2aWNlcygpO1xuXHRcdHRoaXMubG9nZ2VyLmRlYnVnKFwiU2V0dGluZ3MgbG9hZGVkXCIpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdFx0YXdhaXQgdGhpcy5pbml0aWFsaXplU2VydmljZXMoKTtcblx0XHR0aGlzLnNldHVwU3luY0ludGVydmFsKCk7XG5cdFx0dGhpcy5sb2dnZXIuZGVidWcoXCJTZXR0aW5ncyBzYXZlZFwiKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgYWN0aXZhdGVWaWV3KCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGV4aXN0aW5nVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoUExVR0lOX1BSRUZJWCk7XG5cdFx0aWYgKGV4aXN0aW5nVmlldy5sZW5ndGggPT09IDApIHtcblx0XHRcdGNvbnN0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKTtcblx0XHRcdGlmIChsZWFmKSB7XG5cdFx0XHRcdGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHtcblx0XHRcdFx0XHR0eXBlOiBQTFVHSU5fUFJFRklYLFxuXHRcdFx0XHRcdGFjdGl2ZTogdHJ1ZSxcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShQTFVHSU5fUFJFRklYKVswXSxcblx0XHQpO1xuXHR9XG5cblx0YXN5bmMgb25sb2FkKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHRzZXRHbG9iYWxMb2dnZXJDb25maWcoe1xuXHRcdFx0bGV2ZWw6IHRoaXMuc2V0dGluZ3MubG9nTGV2ZWwsXG5cdFx0XHRzZXJ2aWNlTmFtZTogUExVR0lOX05BTUUsXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IEFzc2lzdGFudFNldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcblx0XHRcdFBMVUdJTl9QUkVGSVgsXG5cdFx0XHQobGVhZikgPT5cblx0XHRcdFx0bmV3IENoYXRWaWV3KFxuXHRcdFx0XHRcdGxlYWYsXG5cdFx0XHRcdFx0dGhpcy5hcHAsXG5cdFx0XHRcdFx0dGhpcy5hc3Npc3RhbnQsXG5cdFx0XHRcdFx0dGhpcy5sb2dnZXIsXG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncyxcblx0XHRcdFx0XHR0aGlzLnN5bmNTZXJ2aWNlLFxuXHRcdFx0XHQpLFxuXHRcdCk7XG5cblx0XHR0aGlzLnNldHVwU3luY0ludGVydmFsKCk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXG5cdFx0XHR0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLm9uKFwiZGVsZXRlZFwiLCBhc3luYyAoZmlsZSkgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgZmlsZS5leHRlbnNpb24gPT09IFwibWRcIikge1xuXHRcdFx0XHRcdFx0Y29uc3QgdmVjdG9ySWQgPSB0aGlzLnN5bmNTZXJ2aWNlLmNyZWF0ZVZlY3RvcklkKGZpbGUubmFtZSk7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFzc2lzdGFudC5kZWxldGVFbWJlZGRpbmcoW3ZlY3RvcklkXSk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IHN5bmNQYXRoID0gYC5vYnNpZGlhbi1hc3Npc3RhbnQvc3luYy8ke3ZlY3RvcklkfS5qc29uYDtcblx0XHRcdFx0XHRcdGlmIChhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmV4aXN0cyhzeW5jUGF0aCkpIHtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5yZW1vdmUoc3luY1BhdGgpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBEZWxldGVkIGZpbGUgJHtmaWxlLnBhdGh9IGZyb20gdGhlIHZlY3RvciBpbmRleGApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihcblx0XHRcdFx0XHRcdFwiRmFpbGVkIHRvIHJlbW92ZSBkZWxldGVkIGZpbGUgZnJvbSB2ZWN0b3IgaW5kZXg6XCIsXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG5cdFx0XHRcdFx0XHRcdHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShcblx0XHRcdFx0XHRcdGBGYWlsZWQgdG8gcmVtb3ZlIGRlbGV0ZWQgZmlsZSAke1xuXHRcdFx0XHRcdFx0XHRmaWxlLnBhdGhcblx0XHRcdFx0XHRcdH0gZnJvbSB0aGUgdmVjdG9yIGluZGV4OiAke1xuXHRcdFx0XHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcblx0XHRcdFx0XHRcdH1gLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdCk7XG5cblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeShhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR0aGlzLmFkZFJpYmJvbkljb24oXCJtZXNzYWdlLWNpcmNsZVwiLCBcIk9wZW4gQUkgQ2hhdFwiLCAoKSA9PlxuXHRcdFx0XHRcdHRoaXMuYWN0aXZhdGVWaWV3KCksXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0dGhpcy5zeW5jU3RhdHVzQmFyID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCk7XG5cdFx0XHRcdHRoaXMudXBkYXRlU3luY1N0YXR1cyhcIlJlYWR5XCIpO1xuXG5cdFx0XHRcdGNvbnN0IHRlbXBsYXRlTWFuYWdlciA9IG5ldyBUZW1wbGF0ZU1hbmFnZXIodGhpcy5hcHAsIHRoaXMubG9nZ2VyKTtcblx0XHRcdFx0YXdhaXQgdGVtcGxhdGVNYW5hZ2VyLmxvYWRDdXN0b21UZW1wbGF0ZXMoXG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5jdXN0b21UZW1wbGF0ZXNGb2xkZXIsXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdFx0XHRpZDogXCJzdGFydC1jaGF0XCIsXG5cdFx0XHRcdFx0bmFtZTogXCJTdGFydCBDaGF0XCIsXG5cdFx0XHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0XHRcdG5ldyBDaGF0TW9kYWwoXG5cdFx0XHRcdFx0XHRcdHRoaXMuYXBwLFxuXHRcdFx0XHRcdFx0XHR0aGlzLmFzc2lzdGFudCxcblx0XHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIsXG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MsXG5cdFx0XHRcdFx0XHRcdHRoaXMuc3luY1NlcnZpY2UsXG5cdFx0XHRcdFx0XHQpLm9wZW4oKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0XHRcdGlkOiBcInN5bmMtbm90ZXNcIixcblx0XHRcdFx0XHRuYW1lOiBcIlN5bmMgTm90ZXNcIixcblx0XHRcdFx0XHRjYWxsYmFjazogKCkgPT4gdGhpcy5zeW5jTm90ZXMoKSxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y29uc3QgdGV4dEdlbmVyYXRvciA9IG5ldyBUZXh0R2VuZXJhdGlvblNlcnZpY2UoXG5cdFx0XHRcdFx0dGhpcy5hcHAsXG5cdFx0XHRcdFx0dGhpcy5hc3Npc3RhbnQsXG5cdFx0XHRcdFx0dGhpcy5sb2dnZXIsXG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncyxcblx0XHRcdFx0XHR0ZW1wbGF0ZU1hbmFnZXIsXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdFx0XHRpZDogXCJjb250aW51ZS13cml0aW5nXCIsXG5cdFx0XHRcdFx0bmFtZTogXCJDb250aW51ZSBXcml0aW5nXCIsXG5cdFx0XHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IpID0+IHtcblx0XHRcdFx0XHRcdHRleHRHZW5lcmF0b3IuZ2VuZXJhdGVJbkVkaXRvcihlZGl0b3IsIHtcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGVOYW1lOiBcImNvbnRpbnVlXCIsXG5cdFx0XHRcdFx0XHRcdGluc2VydEF0Q3Vyc29yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRhZGROZXdsaW5lOiB0cnVlLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdFx0XHRpZDogXCJzdW1tYXJpc2Utc2VsZWN0aW9uXCIsXG5cdFx0XHRcdFx0bmFtZTogXCJTdW1tYXJpc2UgU2VsZWN0aW9uXCIsXG5cdFx0XHRcdFx0ZWRpdG9yQ2hlY2tDYWxsYmFjazogKGNoZWNraW5nLCBlZGl0b3IpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IGhhc1NlbGVjdGlvbiA9IGVkaXRvci5zb21ldGhpbmdTZWxlY3RlZCgpO1xuXHRcdFx0XHRcdFx0aWYgKGNoZWNraW5nKSByZXR1cm4gaGFzU2VsZWN0aW9uO1xuXG5cdFx0XHRcdFx0XHR0ZXh0R2VuZXJhdG9yLmdlbmVyYXRlSW5FZGl0b3IoZWRpdG9yLCB7XG5cdFx0XHRcdFx0XHRcdHRlbXBsYXRlTmFtZTogXCJzdW1tYXJpc2VcIixcblx0XHRcdFx0XHRcdFx0cmVwbGFjZVNlbGVjdGlvbjogdHJ1ZSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRcdFx0aWQ6IFwiZXhwYW5kLXNlbGVjdGlvblwiLFxuXHRcdFx0XHRcdG5hbWU6IFwiRXhwYW5kIFNlbGVjdGlvblwiLFxuXHRcdFx0XHRcdGVkaXRvckNoZWNrQ2FsbGJhY2s6IChjaGVja2luZywgZWRpdG9yKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBoYXNTZWxlY3Rpb24gPSBlZGl0b3Iuc29tZXRoaW5nU2VsZWN0ZWQoKTtcblx0XHRcdFx0XHRcdGlmIChjaGVja2luZykgcmV0dXJuIGhhc1NlbGVjdGlvbjtcblxuXHRcdFx0XHRcdFx0dGV4dEdlbmVyYXRvci5nZW5lcmF0ZUluRWRpdG9yKGVkaXRvciwge1xuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZU5hbWU6IFwiZXhwYW5kXCIsXG5cdFx0XHRcdFx0XHRcdGluc2VydEF0Q3Vyc29yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRhZGROZXdsaW5lOiB0cnVlLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdFx0XHRpZDogXCJyZXdyaXRlLXNlbGVjdGlvblwiLFxuXHRcdFx0XHRcdG5hbWU6IFwiUmV3cml0ZSBTZWxlY3Rpb25cIixcblx0XHRcdFx0XHRlZGl0b3JDaGVja0NhbGxiYWNrOiAoY2hlY2tpbmcsIGVkaXRvcikgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgaGFzU2VsZWN0aW9uID0gZWRpdG9yLnNvbWV0aGluZ1NlbGVjdGVkKCk7XG5cdFx0XHRcdFx0XHRpZiAoY2hlY2tpbmcpIHJldHVybiBoYXNTZWxlY3Rpb247XG5cblx0XHRcdFx0XHRcdHRleHRHZW5lcmF0b3IuZ2VuZXJhdGVJbkVkaXRvcihlZGl0b3IsIHtcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGVOYW1lOiBcInJld3JpdGVcIixcblx0XHRcdFx0XHRcdFx0cmVwbGFjZVNlbGVjdGlvbjogdHJ1ZSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRcdFx0aWQ6IFwic2ltcGxpZnktc2VsZWN0aW9uXCIsXG5cdFx0XHRcdFx0bmFtZTogXCJTaW1wbGlmeSBTZWxlY3Rpb25cIixcblx0XHRcdFx0XHRlZGl0b3JDaGVja0NhbGxiYWNrOiAoY2hlY2tpbmcsIGVkaXRvcikgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgaGFzU2VsZWN0aW9uID0gZWRpdG9yLnNvbWV0aGluZ1NlbGVjdGVkKCk7XG5cdFx0XHRcdFx0XHRpZiAoY2hlY2tpbmcpIHJldHVybiBoYXNTZWxlY3Rpb247XG5cblx0XHRcdFx0XHRcdHRleHRHZW5lcmF0b3IuZ2VuZXJhdGVJbkVkaXRvcihlZGl0b3IsIHtcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGVOYW1lOiBcInNpbXBsaWZ5XCIsXG5cdFx0XHRcdFx0XHRcdHJlcGxhY2VTZWxlY3Rpb246IHRydWUsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0XHRcdGlkOiBcInN1Z2dlc3QtdGFnc1wiLFxuXHRcdFx0XHRcdG5hbWU6IFwiU3VnZ2VzdCBUYWdzXCIsXG5cdFx0XHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IpID0+IHtcblx0XHRcdFx0XHRcdHRleHRHZW5lcmF0b3IuZ2VuZXJhdGVJbkVkaXRvcihlZGl0b3IsIHtcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGVOYW1lOiBcInN1Z2dlc3QtdGFnc1wiLFxuXHRcdFx0XHRcdFx0XHRyZXBsYWNlU2VsZWN0aW9uOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0YWRkTmV3bGluZTogdHJ1ZSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRcdFx0aWQ6IFwiZ2VuZXJhdGUtdGl0bGVcIixcblx0XHRcdFx0XHRuYW1lOiBcIkdlbmVyYXRlIFRpdGxlXCIsXG5cdFx0XHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IGFzeW5jIChlZGl0b3IpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuXHRcdFx0XHRcdFx0aWYgKCFmaWxlKSByZXR1cm47XG5cblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGNvbnRlbnQgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRcdFx0XHRjb25zdCB0ZW1wbGF0ZSA9IHRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShcImdlbmVyYXRlLXRpdGxlXCIpO1xuXHRcdFx0XHRcdFx0XHRpZiAoIXRlbXBsYXRlKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdGUgdGl0bGUgdGVtcGxhdGUgbm90IGZvdW5kXCIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgeyB0ZXh0IH0gPSBhd2FpdCBnZW5lcmF0ZVRleHQoe1xuXHRcdFx0XHRcdFx0XHRcdG1vZGVsOiB0aGlzLmFzc2lzdGFudCh0aGlzLnNldHRpbmdzLm1vZGVsSWQpLFxuXHRcdFx0XHRcdFx0XHRcdHByb21wdDogYXdhaXQgdGVtcGxhdGVNYW5hZ2VyLmFwcGx5VGVtcGxhdGUodGVtcGxhdGUsIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRleHQ6IGNvbnRlbnQsXG5cdFx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRcdFx0bWF4UmV0cmllczogMyxcblx0XHRcdFx0XHRcdFx0XHRtYXhUb2tlbnM6IHRoaXMuc2V0dGluZ3MubWF4VG9rZW5zLFxuXHRcdFx0XHRcdFx0XHRcdHRlbXBlcmF0dXJlOiB0aGlzLnNldHRpbmdzLnRlbXBlcmF0dXJlLFxuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRpZiAodHlwZW9mIHRleHQgIT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0ZWQgdGl0bGUgaXMgbm90IGEgc3RyaW5nXCIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0Y29uc3Qgc2FuaXRpemVkVGl0bGUgPSB0ZXh0XG5cdFx0XHRcdFx0XHRcdFx0LnJlcGxhY2UoL14jXFxzKy8sIFwiXCIpXG5cdFx0XHRcdFx0XHRcdFx0LnJlcGxhY2UoL1tcXC9cXFxcOio/XCI8PnxdL2csIFwiXCIpXG5cdFx0XHRcdFx0XHRcdFx0LnJlcGxhY2UoL1xccysvZywgXCItXCIpXG5cdFx0XHRcdFx0XHRcdFx0LnRyaW0oKVxuXHRcdFx0XHRcdFx0XHRcdC50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IG5ld1BhdGggPSBmaWxlLnBhdGgucmVwbGFjZShcblx0XHRcdFx0XHRcdFx0XHRmaWxlLm5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0YCR7c2FuaXRpemVkVGl0bGV9LiR7ZmlsZS5leHRlbnNpb259YCxcblx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC5maWxlTWFuYWdlci5yZW5hbWVGaWxlKGZpbGUsIG5ld1BhdGgpO1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGaWxlIHJlbmFtZWQgdG86ICR7c2FuaXRpemVkVGl0bGV9YCk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSB0aXRsZSBhbmQgcmVuYW1lIGZpbGU6XCIsIHtcblx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0XHRcdFx0XHRcdHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKFwiRmFpbGVkIHRvIGdlbmVyYXRlIHRpdGxlIGFuZCByZW5hbWUgZmlsZVwiKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0XHRcdGlkOiBcImdlbmVyYXRlLXRleHQtd2l0aC12YXJpYWJsZXNcIixcblx0XHRcdFx0XHRuYW1lOiBcIkdlbmVyYXRlIFRleHQgV2l0aCBWYXJpYWJsZXNcIixcblx0XHRcdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcikgPT4ge1xuXHRcdFx0XHRcdFx0dGV4dEdlbmVyYXRvci5nZW5lcmF0ZVdpdGhNb2RhbChlZGl0b3IsIFwiZ2VuZXJhdGUtdGV4dFwiLCB7XG5cdFx0XHRcdFx0XHRcdGFkZE5ld2xpbmU6IHRydWUsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0XHRcdGlkOiBcImJyYWluc3Rvcm1cIixcblx0XHRcdFx0XHRuYW1lOiBcIkJyYWluc3Rvcm1cIixcblx0XHRcdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcikgPT4ge1xuXHRcdFx0XHRcdFx0dGV4dEdlbmVyYXRvci5nZW5lcmF0ZUluRWRpdG9yKGVkaXRvciwge1xuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZU5hbWU6IFwiYnJhaW5zdG9ybVwiLFxuXHRcdFx0XHRcdFx0XHRyZXBsYWNlU2VsZWN0aW9uOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0YWRkTmV3bGluZTogdHJ1ZSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGNvbnN0IG5vbkRlZmF1bHRUZW1wbGF0ZXMgPSBBcnJheS5mcm9tKFxuXHRcdFx0XHRcdHRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZXMoKSxcblx0XHRcdFx0KS5maWx0ZXIoKFtfLCB0ZW1wbGF0ZV0pID0+ICF0ZW1wbGF0ZS5kZWZhdWx0KTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IFtuYW1lLCB0ZW1wbGF0ZV0gb2Ygbm9uRGVmYXVsdFRlbXBsYXRlcykge1xuXHRcdFx0XHRcdGNvbnN0IGNvbW1hbmRJZCA9IGB0ZW1wbGF0ZS0ke25hbWV9YDtcblxuXHRcdFx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRcdFx0XHRpZDogY29tbWFuZElkLFxuXHRcdFx0XHRcdFx0bmFtZTogdGVtcGxhdGUuZGVzY3JpcHRpb24gfHwgYEV4ZWN1dGUgdGVtcGxhdGU6ICR7dGVtcGxhdGUubmFtZX1gLFxuXHRcdFx0XHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKHRlbXBsYXRlLnZhcmlhYmxlcz8ubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGV4dEdlbmVyYXRvci5nZW5lcmF0ZVdpdGhNb2RhbChlZGl0b3IsIHRlbXBsYXRlLm5hbWUsIHtcblx0XHRcdFx0XHRcdFx0XHRcdGFkZE5ld2xpbmU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGV4dEdlbmVyYXRvci5nZW5lcmF0ZUluRWRpdG9yKGVkaXRvciwge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVOYW1lOiB0ZW1wbGF0ZS5uYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0cmVwbGFjZVNlbGVjdGlvbjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0XHRhZGROZXdsaW5lOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoXCJsb2FkZWRcIik7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBsb2FkIGNvbW1hbmRzXCIsIHtcblx0XHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdG9udW5sb2FkKCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLnN5bmNJbnRlcnZhbCkge1xuXHRcdFx0d2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5zeW5jSW50ZXJ2YWwpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5sb2dnZXIpIHtcblx0XHRcdHRoaXMubG9nZ2VyLmRlc3Ryb3koKTtcblx0XHR9XG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLmRldGFjaExlYXZlc09mVHlwZShQTFVHSU5fUFJFRklYKTtcblxuXHRcdHRoaXMubG9nZ2VyLmRlYnVnKFwidW5sb2FkZWRcIik7XG5cdH1cblxuXHRwcml2YXRlIHVwZGF0ZVN5bmNTdGF0dXMoc3RhdHVzOiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLnN5bmNTdGF0dXNCYXIuc2V0VGV4dChgQUkgU3luYzogJHtzdGF0dXN9YCk7XG5cdFx0dGhpcy5sb2dnZXIuZGVidWcoXCJTeW5jIHN0YXR1cyB1cGRhdGVkXCIsIHsgc3RhdHVzIH0pO1xuXHR9XG5cblx0YXN5bmMgc3luY05vdGVzKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN5bmNpbmcgbm90ZXNcIik7XG5cdFx0XHR0aGlzLnVwZGF0ZVN5bmNTdGF0dXMoXCJJbiBQcm9ncmVzcy4uLlwiKTtcblxuXHRcdFx0aWYgKCF0aGlzLnN5bmNTZXJ2aWNlKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlN5bmMgc2VydmljZSBub3QgaW5pdGlhbGl6ZWRcIik7XG5cdFx0XHR9XG5cblx0XHRcdGF3YWl0IHRoaXMuc3luY1NlcnZpY2Uuc3luYygpO1xuXG5cdFx0XHR0aGlzLnNldHRpbmdzLmxhc3RTeW5jVGltZSA9IERhdGUubm93KCk7XG5cdFx0XHRhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuXG5cdFx0XHRjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpO1xuXHRcdFx0dGhpcy51cGRhdGVTeW5jU3RhdHVzKGBDb21wbGV0ZSAoJHt0aW1lc3RhbXB9KWApO1xuXG5cdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN5bmMgY29tcGxldGVcIiwgeyB0aW1lc3RhbXAgfSk7XG5cdFx0fSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKFwiU3luYyBmYWlsZWRcIiwge1xuXHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLnVwZGF0ZVN5bmNTdGF0dXMoXCJGYWlsZWRcIik7XG5cdFx0XHRuZXcgTm90aWNlKFxuXHRcdFx0XHRgU3luYyBmYWlsZWQ6ICR7XG5cdFx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG5cdFx0XHRcdH1gLFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cbn1cbiJdLCJuYW1lcyI6WyJtYXJrZXIiLCJzeW1ib2wiLCJfYSIsIl9BSVNES0Vycm9yIiwibmFtZTE0IiwibWVzc2FnZSIsImNhdXNlIiwiZXJyb3IiLCJtYXJrZXIxNSIsIm1hcmtlclN5bWJvbCIsIkFJU0RLRXJyb3IiLCJuYW1lIiwibWFya2VyMiIsInN5bWJvbDIiLCJfYTIiLCJBUElDYWxsRXJyb3IiLCJ1cmwiLCJyZXF1ZXN0Qm9keVZhbHVlcyIsInN0YXR1c0NvZGUiLCJyZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZUJvZHkiLCJpc1JldHJ5YWJsZSIsImRhdGEiLCJuYW1lMiIsIm1hcmtlcjMiLCJzeW1ib2wzIiwiX2EzIiwiRW1wdHlSZXNwb25zZUJvZHlFcnJvciIsImdldEVycm9yTWVzc2FnZSIsIm5hbWUzIiwibWFya2VyNCIsInN5bWJvbDQiLCJfYTQiLCJJbnZhbGlkQXJndW1lbnRFcnJvciIsImFyZ3VtZW50IiwibmFtZTQiLCJtYXJrZXI1Iiwic3ltYm9sNSIsIl9hNSIsIkludmFsaWRQcm9tcHRFcnJvciIsInByb21wdCIsIm5hbWU1IiwibWFya2VyNiIsInN5bWJvbDYiLCJfYTYiLCJJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3IiLCJuYW1lNiIsIm1hcmtlcjciLCJzeW1ib2w3IiwiX2E3IiwiSlNPTlBhcnNlRXJyb3IiLCJ0ZXh0IiwibmFtZTciLCJtYXJrZXI4Iiwic3ltYm9sOCIsIl9hOCIsIkxvYWRBUElLZXlFcnJvciIsIm5hbWUxMSIsIm1hcmtlcjEyIiwic3ltYm9sMTIiLCJfYTEyIiwiVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvciIsIm9wdGlvbnMiLCJuYW1lMTIiLCJtYXJrZXIxMyIsInN5bWJvbDEzIiwiX2ExMyIsIl9UeXBlVmFsaWRhdGlvbkVycm9yIiwidmFsdWUiLCJUeXBlVmFsaWRhdGlvbkVycm9yIiwibmFtZTEzIiwibWFya2VyMTQiLCJzeW1ib2wxNCIsIl9hMTQiLCJVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciIsImZ1bmN0aW9uYWxpdHkiLCJjdXN0b21BbHBoYWJldCIsImFscGhhYmV0IiwiZGVmYXVsdFNpemUiLCJzaXplIiwiaWQiLCJpIiwiaGFzQnVmZmVyIiwic3VzcGVjdFByb3RvUngiLCJzdXNwZWN0Q29uc3RydWN0b3JSeCIsIl9wYXJzZSIsInJldml2ZXIiLCJvYmoiLCJwcm90b0FjdGlvbiIsImNvbnN0cnVjdG9yQWN0aW9uIiwiZmlsdGVyIiwic2FmZSIsIm5leHQiLCJub2RlcyIsIm5vZGUiLCJrZXkiLCJwYXJzZSIsInN0YWNrVHJhY2VMaW1pdCIsInNhZmVQYXJzZSIsInNlY3VyZUpzb25QYXJzZU1vZHVsZSIsIl9fZGVmUHJvcCIsIl9fZGVmTm9ybWFsUHJvcCIsIl9fcHVibGljRmllbGQiLCJQYXJzZUVycm9yIiwibm9vcCIsIl9hcmciLCJjcmVhdGVQYXJzZXIiLCJjYWxsYmFja3MiLCJvbkV2ZW50Iiwib25FcnJvciIsIm9uUmV0cnkiLCJvbkNvbW1lbnQiLCJpbmNvbXBsZXRlTGluZSIsImlzRmlyc3RDaHVuayIsImV2ZW50VHlwZSIsImZlZWQiLCJuZXdDaHVuayIsImNodW5rIiwiY29tcGxldGUiLCJpbmNvbXBsZXRlIiwic3BsaXRMaW5lcyIsImxpbmUiLCJwYXJzZUxpbmUiLCJkaXNwYXRjaEV2ZW50IiwiZmllbGRTZXBhcmF0b3JJbmRleCIsImZpZWxkIiwib2Zmc2V0IiwicHJvY2Vzc0ZpZWxkIiwicmVzZXQiLCJsaW5lcyIsInRvdGFsTGVuZ3RoIiwiY2hhciIsIkV2ZW50U291cmNlUGFyc2VyU3RyZWFtIiwicGFyc2VyIiwiY29udHJvbGxlciIsImV2ZW50IiwiY29tYmluZUhlYWRlcnMiLCJoZWFkZXJzIiwiY29tYmluZWRIZWFkZXJzIiwiY3VycmVudEhlYWRlcnMiLCJjb252ZXJ0QXN5bmNJdGVyYXRvclRvUmVhZGFibGVTdHJlYW0iLCJpdGVyYXRvciIsImRvbmUiLCJleHRyYWN0UmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2UiLCJjcmVhdGVJZEdlbmVyYXRvciIsInByZWZpeCIsInNlcGFyYXRvciIsImdlbmVyYXRvciIsImdlbmVyYXRlSWQiLCJpc0Fib3J0RXJyb3IiLCJsb2FkQXBpS2V5IiwiYXBpS2V5IiwiZW52aXJvbm1lbnRWYXJpYWJsZU5hbWUiLCJhcGlLZXlQYXJhbWV0ZXJOYW1lIiwiZGVzY3JpcHRpb24iLCJ2YWxpZGF0b3JTeW1ib2wiLCJ2YWxpZGF0b3IiLCJ2YWxpZGF0ZSIsImlzVmFsaWRhdG9yIiwiYXNWYWxpZGF0b3IiLCJ6b2RWYWxpZGF0b3IiLCJ6b2RTY2hlbWEiLCJyZXN1bHQiLCJ2YWxpZGF0ZVR5cGVzIiwiaW5wdXRTY2hlbWEiLCJzYWZlVmFsaWRhdGVUeXBlcyIsInNjaGVtYSIsInZhbGlkYXRvcjIiLCJwYXJzZUpTT04iLCJTZWN1cmVKU09OIiwiVHlwZVZhbGlkYXRpb25FcnJvcjIiLCJzYWZlUGFyc2VKU09OIiwiaXNQYXJzYWJsZUpzb24iLCJpbnB1dCIsInJlbW92ZVVuZGVmaW5lZEVudHJpZXMiLCJyZWNvcmQiLCJfa2V5IiwiZ2V0T3JpZ2luYWxGZXRjaCIsInBvc3RKc29uVG9BcGkiLCJib2R5IiwiZmFpbGVkUmVzcG9uc2VIYW5kbGVyIiwic3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlciIsImFib3J0U2lnbmFsIiwiZmV0Y2giLCJwb3N0VG9BcGkiLCJlcnJvckluZm9ybWF0aW9uIiwiY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyIiwiZXJyb3JTY2hlbWEiLCJlcnJvclRvTWVzc2FnZSIsIkFQSUNhbGxFcnJvcjIiLCJwYXJzZWRFcnJvciIsImNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyIiwiY2h1bmtTY2hlbWEiLCJjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyIiwicmVzcG9uc2VTY2hlbWEiLCJwYXJzZWRSZXN1bHQiLCJidG9hIiwiYXRvYiIsImNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkiLCJiYXNlNjRTdHJpbmciLCJiYXNlNjRVcmwiLCJsYXRpbjFzdHJpbmciLCJieXRlIiwiY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NCIsImFycmF5Iiwid2l0aG91dFRyYWlsaW5nU2xhc2giLCJpZ25vcmVPdmVycmlkZSIsImRlZmF1bHRPcHRpb25zIiwiZ2V0RGVmYXVsdE9wdGlvbnMiLCJnZXRSZWZzIiwiX29wdGlvbnMiLCJjdXJyZW50UGF0aCIsImRlZiIsImFkZEVycm9yTWVzc2FnZSIsInJlcyIsImVycm9yTWVzc2FnZSIsInJlZnMiLCJzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIiwidXRpbCIsInZhbCIsImFzc2VydElzIiwiYXNzZXJ0TmV2ZXIiLCJfeCIsIml0ZW1zIiwiaXRlbSIsInZhbGlkS2V5cyIsImsiLCJmaWx0ZXJlZCIsImUiLCJvYmplY3QiLCJrZXlzIiwiYXJyIiwiY2hlY2tlciIsImpvaW5WYWx1ZXMiLCJfIiwib2JqZWN0VXRpbCIsImZpcnN0Iiwic2Vjb25kIiwiWm9kUGFyc2VkVHlwZSIsImdldFBhcnNlZFR5cGUiLCJab2RJc3N1ZUNvZGUiLCJxdW90ZWxlc3NKc29uIiwiWm9kRXJyb3IiLCJpc3N1ZXMiLCJzdWIiLCJzdWJzIiwiYWN0dWFsUHJvdG8iLCJfbWFwcGVyIiwibWFwcGVyIiwiaXNzdWUiLCJmaWVsZEVycm9ycyIsInByb2Nlc3NFcnJvciIsImN1cnIiLCJlbCIsImZvcm1FcnJvcnMiLCJlcnJvck1hcCIsIl9jdHgiLCJvdmVycmlkZUVycm9yTWFwIiwic2V0RXJyb3JNYXAiLCJtYXAiLCJnZXRFcnJvck1hcCIsIm1ha2VJc3N1ZSIsInBhcmFtcyIsInBhdGgiLCJlcnJvck1hcHMiLCJpc3N1ZURhdGEiLCJmdWxsUGF0aCIsImZ1bGxJc3N1ZSIsIm1hcHMiLCJtIiwiRU1QVFlfUEFUSCIsImFkZElzc3VlVG9Db250ZXh0IiwiY3R4Iiwib3ZlcnJpZGVNYXAiLCJ4IiwiUGFyc2VTdGF0dXMiLCJzdGF0dXMiLCJyZXN1bHRzIiwiYXJyYXlWYWx1ZSIsIklOVkFMSUQiLCJwYWlycyIsInN5bmNQYWlycyIsInBhaXIiLCJmaW5hbE9iamVjdCIsIkRJUlRZIiwiT0siLCJpc0Fib3J0ZWQiLCJpc0RpcnR5IiwiaXNWYWxpZCIsImlzQXN5bmMiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJzdGF0ZSIsImtpbmQiLCJmIiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsImVycm9yVXRpbCIsIl9ab2RFbnVtX2NhY2hlIiwiX1pvZE5hdGl2ZUVudW1fY2FjaGUiLCJQYXJzZUlucHV0TGF6eVBhdGgiLCJwYXJlbnQiLCJoYW5kbGVSZXN1bHQiLCJwcm9jZXNzQ3JlYXRlUGFyYW1zIiwiaW52YWxpZF90eXBlX2Vycm9yIiwicmVxdWlyZWRfZXJyb3IiLCJpc3MiLCJfYiIsIlpvZFR5cGUiLCJlcnIiLCJtYXliZUFzeW5jUmVzdWx0IiwiY2hlY2siLCJnZXRJc3N1ZVByb3BlcnRpZXMiLCJzZXRFcnJvciIsInJlZmluZW1lbnREYXRhIiwicmVmaW5lbWVudCIsIlpvZEVmZmVjdHMiLCJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCJab2RPcHRpb25hbCIsIlpvZE51bGxhYmxlIiwiWm9kQXJyYXkiLCJab2RQcm9taXNlIiwib3B0aW9uIiwiWm9kVW5pb24iLCJpbmNvbWluZyIsIlpvZEludGVyc2VjdGlvbiIsInRyYW5zZm9ybSIsImRlZmF1bHRWYWx1ZUZ1bmMiLCJab2REZWZhdWx0IiwiWm9kQnJhbmRlZCIsImNhdGNoVmFsdWVGdW5jIiwiWm9kQ2F0Y2giLCJUaGlzIiwidGFyZ2V0IiwiWm9kUGlwZWxpbmUiLCJab2RSZWFkb25seSIsImN1aWRSZWdleCIsImN1aWQyUmVnZXgiLCJ1bGlkUmVnZXgiLCJ1dWlkUmVnZXgiLCJuYW5vaWRSZWdleCIsImp3dFJlZ2V4IiwiZHVyYXRpb25SZWdleCIsImVtYWlsUmVnZXgiLCJfZW1vamlSZWdleCIsImVtb2ppUmVnZXgiLCJpcHY0UmVnZXgiLCJpcHY0Q2lkclJlZ2V4IiwiaXB2NlJlZ2V4IiwiaXB2NkNpZHJSZWdleCIsImJhc2U2NFJlZ2V4IiwiYmFzZTY0dXJsUmVnZXgiLCJkYXRlUmVnZXhTb3VyY2UiLCJkYXRlUmVnZXgiLCJ0aW1lUmVnZXhTb3VyY2UiLCJhcmdzIiwicmVnZXgiLCJ0aW1lUmVnZXgiLCJkYXRldGltZVJlZ2V4Iiwib3B0cyIsImlzVmFsaWRJUCIsImlwIiwidmVyc2lvbiIsImlzVmFsaWRKV1QiLCJqd3QiLCJhbGciLCJoZWFkZXIiLCJiYXNlNjQiLCJkZWNvZGVkIiwiaXNWYWxpZENpZHIiLCJab2RTdHJpbmciLCJ0b29CaWciLCJ0b29TbWFsbCIsInZhbGlkYXRpb24iLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJsZW4iLCJjaCIsIm1pbiIsIm1heCIsImZsb2F0U2FmZVJlbWFpbmRlciIsInN0ZXAiLCJ2YWxEZWNDb3VudCIsInN0ZXBEZWNDb3VudCIsImRlY0NvdW50IiwidmFsSW50Iiwic3RlcEludCIsIlpvZE51bWJlciIsImluY2x1c2l2ZSIsIlpvZEJpZ0ludCIsIlpvZEJvb2xlYW4iLCJab2REYXRlIiwibWluRGF0ZSIsIm1heERhdGUiLCJab2RTeW1ib2wiLCJab2RVbmRlZmluZWQiLCJab2ROdWxsIiwiWm9kQW55IiwiWm9kVW5rbm93biIsIlpvZE5ldmVyIiwiWm9kVm9pZCIsImRlZXBQYXJ0aWFsaWZ5IiwiWm9kT2JqZWN0IiwibmV3U2hhcGUiLCJmaWVsZFNjaGVtYSIsIlpvZFR1cGxlIiwic2hhcGUiLCJzaGFwZUtleXMiLCJleHRyYUtleXMiLCJrZXlWYWxpZGF0b3IiLCJ1bmtub3duS2V5cyIsImNhdGNoYWxsIiwiX2MiLCJfZCIsImRlZmF1bHRFcnJvciIsImF1Z21lbnRhdGlvbiIsIm1lcmdpbmciLCJpbmRleCIsIm1hc2siLCJuZXdGaWVsZCIsImNyZWF0ZVpvZEVudW0iLCJoYW5kbGVSZXN1bHRzIiwidW5pb25FcnJvcnMiLCJjaGlsZEN0eCIsImRpcnR5IiwidHlwZXMiLCJnZXREaXNjcmltaW5hdG9yIiwidHlwZSIsIlpvZExhenkiLCJab2RMaXRlcmFsIiwiWm9kRW51bSIsIlpvZE5hdGl2ZUVudW0iLCJab2REaXNjcmltaW5hdGVkVW5pb24iLCJkaXNjcmltaW5hdG9yIiwiZGlzY3JpbWluYXRvclZhbHVlIiwib3B0aW9uc01hcCIsImRpc2NyaW1pbmF0b3JWYWx1ZXMiLCJtZXJnZVZhbHVlcyIsImEiLCJiIiwiYVR5cGUiLCJiVHlwZSIsImJLZXlzIiwic2hhcmVkS2V5cyIsIm5ld09iaiIsInNoYXJlZFZhbHVlIiwibmV3QXJyYXkiLCJpdGVtQSIsIml0ZW1CIiwiaGFuZGxlUGFyc2VkIiwicGFyc2VkTGVmdCIsInBhcnNlZFJpZ2h0IiwibWVyZ2VkIiwibGVmdCIsInJpZ2h0IiwiaXRlbUluZGV4IiwicmVzdCIsInNjaGVtYXMiLCJab2RSZWNvcmQiLCJrZXlUeXBlIiwidmFsdWVUeXBlIiwidGhpcmQiLCJab2RNYXAiLCJmaW5hbE1hcCIsIlpvZFNldCIsImZpbmFsaXplU2V0IiwiZWxlbWVudHMiLCJwYXJzZWRTZXQiLCJlbGVtZW50IiwibWluU2l6ZSIsIm1heFNpemUiLCJab2RGdW5jdGlvbiIsIm1ha2VBcmdzSXNzdWUiLCJtYWtlUmV0dXJuc0lzc3VlIiwicmV0dXJucyIsImZuIiwibWUiLCJwYXJzZWRBcmdzIiwicGFyc2VkUmV0dXJucyIsInJldHVyblR5cGUiLCJmdW5jIiwiZ2V0dGVyIiwidmFsdWVzIiwiZXhwZWN0ZWRWYWx1ZXMiLCJlbnVtVmFsdWVzIiwibmV3RGVmIiwib3B0IiwibmF0aXZlRW51bVZhbHVlcyIsInByb21pc2lmaWVkIiwiZWZmZWN0IiwiY2hlY2tDdHgiLCJhcmciLCJwcm9jZXNzZWQiLCJleGVjdXRlUmVmaW5lbWVudCIsImFjYyIsImlubmVyIiwiYmFzZSIsInByZXByb2Nlc3MiLCJuZXdDdHgiLCJab2ROYU4iLCJCUkFORCIsImluUmVzdWx0IiwiZnJlZXplIiwiY3VzdG9tIiwiZmF0YWwiLCJwIiwiX2ZhdGFsIiwicDIiLCJsYXRlIiwiaW5zdGFuY2VPZlR5cGUiLCJjbHMiLCJzdHJpbmdUeXBlIiwibnVtYmVyVHlwZSIsIm5hblR5cGUiLCJiaWdJbnRUeXBlIiwiYm9vbGVhblR5cGUiLCJkYXRlVHlwZSIsInN5bWJvbFR5cGUiLCJ1bmRlZmluZWRUeXBlIiwibnVsbFR5cGUiLCJhbnlUeXBlIiwidW5rbm93blR5cGUiLCJuZXZlclR5cGUiLCJ2b2lkVHlwZSIsImFycmF5VHlwZSIsIm9iamVjdFR5cGUiLCJzdHJpY3RPYmplY3RUeXBlIiwidW5pb25UeXBlIiwiZGlzY3JpbWluYXRlZFVuaW9uVHlwZSIsImludGVyc2VjdGlvblR5cGUiLCJ0dXBsZVR5cGUiLCJyZWNvcmRUeXBlIiwibWFwVHlwZSIsInNldFR5cGUiLCJmdW5jdGlvblR5cGUiLCJsYXp5VHlwZSIsImxpdGVyYWxUeXBlIiwiZW51bVR5cGUiLCJuYXRpdmVFbnVtVHlwZSIsInByb21pc2VUeXBlIiwiZWZmZWN0c1R5cGUiLCJvcHRpb25hbFR5cGUiLCJudWxsYWJsZVR5cGUiLCJwcmVwcm9jZXNzVHlwZSIsInBpcGVsaW5lVHlwZSIsIm9zdHJpbmciLCJvbnVtYmVyIiwib2Jvb2xlYW4iLCJjb2VyY2UiLCJORVZFUiIsInoiLCJwYXJzZUFueURlZiIsInBhcnNlQXJyYXlEZWYiLCJwYXJzZURlZiIsInBhcnNlQmlnaW50RGVmIiwicGFyc2VCb29sZWFuRGVmIiwicGFyc2VCcmFuZGVkRGVmIiwiX2RlZiIsInBhcnNlQ2F0Y2hEZWYiLCJwYXJzZURhdGVEZWYiLCJvdmVycmlkZURhdGVTdHJhdGVneSIsInN0cmF0ZWd5IiwiaW50ZWdlckRhdGVQYXJzZXIiLCJwYXJzZURlZmF1bHREZWYiLCJwYXJzZUVmZmVjdHNEZWYiLCJwYXJzZUVudW1EZWYiLCJpc0pzb25TY2hlbWE3QWxsT2ZUeXBlIiwicGFyc2VJbnRlcnNlY3Rpb25EZWYiLCJhbGxPZiIsInVuZXZhbHVhdGVkUHJvcGVydGllcyIsIm1lcmdlZEFsbE9mIiwibmVzdGVkU2NoZW1hIiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJwYXJzZUxpdGVyYWxEZWYiLCJwYXJzZWRUeXBlIiwiem9kUGF0dGVybnMiLCJwYXJzZVN0cmluZ0RlZiIsImFkZEZvcm1hdCIsImFkZFBhdHRlcm4iLCJlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZSIsImxpdGVyYWwiLCJlc2NhcGVOb25BbHBoYU51bWVyaWMiLCJBTFBIQV9OVU1FUklDIiwic291cmNlIiwic3RyaW5naWZ5UmVnRXhwV2l0aEZsYWdzIiwiZmxhZ3MiLCJwYXR0ZXJuIiwiaXNFc2NhcGVkIiwiaW5DaGFyR3JvdXAiLCJpbkNoYXJSYW5nZSIsInBhcnNlUmVjb3JkRGVmIiwiX2UiLCJfZiIsInBhcnNlTWFwRGVmIiwicGFyc2VOYXRpdmVFbnVtRGVmIiwiYWN0dWFsVmFsdWVzIiwicGFyc2VkVHlwZXMiLCJwYXJzZU5ldmVyRGVmIiwicGFyc2VOdWxsRGVmIiwicHJpbWl0aXZlTWFwcGluZ3MiLCJwYXJzZVVuaW9uRGVmIiwiYXNBbnlPZiIsInVuaXF1ZVR5cGVzIiwiYW55T2YiLCJwYXJzZU51bGxhYmxlRGVmIiwicGFyc2VOdW1iZXJEZWYiLCJkZWNpZGVBZGRpdGlvbmFsUHJvcGVydGllcyIsInBhcnNlT2JqZWN0RGVmIiwiZm9yY2VPcHRpb25hbEludG9OdWxsYWJsZSIsInByb3BOYW1lIiwicHJvcERlZiIsInByb3BPcHRpb25hbCIsInBhcnNlZERlZiIsInBhcnNlT3B0aW9uYWxEZWYiLCJpbm5lclNjaGVtYSIsInBhcnNlUGlwZWxpbmVEZWYiLCJwYXJzZVByb21pc2VEZWYiLCJwYXJzZVNldERlZiIsInBhcnNlVHVwbGVEZWYiLCJwYXJzZVVuZGVmaW5lZERlZiIsInBhcnNlVW5rbm93bkRlZiIsInBhcnNlUmVhZG9ubHlEZWYiLCJmb3JjZVJlc29sdXRpb24iLCJzZWVuSXRlbSIsIm92ZXJyaWRlUmVzdWx0Iiwic2VlblNjaGVtYSIsImdldCRyZWYiLCJuZXdJdGVtIiwianNvblNjaGVtYSIsInNlbGVjdFBhcnNlciIsImFkZE1ldGEiLCJnZXRSZWxhdGl2ZVBhdGgiLCJwYXRoQSIsInBhdGhCIiwidHlwZU5hbWUiLCJ6b2RUb0pzb25TY2hlbWEiLCJkZWZpbml0aW9ucyIsIm1haW4iLCJ0aXRsZSIsImNvbWJpbmVkIiwidGV4dFN0cmVhbVBhcnQiLCJlcnJvclN0cmVhbVBhcnQiLCJhc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydCIsImFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydCIsImRhdGFNZXNzYWdlU3RyZWFtUGFydCIsImFzc2lzdGFudFN0cmVhbVBhcnRzIiwicGFydCIsImZpeEpzb24iLCJzdGFjayIsImxhc3RWYWxpZEluZGV4IiwibGl0ZXJhbFN0YXJ0IiwicHJvY2Vzc1ZhbHVlU3RhcnQiLCJzd2FwU3RhdGUiLCJwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZSIsInByb2Nlc3NBZnRlckFycmF5VmFsdWUiLCJwYXJ0aWFsTGl0ZXJhbCIsInBhcnNlUGFydGlhbEpzb24iLCJqc29uVGV4dCIsInRleHRTdHJlYW1QYXJ0MiIsImRhdGFTdHJlYW1QYXJ0IiwiZXJyb3JTdHJlYW1QYXJ0MiIsIm1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQiLCJ0b29sQ2FsbFN0cmVhbVBhcnQiLCJ0b29sUmVzdWx0U3RyZWFtUGFydCIsInRvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0IiwidG9vbENhbGxEZWx0YVN0cmVhbVBhcnQiLCJmaW5pc2hNZXNzYWdlU3RyZWFtUGFydCIsImZpbmlzaFN0ZXBTdHJlYW1QYXJ0IiwiZGF0YVN0cmVhbVBhcnRzIiwiZm9ybWF0RGF0YVN0cmVhbVBhcnQiLCJzdHJlYW1QYXJ0Iiwic2NoZW1hU3ltYm9sIiwianNvblNjaGVtYTIiLCJpc1NjaGVtYSIsImFzU2NoZW1hIiwiem9kU2NoZW1hMiIsIl9nbG9iYWxUaGlzIiwiVkVSU0lPTiIsInJlIiwiX21ha2VDb21wYXRpYmlsaXR5Q2hlY2siLCJvd25WZXJzaW9uIiwiYWNjZXB0ZWRWZXJzaW9ucyIsInJlamVjdGVkVmVyc2lvbnMiLCJteVZlcnNpb25NYXRjaCIsIm93blZlcnNpb25QYXJzZWQiLCJnbG9iYWxWZXJzaW9uIiwiX3JlamVjdCIsInYiLCJfYWNjZXB0IiwiZ2xvYmFsVmVyc2lvbk1hdGNoIiwiZ2xvYmFsVmVyc2lvblBhcnNlZCIsImlzQ29tcGF0aWJsZSIsIm1ham9yIiwiR0xPQkFMX09QRU5URUxFTUVUUllfQVBJX0tFWSIsIl9nbG9iYWwiLCJyZWdpc3Rlckdsb2JhbCIsImluc3RhbmNlIiwiZGlhZyIsImFsbG93T3ZlcnJpZGUiLCJhcGkiLCJnZXRHbG9iYWwiLCJ1bnJlZ2lzdGVyR2xvYmFsIiwiX19yZWFkIiwidGhpcyIsIm8iLCJuIiwiciIsImFyIiwiX19zcHJlYWRBcnJheSIsInRvIiwiZnJvbSIsInBhY2siLCJsIiwiRGlhZ0NvbXBvbmVudExvZ2dlciIsInByb3BzIiwiX2kiLCJsb2dQcm94eSIsImZ1bmNOYW1lIiwibmFtZXNwYWNlIiwibG9nZ2VyIiwiRGlhZ0xvZ0xldmVsIiwiY3JlYXRlTG9nTGV2ZWxEaWFnTG9nZ2VyIiwibWF4TGV2ZWwiLCJfZmlsdGVyRnVuYyIsInRoZUxldmVsIiwidGhlRnVuYyIsIkFQSV9OQU1FIiwiRGlhZ0FQSSIsIl9sb2dQcm94eSIsInNlbGYiLCJzZXRMb2dnZXIiLCJvcHRpb25zT3JMb2dMZXZlbCIsIm9sZExvZ2dlciIsIm5ld0xvZ2dlciIsImNyZWF0ZUNvbnRleHRLZXkiLCJCYXNlQ29udGV4dCIsInBhcmVudENvbnRleHQiLCJjb250ZXh0IiwiUk9PVF9DT05URVhUIiwiTm9vcENvbnRleHRNYW5hZ2VyIiwiX2NvbnRleHQiLCJ0aGlzQXJnIiwiTk9PUF9DT05URVhUX01BTkFHRVIiLCJDb250ZXh0QVBJIiwiY29udGV4dE1hbmFnZXIiLCJUcmFjZUZsYWdzIiwiSU5WQUxJRF9TUEFOSUQiLCJJTlZBTElEX1RSQUNFSUQiLCJJTlZBTElEX1NQQU5fQ09OVEVYVCIsIk5vblJlY29yZGluZ1NwYW4iLCJfc3BhbkNvbnRleHQiLCJfdmFsdWUiLCJfYXR0cmlidXRlcyIsIl9uYW1lIiwiX2xpbmsiLCJfbGlua3MiLCJfc3RhdHVzIiwiX2VuZFRpbWUiLCJfZXhjZXB0aW9uIiwiX3RpbWUiLCJTUEFOX0tFWSIsImdldFNwYW4iLCJnZXRBY3RpdmVTcGFuIiwic2V0U3BhbiIsInNwYW4iLCJkZWxldGVTcGFuIiwic2V0U3BhbkNvbnRleHQiLCJzcGFuQ29udGV4dCIsImdldFNwYW5Db250ZXh0IiwiVkFMSURfVFJBQ0VJRF9SRUdFWCIsIlZBTElEX1NQQU5JRF9SRUdFWCIsImlzVmFsaWRUcmFjZUlkIiwidHJhY2VJZCIsImlzVmFsaWRTcGFuSWQiLCJzcGFuSWQiLCJpc1NwYW5Db250ZXh0VmFsaWQiLCJ3cmFwU3BhbkNvbnRleHQiLCJjb250ZXh0QXBpIiwiTm9vcFRyYWNlciIsInJvb3QiLCJwYXJlbnRGcm9tQ29udGV4dCIsImlzU3BhbkNvbnRleHQiLCJhcmcyIiwiYXJnMyIsImFyZzQiLCJjb250ZXh0V2l0aFNwYW5TZXQiLCJOT09QX1RSQUNFUiIsIlByb3h5VHJhY2VyIiwiX3Byb3ZpZGVyIiwiX2ZuIiwidHJhY2VyIiwiTm9vcFRyYWNlclByb3ZpZGVyIiwiX3ZlcnNpb24iLCJOT09QX1RSQUNFUl9QUk9WSURFUiIsIlByb3h5VHJhY2VyUHJvdmlkZXIiLCJkZWxlZ2F0ZSIsIlNwYW5TdGF0dXNDb2RlIiwiVHJhY2VBUEkiLCJwcm92aWRlciIsInN1Y2Nlc3MiLCJ0cmFjZSIsIl9fZXhwb3J0IiwiYWxsIiwicHJlcGFyZVJlc3BvbnNlSGVhZGVycyIsImNvbnRlbnRUeXBlIiwiZGF0YVN0cmVhbVZlcnNpb24iLCJwYXJhbWV0ZXIiLCJkZWxheSIsImRlbGF5SW5NcyIsInJlc29sdmUiLCJSZXRyeUVycm9yIiwiQUlTREtFcnJvcjIiLCJyZWFzb24iLCJlcnJvcnMiLCJyZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmYiLCJtYXhSZXRyaWVzIiwiaW5pdGlhbERlbGF5SW5NcyIsImJhY2tvZmZGYWN0b3IiLCJfcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmIiwibmV3RXJyb3JzIiwidHJ5TnVtYmVyIiwicHJlcGFyZVJldHJpZXMiLCJtYXhSZXRyaWVzUmVzdWx0IiwiYXNzZW1ibGVPcGVyYXRpb25OYW1lIiwib3BlcmF0aW9uSWQiLCJ0ZWxlbWV0cnkiLCJnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyIsIm1vZGVsIiwic2V0dGluZ3MiLCJhdHRyaWJ1dGVzIiwibm9vcFRyYWNlciIsIm5vb3BTcGFuIiwiYXJnMSIsIm5vb3BTcGFuQ29udGV4dCIsImdldFRyYWNlciIsImlzRW5hYmxlZCIsInJlY29yZFNwYW4iLCJlbmRXaGVuRG9uZSIsInNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzMiIsIk5vT2JqZWN0R2VuZXJhdGVkRXJyb3IiLCJBSVNES0Vycm9yMyIsInRleHQyIiwidXNhZ2UiLCJEb3dubG9hZEVycm9yIiwiQUlTREtFcnJvcjQiLCJzdGF0dXNUZXh0IiwiZG93bmxvYWQiLCJmZXRjaEltcGxlbWVudGF0aW9uIiwidXJsVGV4dCIsIm1pbWVUeXBlU2lnbmF0dXJlcyIsImRldGVjdEltYWdlTWltZVR5cGUiLCJpbWFnZSIsImJ5dGVzIiwibWltZVR5cGUiLCJJbnZhbGlkRGF0YUNvbnRlbnRFcnJvciIsIkFJU0RLRXJyb3I1IiwiY29udGVudCIsImRhdGFDb250ZW50U2NoZW1hIiwiY29udmVydERhdGFDb250ZW50VG9CYXNlNjRTdHJpbmciLCJjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0MiIsImNvbnZlcnREYXRhQ29udGVudFRvVWludDhBcnJheSIsImNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkyIiwiY29udmVydFVpbnQ4QXJyYXlUb1RleHQiLCJ1aW50OEFycmF5IiwiSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3IiLCJBSVNES0Vycm9yNiIsInJvbGUiLCJzcGxpdERhdGFVcmwiLCJkYXRhVXJsIiwiYmFzZTY0Q29udGVudCIsImNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQiLCJtb2RlbFN1cHBvcnRzSW1hZ2VVcmxzIiwibW9kZWxTdXBwb3J0c1VybCIsImRvd25sb2FkSW1wbGVtZW50YXRpb24iLCJkb3dubG9hZGVkQXNzZXRzIiwiZG93bmxvYWRBc3NldHMiLCJjb252ZXJ0VG9MYW5ndWFnZU1vZGVsTWVzc2FnZSIsImNvbnZlcnRQYXJ0VG9MYW5ndWFnZU1vZGVsUGFydCIsImV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhIiwiX2V4aGF1c3RpdmVDaGVjayIsIm1lc3NhZ2VzIiwidXJscyIsImRvd25sb2FkZWRJbWFnZXMiLCJub3JtYWxpemVkRGF0YSIsImRhdGFVcmxNaW1lVHlwZSIsImRvd25sb2FkZWRGaWxlIiwicHJlcGFyZUNhbGxTZXR0aW5ncyIsIm1heFRva2VucyIsInRlbXBlcmF0dXJlIiwidG9wUCIsInRvcEsiLCJwcmVzZW5jZVBlbmFsdHkiLCJmcmVxdWVuY3lQZW5hbHR5Iiwic3RvcFNlcXVlbmNlcyIsInNlZWQiLCJqc29uVmFsdWVTY2hlbWEiLCJ6MiIsInByb3ZpZGVyTWV0YWRhdGFTY2hlbWEiLCJ6MyIsInRvb2xSZXN1bHRDb250ZW50U2NoZW1hIiwiejQiLCJ0ZXh0UGFydFNjaGVtYSIsIno1IiwiaW1hZ2VQYXJ0U2NoZW1hIiwiZmlsZVBhcnRTY2hlbWEiLCJ0b29sQ2FsbFBhcnRTY2hlbWEiLCJ0b29sUmVzdWx0UGFydFNjaGVtYSIsImNvcmVTeXN0ZW1NZXNzYWdlU2NoZW1hIiwiejYiLCJjb3JlVXNlck1lc3NhZ2VTY2hlbWEiLCJjb3JlQXNzaXN0YW50TWVzc2FnZVNjaGVtYSIsImNvcmVUb29sTWVzc2FnZVNjaGVtYSIsImNvcmVNZXNzYWdlU2NoZW1hIiwiZGV0ZWN0UHJvbXB0VHlwZSIsImNoYXJhY3RlcmlzdGljcyIsImRldGVjdFNpbmdsZU1lc3NhZ2VDaGFyYWN0ZXJpc3RpY3MiLCJjIiwiYXR0YWNobWVudHNUb1BhcnRzIiwiYXR0YWNobWVudHMiLCJwYXJ0cyIsImF0dGFjaG1lbnQiLCJNZXNzYWdlQ29udmVyc2lvbkVycm9yIiwiQUlTREtFcnJvcjciLCJvcmlnaW5hbE1lc3NhZ2UiLCJjb252ZXJ0VG9Db3JlTWVzc2FnZXMiLCJ0b29scyIsImNvcmVNZXNzYWdlcyIsInRvb2xJbnZvY2F0aW9ucyIsImV4cGVyaW1lbnRhbF9hdHRhY2htZW50cyIsInRvb2xDYWxsSWQiLCJ0b29sTmFtZSIsInRvb2xJbnZvY2F0aW9uIiwidG9vbDIiLCJzdGFuZGFyZGl6ZVByb21wdCIsInByb21wdFR5cGUiLCJ2YWxpZGF0aW9uUmVzdWx0IiwiejciLCJjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2UiLCJwcm9tcHRUb2tlbnMiLCJjb21wbGV0aW9uVG9rZW5zIiwiYWRkTGFuZ3VhZ2VNb2RlbFVzYWdlIiwidXNhZ2UxIiwidXNhZ2UyIiwiREVGQVVMVF9TQ0hFTUFfUFJFRklYIiwiREVGQVVMVF9TQ0hFTUFfU1VGRklYIiwiREVGQVVMVF9HRU5FUklDX1NVRkZJWCIsImluamVjdEpzb25JbnN0cnVjdGlvbiIsInNjaGVtYVByZWZpeCIsInNjaGVtYVN1ZmZpeCIsImNyZWF0ZUlkR2VuZXJhdG9yMiIsIm5hbWU4IiwiTm9PdXRwdXRTcGVjaWZpZWRFcnJvciIsIkFJU0RLRXJyb3I4IiwibmFtZTkiLCJtYXJrZXI5Iiwic3ltYm9sOSIsIl9hOSIsIlRvb2xFeGVjdXRpb25FcnJvciIsIkFJU0RLRXJyb3I5IiwidG9vbEFyZ3MiLCJnZXRFcnJvck1lc3NhZ2UyIiwiaXNOb25FbXB0eU9iamVjdCIsIm9iamVjdDIiLCJwcmVwYXJlVG9vbHNBbmRUb29sQ2hvaWNlIiwidG9vbENob2ljZSIsImFjdGl2ZVRvb2xzIiwidG9vbFR5cGUiLCJhc1NjaGVtYTIiLCJleGhhdXN0aXZlQ2hlY2siLCJsYXN0V2hpdGVzcGFjZVJlZ2V4cCIsInNwbGl0T25MYXN0V2hpdGVzcGFjZSIsIm1hdGNoIiwicmVtb3ZlVGV4dEFmdGVyTGFzdFdoaXRlc3BhY2UiLCJuYW1lMTAiLCJtYXJrZXIxMCIsInN5bWJvbDEwIiwiX2ExMCIsIkludmFsaWRUb29sQXJndW1lbnRzRXJyb3IiLCJBSVNES0Vycm9yMTAiLCJnZXRFcnJvck1lc3NhZ2UzIiwibWFya2VyMTEiLCJzeW1ib2wxMSIsIl9hMTEiLCJOb1N1Y2hUb29sRXJyb3IiLCJBSVNES0Vycm9yMTEiLCJhdmFpbGFibGVUb29scyIsIlRvb2xDYWxsUmVwYWlyRXJyb3IiLCJBSVNES0Vycm9yMTIiLCJvcmlnaW5hbEVycm9yIiwiZ2V0RXJyb3JNZXNzYWdlNCIsInBhcnNlVG9vbENhbGwiLCJ0b29sQ2FsbCIsInJlcGFpclRvb2xDYWxsIiwic3lzdGVtIiwiZG9QYXJzZVRvb2xDYWxsIiwicmVwYWlyZWRUb29sQ2FsbCIsImFzU2NoZW1hMyIsInJlcGFpckVycm9yIiwicGFyc2VSZXN1bHQiLCJzYWZlVmFsaWRhdGVUeXBlczMiLCJzYWZlUGFyc2VKU09OMiIsInRvUmVzcG9uc2VNZXNzYWdlcyIsInRvb2xDYWxscyIsInRvb2xSZXN1bHRzIiwicmVzcG9uc2VNZXNzYWdlcyIsInRvb2xSZXN1bHQiLCJvcmlnaW5hbEdlbmVyYXRlSWQzIiwiY3JlYXRlSWRHZW5lcmF0b3IzIiwiZ2VuZXJhdGVUZXh0IiwibWF4UmV0cmllc0FyZyIsIm1heFN0ZXBzIiwib3V0cHV0IiwiY29udGludWVTdGVwcyIsInByb3ZpZGVyTWV0YWRhdGEiLCJnZW5lcmF0ZUlkMyIsImN1cnJlbnREYXRlIiwib25TdGVwRmluaXNoIiwicmV0cnkiLCJiYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyIsImluaXRpYWxQcm9tcHQiLCJfYTE1IiwibW9kZSIsImNhbGxTZXR0aW5ncyIsImN1cnJlbnRNb2RlbFJlc3BvbnNlIiwiY3VycmVudFRvb2xDYWxscyIsImN1cnJlbnRUb29sUmVzdWx0cyIsInN0ZXBDb3VudCIsInN0ZXBzIiwic3RlcFR5cGUiLCJwcm9tcHRGb3JtYXQiLCJzdGVwSW5wdXRNZXNzYWdlcyIsInByb21wdE1lc3NhZ2VzIiwiX2ExNiIsInNwYW4yIiwiX2IyIiwiX2MyIiwiX2QyIiwiX2UyIiwiX2YyIiwicmVzcG9uc2VEYXRhIiwiZXhlY3V0ZVRvb2xzIiwiY3VycmVudFVzYWdlIiwibmV4dFN0ZXBUeXBlIiwib3JpZ2luYWxUZXh0Iiwic3RlcFRleHRMZWFkaW5nV2hpdGVzcGFjZVRyaW1tZWQiLCJzdGVwVGV4dCIsImxhc3RNZXNzYWdlIiwiY3VycmVudFN0ZXBSZXN1bHQiLCJEZWZhdWx0R2VuZXJhdGVUZXh0UmVzdWx0IiwicmVzdWx0MiIsIm91dHB1dF9leHBvcnRzIiwiYXNTY2hlbWE0IiwicGFyc2VQYXJ0aWFsSnNvbjIiLCJzYWZlUGFyc2VKU09OMyIsInNhZmVWYWxpZGF0ZVR5cGVzNCIsIm1lcmdlU3RyZWFtcyIsInN0cmVhbTEiLCJzdHJlYW0yIiwicmVhZGVyMSIsInJlYWRlcjIiLCJsYXN0UmVhZDEiLCJsYXN0UmVhZDIiLCJzdHJlYW0xRG9uZSIsInN0cmVhbTJEb25lIiwicmVhZFN0cmVhbTEiLCJyZWFkU3RyZWFtMiIsInJlYWRlciIsImNyZWF0ZUlkR2VuZXJhdG9yNCIsImxhbmdjaGFpbl9hZGFwdGVyX2V4cG9ydHMiLCJtZXJnZUludG9EYXRhU3RyZWFtIiwidG9EYXRhU3RyZWFtIiwidG9EYXRhU3RyZWFtUmVzcG9uc2UiLCJjcmVhdGVDYWxsYmFja3NUcmFuc2Zvcm1lciIsInRleHRFbmNvZGVyIiwiYWdncmVnYXRlZFJlc3BvbnNlIiwidG9EYXRhU3RyZWFtSW50ZXJuYWwiLCJzdHJlYW0iLCJmb3J3YXJkQUlNZXNzYWdlQ2h1bmsiLCJmb3JtYXREYXRhU3RyZWFtUGFydDMiLCJkYXRhU3RyZWFtIiwiaW5pdCIsInJlc3BvbnNlU3RyZWFtIiwibGxhbWFpbmRleF9hZGFwdGVyX2V4cG9ydHMiLCJtZXJnZUludG9EYXRhU3RyZWFtMiIsInRvRGF0YVN0cmVhbTIiLCJ0b0RhdGFTdHJlYW1SZXNwb25zZTIiLCJ0b0RhdGFTdHJlYW1JbnRlcm5hbDIiLCJ0cmltU3RhcnQiLCJ0cmltU3RhcnRPZlN0cmVhbSIsImZvcm1hdERhdGFTdHJlYW1QYXJ0NCIsImlzU3RyZWFtU3RhcnQiLCJvYmZ1c2NhdGUiLCJzdHIiLCJzYWZlU3RvcmFnZSIsImJ1ZmZlciIsIkNoYXRNb2RlbHMiLCJFbWJlZGRpbmdNb2RlbHMiLCJQTFVHSU5fUFJFRklYIiwiUExVR0lOX05BTUUiLCJkZWZhdWx0TW9kZWxJZCIsIkRFRkFVTFRfU0VUVElOR1MiLCJERUZBVUxUX1RFTVBMQVRFUyIsIkRFRkFVTFRfTE9HR0VSX0NPTkZJRyIsIkxvZ2dlckNvbmZpZ01hbmFnZXIiLCJuZXdDb25maWciLCJsaXN0ZW5lciIsImxvZ2dlckNvbmZpZyIsInNldEdsb2JhbExvZ2dlckNvbmZpZyIsImNvbmZpZyIsImdldExvZ2dlckNvbmZpZyIsIkFzc2lzdGFudFNldHRpbmdzVGFiIiwiUGx1Z2luU2V0dGluZ1RhYiIsImFwcCIsInBsdWdpbiIsImNvbnRhaW5lckVsIiwiU2V0dGluZyIsImRlc2MiLCJrZXlGaWVsZCIsInNhdmVkRmllbGQiLCJ0ZW1wb3JhcnlLZXkiLCJzZXRUZW1wb3JhcnlLZXkiLCJkZWNyeXB0ZWQiLCJidXR0b24iLCJOb3RpY2UiLCJlbmNyeXB0ZWQiLCJkcm9wZG93biIsInRvZ2dsZSIsImlzRmxvYXQiLCJwYXJzZWRWYWx1ZSIsIkJhc2VDaGF0IiwiYXNzaXN0YW50Iiwic3luYyIsImZpbHRlcnMiLCJzdHJlYW1pbmdDb250ZW50IiwidXNlck1lc3NhZ2UiLCJhc3Npc3RhbnRNZXNzYWdlIiwibXNnIiwiY29tcG9uZW50IiwiQ29tcG9uZW50Q2xhc3MiLCJpZGVudGl0eSIsImFzc2lnbiIsInRhciIsInNyYyIsInJ1biIsImJsYW5rX29iamVjdCIsInJ1bl9hbGwiLCJmbnMiLCJpc19mdW5jdGlvbiIsInRoaW5nIiwic2FmZV9ub3RfZXF1YWwiLCJpc19lbXB0eSIsImNyZWF0ZV9zbG90IiwiZGVmaW5pdGlvbiIsIiQkc2NvcGUiLCJzbG90X2N0eCIsImdldF9zbG90X2NvbnRleHQiLCJnZXRfc2xvdF9jaGFuZ2VzIiwibGV0cyIsInVwZGF0ZV9zbG90X2Jhc2UiLCJzbG90Iiwic2xvdF9kZWZpbml0aW9uIiwic2xvdF9jaGFuZ2VzIiwiZ2V0X3Nsb3RfY29udGV4dF9mbiIsInNsb3RfY29udGV4dCIsImdldF9hbGxfZGlydHlfZnJvbV9zY29wZSIsImxlbmd0aCIsInNwbGl0X2Nzc191bml0Iiwic3BsaXQiLCJpc19jbGllbnQiLCJub3ciLCJyYWYiLCJjYiIsInRhc2tzIiwicnVuX3Rhc2tzIiwidGFzayIsImxvb3AiLCJjYWxsYmFjayIsImZ1bGZpbGwiLCJhcHBlbmQiLCJnZXRfcm9vdF9mb3Jfc3R5bGUiLCJhcHBlbmRfZW1wdHlfc3R5bGVzaGVldCIsInN0eWxlX2VsZW1lbnQiLCJhcHBlbmRfc3R5bGVzaGVldCIsInN0eWxlIiwiaW5zZXJ0IiwiYW5jaG9yIiwiZGV0YWNoIiwiZGVzdHJveV9lYWNoIiwiaXRlcmF0aW9ucyIsImRldGFjaGluZyIsInN2Z19lbGVtZW50Iiwic3BhY2UiLCJlbXB0eSIsImxpc3RlbiIsImhhbmRsZXIiLCJhdHRyIiwiYXR0cmlidXRlIiwiY2hpbGRyZW4iLCJzZXRfZGF0YSIsInNldF9pbnB1dF92YWx1ZSIsImN1c3RvbV9ldmVudCIsImRldGFpbCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiSHRtbFRhZyIsImlzX3N2ZyIsImh0bWwiLCJtYW5hZ2VkX3N0eWxlcyIsImFjdGl2ZSIsImhhc2giLCJjcmVhdGVfc3R5bGVfaW5mb3JtYXRpb24iLCJkb2MiLCJpbmZvIiwiY3JlYXRlX3J1bGUiLCJkdXJhdGlvbiIsImVhc2UiLCJ1aWQiLCJrZXlmcmFtZXMiLCJ0IiwicnVsZSIsInN0eWxlc2hlZXQiLCJydWxlcyIsImFuaW1hdGlvbiIsImRlbGV0ZV9ydWxlIiwicHJldmlvdXMiLCJhbmltIiwiZGVsZXRlZCIsImNsZWFyX3J1bGVzIiwib3duZXJOb2RlIiwiY3VycmVudF9jb21wb25lbnQiLCJzZXRfY3VycmVudF9jb21wb25lbnQiLCJnZXRfY3VycmVudF9jb21wb25lbnQiLCJvbk1vdW50IiwiYWZ0ZXJVcGRhdGUiLCJkaXJ0eV9jb21wb25lbnRzIiwiYmluZGluZ19jYWxsYmFja3MiLCJyZW5kZXJfY2FsbGJhY2tzIiwiZmx1c2hfY2FsbGJhY2tzIiwicmVzb2x2ZWRfcHJvbWlzZSIsInVwZGF0ZV9zY2hlZHVsZWQiLCJzY2hlZHVsZV91cGRhdGUiLCJmbHVzaCIsImFkZF9yZW5kZXJfY2FsbGJhY2siLCJzZWVuX2NhbGxiYWNrcyIsImZsdXNoaWR4Iiwic2F2ZWRfY29tcG9uZW50IiwidXBkYXRlIiwiJCQiLCJmbHVzaF9yZW5kZXJfY2FsbGJhY2tzIiwidGFyZ2V0cyIsInByb21pc2UiLCJ3YWl0IiwiZGlzcGF0Y2giLCJkaXJlY3Rpb24iLCJvdXRyb2luZyIsIm91dHJvcyIsImdyb3VwX291dHJvcyIsImNoZWNrX291dHJvcyIsInRyYW5zaXRpb25faW4iLCJibG9jayIsImxvY2FsIiwidHJhbnNpdGlvbl9vdXQiLCJudWxsX3RyYW5zaXRpb24iLCJjcmVhdGVfaW5fdHJhbnNpdGlvbiIsInJ1bm5pbmciLCJhbmltYXRpb25fbmFtZSIsImNsZWFudXAiLCJnbyIsImVhc2luZyIsImxpbmVhciIsInRpY2siLCJjc3MiLCJzdGFydF90aW1lIiwiZW5kX3RpbWUiLCJzdGFydGVkIiwiY3JlYXRlX291dF90cmFuc2l0aW9uIiwiZ3JvdXAiLCJvcmlnaW5hbF9pbmVydF92YWx1ZSIsImVuc3VyZV9hcnJheV9saWtlIiwiYXJyYXlfbGlrZV9vcl9pdGVyYXRvciIsIm91dHJvX2FuZF9kZXN0cm95X2Jsb2NrIiwibG9va3VwIiwidXBkYXRlX2tleWVkX2VhY2giLCJvbGRfYmxvY2tzIiwiZ2V0X2tleSIsImR5bmFtaWMiLCJsaXN0IiwiZGVzdHJveSIsImNyZWF0ZV9lYWNoX2Jsb2NrIiwiZ2V0X2NvbnRleHQiLCJvbGRfaW5kZXhlcyIsIm5ld19ibG9ja3MiLCJuZXdfbG9va3VwIiwiZGVsdGFzIiwidXBkYXRlcyIsImNoaWxkX2N0eCIsIndpbGxfbW92ZSIsImRpZF9tb3ZlIiwibmV3X2Jsb2NrIiwib2xkX2Jsb2NrIiwibmV3X2tleSIsIm9sZF9rZXkiLCJjcmVhdGVfY29tcG9uZW50IiwibW91bnRfY29tcG9uZW50IiwiZnJhZ21lbnQiLCJhZnRlcl91cGRhdGUiLCJuZXdfb25fZGVzdHJveSIsImRlc3Ryb3lfY29tcG9uZW50IiwibWFrZV9kaXJ0eSIsImNyZWF0ZV9mcmFnbWVudCIsIm5vdF9lcXVhbCIsImFwcGVuZF9zdHlsZXMiLCJwYXJlbnRfY29tcG9uZW50IiwicmVhZHkiLCJyZXQiLCJTdmVsdGVDb21wb25lbnQiLCJQVUJMSUNfVkVSU0lPTiIsImN1YmljT3V0IiwiZmFkZSIsImZseSIsInkiLCJvcGFjaXR5IiwidGFyZ2V0X29wYWNpdHkiLCJvZCIsInhWYWx1ZSIsInhVbml0IiwieVZhbHVlIiwieVVuaXQiLCJ1IiwicGFyc2VNYXJrZG93biIsIm11dGVkIiwiY2xhc3NOYW1lcyIsImVzY2FwZUhUTUwiLCJsaW5rQ2xhc3NOYW1lIiwiY29kZUJsb2NrcyIsImNvZGUiLCJpbmxpbmVDb2RlIiwiZmlyc3RMaW5lIiwiaGFzTGFuZyIsImxhbmciLCJzdmciLCJyZWN0IiwicGF0aDAiLCJwYXRoMSIsInBhdGgyIiwicGF0aDMiLCJkaXYiLCJjcmVhdGVfaWZfYmxvY2tfMSIsInQwX3ZhbHVlIiwicmF3X3ZhbHVlIiwiaWZfYmxvY2siLCJjcmVhdGVfaWZfYmxvY2siLCJkaXY1IiwiZGl2NV9jbGFzc192YWx1ZSIsImRpdjQiLCJkaXYzIiwic3BhbjAiLCJkaXYyIiwiZGl2MCIsImRpdjEiLCJzcGFuMSIsImN1cnJlbnQiLCJ0MCIsImh0bWxfdGFnIiwiZGl2NV9pbnRybyIsImRpdjVfb3V0cm8iLCJjcmVhdGVfaWZfYmxvY2tfMiIsImVhY2hfdmFsdWUiLCIkJHByb3BzIiwib25Db3B5TWVzc2FnZSIsImlzUHJvY2Vzc2luZyIsIm1lc3NhZ2VzQ29udGFpbmVyIiwidXNlckhhc1Njcm9sbGVkIiwiaGFuZGxlU2Nyb2xsIiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiJCR2YWx1ZSIsInBvbHlnb24iLCJidXR0b24wIiwiYnV0dG9uMSIsImZvcm0iLCJkaXZfaW50cm8iLCJkaXZfb3V0cm8iLCJzZWxlY3QiLCJvcHRpb24wIiwib3B0aW9uMSIsInNlbGVjdDAiLCJzZWxlY3QxIiwib3B0aW9uMiIsIm9wdGlvbjMiLCJlYWNoX3ZhbHVlXzIiLCJmdW5jXzEiLCJlYWNoX3ZhbHVlXzEiLCJvcHRpb25fMSIsImxhYmVsIiwiY3JlYXRlX2lmX2Jsb2NrXzMiLCJ0ZXh0YXJlYSIsInQyIiwidDJfdmFsdWUiLCJvblNlbmRNZXNzYWdlIiwib25DbGVhck1lc3NhZ2VzIiwib25Db3B5Q29udmVyc2F0aW9uIiwiaW5wdXRUZXh0IiwidGV4dEFyZWEiLCJzaG93RmlsdGVycyIsImlucHV0Q29udGFpbmVyIiwiZmlsdGVyT3B0aW9ucyIsImFkanVzdFRleHRBcmVhSGVpZ2h0IiwiJCRpbnZhbGlkYXRlIiwibmV3SGVpZ2h0IiwiaGFuZGxlU3VibWl0IiwibWVzc2FnZVRvU2VuZCIsImhhbmRsZUtleURvd24iLCJoYW5kbGVGb3JtQ2hhbmdlIiwiZm9ybURhdGEiLCJvcCIsImNsaWNrX2hhbmRsZXIiLCJDaGF0TW9kYWwiLCJNb2RhbCIsIkNvbmNyZXRlQ2hhdCIsImNvbnRlbnRFbCIsIkNoYXRNb2RhbENvbXBvbmVudCIsIlN5bmNTZXJ2aWNlIiwiaWdub3JlZEZvbGRlcnMiLCJmaWx0ZXJlZEZpbGVzIiwiZmlsZSIsImZpbGVzVG9TeW5jIiwidmVjdG9ySWQiLCJzeW5jU3RhdGUiLCJiYXRjaCIsImZvbGRlciIsIm5vcm1hbGl6ZWRGb2xkZXIiLCJtZXRhZGF0YSIsImNyZWF0ZWREYXRlIiwibW9kaWZpZWREYXRlIiwic3luY0RpciIsInZlY3RvcnMiLCJzeW5jUGF0aCIsImN1cnJlbnRCYXRjaCIsInRvdGFsQmF0Y2hlcyIsImJhdGNoUmVzdWx0IiwiTG9nTGV2ZWwiLCJMb2dnZXIiLCJtZXJnZWRDb25maWciLCJsZXZlbCIsIm5vcm1hbGl6ZWRMZXZlbCIsImxldmVsTWFwIiwibWV0YWRhdGFTdHIiLCJmb3JtYXR0ZWRNZXNzYWdlIiwiQ2hhdFZpZXciLCJJdGVtVmlldyIsImxlYWYiLCJjb250YWluZXIiLCJDaGF0Vmlld0NvbXBvbmVudCIsIlRleHRHZW5lcmF0b3JNb2RhbCIsInRlbXBsYXRlIiwidGl0bGVFbCIsInZhcmlhYmxlIiwic2V0dGluZyIsImJ0biIsImdlbmVyYXRpbmciLCJidG5FbCIsIlRleHRHZW5lcmF0aW9uU2VydmljZSIsInRlbXBsYXRlTWFuYWdlciIsInZhcmlhYmxlcyIsImVkaXRvciIsInNlbGVjdGlvbiIsImN1cnNvciIsImxvYWRpbmdUZXh0IiwibG9hZGluZ1Bvc2l0aW9uIiwibG9hZGluZ0VuZFBvc2l0aW9uIiwidGVtcGxhdGVOYW1lIiwibW9kYWwiLCJUZW1wbGF0ZU1hbmFnZXIiLCJmaWxlcyIsImZyb250bWF0dGVyIiwicGFyc2VZYW1sIiwiZ2V0T3BlbkFJTWV0YWRhdGEiLCJjb252ZXJ0VG9PcGVuQUlDb21wYXRpYmxlQ2hhdE1lc3NhZ2VzIiwicGFydE1ldGFkYXRhIiwidG9vbFJlc3BvbnNlIiwidG9vbFJlc3BvbnNlTWV0YWRhdGEiLCJnZXRSZXNwb25zZU1ldGFkYXRhIiwiY3JlYXRlZCIsIm1hcE9wZW5BSUNvbXBhdGlibGVGaW5pc2hSZWFzb24iLCJmaW5pc2hSZWFzb24iLCJvcGVuYWlDb21wYXRpYmxlRXJyb3JEYXRhU2NoZW1hIiwiZGVmYXVsdE9wZW5BSUNvbXBhdGlibGVFcnJvclN0cnVjdHVyZSIsInByZXBhcmVUb29scyIsInN0cnVjdHVyZWRPdXRwdXRzIiwidG9vbFdhcm5pbmdzIiwib3BlbmFpQ29tcGF0VG9vbHMiLCJ0b29sIiwiVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IyIiwiT3BlbkFJQ29tcGF0aWJsZUNoYXRMYW5ndWFnZU1vZGVsIiwibW9kZWxJZCIsImVycm9yU3RydWN0dXJlIiwiY3JlYXRlT3BlbkFJQ29tcGF0aWJsZUNoYXRDaHVua1NjaGVtYSIsInJlc3BvbnNlRm9ybWF0Iiwid2FybmluZ3MiLCJiYXNlQXJncyIsInRvb2xfY2hvaWNlIiwiT3BlbkFJQ29tcGF0aWJsZUNoYXRSZXNwb25zZVNjaGVtYSIsInJhd1Byb21wdCIsInJhd1NldHRpbmdzIiwiY2hvaWNlIiwiX2ciLCJfaCIsIl9qIiwiX2siLCJfbCIsIl9tIiwiX24iLCJkZWx0YSIsInRvb2xDYWxsRGVsdGEiLCJ0b29sQ2FsbDIiLCJjb252ZXJ0VG9PcGVuQUlDb21wYXRpYmxlQ29tcGxldGlvblByb21wdCIsImlucHV0Rm9ybWF0IiwidXNlciIsIlVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yMyIsIk9wZW5BSUNvbXBhdGlibGVDb21wbGV0aW9uTGFuZ3VhZ2VNb2RlbCIsImNyZWF0ZU9wZW5BSUNvbXBhdGlibGVDb21wbGV0aW9uQ2h1bmtTY2hlbWEiLCJjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIyIiwidXNlclN0b3BTZXF1ZW5jZXMiLCJjb21wbGV0aW9uUHJvbXB0Iiwic3RvcCIsIlVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yNCIsInBvc3RKc29uVG9BcGkyIiwiY29tYmluZUhlYWRlcnMyIiwiY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcjIiLCJvcGVuYWlDb21wYXRpYmxlQ29tcGxldGlvblJlc3BvbnNlU2NoZW1hIiwiY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIyIiwiT3BlbkFJQ29tcGF0aWJsZUVtYmVkZGluZ01vZGVsIiwicG9zdEpzb25Ub0FwaTMiLCJjb21iaW5lSGVhZGVyczMiLCJjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIzIiwiY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcjMiLCJvcGVuYWlUZXh0RW1iZWRkaW5nUmVzcG9uc2VTY2hlbWEiLCJjcmVhdGVBc3Npc3RhbnQiLCJiYXNlVVJMIiwiZ2V0SGVhZGVycyIsImdldENvbW1vbk1vZGVsQ29uZmlnIiwibW9kZWxUeXBlIiwiZmV0Y2hPcHRpb25zIiwicGFyc2VkQm9keSIsIm5ld09wdGlvbnMiLCJjcmVhdGVDaGF0TW9kZWwiLCJjcmVhdGVDb21wbGV0aW9uTW9kZWwiLCJjcmVhdGVUZXh0RW1iZWRkaW5nTW9kZWwiLCJjcmVhdGVFbWJlZGRpbmciLCJyYWdPcHRpb25zIiwiZGVsZXRlRW1iZWRkaW5nIiwiaWRzIiwiQXNzaXN0YW50UGx1Z2luIiwiUGx1Z2luIiwiZW5jcnlwdGVkS2V5IiwiZGVjcnlwdGVkQXNzaXN0YW50QXBpS2V5IiwiVEZpbGUiLCJ0ZXh0R2VuZXJhdG9yIiwiY2hlY2tpbmciLCJoYXNTZWxlY3Rpb24iLCJzYW5pdGl6ZWRUaXRsZSIsIm5ld1BhdGgiLCJub25EZWZhdWx0VGVtcGxhdGVzIiwiY29tbWFuZElkIiwidGltZXN0YW1wIl0sIm1hcHBpbmdzIjoic05BQ0EsSUFBSUEsR0FBUyxrQkFDVEMsR0FBUyxPQUFPLElBQUlELEVBQU0sRUFDMUJFLEdBQ0FDLEdBQWMsTUFBTUEsV0FBb0IsS0FBTSxDQVNoRCxZQUFZLENBQ1YsS0FBTUMsRUFDTixRQUFBQyxFQUNBLE1BQUFDLENBQ0osRUFBSyxDQUNELE1BQU1ELENBQU8sRUFDYixLQUFLSCxFQUFFLEVBQUksR0FDWCxLQUFLLEtBQU9FLEVBQ1osS0FBSyxNQUFRRSxDQUNkLENBTUQsT0FBTyxXQUFXQyxFQUFPLENBQ3ZCLE9BQU9KLEdBQVksVUFBVUksRUFBT1AsRUFBTSxDQUMzQyxDQUNELE9BQU8sVUFBVU8sRUFBT0MsRUFBVSxDQUNoQyxNQUFNQyxFQUFlLE9BQU8sSUFBSUQsQ0FBUSxFQUN4QyxPQUFPRCxHQUFTLE1BQVEsT0FBT0EsR0FBVSxVQUFZRSxLQUFnQkYsR0FBUyxPQUFPQSxF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TUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTUEsR0FBT0EsRUFBRyxPQUFTLEtBQUssQ0FDM0QsQ0FDRCxJQUFJLFNBQVUsQ0FDVixNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNQSxHQUFPQSxFQUFHLE9BQVMsT0FBTyxDQUM3RCxDQUNELElBQUksUUFBUyxDQUNULE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1BLEdBQU9BLEVBQUcsT0FBUyxNQUFNLENBQzVELENBQ0QsSUFBSSxVQUFXLENBQ1gsTUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTUEsR0FBT0EsRUFBRyxPQUFTLFFBQVEsQ0FDOUQsQ0FDRCxJQUFJLFFBQVMsQ0FDVCxNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNQSxHQUFPQSxFQUFHLE9BQVMsTUFBTSxDQUM1RCxDQUNELElBQUksU0FBVSxDQUNWLE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1BLEdBQU9BLEVBQUcsT0FBUyxPQUFPLENBQzdELENBQ0QsSUFBSSxRQUFTLENBQ1QsTUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTUEsR0FBT0EsRUFBRyxPQUFTLE1BQU0sQ0FDNUQsQ0FDRCxJQUFJLE1BQU8sQ0FDUCxNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNQSxHQUFPQSxFQUFHLE9BQVMsSUFBSSxDQUMxRCxDQUNELElBQUksUUFBUyxDQUNULE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1BLEdBQU9BLEVBQUcsT0FBUyxNQUFNLENBQzVELENBQ0QsSUFBSSxVQUFXLENBQ1gsTUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTUEsR0FBT0EsRUFBRyxPQUFTLFFBQVEsQ0FDOUQsQ0FDRCxJQUFJLGFBQWMsQ0FFZCxNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNQSxHQUFPQSxFQUFHLE9BQVMsV0FBVyxDQUNqRSxDQUNELElB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LENBQ1YsS0FBQSxPQUFPLE1BQU0sMEJBQTJCLENBQzVDLE1BQU9BLGFBQWlCLE1BQVFBLEVBQU0sUUFBVSxPQUFPQSxDQUFLLENBQUEsQ0FDNUQsQ0FDRixDQUFBLENBQ0EsQ0FDRixDQUVBLFVBQWlCLENBQ1osS0FBSyxjQUNELE9BQUEsY0FBYyxLQUFLLFlBQVksRUFFbkMsS0FBSyxRQUNSLEtBQUssT0FBTyxVQUVSLEtBQUEsSUFBSSxVQUFVLG1CQUFtQm1rQyxFQUFhLEVBRTlDLEtBQUEsT0FBTyxNQUFNLFVBQVUsQ0FDN0IsQ0FFUSxpQkFBaUJyekIsRUFBc0IsQ0FDOUMsS0FBSyxjQUFjLFFBQVEsWUFBWUEsQ0FBTSxFQUFFLEVBQy9DLEtBQUssT0FBTyxNQUFNLHNCQUF1QixDQUFFLE9BQUFBLENBQVEsQ0FBQSxDQUNwRCxDQUVBLE1BQU0sV0FBMkIsQ0FDNUIsR0FBQSxDQUlDLEdBSEMsS0FBQSxPQUFPLE1BQU0sZUFBZSxFQUNqQyxLQUFLLGlCQUFpQixnQkFBZ0IsRUFFbEMsQ0FBQyxLQUFLLFlBQ0gsTUFBQSxJQUFJLE1BQU0sOEJBQThCLEVBR3pDLE1BQUEsS0FBSyxZQUFZLE9BRWxCLEtBQUEsU0FBUyxhQUFlLEtBQUssSUFBSSxFQUN0QyxNQUFNLEtBQUssZUFFWCxNQUFNMHdDLEVBQVksSUFBSSxLQUFLLEVBQUUsbUJBQW1CLEVBQzNDLEtBQUEsaUJBQWlCLGFBQWFBLENBQVMsR0FBRyxFQUUvQyxLQUFLLE9BQU8sTUFBTSxnQkFBaUIsQ0FBRSxVQUFBQSxDQUFXLENBQUEsUUFDeEN4aEQsRUFBZ0IsQ0FDbkIsS0FBQSxPQUFPLE1BQU0sY0FBZSxDQUNoQyxNQUFPQSxhQUFpQixNQUFRQSxFQUFNLFFBQVUsT0FBT0EsQ0FBSyxFQUM1RCxNQUFPQSxhQUFpQixNQUFRQSxFQUFNLE1BQVEsTUFBQSxDQUM5QyxFQUNELEtBQUssaUJBQWlCLFFBQVEsRUFDMUIsSUFBQTZsQyxFQUFBLE9BQ0gsZ0JBQ0M3bEMsYUFBaUIsTUFBUUEsRUFBTSxRQUFVLE9BQU9BLENBQUssQ0FDdEQsRUFBQSxDQUVGLENBQ0QsQ0FDRCIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5LDUwLDUxLDUyLDUzLDU0LDU1LDU2LDU3LDU4LDU5LDYwLDYxLDYyLDYzLDY0LDY1LDY2LDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgxLDgyLDgzLDg0LDg1LDg2LDg3LDEwNV19
